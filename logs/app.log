2025-07-15 23:41:58,226 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-07-15 23:41:58,277 - INFO - app.core.config - .env file loaded successfully.
2025-07-15 23:41:58,293 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-07-15 23:41:58,294 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-07-15 23:41:59,126 - INFO - app - Application starting up - Trading system initialized
2025-07-15 23:41:59,126 - INFO - app - SL/TP Epsilon accuracy configured: 0.00001
2025-07-15 23:41:59,126 - INFO - app - Environment: DEVELOPMENT
2025-07-15 23:41:59,196 - INFO - app - Application startup initiated
2025-07-15 23:41:59,196 - INFO - app - Initializing core services...
2025-07-15 23:41:59,248 - INFO - app - Firebase initialized
2025-07-15 23:41:59,248 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-07-15 23:42:01,612 - INFO - app - Redis initialized
2025-07-15 23:42:01,621 - INFO - app - [SWAP] daily_swap_charge_job triggered
2025-07-15 23:42:01,624 - INFO - app - Scheduler initialized
2025-07-15 23:42:01,631 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-07-15 23:42:01,631 - DEBUG - app.firebase_stream - Successfully got running event loop in process_firebase_events task.
2025-07-15 23:42:01,632 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-07-15 23:42:02,577 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-07-15 23:42:02,578 - INFO - app - Starting stale cache cleanup task
2025-07-15 23:42:02,591 - DEBUG - app.firebase_stream - Firebase listener triggered (1). Event Type: put, Path: /. Timestamp: 1752648122.590762
2025-07-15 23:42:02,591 - DEBUG - app.firebase_stream - Prepared batch update for 48 symbols from root path for queue. Preview: {'AUDCAD': {'b': '0.8949500000', 'o': '0.8949300000'}, 'AUDCHF': {'b': '0.5225900000', 'o': '0.5225400000'}, 'AUDJPY': {'b': '97.0400000000', 'o': '97.0340000000'}, 'AUDNZD': {'b': '1.0000000000', 'o'
2025-07-15 23:42:02,591 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'AUDCAD': {'b': '0.8949500000', 'o': '0.8949300000'}, 'AUDCHF': {'b': '0.5225900000', 'o': '0.5225400000'}, 'AUDJPY': {'b': '97.0400000000', 'o': '97.0340000000'}, 'AUDNZD': {'b': '1.0000000000', 'o'...
2025-07-15 23:42:02,591 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type put at path /.
2025-07-15 23:42:03,188 - DEBUG - app.firebase_stream - Firebase listener triggered (2). Event Type: patch, Path: /. Timestamp: 1752648123.1886377
2025-07-15 23:42:03,188 - DEBUG - app.firebase_stream - Prepared batch update for 39 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0191000000', 'o': '13.0164000000'}, 'NZDJPY': {'b': '88.5250000000', 'o': '88.5160000000'}, 'GBPAUD': {'b': '2.0552500000', 'o': '2.0550800000'}, 'BTCUSD': {'b': '118244.530000000
2025-07-15 23:42:03,189 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0191000000', 'o': '13.0164000000'}, 'NZDJPY': {'b': '88.5250000000', 'o': '88.5160000000'}, 'GBPAUD': {'b': '2.0552500000', 'o': '2.0550800000'}, 'BTCUSD': {'b': '118244.530000000...
2025-07-15 23:42:03,189 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-15 23:42:05,566 - DEBUG - app.firebase_stream - Firebase listener triggered (3). Event Type: patch, Path: /. Timestamp: 1752648125.5664256
2025-07-15 23:42:05,566 - DEBUG - app.firebase_stream - Prepared batch update for 30 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0185000000', 'o': '13.0159000000'}, 'XAGUSD': {'b': '37.8890000000', 'o': '37.8830000000'}, 'NZDJPY': {'b': '88.5240000000', 'o': '88.5160000000'}, 'GBPAUD': {'b': '2.0552400000',
2025-07-15 23:42:05,567 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0185000000', 'o': '13.0159000000'}, 'XAGUSD': {'b': '37.8890000000', 'o': '37.8830000000'}, 'NZDJPY': {'b': '88.5240000000', 'o': '88.5160000000'}, 'GBPAUD': {'b': '2.0552400000',...
2025-07-15 23:42:05,567 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-15 23:42:06,659 - INFO - app - Cleaned up pending order stream for new trigger price format
2025-07-15 23:42:06,659 - INFO - app - Background tasks initialized
2025-07-15 23:42:07,405 - INFO - app - Service account JWT for 'barclays_service_provider' was generated and pushed to Firebase.
2025-07-15 23:42:07,406 - INFO - app - Application startup completed successfully
2025-07-15 23:42:07,406 - INFO - app - Starting cache validation task
2025-07-15 23:42:07,408 - INFO - app - Starting Barclays pending order margin checker task.
2025-07-15 23:42:07,409 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-15 23:42:07,411 - INFO - app - Starting auto-cutoff order monitoring task.
2025-07-15 23:42:07,442 - INFO - app - Validating cache for 31 users
2025-07-15 23:42:07,445 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-15 23:42:07,808 - DEBUG - app.firebase_stream - Firebase listener triggered (4). Event Type: patch, Path: /. Timestamp: 1752648127.80836
2025-07-15 23:42:07,808 - DEBUG - app.firebase_stream - Prepared batch update for 27 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.8900000000', 'o': '37.8800000000'}, 'NZDJPY': {'b': '88.5250000000', 'o': '88.5170000000'}, 'GBPAUD': {'b': '2.0552700000', 'o': '2.0551100000'}, 'BTCUSD': {'b': '118268.880000000
2025-07-15 23:42:07,808 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 2. Data preview: {'XAGUSD': {'b': '37.8900000000', 'o': '37.8800000000'}, 'NZDJPY': {'b': '88.5250000000', 'o': '88.5170000000'}, 'GBPAUD': {'b': '2.0552700000', 'o': '2.0551100000'}, 'BTCUSD': {'b': '118268.880000000...
2025-07-15 23:42:07,808 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-15 23:42:08,458 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-15 23:42:08,461 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-15 23:42:09,451 - INFO - app - Found 23 static orders cache entries to check
2025-07-15 23:42:09,477 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-15 23:42:09,480 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-15 23:42:10,095 - DEBUG - app.firebase_stream - Firebase listener triggered (5). Event Type: patch, Path: /. Timestamp: 1752648130.0957
2025-07-15 23:42:10,095 - DEBUG - app.firebase_stream - Prepared batch update for 34 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0187000000', 'o': '13.0161000000'}, 'XAGUSD': {'b': '37.8890000000', 'o': '37.8830000000'}, 'NZDJPY': {'b': '88.5280000000', 'o': '88.5190000000'}, 'BTCUSD': {'b': '118247.1700000
2025-07-15 23:42:10,096 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 2. Data preview: {'GBPSEK': {'b': '13.0187000000', 'o': '13.0161000000'}, 'XAGUSD': {'b': '37.8890000000', 'o': '37.8830000000'}, 'NZDJPY': {'b': '88.5280000000', 'o': '88.5190000000'}, 'BTCUSD': {'b': '118247.1700000...
2025-07-15 23:42:10,096 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-15 23:42:10,488 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-15 23:42:10,492 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-15 23:42:11,490 - WARNING - app - User 4: Missing balance/margin cache, refreshing...
2025-07-15 23:42:11,502 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-15 23:42:11,506 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-15 23:42:12,425 - DEBUG - app.firebase_stream - Firebase listener triggered (6). Event Type: patch, Path: /. Timestamp: 1752648132.4252253
2025-07-15 23:42:12,425 - DEBUG - app.firebase_stream - Prepared batch update for 35 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0185000000', 'o': '13.0158000000'}, 'NZDJPY': {'b': '88.5260000000', 'o': '88.5190000000'}, 'GBPAUD': {'b': '2.0552400000', 'o': '2.0551000000'}, 'USDJPY': {'b': '148.6910000000',
2025-07-15 23:42:12,425 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 3. Data preview: {'GBPSEK': {'b': '13.0185000000', 'o': '13.0158000000'}, 'NZDJPY': {'b': '88.5260000000', 'o': '88.5190000000'}, 'GBPAUD': {'b': '2.0552400000', 'o': '2.0551000000'}, 'USDJPY': {'b': '148.6910000000',...
2025-07-15 23:42:12,426 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-15 23:42:12,511 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-15 23:42:12,513 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-15 23:42:13,518 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-15 23:42:13,573 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-15 23:42:13,592 - INFO - app.api.v1.endpoints.users - Refresh token decoded. User ID from token payload: 14
2025-07-15 23:42:13,594 - INFO - app.api.v1.endpoints.users - Refresh token decoded. User ID from token payload: 14
2025-07-15 23:42:14,576 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-15 23:42:14,578 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-15 23:42:14,730 - DEBUG - app.firebase_stream - Firebase listener triggered (7). Event Type: patch, Path: /. Timestamp: 1752648134.7300253
2025-07-15 23:42:14,730 - DEBUG - app.firebase_stream - Prepared batch update for 40 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0191000000', 'o': '13.0164000000'}, 'XAGUSD': {'b': '37.8820000000', 'o': '37.8750000000'}, 'NZDJPY': {'b': '88.5250000000', 'o': '88.5170000000'}, 'GBPAUD': {'b': '2.0554100000',
2025-07-15 23:42:14,731 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 3. Data preview: {'GBPSEK': {'b': '13.0191000000', 'o': '13.0164000000'}, 'XAGUSD': {'b': '37.8820000000', 'o': '37.8750000000'}, 'NZDJPY': {'b': '88.5250000000', 'o': '88.5170000000'}, 'GBPAUD': {'b': '2.0554100000',...
2025-07-15 23:42:14,731 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-15 23:42:15,133 - INFO - app.api.v1.endpoints.users - Refresh token decoded. User ID from token payload: 14
2025-07-15 23:42:15,158 - INFO - app.api.v1.endpoints.users - Refresh token decoded. User ID from token payload: 14
2025-07-15 23:42:15,192 - INFO - app.api.v1.endpoints.users - Refresh token decoded. User ID from token payload: 14
2025-07-15 23:42:15,484 - INFO - app.api.v1.endpoints.users - Refresh token decoded. User ID from token payload: 14
2025-07-15 23:42:15,579 - WARNING - app - Found stale cache entry for user 2, will be refreshed on next access
2025-07-15 23:42:15,584 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-15 23:42:15,587 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-15 23:42:15,588 - DEBUG - app.api.v1.endpoints.users - Comparing Redis user_id (type: <class 'int'>, value: 14) with decoded user_id (type: <class 'str'>, value: 14)
2025-07-15 23:42:15,588 - INFO - app.api.v1.endpoints.users - Refresh token validated successfully for user ID: 14
2025-07-15 23:42:15,590 - DEBUG - app.api.v1.endpoints.users - Comparing Redis user_id (type: <class 'int'>, value: 14) with decoded user_id (type: <class 'str'>, value: 14)
2025-07-15 23:42:15,590 - INFO - app.api.v1.endpoints.users - Refresh token validated successfully for user ID: 14
2025-07-15 23:42:15,593 - DEBUG - app.api.v1.endpoints.users - Comparing Redis user_id (type: <class 'int'>, value: 14) with decoded user_id (type: <class 'str'>, value: 14)
2025-07-15 23:42:15,593 - INFO - app.api.v1.endpoints.users - Refresh token validated successfully for user ID: 14
2025-07-15 23:42:15,594 - DEBUG - app.api.v1.endpoints.users - Comparing Redis user_id (type: <class 'int'>, value: 14) with decoded user_id (type: <class 'str'>, value: 14)
2025-07-15 23:42:15,595 - INFO - app.api.v1.endpoints.users - Refresh token validated successfully for user ID: 14
2025-07-15 23:42:15,596 - DEBUG - app.api.v1.endpoints.users - Comparing Redis user_id (type: <class 'int'>, value: 14) with decoded user_id (type: <class 'str'>, value: 14)
2025-07-15 23:42:15,596 - INFO - app.api.v1.endpoints.users - Refresh token validated successfully for user ID: 14
2025-07-15 23:42:15,597 - DEBUG - app.api.v1.endpoints.users - Comparing Redis user_id (type: <class 'int'>, value: 14) with decoded user_id (type: <class 'str'>, value: 14)
2025-07-15 23:42:15,597 - INFO - app.api.v1.endpoints.users - Refresh token validated successfully for user ID: 14
2025-07-15 23:42:15,601 - WARNING - app - Found stale cache entry for user 3, will be refreshed on next access
2025-07-15 23:42:15,622 - INFO - app.api.v1.endpoints.users - New access and refresh tokens generated for user ID 14 using refresh token.
2025-07-15 23:42:15,626 - INFO - app.api.v1.endpoints.users - New access and refresh tokens generated for user ID 14 using refresh token.
2025-07-15 23:42:15,626 - INFO - app.api.v1.endpoints.users - New access and refresh tokens generated for user ID 14 using refresh token.
2025-07-15 23:42:15,629 - INFO - app.api.v1.endpoints.users - New access and refresh tokens generated for user ID 14 using refresh token.
2025-07-15 23:42:15,634 - WARNING - app - Found stale cache entry for user 17, will be refreshed on next access
2025-07-15 23:42:15,637 - INFO - app.api.v1.endpoints.users - New access and refresh tokens generated for user ID 14 using refresh token.
2025-07-15 23:42:15,645 - INFO - app.api.v1.endpoints.users - New access and refresh tokens generated for user ID 14 using refresh token.
2025-07-15 23:42:15,669 - WARNING - app - Found stale cache entry for user 18, will be refreshed on next access
2025-07-15 23:42:15,731 - WARNING - app - User 5: Missing balance/margin cache, refreshing...
2025-07-15 23:42:15,745 - WARNING - app - Found stale cache entry for user 23, will be refreshed on next access
2025-07-15 23:42:15,760 - WARNING - app - Found stale cache entry for user 19, will be refreshed on next access
2025-07-15 23:42:15,763 - WARNING - app - User 8: Missing balance/margin cache, refreshing...
2025-07-15 23:42:15,771 - WARNING - app - Found stale cache entry for user 8, will be refreshed on next access
2025-07-15 23:42:15,777 - WARNING - app - Found stale cache entry for user 5, will be refreshed on next access
2025-07-15 23:42:15,782 - WARNING - app - Found stale cache entry for user 24, will be refreshed on next access
2025-07-15 23:42:15,785 - WARNING - app - Found stale cache entry for user 13, will be refreshed on next access
2025-07-15 23:42:15,787 - WARNING - app - Found stale cache entry for user 16, will be refreshed on next access
2025-07-15 23:42:15,789 - WARNING - app - Found stale cache entry for user 25, will be refreshed on next access
2025-07-15 23:42:15,791 - WARNING - app - Found stale cache entry for user 12, will be refreshed on next access
2025-07-15 23:42:15,791 - WARNING - app - User 9: Missing balance/margin cache, refreshing...
2025-07-15 23:42:15,797 - WARNING - app - Found stale cache entry for user 21, will be refreshed on next access
2025-07-15 23:42:15,799 - WARNING - app - Found stale cache entry for user 22, will be refreshed on next access
2025-07-15 23:42:16,075 - INFO - app.api.v1.endpoints.favorites - Direct SQL query found 0 symbols for user 14
2025-07-15 23:42:16,076 - INFO - app.api.v1.endpoints.favorites - Symbols: []
2025-07-15 23:42:16,598 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-15 23:42:16,600 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-15 23:42:17,046 - DEBUG - app.firebase_stream - Firebase listener triggered (8). Event Type: patch, Path: /. Timestamp: 1752648137.0460258
2025-07-15 23:42:17,046 - DEBUG - app.firebase_stream - Prepared batch update for 34 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0196000000', 'o': '13.0170000000'}, 'XAGUSD': {'b': '37.8830000000', 'o': '37.8750000000'}, 'NZDJPY': {'b': '88.5280000000', 'o': '88.5190000000'}, 'GBPAUD': {'b': '2.0553800000',
2025-07-15 23:42:17,047 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0196000000', 'o': '13.0170000000'}, 'XAGUSD': {'b': '37.8830000000', 'o': '37.8750000000'}, 'NZDJPY': {'b': '88.5280000000', 'o': '88.5190000000'}, 'GBPAUD': {'b': '2.0553800000',...
2025-07-15 23:42:17,047 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-15 23:42:17,604 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-15 23:42:17,607 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-15 23:42:17,827 - WARNING - app - Found stale cache entry for user 6, will be refreshed on next access
2025-07-15 23:42:17,832 - WARNING - app - Found stale cache entry for user 20, will be refreshed on next access
2025-07-15 23:42:17,832 - INFO - app - Completed stale cache cleanup task
2025-07-15 23:42:17,850 - WARNING - app - User 10: Missing balance/margin cache, refreshing...
2025-07-15 23:42:17,907 - WARNING - app - User 11: Missing balance/margin cache, refreshing...
2025-07-15 23:42:17,949 - WARNING - app - User 12: Missing balance/margin cache, refreshing...
2025-07-15 23:42:18,611 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-15 23:42:18,613 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-15 23:42:19,362 - DEBUG - app.firebase_stream - Firebase listener triggered (9). Event Type: patch, Path: /. Timestamp: 1752648139.3622837
2025-07-15 23:42:19,362 - DEBUG - app.firebase_stream - Prepared batch update for 26 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0199000000', 'o': '13.0173000000'}, 'GBPAUD': {'b': '2.0554100000', 'o': '2.0552700000'}, 'USDJPY': {'b': '148.6850000000', 'o': '148.6840000000'}, 'USDCNH': {'b': '7.1813800000',
2025-07-15 23:42:19,363 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0199000000', 'o': '13.0173000000'}, 'GBPAUD': {'b': '2.0554100000', 'o': '2.0552700000'}, 'USDJPY': {'b': '148.6850000000', 'o': '148.6840000000'}, 'USDCNH': {'b': '7.1813800000',...
2025-07-15 23:42:19,363 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-15 23:42:19,621 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-15 23:42:19,641 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-15 23:42:20,121 - WARNING - app - User 13: Missing balance/margin cache, refreshing...
2025-07-15 23:42:20,296 - WARNING - app - User 16: Missing balance/margin cache, refreshing...
2025-07-15 23:42:20,656 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-15 23:42:20,658 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-15 23:42:21,675 - DEBUG - app.firebase_stream - Firebase listener triggered (10). Event Type: patch, Path: /. Timestamp: 1752648141.6753104
2025-07-15 23:42:21,675 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-15 23:42:21,675 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0189000000', 'o': '13.0163900000'}, 'NZDJPY': {'b': '88.5250000000', 'o': '88.5160000000'}, 'GBPAUD': {'b': '2.0553500000', 'o': '2.0552200000'}, 'USDJPY': {'b': '148.6870000000',
2025-07-15 23:42:21,677 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0189000000', 'o': '13.0163900000'}, 'NZDJPY': {'b': '88.5250000000', 'o': '88.5160000000'}, 'GBPAUD': {'b': '2.0553500000', 'o': '2.0552200000'}, 'USDJPY': {'b': '148.6870000000',...
2025-07-15 23:42:21,678 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-15 23:42:21,678 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-15 23:42:22,395 - WARNING - app - User 17: Missing balance/margin cache, refreshing...
2025-07-15 23:42:22,413 - INFO - app - Starting stale cache cleanup task
2025-07-15 23:42:22,431 - INFO - app - Found 23 static orders cache entries to check
2025-07-15 23:42:22,452 - WARNING - app - Found stale cache entry for user 2, will be refreshed on next access
2025-07-15 23:42:22,469 - WARNING - app - Found stale cache entry for user 3, will be refreshed on next access
2025-07-15 23:42:22,488 - WARNING - app - Found stale cache entry for user 17, will be refreshed on next access
2025-07-15 23:42:22,491 - WARNING - app - User 18: Missing balance/margin cache, refreshing...
2025-07-15 23:42:22,502 - WARNING - app - Found stale cache entry for user 18, will be refreshed on next access
2025-07-15 23:42:22,521 - WARNING - app - Found stale cache entry for user 23, will be refreshed on next access
2025-07-15 23:42:22,532 - WARNING - app - Found stale cache entry for user 19, will be refreshed on next access
2025-07-15 23:42:22,545 - WARNING - app - Found stale cache entry for user 8, will be refreshed on next access
2025-07-15 23:42:22,551 - WARNING - app - Found stale cache entry for user 5, will be refreshed on next access
2025-07-15 23:42:22,560 - WARNING - app - Found stale cache entry for user 24, will be refreshed on next access
2025-07-15 23:42:22,562 - WARNING - app - User 19: Missing balance/margin cache, refreshing...
2025-07-15 23:42:22,566 - WARNING - app - Found stale cache entry for user 13, will be refreshed on next access
2025-07-15 23:42:22,590 - WARNING - app - Found stale cache entry for user 16, will be refreshed on next access
2025-07-15 23:42:22,605 - WARNING - app - Found stale cache entry for user 25, will be refreshed on next access
2025-07-15 23:42:22,621 - WARNING - app - Found stale cache entry for user 12, will be refreshed on next access
2025-07-15 23:42:22,653 - WARNING - app - Found stale cache entry for user 21, will be refreshed on next access
2025-07-15 23:42:22,656 - WARNING - app - User 20: Missing balance/margin cache, refreshing...
2025-07-15 23:42:22,664 - WARNING - app - Found stale cache entry for user 22, will be refreshed on next access
2025-07-15 23:42:22,687 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-15 23:42:22,692 - WARNING - app - Found stale cache entry for user 6, will be refreshed on next access
2025-07-15 23:42:22,695 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-15 23:42:22,704 - WARNING - app - Found stale cache entry for user 20, will be refreshed on next access
2025-07-15 23:42:22,705 - INFO - app - Completed stale cache cleanup task
2025-07-15 23:42:23,720 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-15 23:42:23,725 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-15 23:42:24,006 - DEBUG - app.firebase_stream - Firebase listener triggered (11). Event Type: patch, Path: /. Timestamp: 1752648144.0067754
2025-07-15 23:42:24,007 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0179000000', 'o': '13.0153000000'}, 'XAGUSD': {'b': '37.8840000000', 'o': '37.8780000000'}, 'GBPAUD': {'b': '2.0553500000', 'o': '2.0552800000'}, 'USDJPY': {'b': '148.6820000000',
2025-07-15 23:42:24,008 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0179000000', 'o': '13.0153000000'}, 'XAGUSD': {'b': '37.8840000000', 'o': '37.8780000000'}, 'GBPAUD': {'b': '2.0553500000', 'o': '2.0552800000'}, 'USDJPY': {'b': '148.6820000000',...
2025-07-15 23:42:24,008 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-15 23:42:24,728 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-15 23:42:24,731 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-15 23:42:24,746 - WARNING - app - User 21: Missing balance/margin cache, refreshing...
2025-07-15 23:42:24,841 - INFO - app.api.v1.endpoints.favorites - Direct SQL query found 0 symbols for user 14
2025-07-15 23:42:24,841 - INFO - app.api.v1.endpoints.favorites - Symbols: []
2025-07-15 23:42:25,735 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-15 23:42:25,738 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-15 23:42:26,348 - DEBUG - app.firebase_stream - Firebase listener triggered (12). Event Type: patch, Path: /. Timestamp: 1752648146.3487616
2025-07-15 23:42:26,349 - DEBUG - app.firebase_stream - Prepared batch update for 38 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0178000000', 'o': '13.0152000000'}, 'NZDJPY': {'b': '88.5310000000', 'o': '88.5280000000'}, 'GBPAUD': {'b': '2.0552500000', 'o': '2.0552100000'}, 'BTCUSD': {'b': '118248.520000000
2025-07-15 23:42:26,349 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0178000000', 'o': '13.0152000000'}, 'NZDJPY': {'b': '88.5310000000', 'o': '88.5280000000'}, 'GBPAUD': {'b': '2.0552500000', 'o': '2.0552100000'}, 'BTCUSD': {'b': '118248.520000000...
2025-07-15 23:42:26,349 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-15 23:42:26,743 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-15 23:42:26,745 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-15 23:42:26,823 - WARNING - app - User 22: Missing balance/margin cache, refreshing...
2025-07-15 23:42:26,854 - WARNING - app - User 23: Missing balance/margin cache, refreshing...
2025-07-15 23:42:26,869 - WARNING - app - User 24: Missing balance/margin cache, refreshing...
2025-07-15 23:42:26,912 - WARNING - app - User 25: Missing balance/margin cache, refreshing...
2025-07-15 23:42:26,950 - WARNING - app - User 26: Missing balance/margin cache, refreshing...
2025-07-15 23:42:26,996 - WARNING - app - User 1: Missing balance/margin cache, refreshing...
2025-07-15 23:42:27,069 - WARNING - app - User 2: Missing balance/margin cache, refreshing...
2025-07-15 23:42:27,113 - WARNING - app - User 3: Missing balance/margin cache, refreshing...
2025-07-15 23:42:27,156 - WARNING - app - User 5: Missing balance/margin cache, refreshing...
2025-07-15 23:42:27,212 - WARNING - app - User 6: Missing balance/margin cache, refreshing...
2025-07-15 23:42:27,266 - INFO - app - Cache validation completed
2025-07-15 23:42:27,755 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-15 23:42:27,758 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-15 23:42:28,458 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-07-15 23:42:28,460 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-07-15 23:42:28,473 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-07-15 23:42:28,490 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-07-15 23:42:28,503 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-07-15 23:42:28,511 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-07-15 23:42:28,622 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-07-15 23:42:28,698 - DEBUG - app.firebase_stream - Firebase listener triggered (13). Event Type: patch, Path: /. Timestamp: 1752648148.698132
2025-07-15 23:42:28,698 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.5370000000', 'o': '88.5300000000'}, 'GBPAUD': {'b': '2.0552800000', 'o': '2.0551900000'}, 'BTCUSD': {'b': '118250.0000000000', 'o': '118249.9000000000'}, 'USDJPY': {'b': '148.6840
2025-07-15 23:42:28,698 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.5370000000', 'o': '88.5300000000'}, 'GBPAUD': {'b': '2.0552800000', 'o': '2.0551900000'}, 'BTCUSD': {'b': '118250.0000000000', 'o': '118249.9000000000'}, 'USDJPY': {'b': '148.6840...
2025-07-15 23:42:28,698 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-15 23:42:28,762 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-15 23:42:28,765 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-15 23:42:28,858 - INFO - app.core.config - .env file loaded successfully.
2025-07-15 23:42:28,863 - INFO - app.core.config - .env file loaded successfully.
2025-07-15 23:42:28,864 - INFO - app.core.config - .env file loaded successfully.
2025-07-15 23:42:28,864 - INFO - app.core.config - .env file loaded successfully.
2025-07-15 23:42:28,865 - INFO - app.core.config - .env file loaded successfully.
2025-07-15 23:42:28,868 - INFO - app.core.config - .env file loaded successfully.
2025-07-15 23:42:28,870 - INFO - app.core.config - .env file loaded successfully.
2025-07-15 23:42:28,877 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-07-15 23:42:28,877 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-07-15 23:42:28,881 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-07-15 23:42:28,881 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-07-15 23:42:28,882 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-07-15 23:42:28,882 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-07-15 23:42:28,890 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-07-15 23:42:28,890 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-07-15 23:42:28,890 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-07-15 23:42:28,891 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-07-15 23:42:28,892 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-07-15 23:42:28,892 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-07-15 23:42:28,893 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-07-15 23:42:28,893 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-07-15 23:42:29,766 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-15 23:42:29,769 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-15 23:42:30,776 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-15 23:42:30,778 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-15 23:42:31,098 - DEBUG - app.firebase_stream - Firebase listener triggered (14). Event Type: patch, Path: /. Timestamp: 1752648151.0982842
2025-07-15 23:42:31,098 - DEBUG - app.firebase_stream - Prepared batch update for 21 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0194000000', 'o': '13.0168000000'}, 'XAGUSD': {'b': '37.8850000000', 'o': '37.8780000000'}, 'NZDJPY': {'b': '88.5380000000', 'o': '88.5300000000'}, 'USDJPY': {'b': '148.6850000000
2025-07-15 23:42:31,098 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0194000000', 'o': '13.0168000000'}, 'XAGUSD': {'b': '37.8850000000', 'o': '37.8780000000'}, 'NZDJPY': {'b': '88.5380000000', 'o': '88.5300000000'}, 'USDJPY': {'b': '148.6850000000...
2025-07-15 23:42:31,098 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-15 23:42:31,784 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-15 23:42:31,787 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-15 23:42:32,789 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-15 23:42:32,792 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-15 23:42:33,535 - DEBUG - app.firebase_stream - Firebase listener triggered (15). Event Type: patch, Path: /. Timestamp: 1752648153.535151
2025-07-15 23:42:33,535 - DEBUG - app.firebase_stream - Prepared batch update for 12 symbols from root path for queue. Preview: {'GBPAUD': {'b': '2.0552800000', 'o': '2.0551200000'}, 'EURNZD': {'b': '1.9526800000', 'o': '1.9525000000'}, 'SGDJPY': {'b': '115.8050000000', 'o': '115.7850000000'}, 'USDCHF': {'b': '0.8007500000', '
2025-07-15 23:42:33,535 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPAUD': {'b': '2.0552800000', 'o': '2.0551200000'}, 'EURNZD': {'b': '1.9526800000', 'o': '1.9525000000'}, 'SGDJPY': {'b': '115.8050000000', 'o': '115.7850000000'}, 'USDCHF': {'b': '0.8007500000', '...
2025-07-15 23:42:33,536 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-15 23:42:33,796 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-15 23:42:33,799 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-15 23:42:34,820 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-15 23:42:34,823 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-15 23:42:35,831 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-15 23:42:35,833 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-15 23:42:35,966 - DEBUG - app.firebase_stream - Firebase listener triggered (16). Event Type: patch, Path: /. Timestamp: 1752648155.966422
2025-07-15 23:42:35,966 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0190000000', 'o': '13.0164000000'}, 'XAGUSD': {'b': '37.8930000000', 'o': '37.8830000000'}, 'NZDJPY': {'b': '88.5380000000', 'o': '88.5310000000'}, 'GBPAUD': {'b': '2.0552600000',
2025-07-15 23:42:35,966 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0190000000', 'o': '13.0164000000'}, 'XAGUSD': {'b': '37.8930000000', 'o': '37.8830000000'}, 'NZDJPY': {'b': '88.5380000000', 'o': '88.5310000000'}, 'GBPAUD': {'b': '2.0552600000',...
2025-07-15 23:42:35,966 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-15 23:42:36,837 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-15 23:42:36,839 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-15 23:42:37,845 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-15 23:42:37,847 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-15 23:42:38,221 - DEBUG - app.firebase_stream - Firebase listener triggered (17). Event Type: patch, Path: /. Timestamp: 1752648158.2215507
2025-07-15 23:42:38,222 - DEBUG - app.firebase_stream - Prepared batch update for 37 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0188000000', 'o': '13.0160000000'}, 'XAGUSD': {'b': '37.8830000000', 'o': '37.8750000000'}, 'NZDJPY': {'b': '88.5350000000', 'o': '88.5280000000'}, 'GBPAUD': {'b': '2.0552400000',
2025-07-15 23:42:38,222 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0188000000', 'o': '13.0160000000'}, 'XAGUSD': {'b': '37.8830000000', 'o': '37.8750000000'}, 'NZDJPY': {'b': '88.5350000000', 'o': '88.5280000000'}, 'GBPAUD': {'b': '2.0552400000',...
2025-07-15 23:42:38,223 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-15 23:42:38,850 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-15 23:42:38,852 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-15 23:42:39,861 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-15 23:42:39,863 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-15 23:42:40,582 - DEBUG - app.firebase_stream - Firebase listener triggered (18). Event Type: patch, Path: /. Timestamp: 1752648160.5820904
2025-07-15 23:42:40,582 - DEBUG - app.firebase_stream - Prepared batch update for 37 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0182000000', 'o': '13.0161100000'}, 'XAGUSD': {'b': '37.8940000000', 'o': '37.8850000000'}, 'NZDJPY': {'b': '88.5400000000', 'o': '88.5340000000'}, 'GBPAUD': {'b': '2.0552900000',
2025-07-15 23:42:40,582 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0182000000', 'o': '13.0161100000'}, 'XAGUSD': {'b': '37.8940000000', 'o': '37.8850000000'}, 'NZDJPY': {'b': '88.5400000000', 'o': '88.5340000000'}, 'GBPAUD': {'b': '2.0552900000',...
2025-07-15 23:42:40,583 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-15 23:42:40,878 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-15 23:42:40,881 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-15 23:42:41,891 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-15 23:42:41,893 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-15 23:42:42,837 - DEBUG - app.firebase_stream - Firebase listener triggered (19). Event Type: patch, Path: /. Timestamp: 1752648162.8377283
2025-07-15 23:42:42,838 - DEBUG - app.firebase_stream - Prepared batch update for 37 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0179000000', 'o': '13.0153000000'}, 'NZDJPY': {'b': '88.5450000000', 'o': '88.5380000000'}, 'GBPAUD': {'b': '2.0551200000', 'o': '2.0551000000'}, 'USDJPY': {'b': '148.6810000000',
2025-07-15 23:42:42,838 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0179000000', 'o': '13.0153000000'}, 'NZDJPY': {'b': '88.5450000000', 'o': '88.5380000000'}, 'GBPAUD': {'b': '2.0551200000', 'o': '2.0551000000'}, 'USDJPY': {'b': '148.6810000000',...
2025-07-15 23:42:42,838 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-15 23:42:42,895 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-15 23:42:42,897 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-15 23:42:43,899 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-15 23:42:43,902 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-15 23:42:44,909 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-15 23:42:44,910 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-15 23:42:45,189 - DEBUG - app.firebase_stream - Firebase listener triggered (20). Event Type: patch, Path: /. Timestamp: 1752648165.1894405
2025-07-15 23:42:45,189 - DEBUG - app.firebase_stream - Prepared batch update for 36 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0189000000', 'o': '13.0163000000'}, 'XAGUSD': {'b': '37.8980000000', 'o': '37.8930000000'}, 'NZDJPY': {'b': '88.5480000000', 'o': '88.5390000000'}, 'GBPAUD': {'b': '2.0551100000',
2025-07-15 23:42:45,190 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0189000000', 'o': '13.0163000000'}, 'XAGUSD': {'b': '37.8980000000', 'o': '37.8930000000'}, 'NZDJPY': {'b': '88.5480000000', 'o': '88.5390000000'}, 'GBPAUD': {'b': '2.0551100000',...
2025-07-15 23:42:45,190 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-15 23:42:45,920 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-15 23:42:45,923 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-15 23:42:46,927 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-15 23:42:46,929 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-15 23:42:47,542 - DEBUG - app.firebase_stream - Firebase listener triggered (21). Event Type: patch, Path: /. Timestamp: 1752648167.542542
2025-07-15 23:42:47,543 - DEBUG - app.firebase_stream - Prepared batch update for 39 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0173000000', 'o': '13.0147000000'}, 'XAGUSD': {'b': '37.8980000000', 'o': '37.8900000000'}, 'NZDJPY': {'b': '88.5420000000', 'o': '88.5360000000'}, 'GBPAUD': {'b': '2.0551200000',
2025-07-15 23:42:47,543 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0173000000', 'o': '13.0147000000'}, 'XAGUSD': {'b': '37.8980000000', 'o': '37.8900000000'}, 'NZDJPY': {'b': '88.5420000000', 'o': '88.5360000000'}, 'GBPAUD': {'b': '2.0551200000',...
2025-07-15 23:42:47,544 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-15 23:42:47,939 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-15 23:42:47,941 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-15 23:42:48,949 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-15 23:42:48,952 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-15 23:42:49,801 - DEBUG - app.firebase_stream - Firebase listener triggered (22). Event Type: patch, Path: /. Timestamp: 1752648169.801934
2025-07-15 23:42:49,802 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.5450000000', 'o': '88.5360000000'}, 'GBPAUD': {'b': '2.0552200000', 'o': '2.0550800000'}, 'BTCUSD': {'b': '118229.5700000000', 'o': '118229.5700000000'}, 'USDJPY': {'b': '148.6890
2025-07-15 23:42:49,802 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.5450000000', 'o': '88.5360000000'}, 'GBPAUD': {'b': '2.0552200000', 'o': '2.0550800000'}, 'BTCUSD': {'b': '118229.5700000000', 'o': '118229.5700000000'}, 'USDJPY': {'b': '148.6890...
2025-07-15 23:42:49,802 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-15 23:42:49,954 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-15 23:42:49,957 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-15 23:42:50,969 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-15 23:42:50,971 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-15 23:42:51,977 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-15 23:42:51,978 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-15 23:42:52,158 - DEBUG - app.firebase_stream - Firebase listener triggered (23). Event Type: patch, Path: /. Timestamp: 1752648172.1584647
2025-07-15 23:42:52,158 - DEBUG - app.firebase_stream - Prepared batch update for 37 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0178000000', 'o': '13.0153600000'}, 'XAGUSD': {'b': '37.8940000000', 'o': '37.8880000000'}, 'NZDJPY': {'b': '88.5420000000', 'o': '88.5330000000'}, 'GBPAUD': {'b': '2.0552500000',
2025-07-15 23:42:52,159 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0178000000', 'o': '13.0153600000'}, 'XAGUSD': {'b': '37.8940000000', 'o': '37.8880000000'}, 'NZDJPY': {'b': '88.5420000000', 'o': '88.5330000000'}, 'GBPAUD': {'b': '2.0552500000',...
2025-07-15 23:42:52,159 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-15 23:42:52,984 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-15 23:42:52,987 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-15 23:42:54,003 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-15 23:42:54,007 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-15 23:42:54,398 - DEBUG - app.firebase_stream - Firebase listener triggered (24). Event Type: patch, Path: /. Timestamp: 1752648174.39872
2025-07-15 23:42:54,399 - DEBUG - app.firebase_stream - Prepared batch update for 14 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.5420000000', 'o': '88.5370000000'}, 'GBPAUD': {'b': '2.0553800000', 'o': '2.0552800000'}, 'USDJPY': {'b': '148.6960000000', 'o': '148.6950000000'}, 'EURNZD': {'b': '1.9524800000',
2025-07-15 23:42:54,399 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.5420000000', 'o': '88.5370000000'}, 'GBPAUD': {'b': '2.0553800000', 'o': '2.0552800000'}, 'USDJPY': {'b': '148.6960000000', 'o': '148.6950000000'}, 'EURNZD': {'b': '1.9524800000',...
2025-07-15 23:42:54,399 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-15 23:42:55,024 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-15 23:42:55,026 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-15 23:42:56,029 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-15 23:42:56,032 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-15 23:42:56,755 - DEBUG - app.firebase_stream - Firebase listener triggered (25). Event Type: patch, Path: /. Timestamp: 1752648176.7554905
2025-07-15 23:42:56,755 - DEBUG - app.firebase_stream - Prepared batch update for 12 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.8840000000', 'o': '37.8780000000'}, 'USDJPY': {'b': '148.6990000000', 'o': '148.6940000000'}, 'USDCNH': {'b': '7.1810900000', 'o': '7.1810900000'}, 'AUDJPY': {'b': '97.0620000000'
2025-07-15 23:42:56,756 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.8840000000', 'o': '37.8780000000'}, 'USDJPY': {'b': '148.6990000000', 'o': '148.6940000000'}, 'USDCNH': {'b': '7.1810900000', 'o': '7.1810900000'}, 'AUDJPY': {'b': '97.0620000000'...
2025-07-15 23:42:56,756 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-15 23:42:57,035 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-15 23:42:57,038 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-15 23:42:58,053 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-15 23:42:58,055 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-15 23:42:59,071 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-15 23:42:59,074 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-15 23:42:59,113 - DEBUG - app.firebase_stream - Firebase listener triggered (26). Event Type: patch, Path: /. Timestamp: 1752648179.1134434
2025-07-15 23:42:59,113 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0174000000', 'o': '13.0148500000'}, 'XAGUSD': {'b': '37.8930000000', 'o': '37.8850000000'}, 'NZDJPY': {'b': '88.5430000000', 'o': '88.5370000000'}, 'GBPAUD': {'b': '2.0552700000',
2025-07-15 23:42:59,113 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0174000000', 'o': '13.0148500000'}, 'XAGUSD': {'b': '37.8930000000', 'o': '37.8850000000'}, 'NZDJPY': {'b': '88.5430000000', 'o': '88.5370000000'}, 'GBPAUD': {'b': '2.0552700000',...
2025-07-15 23:42:59,114 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-15 23:43:00,079 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-15 23:43:00,083 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-15 23:43:01,087 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-15 23:43:01,088 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-15 23:43:01,476 - DEBUG - app.firebase_stream - Firebase listener triggered (27). Event Type: patch, Path: /. Timestamp: 1752648181.476471
2025-07-15 23:43:01,476 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0181000000', 'o': '13.0155000000'}, 'XAGUSD': {'b': '37.8940000000', 'o': '37.8850000000'}, 'NZDJPY': {'b': '88.5430000000', 'o': '88.5340000000'}, 'GBPAUD': {'b': '2.0552900000',
2025-07-15 23:43:01,477 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0181000000', 'o': '13.0155000000'}, 'XAGUSD': {'b': '37.8940000000', 'o': '37.8850000000'}, 'NZDJPY': {'b': '88.5430000000', 'o': '88.5340000000'}, 'GBPAUD': {'b': '2.0552900000',...
2025-07-15 23:43:01,477 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-15 23:43:01,749 - WARNING - app - User 4 has no open or pending orders. Skipping portfolio update.
2025-07-15 23:43:01,753 - WARNING - app - No user data found for user 5 (live). Skipping portfolio update.
2025-07-15 23:43:01,760 - WARNING - app - No group settings found for group string. Skipping portfolio update for user 8.
2025-07-15 23:43:01,771 - WARNING - app - User 9 has no open or pending orders. Skipping portfolio update.
2025-07-15 23:43:01,779 - WARNING - app - User 10 has no open or pending orders. Skipping portfolio update.
2025-07-15 23:43:01,788 - WARNING - app - User 11 has no open or pending orders. Skipping portfolio update.
2025-07-15 23:43:01,796 - WARNING - app - User 12 has no open or pending orders. Skipping portfolio update.
2025-07-15 23:43:01,804 - WARNING - app - User 13 has no open or pending orders. Skipping portfolio update.
2025-07-15 23:43:02,179 - DEBUG - app.services.portfolio_calculator - Position calculation for BTCUSD: Type=BUY, Entry=118908.50000000, Current=118198.52, Quantity=0.40000000, Contract Size=1.00000000, PnL=-283.992000000000000000000000, PnL USD=-283.992000000000000000000000, Commission=235.57000000, Final PnL=-519.562000000000000000000000
2025-07-15 23:43:02,179 - WARNING - app.services.portfolio_calculator - MARGIN CALL ALERT: User has margin level 99.57260793846369364292513953% which is below threshold 100.0%
2025-07-15 23:43:02,183 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-15 23:43:02,192 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-15 23:43:02,227 - WARNING - app - User 16 has no open or pending orders. Skipping portfolio update.
2025-07-15 23:43:02,250 - WARNING - app - User 17 has no open or pending orders. Skipping portfolio update.
2025-07-15 23:43:02,275 - WARNING - app - User 18 has no open or pending orders. Skipping portfolio update.
2025-07-15 23:43:02,283 - INFO - app - Application shutdown initiated
2025-07-15 23:43:02,284 - INFO - app - Scheduler shutdown completed
2025-07-15 23:43:02,718 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-07-15 23:43:03,730 - INFO - app.firebase_stream - Firebase listener closed.
2025-07-15 23:43:03,730 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-07-15 23:43:03,734 - INFO - app - Redis connection closed
2025-07-15 23:43:03,734 - INFO - app - Application shutdown completed
2025-07-16 00:07:59,603 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-07-16 00:07:59,634 - INFO - app.core.config - .env file loaded successfully.
2025-07-16 00:07:59,645 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-07-16 00:07:59,645 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-07-16 00:07:59,939 - INFO - app - Application starting up - Trading system initialized
2025-07-16 00:07:59,939 - INFO - app - SL/TP Epsilon accuracy configured: 0.00001
2025-07-16 00:07:59,939 - INFO - app - Environment: DEVELOPMENT
2025-07-16 00:07:59,988 - INFO - app - Application startup initiated
2025-07-16 00:07:59,989 - INFO - app - Initializing core services...
2025-07-16 00:08:00,027 - INFO - app - Firebase initialized
2025-07-16 00:08:00,027 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-07-16 00:08:02,094 - INFO - app - Redis initialized
2025-07-16 00:08:02,099 - INFO - app - [SWAP] daily_swap_charge_job triggered
2025-07-16 00:08:02,101 - INFO - app - Scheduler initialized
2025-07-16 00:08:02,103 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-07-16 00:08:02,103 - DEBUG - app.firebase_stream - Successfully got running event loop in process_firebase_events task.
2025-07-16 00:08:02,104 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-07-16 00:08:03,241 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-07-16 00:08:03,260 - DEBUG - app.firebase_stream - Firebase listener triggered (1). Event Type: put, Path: /. Timestamp: 1752649683.2606661
2025-07-16 00:08:03,260 - DEBUG - app.firebase_stream - Prepared batch update for 48 symbols from root path for queue. Preview: {'AUDCAD': {'b': '0.8946500000', 'o': '0.8946200000'}, 'AUDCHF': {'b': '0.5223400000', 'o': '0.5222900000'}, 'AUDJPY': {'b': '96.9880000000', 'o': '96.9820000000'}, 'AUDNZD': {'b': '1.0000000000', 'o'
2025-07-16 00:08:03,261 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'AUDCAD': {'b': '0.8946500000', 'o': '0.8946200000'}, 'AUDCHF': {'b': '0.5223400000', 'o': '0.5222900000'}, 'AUDJPY': {'b': '96.9880000000', 'o': '96.9820000000'}, 'AUDNZD': {'b': '1.0000000000', 'o'...
2025-07-16 00:08:03,261 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type put at path /.
2025-07-16 00:08:03,262 - INFO - app - Starting stale cache cleanup task
2025-07-16 00:08:03,761 - DEBUG - app.firebase_stream - Firebase listener triggered (2). Event Type: patch, Path: /. Timestamp: 1752649683.7610588
2025-07-16 00:08:03,761 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0180000000', 'o': '13.0154000000'}, 'XAGUSD': {'b': '37.8820000000', 'o': '37.8770000000'}, 'NZDJPY': {'b': '88.4280000000', 'o': '88.4190000000'}, 'GBPAUD': {'b': '2.0547500000',
2025-07-16 00:08:03,761 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0180000000', 'o': '13.0154000000'}, 'XAGUSD': {'b': '37.8820000000', 'o': '37.8770000000'}, 'NZDJPY': {'b': '88.4280000000', 'o': '88.4190000000'}, 'GBPAUD': {'b': '2.0547500000',...
2025-07-16 00:08:03,761 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:08:06,009 - DEBUG - app.firebase_stream - Firebase listener triggered (3). Event Type: patch, Path: /. Timestamp: 1752649686.009141
2025-07-16 00:08:06,009 - DEBUG - app.firebase_stream - Prepared batch update for 30 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.8830000000', 'o': '37.8780000000'}, 'NZDJPY': {'b': '88.4270000000', 'o': '88.4190000000'}, 'GBPAUD': {'b': '2.0546500000', 'o': '2.0545100000'}, 'USDJPY': {'b': '148.6440000000',
2025-07-16 00:08:06,009 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'XAGUSD': {'b': '37.8830000000', 'o': '37.8780000000'}, 'NZDJPY': {'b': '88.4270000000', 'o': '88.4190000000'}, 'GBPAUD': {'b': '2.0546500000', 'o': '2.0545100000'}, 'USDJPY': {'b': '148.6440000000',...
2025-07-16 00:08:06,009 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:08:07,327 - INFO - app - Cleaned up pending order stream for new trigger price format
2025-07-16 00:08:07,327 - INFO - app - Background tasks initialized
2025-07-16 00:08:08,046 - INFO - app - Service account JWT for 'barclays_service_provider' was generated and pushed to Firebase.
2025-07-16 00:08:08,046 - INFO - app - Application startup completed successfully
2025-07-16 00:08:08,046 - INFO - app - Starting cache validation task
2025-07-16 00:08:08,049 - INFO - app - Starting Barclays pending order margin checker task.
2025-07-16 00:08:08,049 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:08:08,051 - INFO - app - Starting auto-cutoff order monitoring task.
2025-07-16 00:08:08,067 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:08:08,073 - INFO - app - Validating cache for 31 users
2025-07-16 00:08:08,296 - DEBUG - app.firebase_stream - Firebase listener triggered (4). Event Type: patch, Path: /. Timestamp: 1752649688.2966084
2025-07-16 00:08:08,296 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4240000000', 'o': '88.4190000000'}, 'GBPAUD': {'b': '2.0546800000', 'o': '2.0545200000'}, 'USDJPY': {'b': '148.6470000000', 'o': '148.6430000000'}, 'CADCHF': {'b': '0.5838800000',
2025-07-16 00:08:08,297 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 2. Data preview: {'NZDJPY': {'b': '88.4240000000', 'o': '88.4190000000'}, 'GBPAUD': {'b': '2.0546800000', 'o': '2.0545200000'}, 'USDJPY': {'b': '148.6470000000', 'o': '148.6430000000'}, 'CADCHF': {'b': '0.5838800000',...
2025-07-16 00:08:08,297 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:08:09,080 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:08:09,083 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:08:09,371 - INFO - app - Found 23 static orders cache entries to check
2025-07-16 00:08:10,086 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:08:10,088 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:08:10,620 - DEBUG - app.firebase_stream - Firebase listener triggered (5). Event Type: patch, Path: /. Timestamp: 1752649690.6200607
2025-07-16 00:08:10,620 - DEBUG - app.firebase_stream - Prepared batch update for 34 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0179000000', 'o': '13.0153000000'}, 'XAGUSD': {'b': '37.8850000000', 'o': '37.8800000000'}, 'NZDJPY': {'b': '88.4230000000', 'o': '88.4140000000'}, 'GBPAUD': {'b': '2.0546800000',
2025-07-16 00:08:10,620 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 3. Data preview: {'GBPSEK': {'b': '13.0179000000', 'o': '13.0153000000'}, 'XAGUSD': {'b': '37.8850000000', 'o': '37.8800000000'}, 'NZDJPY': {'b': '88.4230000000', 'o': '88.4140000000'}, 'GBPAUD': {'b': '2.0546800000',...
2025-07-16 00:08:10,621 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:08:11,096 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:08:11,099 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:08:11,408 - WARNING - app - User 4: Missing balance/margin cache, refreshing...
2025-07-16 00:08:12,114 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:08:12,118 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:08:13,121 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:08:13,123 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:08:13,172 - DEBUG - app.firebase_stream - Firebase listener triggered (6). Event Type: patch, Path: /. Timestamp: 1752649693.172233
2025-07-16 00:08:13,172 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0177000000', 'o': '13.0151000000'}, 'XAGUSD': {'b': '37.8860000000', 'o': '37.8800000000'}, 'GBPAUD': {'b': '2.0547300000', 'o': '2.0546000000'}, 'USDJPY': {'b': '148.6470000000',
2025-07-16 00:08:13,172 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 3. Data preview: {'GBPSEK': {'b': '13.0177000000', 'o': '13.0151000000'}, 'XAGUSD': {'b': '37.8860000000', 'o': '37.8800000000'}, 'GBPAUD': {'b': '2.0547300000', 'o': '2.0546000000'}, 'USDJPY': {'b': '148.6470000000',...
2025-07-16 00:08:13,172 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:08:14,127 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:08:14,139 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:08:15,147 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:08:15,151 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:08:15,233 - DEBUG - app.firebase_stream - Firebase listener triggered (7). Event Type: patch, Path: /. Timestamp: 1752649695.2339323
2025-07-16 00:08:15,234 - DEBUG - app.firebase_stream - Prepared batch update for 40 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0181000000', 'o': '13.0156100000'}, 'XAGUSD': {'b': '37.8850000000', 'o': '37.8790000000'}, 'NZDJPY': {'b': '88.4330000000', 'o': '88.4250000000'}, 'GBPAUD': {'b': '2.0545900000',
2025-07-16 00:08:15,234 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 3. Data preview: {'GBPSEK': {'b': '13.0181000000', 'o': '13.0156100000'}, 'XAGUSD': {'b': '37.8850000000', 'o': '37.8790000000'}, 'NZDJPY': {'b': '88.4330000000', 'o': '88.4250000000'}, 'GBPAUD': {'b': '2.0545900000',...
2025-07-16 00:08:15,234 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:08:15,458 - WARNING - app - Found stale cache entry for user 2, will be refreshed on next access
2025-07-16 00:08:15,466 - WARNING - app - Found stale cache entry for user 3, will be refreshed on next access
2025-07-16 00:08:15,476 - WARNING - app - Found stale cache entry for user 17, will be refreshed on next access
2025-07-16 00:08:16,155 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:08:16,158 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:08:17,170 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:08:17,174 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:08:17,504 - WARNING - app - Found stale cache entry for user 18, will be refreshed on next access
2025-07-16 00:08:17,525 - DEBUG - app.firebase_stream - Firebase listener triggered (8). Event Type: patch, Path: /. Timestamp: 1752649697.5251853
2025-07-16 00:08:17,526 - DEBUG - app.firebase_stream - Prepared batch update for 30 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0180000000', 'o': '13.0156100000'}, 'NZDJPY': {'b': '88.4290000000', 'o': '88.4210000000'}, 'GBPAUD': {'b': '2.0545800000', 'o': '2.0544100000'}, 'BTCUSD': {'b': '118132.400000000
2025-07-16 00:08:17,527 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0180000000', 'o': '13.0156100000'}, 'NZDJPY': {'b': '88.4290000000', 'o': '88.4210000000'}, 'GBPAUD': {'b': '2.0545800000', 'o': '2.0544100000'}, 'BTCUSD': {'b': '118132.400000000...
2025-07-16 00:08:17,527 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:08:17,534 - WARNING - app - User 5: Missing balance/margin cache, refreshing...
2025-07-16 00:08:17,543 - WARNING - app - Found stale cache entry for user 23, will be refreshed on next access
2025-07-16 00:08:17,553 - WARNING - app - Found stale cache entry for user 19, will be refreshed on next access
2025-07-16 00:08:17,554 - WARNING - app - User 8: Missing balance/margin cache, refreshing...
2025-07-16 00:08:17,563 - WARNING - app - Found stale cache entry for user 8, will be refreshed on next access
2025-07-16 00:08:17,579 - WARNING - app - Found stale cache entry for user 5, will be refreshed on next access
2025-07-16 00:08:17,586 - WARNING - app - Found stale cache entry for user 24, will be refreshed on next access
2025-07-16 00:08:17,594 - WARNING - app - Found stale cache entry for user 13, will be refreshed on next access
2025-07-16 00:08:17,604 - WARNING - app - Found stale cache entry for user 16, will be refreshed on next access
2025-07-16 00:08:17,609 - WARNING - app - Found stale cache entry for user 25, will be refreshed on next access
2025-07-16 00:08:17,616 - WARNING - app - User 9: Missing balance/margin cache, refreshing...
2025-07-16 00:08:17,619 - WARNING - app - Found stale cache entry for user 12, will be refreshed on next access
2025-07-16 00:08:17,638 - WARNING - app - Found stale cache entry for user 21, will be refreshed on next access
2025-07-16 00:08:17,642 - WARNING - app - Found stale cache entry for user 22, will be refreshed on next access
2025-07-16 00:08:17,649 - WARNING - app - Found stale cache entry for user 6, will be refreshed on next access
2025-07-16 00:08:18,178 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:08:18,181 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:08:19,190 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:08:19,192 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:08:19,678 - WARNING - app - User 10: Missing balance/margin cache, refreshing...
2025-07-16 00:08:19,679 - WARNING - app - Found stale cache entry for user 20, will be refreshed on next access
2025-07-16 00:08:19,679 - INFO - app - Completed stale cache cleanup task
2025-07-16 00:08:19,761 - WARNING - app - User 11: Missing balance/margin cache, refreshing...
2025-07-16 00:08:19,841 - DEBUG - app.firebase_stream - Firebase listener triggered (9). Event Type: patch, Path: /. Timestamp: 1752649699.8414822
2025-07-16 00:08:19,842 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.8860000000', 'o': '37.8820000000'}, 'NZDJPY': {'b': '88.4330000000', 'o': '88.4250000000'}, 'USDJPY': {'b': '148.6470000000', 'o': '148.6430000000'}, 'USDCNH': {'b': '7.1810200000
2025-07-16 00:08:19,844 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.8860000000', 'o': '37.8820000000'}, 'NZDJPY': {'b': '88.4330000000', 'o': '88.4250000000'}, 'USDJPY': {'b': '148.6470000000', 'o': '148.6430000000'}, 'USDCNH': {'b': '7.1810200000...
2025-07-16 00:08:19,844 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:08:20,196 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:08:20,199 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:08:21,203 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:08:21,205 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:08:21,877 - WARNING - app - User 12: Missing balance/margin cache, refreshing...
2025-07-16 00:08:21,927 - WARNING - app - User 13: Missing balance/margin cache, refreshing...
2025-07-16 00:08:21,960 - WARNING - app - User 14: Missing balance/margin cache, refreshing...
2025-07-16 00:08:22,127 - DEBUG - app.firebase_stream - Firebase listener triggered (10). Event Type: patch, Path: /. Timestamp: 1752649702.1277564
2025-07-16 00:08:22,128 - DEBUG - app.firebase_stream - Prepared batch update for 25 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0182000000', 'o': '13.0156100000'}, 'XAGUSD': {'b': '37.8860000000', 'o': '37.8810000000'}, 'NZDJPY': {'b': '88.4310000000', 'o': '88.4260000000'}, 'USDJPY': {'b': '148.6460000000
2025-07-16 00:08:22,128 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0182000000', 'o': '13.0156100000'}, 'XAGUSD': {'b': '37.8860000000', 'o': '37.8810000000'}, 'NZDJPY': {'b': '88.4310000000', 'o': '88.4260000000'}, 'USDJPY': {'b': '148.6460000000...
2025-07-16 00:08:22,128 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:08:22,213 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:08:22,215 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:08:23,060 - INFO - app - Starting stale cache cleanup task
2025-07-16 00:08:23,219 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:08:23,221 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:08:24,012 - INFO - app - Found 23 static orders cache entries to check
2025-07-16 00:08:24,021 - WARNING - app - Found stale cache entry for user 2, will be refreshed on next access
2025-07-16 00:08:24,036 - WARNING - app - Found stale cache entry for user 3, will be refreshed on next access
2025-07-16 00:08:24,037 - WARNING - app - User 16: Missing balance/margin cache, refreshing...
2025-07-16 00:08:24,052 - WARNING - app - Found stale cache entry for user 17, will be refreshed on next access
2025-07-16 00:08:24,056 - WARNING - app - Found stale cache entry for user 18, will be refreshed on next access
2025-07-16 00:08:24,064 - WARNING - app - Found stale cache entry for user 23, will be refreshed on next access
2025-07-16 00:08:24,066 - WARNING - app - Found stale cache entry for user 19, will be refreshed on next access
2025-07-16 00:08:24,070 - WARNING - app - Found stale cache entry for user 8, will be refreshed on next access
2025-07-16 00:08:24,072 - WARNING - app - Found stale cache entry for user 5, will be refreshed on next access
2025-07-16 00:08:24,073 - WARNING - app - User 17: Missing balance/margin cache, refreshing...
2025-07-16 00:08:24,074 - WARNING - app - Found stale cache entry for user 24, will be refreshed on next access
2025-07-16 00:08:24,077 - WARNING - app - Found stale cache entry for user 13, will be refreshed on next access
2025-07-16 00:08:24,078 - WARNING - app - Found stale cache entry for user 16, will be refreshed on next access
2025-07-16 00:08:24,082 - WARNING - app - Found stale cache entry for user 25, will be refreshed on next access
2025-07-16 00:08:24,086 - WARNING - app - Found stale cache entry for user 12, will be refreshed on next access
2025-07-16 00:08:24,236 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:08:24,239 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:08:24,448 - DEBUG - app.firebase_stream - Firebase listener triggered (11). Event Type: patch, Path: /. Timestamp: 1752649704.448028
2025-07-16 00:08:24,448 - DEBUG - app.firebase_stream - Prepared batch update for 36 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0183000000', 'o': '13.0157000000'}, 'XAGUSD': {'b': '37.8790000000', 'o': '37.8750000000'}, 'NZDJPY': {'b': '88.4300000000', 'o': '88.4210000000'}, 'GBPAUD': {'b': '2.0546100000',
2025-07-16 00:08:24,449 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0183000000', 'o': '13.0157000000'}, 'XAGUSD': {'b': '37.8790000000', 'o': '37.8750000000'}, 'NZDJPY': {'b': '88.4300000000', 'o': '88.4210000000'}, 'GBPAUD': {'b': '2.0546100000',...
2025-07-16 00:08:24,449 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:08:25,244 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:08:25,248 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:08:26,138 - WARNING - app - Found stale cache entry for user 21, will be refreshed on next access
2025-07-16 00:08:26,149 - WARNING - app - Found stale cache entry for user 22, will be refreshed on next access
2025-07-16 00:08:26,151 - WARNING - app - User 18: Missing balance/margin cache, refreshing...
2025-07-16 00:08:26,182 - WARNING - app - Found stale cache entry for user 6, will be refreshed on next access
2025-07-16 00:08:26,195 - WARNING - app - Found stale cache entry for user 20, will be refreshed on next access
2025-07-16 00:08:26,195 - INFO - app - Completed stale cache cleanup task
2025-07-16 00:08:26,223 - WARNING - app - User 19: Missing balance/margin cache, refreshing...
2025-07-16 00:08:26,255 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:08:26,267 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:08:26,268 - WARNING - app - User 20: Missing balance/margin cache, refreshing...
2025-07-16 00:08:26,304 - WARNING - app - User 21: Missing balance/margin cache, refreshing...
2025-07-16 00:08:26,334 - WARNING - app - User 22: Missing balance/margin cache, refreshing...
2025-07-16 00:08:26,349 - WARNING - app - User 23: Missing balance/margin cache, refreshing...
2025-07-16 00:08:26,359 - WARNING - app - User 24: Missing balance/margin cache, refreshing...
2025-07-16 00:08:26,401 - WARNING - app - User 25: Missing balance/margin cache, refreshing...
2025-07-16 00:08:26,432 - WARNING - app - User 26: Missing balance/margin cache, refreshing...
2025-07-16 00:08:26,468 - WARNING - app - User 1: Missing balance/margin cache, refreshing...
2025-07-16 00:08:26,523 - WARNING - app - User 2: Missing balance/margin cache, refreshing...
2025-07-16 00:08:26,552 - WARNING - app - User 3: Missing balance/margin cache, refreshing...
2025-07-16 00:08:26,589 - WARNING - app - User 5: Missing balance/margin cache, refreshing...
2025-07-16 00:08:26,620 - WARNING - app - User 6: Missing balance/margin cache, refreshing...
2025-07-16 00:08:26,653 - INFO - app - Cache validation completed
2025-07-16 00:08:26,825 - DEBUG - app.firebase_stream - Firebase listener triggered (12). Event Type: patch, Path: /. Timestamp: 1752649706.8254988
2025-07-16 00:08:26,826 - DEBUG - app.firebase_stream - Prepared batch update for 38 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0226000000', 'o': '13.0202800000'}, 'GBPAUD': {'b': '2.0545600000', 'o': '2.0544400000'}, 'BTCUSD': {'b': '118121.5800000000', 'o': '118121.5800000000'}, 'USDJPY': {'b': '148.6460
2025-07-16 00:08:26,827 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0226000000', 'o': '13.0202800000'}, 'GBPAUD': {'b': '2.0545600000', 'o': '2.0544400000'}, 'BTCUSD': {'b': '118121.5800000000', 'o': '118121.5800000000'}, 'USDJPY': {'b': '148.6460...
2025-07-16 00:08:26,828 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:08:27,285 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:08:27,288 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:08:27,894 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-07-16 00:08:27,935 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-07-16 00:08:27,964 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-07-16 00:08:27,972 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-07-16 00:08:27,999 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-07-16 00:08:28,008 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-07-16 00:08:28,139 - INFO - app.core.config - .env file loaded successfully.
2025-07-16 00:08:28,163 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-07-16 00:08:28,163 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-07-16 00:08:28,168 - INFO - app.core.config - .env file loaded successfully.
2025-07-16 00:08:28,181 - INFO - app.core.config - .env file loaded successfully.
2025-07-16 00:08:28,190 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-07-16 00:08:28,190 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-07-16 00:08:28,201 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-07-16 00:08:28,201 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-07-16 00:08:28,212 - INFO - app.core.config - .env file loaded successfully.
2025-07-16 00:08:28,227 - INFO - app.core.config - .env file loaded successfully.
2025-07-16 00:08:28,229 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-07-16 00:08:28,229 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-07-16 00:08:28,241 - INFO - app.core.config - .env file loaded successfully.
2025-07-16 00:08:28,243 - INFO - app.core.config - .env file loaded successfully.
2025-07-16 00:08:28,247 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-07-16 00:08:28,247 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-07-16 00:08:28,256 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-07-16 00:08:28,256 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-07-16 00:08:28,257 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-07-16 00:08:28,259 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-07-16 00:08:28,291 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:08:28,293 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:08:29,065 - DEBUG - app.firebase_stream - Firebase listener triggered (13). Event Type: patch, Path: /. Timestamp: 1752649709.0649798
2025-07-16 00:08:29,065 - DEBUG - app.firebase_stream - Prepared batch update for 35 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0229000000', 'o': '13.0203000000'}, 'XAGUSD': {'b': '37.8760000000', 'o': '37.8730000000'}, 'GBPAUD': {'b': '2.0545700000', 'o': '2.0544000000'}, 'BTCUSD': {'b': '118108.200000000
2025-07-16 00:08:29,066 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0229000000', 'o': '13.0203000000'}, 'XAGUSD': {'b': '37.8760000000', 'o': '37.8730000000'}, 'GBPAUD': {'b': '2.0545700000', 'o': '2.0544000000'}, 'BTCUSD': {'b': '118108.200000000...
2025-07-16 00:08:29,067 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:08:29,295 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:08:29,298 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:08:30,300 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:08:30,303 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:08:31,315 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:08:31,319 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:08:31,413 - DEBUG - app.firebase_stream - Firebase listener triggered (14). Event Type: patch, Path: /. Timestamp: 1752649711.413239
2025-07-16 00:08:31,414 - DEBUG - app.firebase_stream - Prepared batch update for 24 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0230000000', 'o': '13.0204000000'}, 'GBPAUD': {'b': '2.0545700000', 'o': '2.0544100000'}, 'BTCUSD': {'b': '118123.8000000000', 'o': '118123.7000000000'}, 'USDCNH': {'b': '7.181020
2025-07-16 00:08:31,415 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0230000000', 'o': '13.0204000000'}, 'GBPAUD': {'b': '2.0545700000', 'o': '2.0544100000'}, 'BTCUSD': {'b': '118123.8000000000', 'o': '118123.7000000000'}, 'USDCNH': {'b': '7.181020...
2025-07-16 00:08:31,424 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:08:32,335 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:08:32,338 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:08:33,343 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:08:33,347 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:08:33,680 - DEBUG - app.firebase_stream - Firebase listener triggered (15). Event Type: patch, Path: /. Timestamp: 1752649713.6808789
2025-07-16 00:08:33,681 - DEBUG - app.firebase_stream - Prepared batch update for 35 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0180000000', 'o': '13.0154000000'}, 'XAGUSD': {'b': '37.8710000000', 'o': '37.8660000000'}, 'NZDJPY': {'b': '88.4260000000', 'o': '88.4200000000'}, 'GBPAUD': {'b': '2.0546400000',
2025-07-16 00:08:33,682 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0180000000', 'o': '13.0154000000'}, 'XAGUSD': {'b': '37.8710000000', 'o': '37.8660000000'}, 'NZDJPY': {'b': '88.4260000000', 'o': '88.4200000000'}, 'GBPAUD': {'b': '2.0546400000',...
2025-07-16 00:08:33,684 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:08:34,350 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:08:34,355 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:08:35,368 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:08:35,372 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:08:36,038 - DEBUG - app.firebase_stream - Firebase listener triggered (16). Event Type: patch, Path: /. Timestamp: 1752649716.0381799
2025-07-16 00:08:36,038 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4260000000', 'o': '88.4210000000'}, 'GBPAUD': {'b': '2.0545200000', 'o': '2.0544000000'}, 'BTCUSD': {'b': '118123.8000000000', 'o': '118123.7000000000'}, 'USDJPY': {'b': '148.6490
2025-07-16 00:08:36,039 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4260000000', 'o': '88.4210000000'}, 'GBPAUD': {'b': '2.0545200000', 'o': '2.0544000000'}, 'BTCUSD': {'b': '118123.8000000000', 'o': '118123.7000000000'}, 'USDJPY': {'b': '148.6490...
2025-07-16 00:08:36,039 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:08:36,383 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:08:36,388 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:08:37,393 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:08:37,395 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:08:38,373 - DEBUG - app.firebase_stream - Firebase listener triggered (17). Event Type: patch, Path: /. Timestamp: 1752649718.3736708
2025-07-16 00:08:38,374 - DEBUG - app.firebase_stream - Prepared batch update for 36 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0233000000', 'o': '13.0207000000'}, 'NZDJPY': {'b': '88.4330000000', 'o': '88.4260000000'}, 'GBPAUD': {'b': '2.0545700000', 'o': '2.0544200000'}, 'USDJPY': {'b': '148.6470000000',
2025-07-16 00:08:38,374 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0233000000', 'o': '13.0207000000'}, 'NZDJPY': {'b': '88.4330000000', 'o': '88.4260000000'}, 'GBPAUD': {'b': '2.0545700000', 'o': '2.0544200000'}, 'USDJPY': {'b': '148.6470000000',...
2025-07-16 00:08:38,375 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:08:38,405 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:08:38,415 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:08:39,429 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:08:39,431 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:08:40,435 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:08:40,437 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:08:40,638 - DEBUG - app.firebase_stream - Firebase listener triggered (18). Event Type: patch, Path: /. Timestamp: 1752649720.638507
2025-07-16 00:08:40,639 - DEBUG - app.firebase_stream - Prepared batch update for 34 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0232000000', 'o': '13.0207200000'}, 'XAGUSD': {'b': '37.8730000000', 'o': '37.8700000000'}, 'NZDJPY': {'b': '88.4340000000', 'o': '88.4260000000'}, 'GBPAUD': {'b': '2.0544700000',
2025-07-16 00:08:40,639 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0232000000', 'o': '13.0207200000'}, 'XAGUSD': {'b': '37.8730000000', 'o': '37.8700000000'}, 'NZDJPY': {'b': '88.4340000000', 'o': '88.4260000000'}, 'GBPAUD': {'b': '2.0544700000',...
2025-07-16 00:08:40,640 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:08:41,438 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:08:41,442 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:08:42,451 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:08:42,456 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:08:42,995 - DEBUG - app.firebase_stream - Firebase listener triggered (19). Event Type: patch, Path: /. Timestamp: 1752649722.9954708
2025-07-16 00:08:42,996 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0177000000', 'o': '13.0151000000'}, 'XAGUSD': {'b': '37.8860000000', 'o': '37.8800000000'}, 'NZDJPY': {'b': '88.4360000000', 'o': '88.4290000000'}, 'GBPAUD': {'b': '2.0544700000',
2025-07-16 00:08:42,998 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0177000000', 'o': '13.0151000000'}, 'XAGUSD': {'b': '37.8860000000', 'o': '37.8800000000'}, 'NZDJPY': {'b': '88.4360000000', 'o': '88.4290000000'}, 'GBPAUD': {'b': '2.0544700000',...
2025-07-16 00:08:43,001 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:08:43,459 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:08:43,463 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:08:44,479 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:08:44,483 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:08:45,255 - DEBUG - app.firebase_stream - Firebase listener triggered (20). Event Type: patch, Path: /. Timestamp: 1752649725.2558906
2025-07-16 00:08:45,256 - DEBUG - app.firebase_stream - Prepared batch update for 36 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0237000000', 'o': '13.0211000000'}, 'XAGUSD': {'b': '37.8750000000', 'o': '37.8700000000'}, 'NZDJPY': {'b': '88.4360000000', 'o': '88.4280000000'}, 'GBPAUD': {'b': '2.0545700000',
2025-07-16 00:08:45,256 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0237000000', 'o': '13.0211000000'}, 'XAGUSD': {'b': '37.8750000000', 'o': '37.8700000000'}, 'NZDJPY': {'b': '88.4360000000', 'o': '88.4280000000'}, 'GBPAUD': {'b': '2.0545700000',...
2025-07-16 00:08:45,257 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:08:45,492 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:08:45,495 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:08:46,497 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:08:46,500 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:08:47,503 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:08:47,506 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:08:47,597 - DEBUG - app.firebase_stream - Firebase listener triggered (21). Event Type: patch, Path: /. Timestamp: 1752649727.5978642
2025-07-16 00:08:47,598 - DEBUG - app.firebase_stream - Prepared batch update for 35 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0222000000', 'o': '13.0196000000'}, 'XAGUSD': {'b': '37.8860000000', 'o': '37.8820000000'}, 'NZDJPY': {'b': '88.4360000000', 'o': '88.4290000000'}, 'GBPAUD': {'b': '2.0545400000',
2025-07-16 00:08:47,599 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0222000000', 'o': '13.0196000000'}, 'XAGUSD': {'b': '37.8860000000', 'o': '37.8820000000'}, 'NZDJPY': {'b': '88.4360000000', 'o': '88.4290000000'}, 'GBPAUD': {'b': '2.0545400000',...
2025-07-16 00:08:47,599 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:08:48,514 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:08:48,518 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:08:49,520 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:08:49,522 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:08:49,837 - DEBUG - app.firebase_stream - Firebase listener triggered (22). Event Type: patch, Path: /. Timestamp: 1752649729.8371704
2025-07-16 00:08:49,837 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.8750000000', 'o': '37.8700000000'}, 'NZDJPY': {'b': '88.4350000000', 'o': '88.4270000000'}, 'GBPAUD': {'b': '2.0545600000', 'o': '2.0544300000'}, 'USDJPY': {'b': '148.6480000000',
2025-07-16 00:08:49,838 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.8750000000', 'o': '37.8700000000'}, 'NZDJPY': {'b': '88.4350000000', 'o': '88.4270000000'}, 'GBPAUD': {'b': '2.0545600000', 'o': '2.0544300000'}, 'USDJPY': {'b': '148.6480000000',...
2025-07-16 00:08:49,840 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:08:50,524 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:08:50,528 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:08:51,531 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:08:51,534 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:08:52,209 - DEBUG - app.firebase_stream - Firebase listener triggered (23). Event Type: patch, Path: /. Timestamp: 1752649732.2098732
2025-07-16 00:08:52,210 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4370000000', 'o': '88.4280000000'}, 'GBPAUD': {'b': '2.0546100000', 'o': '2.0545900000'}, 'USDJPY': {'b': '148.6450000000', 'o': '148.6420000000'}, 'USDCNH': {'b': '7.1806500000',
2025-07-16 00:08:52,210 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4370000000', 'o': '88.4280000000'}, 'GBPAUD': {'b': '2.0546100000', 'o': '2.0545900000'}, 'USDJPY': {'b': '148.6450000000', 'o': '148.6420000000'}, 'USDCNH': {'b': '7.1806500000',...
2025-07-16 00:08:52,210 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:08:52,537 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:08:52,541 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:08:53,559 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:08:53,564 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:08:54,460 - DEBUG - app.firebase_stream - Firebase listener triggered (24). Event Type: patch, Path: /. Timestamp: 1752649734.460733
2025-07-16 00:08:54,461 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0235000000', 'o': '13.0209000000'}, 'NZDJPY': {'b': '88.4390000000', 'o': '88.4320000000'}, 'GBPAUD': {'b': '2.0547100000', 'o': '2.0545700000'}, 'USDJPY': {'b': '148.6450000000',
2025-07-16 00:08:54,461 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0235000000', 'o': '13.0209000000'}, 'NZDJPY': {'b': '88.4390000000', 'o': '88.4320000000'}, 'GBPAUD': {'b': '2.0547100000', 'o': '2.0545700000'}, 'USDJPY': {'b': '148.6450000000',...
2025-07-16 00:08:54,462 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:08:54,566 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:08:54,570 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:08:55,581 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:08:55,584 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:08:56,587 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:08:56,595 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:08:56,748 - DEBUG - app.firebase_stream - Firebase listener triggered (25). Event Type: patch, Path: /. Timestamp: 1752649736.7486682
2025-07-16 00:08:56,749 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0234000000', 'o': '13.0208000000'}, 'NZDJPY': {'b': '88.4390000000', 'o': '88.4310000000'}, 'GBPAUD': {'b': '2.0545600000', 'o': '2.0544200000'}, 'BTCUSD': {'b': '118124.100000000
2025-07-16 00:08:56,749 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0234000000', 'o': '13.0208000000'}, 'NZDJPY': {'b': '88.4390000000', 'o': '88.4310000000'}, 'GBPAUD': {'b': '2.0545600000', 'o': '2.0544200000'}, 'BTCUSD': {'b': '118124.100000000...
2025-07-16 00:08:56,750 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:08:57,609 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:08:57,613 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:08:58,615 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:08:58,619 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:08:59,036 - DEBUG - app.firebase_stream - Firebase listener triggered (26). Event Type: patch, Path: /. Timestamp: 1752649739.0365977
2025-07-16 00:08:59,037 - DEBUG - app.firebase_stream - Prepared batch update for 26 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0229000000', 'o': '13.0203000000'}, 'XAGUSD': {'b': '37.8810000000', 'o': '37.8760000000'}, 'GBPAUD': {'b': '2.0546900000', 'o': '2.0545400000'}, 'USDCNH': {'b': '7.1805200000', '
2025-07-16 00:08:59,048 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0229000000', 'o': '13.0203000000'}, 'XAGUSD': {'b': '37.8810000000', 'o': '37.8760000000'}, 'GBPAUD': {'b': '2.0546900000', 'o': '2.0545400000'}, 'USDCNH': {'b': '7.1805200000', '...
2025-07-16 00:08:59,049 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:08:59,629 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:08:59,633 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:00,641 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:00,645 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:01,406 - DEBUG - app.firebase_stream - Firebase listener triggered (27). Event Type: patch, Path: /. Timestamp: 1752649741.4062035
2025-07-16 00:09:01,407 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.8820000000', 'o': '37.8760000000'}, 'NZDJPY': {'b': '88.4390000000', 'o': '88.4320000000'}, 'GBPAUD': {'b': '2.0547000000', 'o': '2.0545400000'}, 'BTCUSD': {'b': '118077.600000000
2025-07-16 00:09:01,412 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.8820000000', 'o': '37.8760000000'}, 'NZDJPY': {'b': '88.4390000000', 'o': '88.4320000000'}, 'GBPAUD': {'b': '2.0547000000', 'o': '2.0545400000'}, 'BTCUSD': {'b': '118077.600000000...
2025-07-16 00:09:01,412 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:09:01,650 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:01,653 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:02,170 - WARNING - app - User 4 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:09:02,176 - WARNING - app - No user data found for user 5 (live). Skipping portfolio update.
2025-07-16 00:09:02,188 - WARNING - app - No group settings found for group string. Skipping portfolio update for user 8.
2025-07-16 00:09:02,224 - WARNING - app - User 9 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:09:02,254 - WARNING - app - User 10 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:09:02,276 - WARNING - app - User 11 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:09:02,297 - WARNING - app - User 12 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:09:02,318 - WARNING - app - User 13 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:09:02,727 - DEBUG - app.services.portfolio_calculator - Position calculation for BTCUSD: Type=BUY, Entry=118908.50000000, Current=118027.5, Quantity=0.40000000, Contract Size=1.00000000, PnL=-352.400000000000000000000000, PnL USD=-352.400000000000000000000000, Commission=235.57000000, Final PnL=-587.970000000000000000000000
2025-07-16 00:09:02,727 - WARNING - app.services.portfolio_calculator - MARGIN CALL ALERT: User has margin level 98.84661876122949506141001599% which is below threshold 100.0%
2025-07-16 00:09:02,728 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:02,731 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:02,760 - WARNING - app - User 16 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:09:02,787 - WARNING - app - User 17 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:09:02,809 - WARNING - app - User 18 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:09:02,830 - WARNING - app - User 19 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:09:02,849 - WARNING - app - User 20 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:09:02,873 - WARNING - app - User 21 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:09:02,888 - WARNING - app - User 22 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:09:02,906 - WARNING - app - User 23 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:09:02,924 - WARNING - app - User 24 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:09:02,938 - WARNING - app - User 25 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:09:03,339 - DEBUG - app.services.portfolio_calculator - Position calculation for XAGUSD: Type=BUY, Entry=41.09800000, Current=37.863499999999995, Quantity=0.01000000, Contract Size=5000.00000000, PnL=-161.7250000000002500000000000, PnL USD=-161.7250000000002500000000000, Commission=0.10000000, Final PnL=-161.8250000000002500000000000
2025-07-16 00:09:03,339 - DEBUG - app.services.portfolio_calculator - Position calculation for BTCUSD: Type=BUY, Entry=132091.90000000, Current=118027.5, Quantity=6.00000000, Contract Size=1.00000000, PnL=-84386.40000000000000000000000, PnL USD=-84386.40000000000000000000000, Commission=3661.62000000, Final PnL=-88048.02000000000000000000000
2025-07-16 00:09:03,339 - WARNING - app.services.portfolio_calculator - MARGIN CALL ALERT: User has margin level 65.62877621088433453047957917% which is below threshold 100.0%
2025-07-16 00:09:03,670 - DEBUG - app.firebase_stream - Firebase listener triggered (28). Event Type: patch, Path: /. Timestamp: 1752649743.6699922
2025-07-16 00:09:03,670 - DEBUG - app.firebase_stream - Prepared batch update for 26 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4320000000', 'o': '88.4250000000'}, 'GBPAUD': {'b': '2.0545200000', 'o': '2.0544000000'}, 'BTCUSD': {'b': '118087.5200000000', 'o': '118087.5200000000'}, 'USDJPY': {'b': '148.6340
2025-07-16 00:09:03,671 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4320000000', 'o': '88.4250000000'}, 'GBPAUD': {'b': '2.0545200000', 'o': '2.0544000000'}, 'BTCUSD': {'b': '118087.5200000000', 'o': '118087.5200000000'}, 'USDJPY': {'b': '148.6340...
2025-07-16 00:09:03,671 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:09:03,702 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=96.66800000, Current=96.946, Quantity=0.01000000, Contract Size=100000.00000000, PnL=278.000000000000000000000000, PnL USD=1.870366134262685522827885948, Commission=0.10000000, Final PnL=1.770366134262685522827885948
2025-07-16 00:09:03,706 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=96.56000000, Current=97.05199999999999, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-491.9999999999900000000000000, PnL USD=-3.310144381500800624352436186, Commission=0.10000000, Final PnL=-3.410144381500800624352436186
2025-07-16 00:09:03,730 - WARNING - app - User 2 has no group_name set. Skipping portfolio update.
2025-07-16 00:09:03,739 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:03,747 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:03,777 - WARNING - app - No group settings found for group string. Skipping portfolio update for user 3.
2025-07-16 00:09:03,825 - WARNING - app - User 4 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:09:03,826 - WARNING - app - User 5 has no group_name set. Skipping portfolio update.
2025-07-16 00:09:03,826 - WARNING - app - User 6 has no group_name set. Skipping portfolio update.
2025-07-16 00:09:04,264 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64743000, Current=0.65242, Quantity=0.10000000, Contract Size=100000.00000000, PnL=49.900000000000000000000000, PnL USD=49.900000000000000000000000, Commission=1.00000000, Final PnL=48.900000000000000000000000
2025-07-16 00:09:04,265 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=SELL, Entry=0.64707000, Current=0.65272, Quantity=0.22000000, Contract Size=100000.00000000, PnL=-124.300000000000000000000000, PnL USD=-124.300000000000000000000000, Commission=2.20000000, Final PnL=-126.500000000000000000000000
2025-07-16 00:09:04,266 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFSGD: Type=BUY, Entry=1.57561500, Current=1.603865, Quantity=0.10000000, Contract Size=100000.00000000, PnL=282.500000000000000000000000, PnL USD=220.0001557523226565116152295, Commission=1.00000000, Final PnL=219.0001557523226565116152295
2025-07-16 00:09:04,268 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFSGD: Type=SELL, Entry=1.57505500, Current=1.604345, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-292.900000000000000000000000, PnL USD=-228.0992765304612605035472591, Commission=1.00000000, Final PnL=-229.0992765304612605035472591
2025-07-16 00:09:04,269 - DEBUG - app.services.portfolio_calculator - Position calculation for CADJPY: Type=SELL, Entry=106.24150000, Current=108.4255, Quantity=0.15000000, Contract Size=100000.00000000, PnL=-32760.00000000000000000000000, PnL USD=-220.4071746706675457836026750, Commission=0E-8, Final PnL=-220.4071746706675457836026750
2025-07-16 00:09:04,270 - DEBUG - app.services.portfolio_calculator - Position calculation for CADJPY: Type=BUY, Entry=106.27050000, Current=108.3945, Quantity=0.15000000, Contract Size=100000.00000000, PnL=31860.00000000000000000000000, PnL USD=214.3520325093854703499872169, Commission=0E-8, Final PnL=214.3520325093854703499872169
2025-07-16 00:09:04,270 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=BUY, Entry=1.77481000, Current=1.78148, Quantity=0.22000000, Contract Size=100000.00000000, PnL=146.740000000000000000000000, PnL USD=95.75812180000000000000000000, Commission=2.20000000, Final PnL=93.55812180000000000000000000
2025-07-16 00:09:04,270 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=SELL, Entry=1.77439000, Current=1.7818900000000002, Quantity=0.21000000, Contract Size=100000.00000000, PnL=-157.5000000000042000000000000, PnL USD=-102.7797750000027407940000000, Commission=2.10000000, Final PnL=-104.8797750000027407940000000
2025-07-16 00:09:04,272 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFJPY: Type=BUY, Entry=178.15500000, Current=185.655, Quantity=0.10000000, Contract Size=100000.00000000, PnL=75000.00000000000000000000000, PnL USD=504.5951801068396194679548421, Commission=1.00000000, Final PnL=503.5951801068396194679548421
2025-07-16 00:09:04,273 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFJPY: Type=SELL, Entry=178.09500000, Current=185.70499999999998, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-76099.99999999980000000000000, PnL USD=-511.9959094150719216330045615, Commission=1.00000000, Final PnL=-512.9959094150719216330045615
2025-07-16 00:09:04,274 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=BUY, Entry=1.77480000, Current=1.78148, Quantity=0.05000000, Contract Size=100000.00000000, PnL=33.400000000000000000000000, PnL USD=21.79583800000000000000000000, Commission=0.50000000, Final PnL=21.29583800000000000000000000
2025-07-16 00:09:04,274 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=SELL, Entry=1.77442000, Current=1.7818900000000002, Quantity=0.05000000, Contract Size=100000.00000000, PnL=-37.35000000000100000000000000, PnL USD=-24.37348950000065257000000000, Commission=0.50000000, Final PnL=-24.87348950000065257000000000
2025-07-16 00:09:04,274 - DEBUG - app.services.portfolio_calculator - Position calculation for EURGBP: Type=SELL, Entry=0.85403000, Current=0.8673, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-132.700000000000000000000000, PnL USD=-177.9241600000000000000000000, Commission=1.00000000, Final PnL=-178.9241600000000000000000000
2025-07-16 00:09:04,275 - DEBUG - app.services.portfolio_calculator - Position calculation for EURJPY: Type=BUY, Entry=167.26050000, Current=172.8005, Quantity=0.10000000, Contract Size=100000.00000000, PnL=55400.00000000000000000000000, PnL USD=372.7276397055855322469959767, Commission=1.00000000, Final PnL=371.7276397055855322469959767
2025-07-16 00:09:04,276 - DEBUG - app.services.portfolio_calculator - Position calculation for EURJPY: Type=SELL, Entry=167.23150000, Current=172.82549999999998, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-55939.99999999980000000000000, PnL USD=-376.3607250023534319200183000, Commission=1.00000000, Final PnL=-377.3607250023534319200183000
2025-07-16 00:09:04,276 - DEBUG - app.services.portfolio_calculator - Position calculation for EURNZD: Type=SELL, Entry=1.91952500, Current=1.954385, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-348.600000000000000000000000, PnL USD=-207.4065420000000000000000000, Commission=1.00000000, Final PnL=-208.4065420000000000000000000
2025-07-16 00:09:04,277 - DEBUG - app.services.portfolio_calculator - Position calculation for EURNZD: Type=BUY, Entry=1.92063500, Current=1.953975, Quantity=0.10000000, Contract Size=100000.00000000, PnL=333.400000000000000000000000, PnL USD=198.3629980000000000000000000, Commission=1.00000000, Final PnL=197.3629980000000000000000000
2025-07-16 00:09:04,277 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=SELL, Entry=1.34376000, Current=1.3409, Quantity=0.25000000, Contract Size=0E-8, PnL=0E-24, PnL USD=0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:09:04,277 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=SELL, Entry=1.34361000, Current=1.3409, Quantity=0.25000000, Contract Size=0E-8, PnL=0E-24, PnL USD=0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:09:04,277 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=BUY, Entry=1.34379000, Current=1.34069, Quantity=0.25000000, Contract Size=0E-8, PnL=-0E-24, PnL USD=-0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:09:04,277 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=BUY, Entry=1.34378000, Current=1.34069, Quantity=0.25000000, Contract Size=0E-8, PnL=-0E-24, PnL USD=-0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:09:04,278 - DEBUG - app.services.portfolio_calculator - Position calculation for NZDJPY: Type=BUY, Entry=87.10150000, Current=88.4195, Quantity=0.01000000, Contract Size=100000.00000000, PnL=1318.000000000000000000000000, PnL USD=8.867419298410861579450193092, Commission=0.10000000, Final PnL=8.767419298410861579450193092
2025-07-16 00:09:04,280 - DEBUG - app.services.portfolio_calculator - Position calculation for USDCHF: Type=SELL, Entry=0.81771000, Current=0.80057, Quantity=0.15000000, Contract Size=100000.00000000, PnL=257.100000000000000000000000, PnL USD=321.2063666575048099747632493, Commission=1.50000000, Final PnL=319.7063666575048099747632493
2025-07-16 00:09:04,281 - DEBUG - app.services.portfolio_calculator - Position calculation for USDCHF: Type=BUY, Entry=0.81805000, Current=0.80026, Quantity=0.15000000, Contract Size=100000.00000000, PnL=-266.850000000000000000000000, PnL USD=-333.3874715774218535268983784, Commission=1.50000000, Final PnL=-334.8874715774218535268983784
2025-07-16 00:09:04,283 - DEBUG - app.services.portfolio_calculator - Position calculation for USDNOK: Type=BUY, Entry=10.04973000, Current=10.24564, Quantity=0.10000000, Contract Size=100000.00000000, PnL=1959.100000000000000000000000, PnL USD=191.1816943356897218004317226, Commission=1.00000000, Final PnL=190.1816943356897218004317226
2025-07-16 00:09:04,284 - DEBUG - app.services.portfolio_calculator - Position calculation for USDNOK: Type=BUY, Entry=10.05023000, Current=10.24564, Quantity=0.10000000, Contract Size=100000.00000000, PnL=1954.100000000000000000000000, PnL USD=190.6937618811552679139521358, Commission=1.00000000, Final PnL=189.6937618811552679139521358
2025-07-16 00:09:04,285 - DEBUG - app.services.portfolio_calculator - Position calculation for USDSGD: Type=SELL, Entry=1.28795000, Current=1.2842500000000001, Quantity=0.31000000, Contract Size=100000.00000000, PnL=114.6999999999969000000000000, PnL USD=89.32395704350699717309534378, Commission=3.10000000, Final PnL=86.22395704350699717309534378
2025-07-16 00:09:04,287 - DEBUG - app.services.portfolio_calculator - Position calculation for USDTRY: Type=SELL, Entry=39.56087000, Current=40.25183, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-6909.600000000000000000000000, PnL USD=-171.6589349424660842181153640, Commission=1.00000000, Final PnL=-172.6589349424660842181153640
2025-07-16 00:09:04,758 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:04,760 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:05,066 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.89752000, Current=0.89473, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-2.790000000000000000000000, PnL USD=-2.034773476472475859855888445, Commission=0.10000000, Final PnL=-2.134773476472475859855888445
2025-07-16 00:09:05,098 - WARNING - app - User 12 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:09:05,122 - WARNING - app - User 13 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:09:05,764 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:05,766 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:06,028 - DEBUG - app.firebase_stream - Firebase listener triggered (29). Event Type: patch, Path: /. Timestamp: 1752649746.0288067
2025-07-16 00:09:06,029 - DEBUG - app.firebase_stream - Prepared batch update for 38 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0234000000', 'o': '13.0208000000'}, 'XAGUSD': {'b': '37.8780000000', 'o': '37.8720000000'}, 'NZDJPY': {'b': '88.4340000000', 'o': '88.4270000000'}, 'GBPAUD': {'b': '2.0547300000',
2025-07-16 00:09:06,029 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0234000000', 'o': '13.0208000000'}, 'XAGUSD': {'b': '37.8780000000', 'o': '37.8720000000'}, 'NZDJPY': {'b': '88.4340000000', 'o': '88.4270000000'}, 'GBPAUD': {'b': '2.0547300000',...
2025-07-16 00:09:06,030 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:09:06,772 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:06,776 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:07,788 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:07,793 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:08,285 - DEBUG - app.firebase_stream - Firebase listener triggered (30). Event Type: patch, Path: /. Timestamp: 1752649748.285775
2025-07-16 00:09:08,286 - DEBUG - app.firebase_stream - Prepared batch update for 30 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0235000000', 'o': '13.0209000000'}, 'XAGUSD': {'b': '37.8760000000', 'o': '37.8710000000'}, 'NZDJPY': {'b': '88.4340000000', 'o': '88.4290000000'}, 'GBPAUD': {'b': '2.0547900000',
2025-07-16 00:09:08,287 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0235000000', 'o': '13.0209000000'}, 'XAGUSD': {'b': '37.8760000000', 'o': '37.8710000000'}, 'NZDJPY': {'b': '88.4340000000', 'o': '88.4290000000'}, 'GBPAUD': {'b': '2.0547900000',...
2025-07-16 00:09:08,293 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:09:08,799 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:08,803 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:09,813 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:09,817 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:10,643 - DEBUG - app.firebase_stream - Firebase listener triggered (31). Event Type: patch, Path: /. Timestamp: 1752649750.6432965
2025-07-16 00:09:10,643 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.8770000000', 'o': '37.8710000000'}, 'NZDJPY': {'b': '88.4350000000', 'o': '88.4280000000'}, 'GBPAUD': {'b': '2.0547900000', 'o': '2.0546300000'}, 'BTCUSD': {'b': '118087.900000000
2025-07-16 00:09:10,644 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.8770000000', 'o': '37.8710000000'}, 'NZDJPY': {'b': '88.4350000000', 'o': '88.4280000000'}, 'GBPAUD': {'b': '2.0547900000', 'o': '2.0546300000'}, 'BTCUSD': {'b': '118087.900000000...
2025-07-16 00:09:10,645 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:09:10,828 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:10,833 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:11,842 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:11,844 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:12,849 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:12,876 - DEBUG - app.firebase_stream - Firebase listener triggered (32). Event Type: patch, Path: /. Timestamp: 1752649752.8763747
2025-07-16 00:09:12,877 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:12,877 - DEBUG - app.firebase_stream - Prepared batch update for 34 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0233000000', 'o': '13.0207000000'}, 'XAGUSD': {'b': '37.8780000000', 'o': '37.8720000000'}, 'NZDJPY': {'b': '88.4360000000', 'o': '88.4290000000'}, 'GBPAUD': {'b': '2.0547500000',
2025-07-16 00:09:12,880 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0233000000', 'o': '13.0207000000'}, 'XAGUSD': {'b': '37.8780000000', 'o': '37.8720000000'}, 'NZDJPY': {'b': '88.4360000000', 'o': '88.4290000000'}, 'GBPAUD': {'b': '2.0547500000',...
2025-07-16 00:09:12,880 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:09:13,899 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:13,901 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:14,911 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:14,914 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:15,229 - DEBUG - app.firebase_stream - Firebase listener triggered (33). Event Type: patch, Path: /. Timestamp: 1752649755.2294924
2025-07-16 00:09:15,229 - DEBUG - app.firebase_stream - Prepared batch update for 26 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.8790000000', 'o': '37.8740000000'}, 'GBPAUD': {'b': '2.0547500000', 'o': '2.0546300000'}, 'BTCUSD': {'b': '118081.9000000000', 'o': '118081.8000000000'}, 'USDCNH': {'b': '7.180460
2025-07-16 00:09:15,230 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.8790000000', 'o': '37.8740000000'}, 'GBPAUD': {'b': '2.0547500000', 'o': '2.0546300000'}, 'BTCUSD': {'b': '118081.9000000000', 'o': '118081.8000000000'}, 'USDCNH': {'b': '7.180460...
2025-07-16 00:09:15,230 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:09:15,928 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:15,931 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:16,937 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:16,940 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:17,595 - DEBUG - app.firebase_stream - Firebase listener triggered (34). Event Type: patch, Path: /. Timestamp: 1752649757.5956998
2025-07-16 00:09:17,596 - DEBUG - app.firebase_stream - Prepared batch update for 21 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0234000000', 'o': '13.0208000000'}, 'XAGUSD': {'b': '37.8780000000', 'o': '37.8730000000'}, 'USDJPY': {'b': '148.6450000000', 'o': '148.6420000000'}, 'USDCNH': {'b': '7.1804500000
2025-07-16 00:09:17,596 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0234000000', 'o': '13.0208000000'}, 'XAGUSD': {'b': '37.8780000000', 'o': '37.8730000000'}, 'USDJPY': {'b': '148.6450000000', 'o': '148.6420000000'}, 'USDCNH': {'b': '7.1804500000...
2025-07-16 00:09:17,597 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:09:17,958 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:17,962 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:18,965 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:18,969 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:19,857 - DEBUG - app.firebase_stream - Firebase listener triggered (35). Event Type: patch, Path: /. Timestamp: 1752649759.8576725
2025-07-16 00:09:19,858 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.8750000000', 'o': '37.8700000000'}, 'NZDJPY': {'b': '88.4360000000', 'o': '88.4300000000'}, 'GBPAUD': {'b': '2.0547500000', 'o': '2.0546200000'}, 'USDJPY': {'b': '148.6360000000',
2025-07-16 00:09:19,859 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.8750000000', 'o': '37.8700000000'}, 'NZDJPY': {'b': '88.4360000000', 'o': '88.4300000000'}, 'GBPAUD': {'b': '2.0547500000', 'o': '2.0546200000'}, 'USDJPY': {'b': '148.6360000000',...
2025-07-16 00:09:19,859 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:09:19,971 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:19,975 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:20,978 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:20,980 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:21,985 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:21,990 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:22,108 - DEBUG - app.firebase_stream - Firebase listener triggered (36). Event Type: patch, Path: /. Timestamp: 1752649762.108863
2025-07-16 00:09:22,109 - DEBUG - app.firebase_stream - Prepared batch update for 30 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.8790000000', 'o': '37.8730000000'}, 'NZDJPY': {'b': '88.4360000000', 'o': '88.4330000000'}, 'USDJPY': {'b': '148.6450000000', 'o': '148.6420000000'}, 'CADCHF': {'b': '0.5838100000
2025-07-16 00:09:22,109 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'XAGUSD': {'b': '37.8790000000', 'o': '37.8730000000'}, 'NZDJPY': {'b': '88.4360000000', 'o': '88.4330000000'}, 'USDJPY': {'b': '148.6450000000', 'o': '148.6420000000'}, 'CADCHF': {'b': '0.5838100000...
2025-07-16 00:09:22,110 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:09:23,006 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:23,009 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:24,013 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:24,016 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:24,418 - DEBUG - app.firebase_stream - Firebase listener triggered (37). Event Type: patch, Path: /. Timestamp: 1752649764.418683
2025-07-16 00:09:24,419 - DEBUG - app.firebase_stream - Prepared batch update for 27 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4400000000', 'o': '88.4350000000'}, 'GBPAUD': {'b': '2.0547700000', 'o': '2.0546200000'}, 'USDJPY': {'b': '148.6450000000', 'o': '148.6410000000'}, 'USDCNH': {'b': '7.1804500000',
2025-07-16 00:09:24,420 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4400000000', 'o': '88.4350000000'}, 'GBPAUD': {'b': '2.0547700000', 'o': '2.0546200000'}, 'USDJPY': {'b': '148.6450000000', 'o': '148.6410000000'}, 'USDCNH': {'b': '7.1804500000',...
2025-07-16 00:09:24,420 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:09:25,027 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:25,030 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:26,033 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:26,036 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:26,712 - DEBUG - app.firebase_stream - Firebase listener triggered (38). Event Type: patch, Path: /. Timestamp: 1752649766.7126343
2025-07-16 00:09:26,713 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0233000000', 'o': '13.0207000000'}, 'NZDJPY': {'b': '88.4400000000', 'o': '88.4390000000'}, 'GBPAUD': {'b': '2.0547900000', 'o': '2.0547600000'}, 'BTCUSD': {'b': '118124.100000000
2025-07-16 00:09:26,713 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0233000000', 'o': '13.0207000000'}, 'NZDJPY': {'b': '88.4400000000', 'o': '88.4390000000'}, 'GBPAUD': {'b': '2.0547900000', 'o': '2.0547600000'}, 'BTCUSD': {'b': '118124.100000000...
2025-07-16 00:09:26,713 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:09:27,039 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:27,042 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:28,044 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:28,046 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:29,006 - DEBUG - app.firebase_stream - Firebase listener triggered (39). Event Type: patch, Path: /. Timestamp: 1752649769.006115
2025-07-16 00:09:29,006 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0240300000', 'o': '13.0217000000'}, 'NZDJPY': {'b': '88.4470000000', 'o': '88.4410000000'}, 'GBPAUD': {'b': '2.0549200000', 'o': '2.0547600000'}, 'USDJPY': {'b': '148.6570000000',
2025-07-16 00:09:29,007 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0240300000', 'o': '13.0217000000'}, 'NZDJPY': {'b': '88.4470000000', 'o': '88.4410000000'}, 'GBPAUD': {'b': '2.0549200000', 'o': '2.0547600000'}, 'USDJPY': {'b': '148.6570000000',...
2025-07-16 00:09:29,008 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:09:29,053 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:29,059 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:30,074 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:30,079 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:31,085 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:31,087 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:31,296 - DEBUG - app.firebase_stream - Firebase listener triggered (40). Event Type: patch, Path: /. Timestamp: 1752649771.296573
2025-07-16 00:09:31,297 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0240300000', 'o': '13.0215000000'}, 'XAGUSD': {'b': '37.8820000000', 'o': '37.8760000000'}, 'NZDJPY': {'b': '88.4480000000', 'o': '88.4430000000'}, 'GBPAUD': {'b': '2.0549100000',
2025-07-16 00:09:31,297 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0240300000', 'o': '13.0215000000'}, 'XAGUSD': {'b': '37.8820000000', 'o': '37.8760000000'}, 'NZDJPY': {'b': '88.4480000000', 'o': '88.4430000000'}, 'GBPAUD': {'b': '2.0549100000',...
2025-07-16 00:09:31,297 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:09:32,093 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:32,097 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:33,113 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:33,117 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:33,587 - DEBUG - app.firebase_stream - Firebase listener triggered (41). Event Type: patch, Path: /. Timestamp: 1752649773.587178
2025-07-16 00:09:33,587 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0237300000', 'o': '13.0215000000'}, 'XAGUSD': {'b': '37.8770000000', 'o': '37.8720000000'}, 'NZDJPY': {'b': '88.4500000000', 'o': '88.4410000000'}, 'GBPAUD': {'b': '2.0547000000',
2025-07-16 00:09:33,588 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0237300000', 'o': '13.0215000000'}, 'XAGUSD': {'b': '37.8770000000', 'o': '37.8720000000'}, 'NZDJPY': {'b': '88.4500000000', 'o': '88.4410000000'}, 'GBPAUD': {'b': '2.0547000000',...
2025-07-16 00:09:33,588 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:09:34,130 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:34,135 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:35,137 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:35,140 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:35,940 - DEBUG - app.firebase_stream - Firebase listener triggered (42). Event Type: patch, Path: /. Timestamp: 1752649775.9400995
2025-07-16 00:09:35,940 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0240100000', 'o': '13.0217000000'}, 'GBPAUD': {'b': '2.0550000000', 'o': '2.0548100000'}, 'BTCUSD': {'b': '118089.1800000000', 'o': '118089.1800000000'}, 'USDJPY': {'b': '148.6660
2025-07-16 00:09:35,941 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0240100000', 'o': '13.0217000000'}, 'GBPAUD': {'b': '2.0550000000', 'o': '2.0548100000'}, 'BTCUSD': {'b': '118089.1800000000', 'o': '118089.1800000000'}, 'USDJPY': {'b': '148.6660...
2025-07-16 00:09:35,941 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:09:36,142 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:36,145 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:37,153 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:37,158 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:38,164 - DEBUG - app.firebase_stream - Firebase listener triggered (43). Event Type: patch, Path: /. Timestamp: 1752649778.1648984
2025-07-16 00:09:38,165 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4450000000', 'o': '88.4390000000'}, 'GBPAUD': {'b': '2.0549800000', 'o': '2.0548600000'}, 'BTCUSD': {'b': '118089.9000000000', 'o': '118089.8000000000'}, 'USDJPY': {'b': '148.6330
2025-07-16 00:09:38,166 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:38,167 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4450000000', 'o': '88.4390000000'}, 'GBPAUD': {'b': '2.0549800000', 'o': '2.0548600000'}, 'BTCUSD': {'b': '118089.9000000000', 'o': '118089.8000000000'}, 'USDJPY': {'b': '148.6330...
2025-07-16 00:09:38,172 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:09:38,187 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:39,204 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:39,208 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:40,211 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:40,213 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:40,551 - DEBUG - app.firebase_stream - Firebase listener triggered (44). Event Type: patch, Path: /. Timestamp: 1752649780.5512671
2025-07-16 00:09:40,551 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.8790000000', 'o': '37.8750000000'}, 'NZDJPY': {'b': '88.4450000000', 'o': '88.4360000000'}, 'GBPAUD': {'b': '2.0550200000', 'o': '2.0548600000'}, 'USDJPY': {'b': '148.6600000000',
2025-07-16 00:09:40,552 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.8790000000', 'o': '37.8750000000'}, 'NZDJPY': {'b': '88.4450000000', 'o': '88.4360000000'}, 'GBPAUD': {'b': '2.0550200000', 'o': '2.0548600000'}, 'USDJPY': {'b': '148.6600000000',...
2025-07-16 00:09:40,553 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:09:41,218 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:41,221 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:42,226 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:42,229 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:42,807 - DEBUG - app.firebase_stream - Firebase listener triggered (45). Event Type: patch, Path: /. Timestamp: 1752649782.807839
2025-07-16 00:09:42,808 - DEBUG - app.firebase_stream - Prepared batch update for 25 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.8790000000', 'o': '37.8730000000'}, 'NZDJPY': {'b': '88.4460000000', 'o': '88.4380000000'}, 'GBPAUD': {'b': '2.0550200000', 'o': '2.0548500000'}, 'USDCNH': {'b': '7.1805300000', '
2025-07-16 00:09:42,809 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.8790000000', 'o': '37.8730000000'}, 'NZDJPY': {'b': '88.4460000000', 'o': '88.4380000000'}, 'GBPAUD': {'b': '2.0550200000', 'o': '2.0548500000'}, 'USDCNH': {'b': '7.1805300000', '...
2025-07-16 00:09:42,809 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:09:43,234 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:43,238 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:44,252 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:44,257 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:45,102 - DEBUG - app.firebase_stream - Firebase listener triggered (46). Event Type: patch, Path: /. Timestamp: 1752649785.1026185
2025-07-16 00:09:45,103 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0239800000', 'o': '13.0216000000'}, 'XAGUSD': {'b': '37.8790000000', 'o': '37.8740000000'}, 'NZDJPY': {'b': '88.4460000000', 'o': '88.4370000000'}, 'GBPAUD': {'b': '2.0549900000',
2025-07-16 00:09:45,104 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0239800000', 'o': '13.0216000000'}, 'XAGUSD': {'b': '37.8790000000', 'o': '37.8740000000'}, 'NZDJPY': {'b': '88.4460000000', 'o': '88.4370000000'}, 'GBPAUD': {'b': '2.0549900000',...
2025-07-16 00:09:45,105 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:09:45,259 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:45,263 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:46,266 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:46,270 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:47,284 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:47,289 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:47,398 - DEBUG - app.firebase_stream - Firebase listener triggered (47). Event Type: patch, Path: /. Timestamp: 1752649787.3988092
2025-07-16 00:09:47,399 - DEBUG - app.firebase_stream - Prepared batch update for 34 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.8800000000', 'o': '37.8740000000'}, 'NZDJPY': {'b': '88.4440000000', 'o': '88.4350000000'}, 'GBPAUD': {'b': '2.0550000000', 'o': '2.0548400000'}, 'USDJPY': {'b': '148.6560000000',
2025-07-16 00:09:47,400 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.8800000000', 'o': '37.8740000000'}, 'NZDJPY': {'b': '88.4440000000', 'o': '88.4350000000'}, 'GBPAUD': {'b': '2.0550000000', 'o': '2.0548400000'}, 'USDJPY': {'b': '148.6560000000',...
2025-07-16 00:09:47,412 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:09:48,302 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:48,305 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:49,309 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:49,313 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:49,708 - DEBUG - app.firebase_stream - Firebase listener triggered (48). Event Type: patch, Path: /. Timestamp: 1752649789.708636
2025-07-16 00:09:49,709 - DEBUG - app.firebase_stream - Prepared batch update for 37 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0234300000', 'o': '13.0211000000'}, 'XAGUSD': {'b': '37.8780000000', 'o': '37.8720000000'}, 'NZDJPY': {'b': '88.4360000000', 'o': '88.4340000000'}, 'GBPAUD': {'b': '2.0549600000',
2025-07-16 00:09:49,709 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0234300000', 'o': '13.0211000000'}, 'XAGUSD': {'b': '37.8780000000', 'o': '37.8720000000'}, 'NZDJPY': {'b': '88.4360000000', 'o': '88.4340000000'}, 'GBPAUD': {'b': '2.0549600000',...
2025-07-16 00:09:49,710 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:09:50,317 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:50,321 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:51,324 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:51,327 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:52,118 - DEBUG - app.firebase_stream - Firebase listener triggered (49). Event Type: patch, Path: /. Timestamp: 1752649792.1181347
2025-07-16 00:09:52,118 - DEBUG - app.firebase_stream - Prepared batch update for 35 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.8770000000', 'o': '37.8720000000'}, 'NZDJPY': {'b': '88.4340000000', 'o': '88.4260000000'}, 'GBPAUD': {'b': '2.0549400000', 'o': '2.0548100000'}, 'BTCUSD': {'b': '118118.500000000
2025-07-16 00:09:52,119 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.8770000000', 'o': '37.8720000000'}, 'NZDJPY': {'b': '88.4340000000', 'o': '88.4260000000'}, 'GBPAUD': {'b': '2.0549400000', 'o': '2.0548100000'}, 'BTCUSD': {'b': '118118.500000000...
2025-07-16 00:09:52,119 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:09:52,339 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:52,343 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:53,352 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:53,354 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:54,313 - DEBUG - app.firebase_stream - Firebase listener triggered (50). Event Type: patch, Path: /. Timestamp: 1752649794.3131344
2025-07-16 00:09:54,313 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0237000000', 'o': '13.0211000000'}, 'XAGUSD': {'b': '37.8780000000', 'o': '37.8730000000'}, 'NZDJPY': {'b': '88.4350000000', 'o': '88.4260000000'}, 'GBPAUD': {'b': '2.0549600000',
2025-07-16 00:09:54,314 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0237000000', 'o': '13.0211000000'}, 'XAGUSD': {'b': '37.8780000000', 'o': '37.8730000000'}, 'NZDJPY': {'b': '88.4350000000', 'o': '88.4260000000'}, 'GBPAUD': {'b': '2.0549600000',...
2025-07-16 00:09:54,316 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:09:54,361 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:54,371 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:55,397 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:55,400 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:56,410 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:56,414 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:56,630 - DEBUG - app.firebase_stream - Firebase listener triggered (51). Event Type: patch, Path: /. Timestamp: 1752649796.6306713
2025-07-16 00:09:56,631 - DEBUG - app.firebase_stream - Prepared batch update for 27 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.8790000000', 'o': '37.8740000000'}, 'NZDJPY': {'b': '88.4360000000', 'o': '88.4270000000'}, 'GBPAUD': {'b': '2.0549600000', 'o': '2.0548000000'}, 'BTCUSD': {'b': '118094.700000000
2025-07-16 00:09:56,632 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.8790000000', 'o': '37.8740000000'}, 'NZDJPY': {'b': '88.4360000000', 'o': '88.4270000000'}, 'GBPAUD': {'b': '2.0549600000', 'o': '2.0548000000'}, 'BTCUSD': {'b': '118094.700000000...
2025-07-16 00:09:56,633 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:09:57,425 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:57,429 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:58,435 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:58,443 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:58,975 - DEBUG - app.firebase_stream - Firebase listener triggered (52). Event Type: patch, Path: /. Timestamp: 1752649798.975522
2025-07-16 00:09:58,976 - DEBUG - app.firebase_stream - Prepared batch update for 40 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0240000000', 'o': '13.0215000000'}, 'XAGUSD': {'b': '37.8790000000', 'o': '37.8730000000'}, 'NZDJPY': {'b': '88.4350000000', 'o': '88.4290000000'}, 'GBPAUD': {'b': '2.0549900000',
2025-07-16 00:09:58,977 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0240000000', 'o': '13.0215000000'}, 'XAGUSD': {'b': '37.8790000000', 'o': '37.8730000000'}, 'NZDJPY': {'b': '88.4350000000', 'o': '88.4290000000'}, 'GBPAUD': {'b': '2.0549900000',...
2025-07-16 00:09:58,978 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:09:59,460 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:59,464 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:00,481 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:00,485 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:01,332 - DEBUG - app.firebase_stream - Firebase listener triggered (53). Event Type: patch, Path: /. Timestamp: 1752649801.3326552
2025-07-16 00:10:01,333 - DEBUG - app.firebase_stream - Prepared batch update for 35 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.8790000000', 'o': '37.8740000000'}, 'NZDJPY': {'b': '88.4480000000', 'o': '88.4430000000'}, 'GBPAUD': {'b': '2.0549700000', 'o': '2.0548300000'}, 'BTCUSD': {'b': '118123.540000000
2025-07-16 00:10:01,334 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.8790000000', 'o': '37.8740000000'}, 'NZDJPY': {'b': '88.4480000000', 'o': '88.4430000000'}, 'GBPAUD': {'b': '2.0549700000', 'o': '2.0548300000'}, 'BTCUSD': {'b': '118123.540000000...
2025-07-16 00:10:01,338 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:10:01,487 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:01,490 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:02,149 - WARNING - app - User 4 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:10:02,153 - WARNING - app - No user data found for user 5 (live). Skipping portfolio update.
2025-07-16 00:10:02,163 - WARNING - app - No group settings found for group string. Skipping portfolio update for user 8.
2025-07-16 00:10:02,190 - WARNING - app - User 9 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:10:02,216 - WARNING - app - User 10 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:10:02,242 - WARNING - app - User 11 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:10:02,262 - WARNING - app - User 12 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:10:02,282 - WARNING - app - User 13 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:10:02,632 - DEBUG - app.services.portfolio_calculator - Position calculation for BTCUSD: Type=BUY, Entry=118908.50000000, Current=118073.54, Quantity=0.40000000, Contract Size=1.00000000, PnL=-333.984000000000000000000000, PnL USD=-333.984000000000000000000000, Commission=235.57000000, Final PnL=-569.554000000000000000000000
2025-07-16 00:10:02,632 - WARNING - app.services.portfolio_calculator - MARGIN CALL ALERT: User has margin level 99.04206105873775434507833717% which is below threshold 100.0%
2025-07-16 00:10:02,633 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:02,637 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:02,663 - WARNING - app - User 16 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:10:02,686 - WARNING - app - User 17 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:10:02,707 - WARNING - app - User 18 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:10:02,730 - WARNING - app - User 19 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:10:02,754 - WARNING - app - User 20 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:10:02,782 - WARNING - app - User 21 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:10:02,806 - WARNING - app - User 22 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:10:02,826 - WARNING - app - User 23 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:10:02,848 - WARNING - app - User 24 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:10:02,872 - WARNING - app - User 25 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:10:03,255 - DEBUG - app.services.portfolio_calculator - Position calculation for XAGUSD: Type=BUY, Entry=41.09800000, Current=37.8615, Quantity=0.01000000, Contract Size=5000.00000000, PnL=-161.825000000000000000000000, PnL USD=-161.825000000000000000000000, Commission=0.10000000, Final PnL=-161.925000000000000000000000
2025-07-16 00:10:03,256 - DEBUG - app.services.portfolio_calculator - Position calculation for BTCUSD: Type=BUY, Entry=132091.90000000, Current=118073.54, Quantity=6.00000000, Contract Size=1.00000000, PnL=-84110.16000000000000000000000, PnL USD=-84110.16000000000000000000000, Commission=3661.62000000, Final PnL=-87771.78000000000000000000000
2025-07-16 00:10:03,256 - WARNING - app.services.portfolio_calculator - MARGIN CALL ALERT: User has margin level 65.81728766196170829576677992% which is below threshold 100.0%
2025-07-16 00:10:03,588 - DEBUG - app.firebase_stream - Firebase listener triggered (54). Event Type: patch, Path: /. Timestamp: 1752649803.588824
2025-07-16 00:10:03,589 - DEBUG - app.firebase_stream - Prepared batch update for 37 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0237300000', 'o': '13.0215000000'}, 'XAGUSD': {'b': '37.8750000000', 'o': '37.8690000000'}, 'NZDJPY': {'b': '88.4350000000', 'o': '88.4290000000'}, 'GBPAUD': {'b': '2.0549700000',
2025-07-16 00:10:03,589 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0237300000', 'o': '13.0215000000'}, 'XAGUSD': {'b': '37.8750000000', 'o': '37.8690000000'}, 'NZDJPY': {'b': '88.4350000000', 'o': '88.4290000000'}, 'GBPAUD': {'b': '2.0549700000',...
2025-07-16 00:10:03,589 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:10:03,656 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:03,657 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=96.66800000, Current=96.95100000000001, Quantity=0.01000000, Contract Size=100000.00000000, PnL=283.0000000000100000000000000, PnL USD=1.903724034011476159724464536, Commission=0.10000000, Final PnL=1.803724034011476159724464536
2025-07-16 00:10:03,659 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=96.56000000, Current=97.057, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-497.000000000000000000000000, PnL USD=-3.343289204606608545904638898, Commission=0.10000000, Final PnL=-3.443289204606608545904638898
2025-07-16 00:10:03,665 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:03,669 - WARNING - app - User 2 has no group_name set. Skipping portfolio update.
2025-07-16 00:10:03,740 - WARNING - app - No group settings found for group string. Skipping portfolio update for user 3.
2025-07-16 00:10:03,793 - WARNING - app - User 4 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:10:03,795 - WARNING - app - User 5 has no group_name set. Skipping portfolio update.
2025-07-16 00:10:03,796 - WARNING - app - User 6 has no group_name set. Skipping portfolio update.
2025-07-16 00:10:04,268 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64743000, Current=0.65239, Quantity=0.10000000, Contract Size=100000.00000000, PnL=49.600000000000000000000000, PnL USD=49.600000000000000000000000, Commission=1.00000000, Final PnL=48.600000000000000000000000
2025-07-16 00:10:04,268 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=SELL, Entry=0.64707000, Current=0.65271, Quantity=0.22000000, Contract Size=100000.00000000, PnL=-124.080000000000000000000000, PnL USD=-124.080000000000000000000000, Commission=2.20000000, Final PnL=-126.280000000000000000000000
2025-07-16 00:10:04,270 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFSGD: Type=BUY, Entry=1.57561500, Current=1.603995, Quantity=0.10000000, Contract Size=100000.00000000, PnL=283.800000000000000000000000, PnL USD=221.0056614205726834510524635, Commission=1.00000000, Final PnL=220.0056614205726834510524635
2025-07-16 00:10:04,270 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFSGD: Type=SELL, Entry=1.57505500, Current=1.604465, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-294.100000000000000000000000, PnL USD=-229.0266561796702826037862210, Commission=1.00000000, Final PnL=-230.0266561796702826037862210
2025-07-16 00:10:04,271 - DEBUG - app.services.portfolio_calculator - Position calculation for CADJPY: Type=SELL, Entry=106.24150000, Current=108.43350000000001, Quantity=0.15000000, Contract Size=100000.00000000, PnL=-32880.00000000015000000000000, PnL USD=-221.1817888278989748143364546, Commission=0E-8, Final PnL=-221.1817888278989748143364546
2025-07-16 00:10:04,272 - DEBUG - app.services.portfolio_calculator - Position calculation for CADJPY: Type=BUY, Entry=106.27050000, Current=108.4005, Quantity=0.15000000, Contract Size=100000.00000000, PnL=31950.00000000000000000000000, PnL USD=214.9257345818534065224410720, Commission=0E-8, Final PnL=214.9257345818534065224410720
2025-07-16 00:10:04,272 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=BUY, Entry=1.77481000, Current=1.78141, Quantity=0.22000000, Contract Size=100000.00000000, PnL=145.200000000000000000000000, PnL USD=94.75026000000000000000000000, Commission=2.20000000, Final PnL=92.55026000000000000000000000
2025-07-16 00:10:04,273 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=SELL, Entry=1.77439000, Current=1.7818, Quantity=0.21000000, Contract Size=100000.00000000, PnL=-155.610000000000000000000000, PnL USD=-101.5433055000000000000000000, Commission=2.10000000, Final PnL=-103.6433055000000000000000000
2025-07-16 00:10:04,273 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFJPY: Type=BUY, Entry=178.15500000, Current=185.685, Quantity=0.10000000, Contract Size=100000.00000000, PnL=75300.00000000000000000000000, PnL USD=506.5385857281239909589925735, Commission=1.00000000, Final PnL=505.5385857281239909589925735
2025-07-16 00:10:04,274 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFJPY: Type=SELL, Entry=178.09500000, Current=185.73499999999999, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-76399.99999999990000000000000, PnL USD=-513.9382197825846249058228393, Commission=1.00000000, Final PnL=-514.9382197825846249058228393
2025-07-16 00:10:04,275 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=BUY, Entry=1.77480000, Current=1.78141, Quantity=0.05000000, Contract Size=100000.00000000, PnL=33.050000000000000000000000, PnL USD=21.56677750000000000000000000, Commission=0.50000000, Final PnL=21.06677750000000000000000000
2025-07-16 00:10:04,275 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=SELL, Entry=1.77442000, Current=1.7818, Quantity=0.05000000, Contract Size=100000.00000000, PnL=-36.900000000000000000000000, PnL USD=-24.07909500000000000000000000, Commission=0.50000000, Final PnL=-24.57909500000000000000000000
2025-07-16 00:10:04,275 - DEBUG - app.services.portfolio_calculator - Position calculation for EURGBP: Type=SELL, Entry=0.85403000, Current=0.86726, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-132.300000000000000000000000, PnL USD=-177.4050390000000000000000000, Commission=1.00000000, Final PnL=-178.4050390000000000000000000
2025-07-16 00:10:04,276 - DEBUG - app.services.portfolio_calculator - Position calculation for EURJPY: Type=BUY, Entry=167.26050000, Current=172.8255, Quantity=0.10000000, Contract Size=100000.00000000, PnL=55650.00000000000000000000000, PnL USD=374.3542137552470132386180174, Commission=1.00000000, Final PnL=373.3542137552470132386180174
2025-07-16 00:10:04,277 - DEBUG - app.services.portfolio_calculator - Position calculation for EURJPY: Type=SELL, Entry=167.23150000, Current=172.85549999999998, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-56239.99999999980000000000000, PnL USD=-378.3231083844567323216015499, Commission=1.00000000, Final PnL=-379.3231083844567323216015499
2025-07-16 00:10:04,278 - DEBUG - app.services.portfolio_calculator - Position calculation for EURNZD: Type=SELL, Entry=1.91952500, Current=1.9546649999999999, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-351.3999999999990000000000000, PnL USD=-209.0443459999994051100000000, Commission=1.00000000, Final PnL=-210.0443459999994051100000000
2025-07-16 00:10:04,278 - DEBUG - app.services.portfolio_calculator - Position calculation for EURNZD: Type=BUY, Entry=1.92063500, Current=1.954255, Quantity=0.10000000, Contract Size=100000.00000000, PnL=336.200000000000000000000000, PnL USD=200.0020180000000000000000000, Commission=1.00000000, Final PnL=199.0020180000000000000000000
2025-07-16 00:10:04,278 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=SELL, Entry=1.34376000, Current=1.3411, Quantity=0.25000000, Contract Size=0E-8, PnL=0E-24, PnL USD=0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:10:04,278 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=SELL, Entry=1.34361000, Current=1.3411, Quantity=0.25000000, Contract Size=0E-8, PnL=0E-24, PnL USD=0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:10:04,278 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=BUY, Entry=1.34379000, Current=1.34089, Quantity=0.25000000, Contract Size=0E-8, PnL=-0E-24, PnL USD=-0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:10:04,278 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=BUY, Entry=1.34378000, Current=1.34089, Quantity=0.25000000, Contract Size=0E-8, PnL=-0E-24, PnL USD=-0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:10:04,280 - DEBUG - app.services.portfolio_calculator - Position calculation for NZDJPY: Type=BUY, Entry=87.10150000, Current=88.4305, Quantity=0.01000000, Contract Size=100000.00000000, PnL=1329.000000000000000000000000, PnL USD=8.940103325799160477881821117, Commission=0.10000000, Final PnL=8.840103325799160477881821117
2025-07-16 00:10:04,281 - DEBUG - app.services.portfolio_calculator - Position calculation for USDCHF: Type=SELL, Entry=0.81771000, Current=0.80059, Quantity=0.15000000, Contract Size=100000.00000000, PnL=256.800000000000000000000000, PnL USD=320.8195390093072646636267100, Commission=1.50000000, Final PnL=319.3195390093072646636267100
2025-07-16 00:10:04,282 - DEBUG - app.services.portfolio_calculator - Position calculation for USDCHF: Type=BUY, Entry=0.81805000, Current=0.80027, Quantity=0.15000000, Contract Size=100000.00000000, PnL=-266.700000000000000000000000, PnL USD=-333.1875819851333624836029733, Commission=1.50000000, Final PnL=-334.6875819851333624836029733
2025-07-16 00:10:04,283 - DEBUG - app.services.portfolio_calculator - Position calculation for USDNOK: Type=BUY, Entry=10.04973000, Current=10.24849, Quantity=0.10000000, Contract Size=100000.00000000, PnL=1987.600000000000000000000000, PnL USD=193.8857131708839768226778781, Commission=1.00000000, Final PnL=192.8857131708839768226778781
2025-07-16 00:10:04,285 - DEBUG - app.services.portfolio_calculator - Position calculation for USDNOK: Type=BUY, Entry=10.05023000, Current=10.24849, Quantity=0.10000000, Contract Size=100000.00000000, PnL=1982.600000000000000000000000, PnL USD=193.3979749107438983943656476, Commission=1.00000000, Final PnL=192.3979749107438983943656476
2025-07-16 00:10:04,286 - DEBUG - app.services.portfolio_calculator - Position calculation for USDSGD: Type=SELL, Entry=1.28795000, Current=1.2842300000000002, Quantity=0.31000000, Contract Size=100000.00000000, PnL=115.3199999999938000000000000, PnL USD=89.80399180767819457531558331, Commission=3.10000000, Final PnL=86.70399180767819457531558331
2025-07-16 00:10:04,287 - DEBUG - app.services.portfolio_calculator - Position calculation for USDTRY: Type=SELL, Entry=39.56087000, Current=40.25222, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-6913.500000000000000000000000, PnL USD=-171.7551420336891990896368808, Commission=1.00000000, Final PnL=-172.7551420336891990896368808
2025-07-16 00:10:04,781 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:04,786 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:05,191 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.89752000, Current=0.8947, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-2.820000000000000000000000, PnL USD=-2.056547770979339716896508974, Commission=0.10000000, Final PnL=-2.156547770979339716896508974
2025-07-16 00:10:05,227 - WARNING - app - User 12 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:10:05,248 - WARNING - app - User 13 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:10:05,794 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:05,796 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:05,932 - DEBUG - app.firebase_stream - Firebase listener triggered (55). Event Type: patch, Path: /. Timestamp: 1752649805.9322572
2025-07-16 00:10:05,932 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0243000000', 'o': '13.0217000000'}, 'XAGUSD': {'b': '37.8750000000', 'o': '37.8700000000'}, 'NZDJPY': {'b': '88.4350000000', 'o': '88.4270000000'}, 'GBPAUD': {'b': '2.0549600000',
2025-07-16 00:10:05,933 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0243000000', 'o': '13.0217000000'}, 'XAGUSD': {'b': '37.8750000000', 'o': '37.8700000000'}, 'NZDJPY': {'b': '88.4350000000', 'o': '88.4270000000'}, 'GBPAUD': {'b': '2.0549600000',...
2025-07-16 00:10:05,933 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:10:06,799 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:06,802 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:07,813 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:07,816 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:08,288 - DEBUG - app.firebase_stream - Firebase listener triggered (56). Event Type: patch, Path: /. Timestamp: 1752649808.288
2025-07-16 00:10:08,288 - DEBUG - app.firebase_stream - Prepared batch update for 30 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.8770000000', 'o': '37.8720000000'}, 'NZDJPY': {'b': '88.4350000000', 'o': '88.4260000000'}, 'GBPAUD': {'b': '2.0549400000', 'o': '2.0548000000'}, 'BTCUSD': {'b': '118124.000000000
2025-07-16 00:10:08,289 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.8770000000', 'o': '37.8720000000'}, 'NZDJPY': {'b': '88.4350000000', 'o': '88.4260000000'}, 'GBPAUD': {'b': '2.0549400000', 'o': '2.0548000000'}, 'BTCUSD': {'b': '118124.000000000...
2025-07-16 00:10:08,298 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:10:08,825 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:08,830 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:09,845 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:09,849 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:10,538 - DEBUG - app.firebase_stream - Firebase listener triggered (57). Event Type: patch, Path: /. Timestamp: 1752649810.5385573
2025-07-16 00:10:10,539 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.8790000000', 'o': '37.8740000000'}, 'NZDJPY': {'b': '88.4350000000', 'o': '88.4290000000'}, 'GBPAUD': {'b': '2.0549400000', 'o': '2.0548100000'}, 'USDJPY': {'b': '148.6540000000',
2025-07-16 00:10:10,540 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.8790000000', 'o': '37.8740000000'}, 'NZDJPY': {'b': '88.4350000000', 'o': '88.4290000000'}, 'GBPAUD': {'b': '2.0549400000', 'o': '2.0548100000'}, 'USDJPY': {'b': '148.6540000000',...
2025-07-16 00:10:10,545 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:10:10,863 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:10,867 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:11,882 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:11,891 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:12,904 - DEBUG - app.firebase_stream - Firebase listener triggered (58). Event Type: patch, Path: /. Timestamp: 1752649812.9049346
2025-07-16 00:10:12,905 - DEBUG - app.firebase_stream - Prepared batch update for 39 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0242000000', 'o': '13.0216000000'}, 'XAGUSD': {'b': '37.8760000000', 'o': '37.8720000000'}, 'NZDJPY': {'b': '88.4320000000', 'o': '88.4240000000'}, 'GBPAUD': {'b': '2.0549500000',
2025-07-16 00:10:12,906 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:12,907 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0242000000', 'o': '13.0216000000'}, 'XAGUSD': {'b': '37.8760000000', 'o': '37.8720000000'}, 'NZDJPY': {'b': '88.4320000000', 'o': '88.4240000000'}, 'GBPAUD': {'b': '2.0549500000',...
2025-07-16 00:10:12,908 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:10:12,920 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:13,949 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:13,953 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:14,966 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:14,969 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:15,150 - DEBUG - app.firebase_stream - Firebase listener triggered (59). Event Type: patch, Path: /. Timestamp: 1752649815.1500044
2025-07-16 00:10:15,150 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0239800000', 'o': '13.0216000000'}, 'GBPAUD': {'b': '2.0549600000', 'o': '2.0548200000'}, 'BTCUSD': {'b': '118089.9000000000', 'o': '118089.8000000000'}, 'USDJPY': {'b': '148.6540
2025-07-16 00:10:15,150 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0239800000', 'o': '13.0216000000'}, 'GBPAUD': {'b': '2.0549600000', 'o': '2.0548200000'}, 'BTCUSD': {'b': '118089.9000000000', 'o': '118089.8000000000'}, 'USDJPY': {'b': '148.6540...
2025-07-16 00:10:15,151 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:10:15,985 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:15,988 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:17,004 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:17,007 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:17,517 - DEBUG - app.firebase_stream - Firebase listener triggered (60). Event Type: patch, Path: /. Timestamp: 1752649817.5174584
2025-07-16 00:10:17,517 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0240000000', 'o': '13.0215800000'}, 'XAGUSD': {'b': '37.8750000000', 'o': '37.8700000000'}, 'NZDJPY': {'b': '88.4220000000', 'o': '88.4220000000'}, 'GBPAUD': {'b': '2.0549500000',
2025-07-16 00:10:17,518 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0240000000', 'o': '13.0215800000'}, 'XAGUSD': {'b': '37.8750000000', 'o': '37.8700000000'}, 'NZDJPY': {'b': '88.4220000000', 'o': '88.4220000000'}, 'GBPAUD': {'b': '2.0549500000',...
2025-07-16 00:10:17,528 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:10:18,022 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:18,024 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:19,034 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:19,039 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:19,733 - DEBUG - app.firebase_stream - Firebase listener triggered (61). Event Type: patch, Path: /. Timestamp: 1752649819.7337596
2025-07-16 00:10:19,734 - DEBUG - app.firebase_stream - Prepared batch update for 30 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0245700000', 'o': '13.0220000000'}, 'NZDJPY': {'b': '88.4360000000', 'o': '88.4340000000'}, 'GBPAUD': {'b': '2.0549500000', 'o': '2.0548200000'}, 'USDJPY': {'b': '148.6550000000',
2025-07-16 00:10:19,735 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0245700000', 'o': '13.0220000000'}, 'NZDJPY': {'b': '88.4360000000', 'o': '88.4340000000'}, 'GBPAUD': {'b': '2.0549500000', 'o': '2.0548200000'}, 'USDJPY': {'b': '148.6550000000',...
2025-07-16 00:10:19,737 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:10:20,055 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:20,060 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:21,075 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:21,077 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:22,083 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:22,097 - DEBUG - app.firebase_stream - Firebase listener triggered (62). Event Type: patch, Path: /. Timestamp: 1752649822.097099
2025-07-16 00:10:22,097 - DEBUG - app.firebase_stream - Prepared batch update for 22 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.8740000000', 'o': '37.8700000000'}, 'NZDJPY': {'b': '88.4340000000', 'o': '88.4260000000'}, 'USDJPY': {'b': '148.6550000000', 'o': '148.6520000000'}, 'USDCNH': {'b': '7.1806500000
2025-07-16 00:10:22,098 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:22,098 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.8740000000', 'o': '37.8700000000'}, 'NZDJPY': {'b': '88.4340000000', 'o': '88.4260000000'}, 'USDJPY': {'b': '148.6550000000', 'o': '148.6520000000'}, 'USDCNH': {'b': '7.1806500000...
2025-07-16 00:10:22,099 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:10:23,106 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:23,108 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:24,111 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:24,115 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:24,353 - DEBUG - app.firebase_stream - Firebase listener triggered (63). Event Type: patch, Path: /. Timestamp: 1752649824.3534212
2025-07-16 00:10:24,353 - DEBUG - app.firebase_stream - Prepared batch update for 26 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.8740000000', 'o': '37.8690000000'}, 'NZDJPY': {'b': '88.4290000000', 'o': '88.4230000000'}, 'GBPAUD': {'b': '2.0549600000', 'o': '2.0548100000'}, 'USDJPY': {'b': '148.6550000000',
2025-07-16 00:10:24,354 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.8740000000', 'o': '37.8690000000'}, 'NZDJPY': {'b': '88.4290000000', 'o': '88.4230000000'}, 'GBPAUD': {'b': '2.0549600000', 'o': '2.0548100000'}, 'USDJPY': {'b': '148.6550000000',...
2025-07-16 00:10:24,354 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:10:25,118 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:25,122 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:26,126 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:26,131 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:26,605 - DEBUG - app.firebase_stream - Firebase listener triggered (64). Event Type: patch, Path: /. Timestamp: 1752649826.605242
2025-07-16 00:10:26,605 - DEBUG - app.firebase_stream - Prepared batch update for 26 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0247000000', 'o': '13.0221000000'}, 'NZDJPY': {'b': '88.4360000000', 'o': '88.4270000000'}, 'GBPAUD': {'b': '2.0549400000', 'o': '2.0548200000'}, 'BTCUSD': {'b': '118109.880000000
2025-07-16 00:10:26,606 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0247000000', 'o': '13.0221000000'}, 'NZDJPY': {'b': '88.4360000000', 'o': '88.4270000000'}, 'GBPAUD': {'b': '2.0549400000', 'o': '2.0548200000'}, 'BTCUSD': {'b': '118109.880000000...
2025-07-16 00:10:26,606 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:10:27,135 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:27,141 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:28,149 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:28,152 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:28,888 - DEBUG - app.firebase_stream - Firebase listener triggered (65). Event Type: patch, Path: /. Timestamp: 1752649828.8881388
2025-07-16 00:10:28,888 - DEBUG - app.firebase_stream - Prepared batch update for 24 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4300000000', 'o': '88.4240000000'}, 'GBPAUD': {'b': '2.0549600000', 'o': '2.0548100000'}, 'BTCUSD': {'b': '118112.3300000000', 'o': '118112.3300000000'}, 'USDCNH': {'b': '7.180660
2025-07-16 00:10:28,888 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4300000000', 'o': '88.4240000000'}, 'GBPAUD': {'b': '2.0549600000', 'o': '2.0548100000'}, 'BTCUSD': {'b': '118112.3300000000', 'o': '118112.3300000000'}, 'USDCNH': {'b': '7.180660...
2025-07-16 00:10:28,889 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:10:29,159 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:29,164 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:30,181 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:30,184 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:31,188 - DEBUG - app.firebase_stream - Firebase listener triggered (66). Event Type: patch, Path: /. Timestamp: 1752649831.1886973
2025-07-16 00:10:31,189 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0240000000', 'o': '13.0215000000'}, 'XAGUSD': {'b': '37.8740000000', 'o': '37.8680000000'}, 'NZDJPY': {'b': '88.4310000000', 'o': '88.4240000000'}, 'GBPAUD': {'b': '2.0549900000',
2025-07-16 00:10:31,189 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0240000000', 'o': '13.0215000000'}, 'XAGUSD': {'b': '37.8740000000', 'o': '37.8680000000'}, 'NZDJPY': {'b': '88.4310000000', 'o': '88.4240000000'}, 'GBPAUD': {'b': '2.0549900000',...
2025-07-16 00:10:31,189 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:10:31,190 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:31,217 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:32,242 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:32,246 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:33,249 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:33,252 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:33,553 - DEBUG - app.firebase_stream - Firebase listener triggered (67). Event Type: patch, Path: /. Timestamp: 1752649833.5530088
2025-07-16 00:10:33,554 - DEBUG - app.firebase_stream - Prepared batch update for 27 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0247900000', 'o': '13.0222000000'}, 'NZDJPY': {'b': '88.4290000000', 'o': '88.4230000000'}, 'GBPAUD': {'b': '2.0549900000', 'o': '2.0548200000'}, 'BTCUSD': {'b': '118090.300000000
2025-07-16 00:10:33,555 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0247900000', 'o': '13.0222000000'}, 'NZDJPY': {'b': '88.4290000000', 'o': '88.4230000000'}, 'GBPAUD': {'b': '2.0549900000', 'o': '2.0548200000'}, 'BTCUSD': {'b': '118090.300000000...
2025-07-16 00:10:33,555 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:10:34,269 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:34,274 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:35,292 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:35,296 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:35,930 - DEBUG - app.firebase_stream - Firebase listener triggered (68). Event Type: patch, Path: /. Timestamp: 1752649835.9300213
2025-07-16 00:10:35,930 - DEBUG - app.firebase_stream - Prepared batch update for 24 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.8730000000', 'o': '37.8680000000'}, 'NZDJPY': {'b': '88.4300000000', 'o': '88.4220000000'}, 'USDJPY': {'b': '148.6540000000', 'o': '148.6500000000'}, 'USDCNH': {'b': '7.1805900000
2025-07-16 00:10:35,931 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.8730000000', 'o': '37.8680000000'}, 'NZDJPY': {'b': '88.4300000000', 'o': '88.4220000000'}, 'USDJPY': {'b': '148.6540000000', 'o': '148.6500000000'}, 'USDCNH': {'b': '7.1805900000...
2025-07-16 00:10:35,933 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:10:36,301 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:36,305 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:37,315 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:37,319 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:38,151 - DEBUG - app.firebase_stream - Firebase listener triggered (69). Event Type: patch, Path: /. Timestamp: 1752649838.1518188
2025-07-16 00:10:38,152 - DEBUG - app.firebase_stream - Prepared batch update for 30 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0247000000', 'o': '13.0221000000'}, 'XAGUSD': {'b': '37.8750000000', 'o': '37.8700000000'}, 'NZDJPY': {'b': '88.4270000000', 'o': '88.4200000000'}, 'GBPAUD': {'b': '2.0549600000',
2025-07-16 00:10:38,153 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0247000000', 'o': '13.0221000000'}, 'XAGUSD': {'b': '37.8750000000', 'o': '37.8700000000'}, 'NZDJPY': {'b': '88.4270000000', 'o': '88.4200000000'}, 'GBPAUD': {'b': '2.0549600000',...
2025-07-16 00:10:38,153 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:10:38,321 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:38,327 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:39,343 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:39,347 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:40,355 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:40,361 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:40,470 - DEBUG - app.firebase_stream - Firebase listener triggered (70). Event Type: patch, Path: /. Timestamp: 1752649840.4707217
2025-07-16 00:10:40,471 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.8730000000', 'o': '37.8690000000'}, 'NZDJPY': {'b': '88.4270000000', 'o': '88.4190000000'}, 'GBPAUD': {'b': '2.0550200000', 'o': '2.0548800000'}, 'USDCNH': {'b': '7.1806400000', '
2025-07-16 00:10:40,471 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.8730000000', 'o': '37.8690000000'}, 'NZDJPY': {'b': '88.4270000000', 'o': '88.4190000000'}, 'GBPAUD': {'b': '2.0550200000', 'o': '2.0548800000'}, 'USDCNH': {'b': '7.1806400000', '...
2025-07-16 00:10:40,472 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:10:41,365 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:41,368 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:42,371 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:42,375 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:42,783 - DEBUG - app.firebase_stream - Firebase listener triggered (71). Event Type: patch, Path: /. Timestamp: 1752649842.7834287
2025-07-16 00:10:42,784 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0244000000', 'o': '13.0218000000'}, 'NZDJPY': {'b': '88.4350000000', 'o': '88.4290000000'}, 'GBPAUD': {'b': '2.0550400000', 'o': '2.0548700000'}, 'BTCUSD': {'b': '118082.980000000
2025-07-16 00:10:42,784 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0244000000', 'o': '13.0218000000'}, 'NZDJPY': {'b': '88.4350000000', 'o': '88.4290000000'}, 'GBPAUD': {'b': '2.0550400000', 'o': '2.0548700000'}, 'BTCUSD': {'b': '118082.980000000...
2025-07-16 00:10:42,784 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:10:43,383 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:43,386 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:44,402 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:44,406 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:45,074 - DEBUG - app.firebase_stream - Firebase listener triggered (72). Event Type: patch, Path: /. Timestamp: 1752649845.0748448
2025-07-16 00:10:45,075 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.8740000000', 'o': '37.8690000000'}, 'NZDJPY': {'b': '88.4240000000', 'o': '88.4190000000'}, 'GBPAUD': {'b': '2.0550400000', 'o': '2.0548800000'}, 'BTCUSD': {'b': '118082.300000000
2025-07-16 00:10:45,075 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.8740000000', 'o': '37.8690000000'}, 'NZDJPY': {'b': '88.4240000000', 'o': '88.4190000000'}, 'GBPAUD': {'b': '2.0550400000', 'o': '2.0548800000'}, 'BTCUSD': {'b': '118082.300000000...
2025-07-16 00:10:45,076 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:10:45,409 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:45,413 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:46,425 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:46,428 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:47,401 - DEBUG - app.firebase_stream - Firebase listener triggered (73). Event Type: patch, Path: /. Timestamp: 1752649847.4011564
2025-07-16 00:10:47,401 - DEBUG - app.firebase_stream - Prepared batch update for 30 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.8760000000', 'o': '37.8720000000'}, 'NZDJPY': {'b': '88.4240000000', 'o': '88.4170000000'}, 'GBPAUD': {'b': '2.0550000000', 'o': '2.0548600000'}, 'USDJPY': {'b': '148.6580000000',
2025-07-16 00:10:47,401 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.8760000000', 'o': '37.8720000000'}, 'NZDJPY': {'b': '88.4240000000', 'o': '88.4170000000'}, 'GBPAUD': {'b': '2.0550000000', 'o': '2.0548600000'}, 'USDJPY': {'b': '148.6580000000',...
2025-07-16 00:10:47,402 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:10:47,433 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:47,440 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:48,466 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:48,471 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:49,482 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:49,487 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:49,712 - DEBUG - app.firebase_stream - Firebase listener triggered (74). Event Type: patch, Path: /. Timestamp: 1752649849.7128253
2025-07-16 00:10:49,713 - DEBUG - app.firebase_stream - Prepared batch update for 38 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0244000000', 'o': '13.0220400000'}, 'XAGUSD': {'b': '37.8720000000', 'o': '37.8640000000'}, 'NZDJPY': {'b': '88.4260000000', 'o': '88.4180000000'}, 'GBPAUD': {'b': '2.0549900000',
2025-07-16 00:10:49,714 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0244000000', 'o': '13.0220400000'}, 'XAGUSD': {'b': '37.8720000000', 'o': '37.8640000000'}, 'NZDJPY': {'b': '88.4260000000', 'o': '88.4180000000'}, 'GBPAUD': {'b': '2.0549900000',...
2025-07-16 00:10:49,716 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:10:50,494 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:50,498 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:51,509 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:51,513 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:52,028 - DEBUG - app.firebase_stream - Firebase listener triggered (75). Event Type: patch, Path: /. Timestamp: 1752649852.0279963
2025-07-16 00:10:52,028 - DEBUG - app.firebase_stream - Prepared batch update for 34 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0247000000', 'o': '13.0221000000'}, 'XAGUSD': {'b': '37.8750000000', 'o': '37.8700000000'}, 'NZDJPY': {'b': '88.4260000000', 'o': '88.4190000000'}, 'GBPAUD': {'b': '2.0550400000',
2025-07-16 00:10:52,029 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0247000000', 'o': '13.0221000000'}, 'XAGUSD': {'b': '37.8750000000', 'o': '37.8700000000'}, 'NZDJPY': {'b': '88.4260000000', 'o': '88.4190000000'}, 'GBPAUD': {'b': '2.0550400000',...
2025-07-16 00:10:52,030 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:10:52,516 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:52,521 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:53,533 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:53,538 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:54,376 - DEBUG - app.firebase_stream - Firebase listener triggered (76). Event Type: patch, Path: /. Timestamp: 1752649854.376666
2025-07-16 00:10:54,377 - DEBUG - app.firebase_stream - Prepared batch update for 30 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.8700000000', 'o': '37.8650000000'}, 'GBPAUD': {'b': '2.0550400000', 'o': '2.0549200000'}, 'BTCUSD': {'b': '118073.6700000000', 'o': '118073.6700000000'}, 'USDJPY': {'b': '148.6550
2025-07-16 00:10:54,377 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.8700000000', 'o': '37.8650000000'}, 'GBPAUD': {'b': '2.0550400000', 'o': '2.0549200000'}, 'BTCUSD': {'b': '118073.6700000000', 'o': '118073.6700000000'}, 'USDJPY': {'b': '148.6550...
2025-07-16 00:10:54,378 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:10:54,539 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:54,541 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:55,544 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:55,549 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:56,555 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:56,560 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:56,719 - DEBUG - app.firebase_stream - Firebase listener triggered (77). Event Type: patch, Path: /. Timestamp: 1752649856.7198353
2025-07-16 00:10:56,720 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0249000000', 'o': '13.0223100000'}, 'NZDJPY': {'b': '88.4260000000', 'o': '88.4240000000'}, 'GBPAUD': {'b': '2.0548600000', 'o': '2.0549200000'}, 'USDJPY': {'b': '148.6540000000',
2025-07-16 00:10:56,730 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0249000000', 'o': '13.0223100000'}, 'NZDJPY': {'b': '88.4260000000', 'o': '88.4240000000'}, 'GBPAUD': {'b': '2.0548600000', 'o': '2.0549200000'}, 'USDJPY': {'b': '148.6540000000',...
2025-07-16 00:10:56,730 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:10:57,563 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:57,568 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:58,582 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:58,586 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:58,974 - DEBUG - app.firebase_stream - Firebase listener triggered (78). Event Type: patch, Path: /. Timestamp: 1752649858.9744966
2025-07-16 00:10:58,975 - DEBUG - app.firebase_stream - Prepared batch update for 30 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0250000000', 'o': '13.0224000000'}, 'XAGUSD': {'b': '37.8740000000', 'o': '37.8690000000'}, 'NZDJPY': {'b': '88.4310000000', 'o': '88.4240000000'}, 'GBPAUD': {'b': '2.0548300000',
2025-07-16 00:10:58,976 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0250000000', 'o': '13.0224000000'}, 'XAGUSD': {'b': '37.8740000000', 'o': '37.8690000000'}, 'NZDJPY': {'b': '88.4310000000', 'o': '88.4240000000'}, 'GBPAUD': {'b': '2.0548300000',...
2025-07-16 00:10:58,976 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:10:59,593 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:59,598 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:00,603 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:00,605 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:01,228 - DEBUG - app.firebase_stream - Firebase listener triggered (79). Event Type: patch, Path: /. Timestamp: 1752649861.2279146
2025-07-16 00:11:01,228 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.8700000000', 'o': '37.8650000000'}, 'NZDJPY': {'b': '88.4330000000', 'o': '88.4240000000'}, 'GBPAUD': {'b': '2.0549800000', 'o': '2.0548200000'}, 'BTCUSD': {'b': '118071.700000000
2025-07-16 00:11:01,228 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.8700000000', 'o': '37.8650000000'}, 'NZDJPY': {'b': '88.4330000000', 'o': '88.4240000000'}, 'GBPAUD': {'b': '2.0549800000', 'o': '2.0548200000'}, 'BTCUSD': {'b': '118071.700000000...
2025-07-16 00:11:01,228 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:11:01,607 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:01,609 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:02,138 - WARNING - app - User 4 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:11:02,141 - WARNING - app - No user data found for user 5 (live). Skipping portfolio update.
2025-07-16 00:11:02,146 - WARNING - app - No group settings found for group string. Skipping portfolio update for user 8.
2025-07-16 00:11:02,164 - WARNING - app - User 9 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:11:02,182 - WARNING - app - User 10 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:11:02,213 - WARNING - app - User 11 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:11:02,244 - WARNING - app - User 12 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:11:02,269 - WARNING - app - User 13 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:11:02,633 - DEBUG - app.services.portfolio_calculator - Position calculation for BTCUSD: Type=BUY, Entry=118908.50000000, Current=118021.6, Quantity=0.40000000, Contract Size=1.00000000, PnL=-354.760000000000000000000000, PnL USD=-354.760000000000000000000000, Commission=235.57000000, Final PnL=-590.330000000000000000000000
2025-07-16 00:11:02,633 - WARNING - app.services.portfolio_calculator - MARGIN CALL ALERT: User has margin level 98.82157294117522204286868031% which is below threshold 100.0%
2025-07-16 00:11:02,634 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:02,635 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:02,654 - WARNING - app - User 16 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:11:02,690 - WARNING - app - User 17 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:11:02,719 - WARNING - app - User 18 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:11:02,744 - WARNING - app - User 19 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:11:02,769 - WARNING - app - User 20 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:11:02,792 - WARNING - app - User 21 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:11:02,818 - WARNING - app - User 22 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:11:02,843 - WARNING - app - User 23 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:11:02,870 - WARNING - app - User 24 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:11:02,898 - WARNING - app - User 25 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:11:03,357 - DEBUG - app.services.portfolio_calculator - Position calculation for XAGUSD: Type=BUY, Entry=41.09800000, Current=37.8525, Quantity=0.01000000, Contract Size=5000.00000000, PnL=-162.275000000000000000000000, PnL USD=-162.275000000000000000000000, Commission=0.10000000, Final PnL=-162.375000000000000000000000
2025-07-16 00:11:03,357 - DEBUG - app.services.portfolio_calculator - Position calculation for BTCUSD: Type=BUY, Entry=132091.90000000, Current=118021.6, Quantity=6.00000000, Contract Size=1.00000000, PnL=-84421.80000000000000000000000, PnL USD=-84421.80000000000000000000000, Commission=3661.62000000, Final PnL=-88083.42000000000000000000000
2025-07-16 00:11:03,358 - WARNING - app.services.portfolio_calculator - MARGIN CALL ALERT: User has margin level 65.60423436013387630784341849% which is below threshold 100.0%
2025-07-16 00:11:03,580 - DEBUG - app.firebase_stream - Firebase listener triggered (80). Event Type: patch, Path: /. Timestamp: 1752649863.5805779
2025-07-16 00:11:03,581 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0251000000', 'o': '13.0225000000'}, 'XAGUSD': {'b': '37.8710000000', 'o': '37.8660000000'}, 'NZDJPY': {'b': '88.4200000000', 'o': '88.4200000000'}, 'GBPAUD': {'b': '2.0549800000',
2025-07-16 00:11:03,581 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0251000000', 'o': '13.0225000000'}, 'XAGUSD': {'b': '37.8710000000', 'o': '37.8660000000'}, 'NZDJPY': {'b': '88.4200000000', 'o': '88.4200000000'}, 'GBPAUD': {'b': '2.0549800000',...
2025-07-16 00:11:03,581 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:11:03,762 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:03,764 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=96.66800000, Current=96.952, Quantity=0.01000000, Contract Size=100000.00000000, PnL=284.000000000000000000000000, PnL USD=1.910579497598320842807744574, Commission=0.10000000, Final PnL=1.810579497598320842807744574
2025-07-16 00:11:03,769 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=96.56000000, Current=97.05799999999999, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-497.9999999999900000000000000, PnL USD=-3.350241513394171387053805686, Commission=0.10000000, Final PnL=-3.450241513394171387053805686
2025-07-16 00:11:03,772 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:03,786 - WARNING - app - User 2 has no group_name set. Skipping portfolio update.
2025-07-16 00:11:03,842 - WARNING - app - No group settings found for group string. Skipping portfolio update for user 3.
2025-07-16 00:11:03,874 - WARNING - app - User 4 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:11:03,875 - WARNING - app - User 5 has no group_name set. Skipping portfolio update.
2025-07-16 00:11:03,876 - WARNING - app - User 6 has no group_name set. Skipping portfolio update.
2025-07-16 00:11:04,375 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64743000, Current=0.6523800000000001, Quantity=0.10000000, Contract Size=100000.00000000, PnL=49.50000000000100000000000000, PnL USD=49.50000000000100000000000000, Commission=1.00000000, Final PnL=48.50000000000100000000000000
2025-07-16 00:11:04,375 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=SELL, Entry=0.64707000, Current=0.65268, Quantity=0.22000000, Contract Size=100000.00000000, PnL=-123.420000000000000000000000, PnL USD=-123.420000000000000000000000, Commission=2.20000000, Final PnL=-125.620000000000000000000000
2025-07-16 00:11:04,376 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFSGD: Type=BUY, Entry=1.57561500, Current=1.6039750000000002, Quantity=0.10000000, Contract Size=100000.00000000, PnL=283.6000000000020000000000000, PnL USD=220.8499139495238021072632833, Commission=1.00000000, Final PnL=219.8499139495238021072632833
2025-07-16 00:11:04,378 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFSGD: Type=SELL, Entry=1.57505500, Current=1.604425, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-293.700000000000000000000000, PnL USD=-228.7151612375694049667868518, Commission=1.00000000, Final PnL=-229.7151612375694049667868518
2025-07-16 00:11:04,379 - DEBUG - app.services.portfolio_calculator - Position calculation for CADJPY: Type=SELL, Entry=106.24150000, Current=108.4295, Quantity=0.15000000, Contract Size=100000.00000000, PnL=-32820.00000000000000000000000, PnL USD=-220.7930250393552466934865385, Commission=0E-8, Final PnL=-220.7930250393552466934865385
2025-07-16 00:11:04,380 - DEBUG - app.services.portfolio_calculator - Position calculation for CADJPY: Type=BUY, Entry=106.27050000, Current=108.3965, Quantity=0.15000000, Contract Size=100000.00000000, PnL=31890.00000000000000000000000, PnL USD=214.5365499239804636518977975, Commission=0E-8, Final PnL=214.5365499239804636518977975
2025-07-16 00:11:04,380 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=BUY, Entry=1.77481000, Current=1.7814999999999999, Quantity=0.22000000, Contract Size=100000.00000000, PnL=147.1799999999978000000000000, PnL USD=96.04378079999856436800000000, Commission=2.20000000, Final PnL=93.84378079999856436800000000
2025-07-16 00:11:04,380 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=SELL, Entry=1.77439000, Current=1.78191, Quantity=0.21000000, Contract Size=100000.00000000, PnL=-157.920000000000000000000000, PnL USD=-103.0522752000000000000000000, Commission=2.10000000, Final PnL=-105.1522752000000000000000000
2025-07-16 00:11:04,381 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFJPY: Type=BUY, Entry=178.15500000, Current=185.685, Quantity=0.10000000, Contract Size=100000.00000000, PnL=75300.00000000000000000000000, PnL USD=506.5726625674421107867012903, Commission=1.00000000, Final PnL=505.5726625674421107867012903
2025-07-16 00:11:04,382 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFJPY: Type=SELL, Entry=178.09500000, Current=185.725, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-76300.00000000000000000000000, PnL USD=-513.3000551646192968529257430, Commission=1.00000000, Final PnL=-514.3000551646192968529257430
2025-07-16 00:11:04,382 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=BUY, Entry=1.77480000, Current=1.7814999999999999, Quantity=0.05000000, Contract Size=100000.00000000, PnL=33.49999999999950000000000000, PnL USD=21.86075999999967372000000000, Commission=0.50000000, Final PnL=21.36075999999967372000000000
2025-07-16 00:11:04,382 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=SELL, Entry=1.77442000, Current=1.78191, Quantity=0.05000000, Contract Size=100000.00000000, PnL=-37.450000000000000000000000, PnL USD=-24.43837200000000000000000000, Commission=0.50000000, Final PnL=-24.93837200000000000000000000
2025-07-16 00:11:04,382 - DEBUG - app.services.portfolio_calculator - Position calculation for EURGBP: Type=SELL, Entry=0.85403000, Current=0.86726, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-132.300000000000000000000000, PnL USD=-177.4023930000000000000000000, Commission=1.00000000, Final PnL=-178.4023930000000000000000000
2025-07-16 00:11:04,383 - DEBUG - app.services.portfolio_calculator - Position calculation for EURJPY: Type=BUY, Entry=167.26050000, Current=172.8205, Quantity=0.10000000, Contract Size=100000.00000000, PnL=55600.00000000000000000000000, PnL USD=374.0430284030515452820795716, Commission=1.00000000, Final PnL=373.0430284030515452820795716
2025-07-16 00:11:04,383 - DEBUG - app.services.portfolio_calculator - Position calculation for EURJPY: Type=SELL, Entry=167.23150000, Current=172.84949999999998, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-56179.99999999980000000000000, PnL USD=-377.9449161094129677219703187, Commission=1.00000000, Final PnL=-378.9449161094129677219703187
2025-07-16 00:11:04,383 - DEBUG - app.services.portfolio_calculator - Position calculation for EURNZD: Type=SELL, Entry=1.91952500, Current=1.954775, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-352.500000000000000000000000, PnL USD=-209.6811000000000000000000000, Commission=1.00000000, Final PnL=-210.6811000000000000000000000
2025-07-16 00:11:04,384 - DEBUG - app.services.portfolio_calculator - Position calculation for EURNZD: Type=BUY, Entry=1.92063500, Current=1.954315, Quantity=0.10000000, Contract Size=100000.00000000, PnL=336.800000000000000000000000, PnL USD=200.3421120000000000000000000, Commission=1.00000000, Final PnL=199.3421120000000000000000000
2025-07-16 00:11:04,384 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=SELL, Entry=1.34376000, Current=1.34101, Quantity=0.25000000, Contract Size=0E-8, PnL=0E-24, PnL USD=0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:11:04,384 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=SELL, Entry=1.34361000, Current=1.34101, Quantity=0.25000000, Contract Size=0E-8, PnL=0E-24, PnL USD=0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:11:04,384 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=BUY, Entry=1.34379000, Current=1.3408, Quantity=0.25000000, Contract Size=0E-8, PnL=-0E-24, PnL USD=-0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:11:04,384 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=BUY, Entry=1.34378000, Current=1.3408, Quantity=0.25000000, Contract Size=0E-8, PnL=-0E-24, PnL USD=-0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:11:04,385 - DEBUG - app.services.portfolio_calculator - Position calculation for NZDJPY: Type=BUY, Entry=87.10150000, Current=88.4115, Quantity=0.01000000, Contract Size=100000.00000000, PnL=1310.000000000000000000000000, PnL USD=8.812884302302113746754033072, Commission=0.10000000, Final PnL=8.712884302302113746754033072
2025-07-16 00:11:04,386 - DEBUG - app.services.portfolio_calculator - Position calculation for USDCHF: Type=SELL, Entry=0.81771000, Current=0.8006099999999999, Quantity=0.15000000, Contract Size=100000.00000000, PnL=256.5000000000015000000000000, PnL USD=320.4327403557884019588247052, Commission=1.50000000, Final PnL=318.9327403557884019588247052
2025-07-16 00:11:04,386 - DEBUG - app.services.portfolio_calculator - Position calculation for USDCHF: Type=BUY, Entry=0.81805000, Current=0.80028, Quantity=0.15000000, Contract Size=100000.00000000, PnL=-266.550000000000000000000000, PnL USD=-332.9877073755746552068758745, Commission=1.50000000, Final PnL=-334.4877073755746552068758745
2025-07-16 00:11:04,387 - DEBUG - app.services.portfolio_calculator - Position calculation for USDNOK: Type=BUY, Entry=10.04973000, Current=10.24816, Quantity=0.10000000, Contract Size=100000.00000000, PnL=1984.300000000000000000000000, PnL USD=193.5794789948266291533056211, Commission=1.00000000, Final PnL=192.5794789948266291533056211
2025-07-16 00:11:04,388 - DEBUG - app.services.portfolio_calculator - Position calculation for USDNOK: Type=BUY, Entry=10.05023000, Current=10.24816, Quantity=0.10000000, Contract Size=100000.00000000, PnL=1979.300000000000000000000000, PnL USD=193.0917012419797142988146025, Commission=1.00000000, Final PnL=192.0917012419797142988146025
2025-07-16 00:11:04,389 - DEBUG - app.services.portfolio_calculator - Position calculation for USDSGD: Type=SELL, Entry=1.28795000, Current=1.28428, Quantity=0.31000000, Contract Size=100000.00000000, PnL=113.770000000000000000000000, PnL USD=88.59694890704212190354559118, Commission=3.10000000, Final PnL=85.49694890704212190354559118
2025-07-16 00:11:04,390 - DEBUG - app.services.portfolio_calculator - Position calculation for USDTRY: Type=SELL, Entry=39.56087000, Current=40.252159999999996, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-6912.899999999960000000000000, PnL USD=-171.7404919654934002053562046, Commission=1.00000000, Final PnL=-172.7404919654934002053562046
2025-07-16 00:11:04,805 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:04,806 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:05,199 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.89752000, Current=0.89477, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-2.750000000000000000000000, PnL USD=-2.005469462169553327256153145, Commission=0.10000000, Final PnL=-2.105469462169553327256153145
2025-07-16 00:11:05,234 - WARNING - app - User 12 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:11:05,263 - WARNING - app - User 13 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:11:05,853 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:05,859 - DEBUG - app.firebase_stream - Firebase listener triggered (81). Event Type: patch, Path: /. Timestamp: 1752649865.8592792
2025-07-16 00:11:05,861 - DEBUG - app.firebase_stream - Prepared batch update for 38 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0256000000', 'o': '13.0230000000'}, 'NZDJPY': {'b': '88.4170000000', 'o': '88.4100000000'}, 'GBPAUD': {'b': '2.0551200000', 'o': '2.0549600000'}, 'BTCUSD': {'b': '118055.530000000
2025-07-16 00:11:05,862 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0256000000', 'o': '13.0230000000'}, 'NZDJPY': {'b': '88.4170000000', 'o': '88.4100000000'}, 'GBPAUD': {'b': '2.0551200000', 'o': '2.0549600000'}, 'BTCUSD': {'b': '118055.530000000...
2025-07-16 00:11:05,862 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:11:05,863 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:06,894 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:06,898 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:07,912 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:07,916 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:08,176 - DEBUG - app.firebase_stream - Firebase listener triggered (82). Event Type: patch, Path: /. Timestamp: 1752649868.1768386
2025-07-16 00:11:08,178 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.8730000000', 'o': '37.8680000000'}, 'GBPAUD': {'b': '2.0551200000', 'o': '2.0549500000'}, 'BTCUSD': {'b': '118036.0000000000', 'o': '118035.9000000000'}, 'USDJPY': {'b': '148.6530
2025-07-16 00:11:08,178 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.8730000000', 'o': '37.8680000000'}, 'GBPAUD': {'b': '2.0551200000', 'o': '2.0549500000'}, 'BTCUSD': {'b': '118036.0000000000', 'o': '118035.9000000000'}, 'USDJPY': {'b': '148.6530...
2025-07-16 00:11:08,178 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:11:08,930 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:08,933 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:09,942 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:09,947 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:10,446 - DEBUG - app.firebase_stream - Firebase listener triggered (83). Event Type: patch, Path: /. Timestamp: 1752649870.4462535
2025-07-16 00:11:10,446 - DEBUG - app.firebase_stream - Prepared batch update for 27 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4300000000', 'o': '88.4220000000'}, 'USDJPY': {'b': '148.6570000000', 'o': '148.6520000000'}, 'USDCNH': {'b': '7.1807200000', 'o': '7.1806800000'}, 'CADCHF': {'b': '0.5837900000',
2025-07-16 00:11:10,448 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4300000000', 'o': '88.4220000000'}, 'USDJPY': {'b': '148.6570000000', 'o': '148.6520000000'}, 'USDCNH': {'b': '7.1807200000', 'o': '7.1806800000'}, 'CADCHF': {'b': '0.5837900000',...
2025-07-16 00:11:10,455 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:11:10,958 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:10,963 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:11,975 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:11,978 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:12,710 - DEBUG - app.firebase_stream - Firebase listener triggered (84). Event Type: patch, Path: /. Timestamp: 1752649872.7106616
2025-07-16 00:11:12,711 - DEBUG - app.firebase_stream - Prepared batch update for 27 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0259000000', 'o': '13.0233000000'}, 'NZDJPY': {'b': '88.4240000000', 'o': '88.4160000000'}, 'GBPAUD': {'b': '2.0551200000', 'o': '2.0549700000'}, 'USDJPY': {'b': '148.6580000000',
2025-07-16 00:11:12,712 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0259000000', 'o': '13.0233000000'}, 'NZDJPY': {'b': '88.4240000000', 'o': '88.4160000000'}, 'GBPAUD': {'b': '2.0551200000', 'o': '2.0549700000'}, 'USDJPY': {'b': '148.6580000000',...
2025-07-16 00:11:12,717 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:11:12,989 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:12,994 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:13,996 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:14,001 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:15,015 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:15,021 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:15,053 - DEBUG - app.firebase_stream - Firebase listener triggered (85). Event Type: patch, Path: /. Timestamp: 1752649875.0537539
2025-07-16 00:11:15,054 - DEBUG - app.firebase_stream - Prepared batch update for 24 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0247000000', 'o': '13.0221000000'}, 'NZDJPY': {'b': '88.4240000000', 'o': '88.4180000000'}, 'BTCUSD': {'b': '118041.5000000000', 'o': '118041.4000000000'}, 'USDCNH': {'b': '7.1805
2025-07-16 00:11:15,055 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0247000000', 'o': '13.0221000000'}, 'NZDJPY': {'b': '88.4240000000', 'o': '88.4180000000'}, 'BTCUSD': {'b': '118041.5000000000', 'o': '118041.4000000000'}, 'USDCNH': {'b': '7.1805...
2025-07-16 00:11:15,059 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:11:16,027 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:16,032 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:17,034 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:17,039 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:17,415 - DEBUG - app.firebase_stream - Firebase listener triggered (86). Event Type: patch, Path: /. Timestamp: 1752649877.4157736
2025-07-16 00:11:17,416 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0254000000', 'o': '13.0228000000'}, 'XAGUSD': {'b': '37.8730000000', 'o': '37.8690000000'}, 'NZDJPY': {'b': '88.4240000000', 'o': '88.4200000000'}, 'GBPAUD': {'b': '2.0549800000',
2025-07-16 00:11:17,417 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0254000000', 'o': '13.0228000000'}, 'XAGUSD': {'b': '37.8730000000', 'o': '37.8690000000'}, 'NZDJPY': {'b': '88.4240000000', 'o': '88.4200000000'}, 'GBPAUD': {'b': '2.0549800000',...
2025-07-16 00:11:17,422 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:11:18,042 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:18,047 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:19,058 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:19,062 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:19,667 - DEBUG - app.firebase_stream - Firebase listener triggered (87). Event Type: patch, Path: /. Timestamp: 1752649879.6669502
2025-07-16 00:11:19,667 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0247000000', 'o': '13.0223300000'}, 'XAGUSD': {'b': '37.8720000000', 'o': '37.8660000000'}, 'NZDJPY': {'b': '88.4280000000', 'o': '88.4210000000'}, 'GBPAUD': {'b': '2.0550200000',
2025-07-16 00:11:19,668 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0247000000', 'o': '13.0223300000'}, 'XAGUSD': {'b': '37.8720000000', 'o': '37.8660000000'}, 'NZDJPY': {'b': '88.4280000000', 'o': '88.4210000000'}, 'GBPAUD': {'b': '2.0550200000',...
2025-07-16 00:11:19,668 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:11:20,070 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:20,074 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:21,091 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:21,096 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:21,950 - DEBUG - app.firebase_stream - Firebase listener triggered (88). Event Type: patch, Path: /. Timestamp: 1752649881.9508898
2025-07-16 00:11:21,951 - DEBUG - app.firebase_stream - Prepared batch update for 35 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0255000000', 'o': '13.0229000000'}, 'XAGUSD': {'b': '37.8710000000', 'o': '37.8670000000'}, 'NZDJPY': {'b': '88.4240000000', 'o': '88.4170000000'}, 'GBPAUD': {'b': '2.0550100000',
2025-07-16 00:11:21,952 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0255000000', 'o': '13.0229000000'}, 'XAGUSD': {'b': '37.8710000000', 'o': '37.8670000000'}, 'NZDJPY': {'b': '88.4240000000', 'o': '88.4170000000'}, 'GBPAUD': {'b': '2.0550100000',...
2025-07-16 00:11:21,954 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:11:22,098 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:22,102 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:23,112 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:23,115 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:24,124 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:24,127 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:24,271 - DEBUG - app.firebase_stream - Firebase listener triggered (89). Event Type: patch, Path: /. Timestamp: 1752649884.2715712
2025-07-16 00:11:24,272 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0264000000', 'o': '13.0239000000'}, 'XAGUSD': {'b': '37.8720000000', 'o': '37.8660000000'}, 'NZDJPY': {'b': '88.4280000000', 'o': '88.4190000000'}, 'USDJPY': {'b': '148.6570000000
2025-07-16 00:11:24,273 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0264000000', 'o': '13.0239000000'}, 'XAGUSD': {'b': '37.8720000000', 'o': '37.8660000000'}, 'NZDJPY': {'b': '88.4280000000', 'o': '88.4190000000'}, 'USDJPY': {'b': '148.6570000000...
2025-07-16 00:11:24,282 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:11:25,141 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:25,145 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:26,159 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:26,163 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:26,620 - DEBUG - app.firebase_stream - Firebase listener triggered (90). Event Type: patch, Path: /. Timestamp: 1752649886.6202526
2025-07-16 00:11:26,620 - DEBUG - app.firebase_stream - Prepared batch update for 25 symbols from root path for queue. Preview: {'GBPAUD': {'b': '2.0549500000', 'o': '2.0549100000'}, 'BTCUSD': {'b': '118037.4000000000', 'o': '118035.9000000000'}, 'USDJPY': {'b': '148.6570000000', 'o': '148.6520000000'}, 'EURZAR': {'b': '20.810
2025-07-16 00:11:26,621 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPAUD': {'b': '2.0549500000', 'o': '2.0549100000'}, 'BTCUSD': {'b': '118037.4000000000', 'o': '118035.9000000000'}, 'USDJPY': {'b': '148.6570000000', 'o': '148.6520000000'}, 'EURZAR': {'b': '20.810...
2025-07-16 00:11:26,622 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:11:27,180 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:27,183 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:28,193 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:28,197 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:28,861 - DEBUG - app.firebase_stream - Firebase listener triggered (91). Event Type: patch, Path: /. Timestamp: 1752649888.8614423
2025-07-16 00:11:28,861 - DEBUG - app.firebase_stream - Prepared batch update for 26 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.8760000000', 'o': '37.8720000000'}, 'NZDJPY': {'b': '88.4280000000', 'o': '88.4200000000'}, 'GBPAUD': {'b': '2.0549600000', 'o': '2.0548900000'}, 'BTCUSD': {'b': '118037.400000000
2025-07-16 00:11:28,862 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.8760000000', 'o': '37.8720000000'}, 'NZDJPY': {'b': '88.4280000000', 'o': '88.4200000000'}, 'GBPAUD': {'b': '2.0549600000', 'o': '2.0548900000'}, 'BTCUSD': {'b': '118037.400000000...
2025-07-16 00:11:28,862 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:11:29,214 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:29,218 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:30,228 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:30,232 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:31,238 - DEBUG - app.firebase_stream - Firebase listener triggered (92). Event Type: patch, Path: /. Timestamp: 1752649891.238226
2025-07-16 00:11:31,238 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:31,239 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0251000000', 'o': '13.0225000000'}, 'XAGUSD': {'b': '37.8740000000', 'o': '37.8690000000'}, 'NZDJPY': {'b': '88.4290000000', 'o': '88.4210000000'}, 'GBPAUD': {'b': '2.0548400000',
2025-07-16 00:11:31,242 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:31,248 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0251000000', 'o': '13.0225000000'}, 'XAGUSD': {'b': '37.8740000000', 'o': '37.8690000000'}, 'NZDJPY': {'b': '88.4290000000', 'o': '88.4210000000'}, 'GBPAUD': {'b': '2.0548400000',...
2025-07-16 00:11:31,248 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:11:32,274 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:32,278 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:33,292 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:33,297 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:33,456 - DEBUG - app.firebase_stream - Firebase listener triggered (93). Event Type: patch, Path: /. Timestamp: 1752649893.456089
2025-07-16 00:11:33,456 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.8720000000', 'o': '37.8690000000'}, 'NZDJPY': {'b': '88.4280000000', 'o': '88.4210000000'}, 'GBPAUD': {'b': '2.0548400000', 'o': '2.0547000000'}, 'BTCUSD': {'b': '118071.700000000
2025-07-16 00:11:33,457 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.8720000000', 'o': '37.8690000000'}, 'NZDJPY': {'b': '88.4280000000', 'o': '88.4210000000'}, 'GBPAUD': {'b': '2.0548400000', 'o': '2.0547000000'}, 'BTCUSD': {'b': '118071.700000000...
2025-07-16 00:11:33,458 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:11:34,300 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:34,304 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:35,319 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:35,325 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:35,799 - DEBUG - app.firebase_stream - Firebase listener triggered (94). Event Type: patch, Path: /. Timestamp: 1752649895.799687
2025-07-16 00:11:35,800 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0252000000', 'o': '13.0226000000'}, 'NZDJPY': {'b': '88.4270000000', 'o': '88.4200000000'}, 'GBPAUD': {'b': '2.0548500000', 'o': '2.0547800000'}, 'BTCUSD': {'b': '118041.400000000
2025-07-16 00:11:35,801 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0252000000', 'o': '13.0226000000'}, 'NZDJPY': {'b': '88.4270000000', 'o': '88.4200000000'}, 'GBPAUD': {'b': '2.0548500000', 'o': '2.0547800000'}, 'BTCUSD': {'b': '118041.400000000...
2025-07-16 00:11:35,803 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:11:36,332 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:36,336 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:37,345 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:37,349 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:38,079 - DEBUG - app.firebase_stream - Firebase listener triggered (95). Event Type: patch, Path: /. Timestamp: 1752649898.079835
2025-07-16 00:11:38,080 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.8750000000', 'o': '37.8710000000'}, 'NZDJPY': {'b': '88.4280000000', 'o': '88.4200000000'}, 'GBPAUD': {'b': '2.0549800000', 'o': '2.0549600000'}, 'BTCUSD': {'b': '118045.990000000
2025-07-16 00:11:38,080 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.8750000000', 'o': '37.8710000000'}, 'NZDJPY': {'b': '88.4280000000', 'o': '88.4200000000'}, 'GBPAUD': {'b': '2.0549800000', 'o': '2.0549600000'}, 'BTCUSD': {'b': '118045.990000000...
2025-07-16 00:11:38,089 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:11:38,351 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:38,356 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:39,372 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:39,375 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:40,355 - DEBUG - app.firebase_stream - Firebase listener triggered (96). Event Type: patch, Path: /. Timestamp: 1752649900.3556545
2025-07-16 00:11:40,356 - DEBUG - app.firebase_stream - Prepared batch update for 27 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.8730000000', 'o': '37.8690000000'}, 'NZDJPY': {'b': '88.4290000000', 'o': '88.4220000000'}, 'GBPAUD': {'b': '2.0548600000', 'o': '2.0547600000'}, 'BTCUSD': {'b': '118048.000000000
2025-07-16 00:11:40,357 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.8730000000', 'o': '37.8690000000'}, 'NZDJPY': {'b': '88.4290000000', 'o': '88.4220000000'}, 'GBPAUD': {'b': '2.0548600000', 'o': '2.0547600000'}, 'BTCUSD': {'b': '118048.000000000...
2025-07-16 00:11:40,361 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:11:40,383 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:40,397 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:41,412 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:41,415 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:42,423 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:42,427 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:42,962 - DEBUG - app.firebase_stream - Firebase listener triggered (97). Event Type: patch, Path: /. Timestamp: 1752649902.9624975
2025-07-16 00:11:42,962 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0254000000', 'o': '13.0228000000'}, 'XAGUSD': {'b': '37.8870000000', 'o': '37.8850000000'}, 'NZDJPY': {'b': '88.4330000000', 'o': '88.4240000000'}, 'GBPAUD': {'b': '2.0548700000',
2025-07-16 00:11:42,963 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0254000000', 'o': '13.0228000000'}, 'XAGUSD': {'b': '37.8870000000', 'o': '37.8850000000'}, 'NZDJPY': {'b': '88.4330000000', 'o': '88.4240000000'}, 'GBPAUD': {'b': '2.0548700000',...
2025-07-16 00:11:42,963 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:11:43,430 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:43,432 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:44,438 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:44,442 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:45,273 - DEBUG - app.firebase_stream - Firebase listener triggered (98). Event Type: patch, Path: /. Timestamp: 1752649905.2734861
2025-07-16 00:11:45,274 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0256000000', 'o': '13.0230000000'}, 'XAGUSD': {'b': '37.8850000000', 'o': '37.8800000000'}, 'NZDJPY': {'b': '88.4290000000', 'o': '88.4220000000'}, 'GBPAUD': {'b': '2.0548800000',
2025-07-16 00:11:45,275 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0256000000', 'o': '13.0230000000'}, 'XAGUSD': {'b': '37.8850000000', 'o': '37.8800000000'}, 'NZDJPY': {'b': '88.4290000000', 'o': '88.4220000000'}, 'GBPAUD': {'b': '2.0548800000',...
2025-07-16 00:11:45,278 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:11:45,445 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:45,448 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:46,451 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:46,454 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:47,464 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:47,466 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:47,570 - DEBUG - app.firebase_stream - Firebase listener triggered (99). Event Type: patch, Path: /. Timestamp: 1752649907.5707061
2025-07-16 00:11:47,571 - DEBUG - app.firebase_stream - Prepared batch update for 24 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0255000000', 'o': '13.0229000000'}, 'NZDJPY': {'b': '88.4300000000', 'o': '88.4220000000'}, 'GBPAUD': {'b': '2.0548800000', 'o': '2.0547400000'}, 'BTCUSD': {'b': '118058.000000000
2025-07-16 00:11:47,571 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0255000000', 'o': '13.0229000000'}, 'NZDJPY': {'b': '88.4300000000', 'o': '88.4220000000'}, 'GBPAUD': {'b': '2.0548800000', 'o': '2.0547400000'}, 'BTCUSD': {'b': '118058.000000000...
2025-07-16 00:11:47,571 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:11:48,482 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:48,487 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:49,502 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:49,506 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:49,873 - DEBUG - app.firebase_stream - Firebase listener triggered (100). Event Type: patch, Path: /. Timestamp: 1752649909.873826
2025-07-16 00:11:49,874 - DEBUG - app.firebase_stream - Prepared batch update for 30 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.8850000000', 'o': '37.8810000000'}, 'NZDJPY': {'b': '88.4310000000', 'o': '88.4230000000'}, 'USDJPY': {'b': '148.6550000000', 'o': '148.6520000000'}, 'CADCHF': {'b': '0.5838000000
2025-07-16 00:11:49,875 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'XAGUSD': {'b': '37.8850000000', 'o': '37.8810000000'}, 'NZDJPY': {'b': '88.4310000000', 'o': '88.4230000000'}, 'USDJPY': {'b': '148.6550000000', 'o': '148.6520000000'}, 'CADCHF': {'b': '0.5838000000...
2025-07-16 00:11:49,877 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:11:50,524 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:50,528 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:51,535 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:51,538 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:52,162 - DEBUG - app.firebase_stream - Firebase listener triggered (101). Event Type: patch, Path: /. Timestamp: 1752649912.162377
2025-07-16 00:11:52,162 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4280000000', 'o': '88.4220000000'}, 'GBPAUD': {'b': '2.0548600000', 'o': '2.0547400000'}, 'USDJPY': {'b': '148.6540000000', 'o': '148.6510000000'}, 'USDCNH': {'b': '7.1807500000',
2025-07-16 00:11:52,163 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'NZDJPY': {'b': '88.4280000000', 'o': '88.4220000000'}, 'GBPAUD': {'b': '2.0548600000', 'o': '2.0547400000'}, 'USDJPY': {'b': '148.6540000000', 'o': '148.6510000000'}, 'USDCNH': {'b': '7.1807500000',...
2025-07-16 00:11:52,163 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:11:52,547 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:52,550 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:53,554 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:53,558 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:54,476 - DEBUG - app.firebase_stream - Firebase listener triggered (102). Event Type: patch, Path: /. Timestamp: 1752649914.4761891
2025-07-16 00:11:54,476 - DEBUG - app.firebase_stream - Prepared batch update for 34 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0253000000', 'o': '13.0227000000'}, 'XAGUSD': {'b': '37.8890000000', 'o': '37.8840000000'}, 'NZDJPY': {'b': '88.4310000000', 'o': '88.4220000000'}, 'GBPAUD': {'b': '2.0548600000',
2025-07-16 00:11:54,477 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0253000000', 'o': '13.0227000000'}, 'XAGUSD': {'b': '37.8890000000', 'o': '37.8840000000'}, 'NZDJPY': {'b': '88.4310000000', 'o': '88.4220000000'}, 'GBPAUD': {'b': '2.0548600000',...
2025-07-16 00:11:54,483 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:11:54,562 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:54,565 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:55,576 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:55,579 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:56,595 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:56,599 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:56,829 - DEBUG - app.firebase_stream - Firebase listener triggered (103). Event Type: patch, Path: /. Timestamp: 1752649916.8295667
2025-07-16 00:11:56,830 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0254000000', 'o': '13.0228000000'}, 'XAGUSD': {'b': '37.8910000000', 'o': '37.8860000000'}, 'NZDJPY': {'b': '88.4310000000', 'o': '88.4240000000'}, 'GBPAUD': {'b': '2.0548800000',
2025-07-16 00:11:56,831 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0254000000', 'o': '13.0228000000'}, 'XAGUSD': {'b': '37.8910000000', 'o': '37.8860000000'}, 'NZDJPY': {'b': '88.4310000000', 'o': '88.4240000000'}, 'GBPAUD': {'b': '2.0548800000',...
2025-07-16 00:11:56,836 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:11:57,601 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:57,605 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:58,611 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:58,615 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:59,072 - DEBUG - app.firebase_stream - Firebase listener triggered (104). Event Type: patch, Path: /. Timestamp: 1752649919.0727584
2025-07-16 00:11:59,073 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0256000000', 'o': '13.0230000000'}, 'XAGUSD': {'b': '37.8900000000', 'o': '37.8840000000'}, 'GBPAUD': {'b': '2.0549100000', 'o': '2.0547700000'}, 'EURNZD': {'b': '1.9547000000', '
2025-07-16 00:11:59,074 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0256000000', 'o': '13.0230000000'}, 'XAGUSD': {'b': '37.8900000000', 'o': '37.8840000000'}, 'GBPAUD': {'b': '2.0549100000', 'o': '2.0547700000'}, 'EURNZD': {'b': '1.9547000000', '...
2025-07-16 00:11:59,078 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:11:59,632 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:59,637 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:00,654 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:00,658 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:01,436 - DEBUG - app.firebase_stream - Firebase listener triggered (105). Event Type: patch, Path: /. Timestamp: 1752649921.436047
2025-07-16 00:12:01,436 - DEBUG - app.firebase_stream - Prepared batch update for 26 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0254000000', 'o': '13.0228000000'}, 'NZDJPY': {'b': '88.4340000000', 'o': '88.4260000000'}, 'BTCUSD': {'b': '118061.8700000000', 'o': '118061.8700000000'}, 'USDJPY': {'b': '148.65
2025-07-16 00:12:01,438 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0254000000', 'o': '13.0228000000'}, 'NZDJPY': {'b': '88.4340000000', 'o': '88.4260000000'}, 'BTCUSD': {'b': '118061.8700000000', 'o': '118061.8700000000'}, 'USDJPY': {'b': '148.65...
2025-07-16 00:12:01,443 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:12:01,675 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:01,679 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:02,144 - WARNING - app - User 4 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:12:02,147 - WARNING - app - No user data found for user 5 (live). Skipping portfolio update.
2025-07-16 00:12:02,152 - WARNING - app - No group settings found for group string. Skipping portfolio update for user 8.
2025-07-16 00:12:02,173 - WARNING - app - User 9 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:12:02,189 - WARNING - app - User 10 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:12:02,205 - WARNING - app - User 11 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:12:02,230 - WARNING - app - User 12 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:12:02,248 - WARNING - app - User 13 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:12:02,644 - DEBUG - app.services.portfolio_calculator - Position calculation for BTCUSD: Type=BUY, Entry=118908.50000000, Current=118011.87, Quantity=0.40000000, Contract Size=1.00000000, PnL=-358.652000000000000000000000, PnL USD=-358.652000000000000000000000, Commission=235.57000000, Final PnL=-594.222000000000000000000000
2025-07-16 00:12:02,645 - WARNING - app.services.portfolio_calculator - MARGIN CALL ALERT: User has margin level 98.78026856335690399703695214% which is below threshold 100.0%
2025-07-16 00:12:02,676 - WARNING - app - User 16 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:12:02,681 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:02,686 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:02,706 - WARNING - app - User 17 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:12:02,728 - WARNING - app - User 18 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:12:02,747 - WARNING - app - User 19 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:12:02,765 - WARNING - app - User 20 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:12:02,780 - WARNING - app - User 21 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:12:02,792 - WARNING - app - User 22 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:12:02,805 - WARNING - app - User 23 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:12:02,825 - WARNING - app - User 24 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:12:02,840 - WARNING - app - User 25 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:12:03,257 - DEBUG - app.services.portfolio_calculator - Position calculation for XAGUSD: Type=BUY, Entry=41.09800000, Current=37.8715, Quantity=0.01000000, Contract Size=5000.00000000, PnL=-161.325000000000000000000000, PnL USD=-161.325000000000000000000000, Commission=0.10000000, Final PnL=-161.425000000000000000000000
2025-07-16 00:12:03,257 - DEBUG - app.services.portfolio_calculator - Position calculation for BTCUSD: Type=BUY, Entry=132091.90000000, Current=118011.87, Quantity=6.00000000, Contract Size=1.00000000, PnL=-84480.18000000000000000000000, PnL USD=-84480.18000000000000000000000, Commission=3661.62000000, Final PnL=-88141.80000000000000000000000
2025-07-16 00:12:03,257 - WARNING - app.services.portfolio_calculator - MARGIN CALL ALERT: User has margin level 65.56502883889329701640044163% which is below threshold 100.0%
2025-07-16 00:12:03,686 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=96.66800000, Current=96.94500000000001, Quantity=0.01000000, Contract Size=100000.00000000, PnL=277.0000000000100000000000000, PnL USD=1.863312256155051796044665680, Commission=0.10000000, Final PnL=1.763312256155051796044665680
2025-07-16 00:12:03,693 - DEBUG - app.firebase_stream - Firebase listener triggered (106). Event Type: patch, Path: /. Timestamp: 1752649923.693873
2025-07-16 00:12:03,694 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=96.56000000, Current=97.051, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-491.000000000000000000000000, PnL USD=-3.302838692318041167765370644, Commission=0.10000000, Final PnL=-3.402838692318041167765370644
2025-07-16 00:12:03,694 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:03,694 - DEBUG - app.firebase_stream - Prepared batch update for 30 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.8910000000', 'o': '37.8860000000'}, 'NZDJPY': {'b': '88.4350000000', 'o': '88.4270000000'}, 'BTCUSD': {'b': '118062.1000000000', 'o': '118062.0000000000'}, 'USDJPY': {'b': '148.66
2025-07-16 00:12:03,696 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.8910000000', 'o': '37.8860000000'}, 'NZDJPY': {'b': '88.4350000000', 'o': '88.4270000000'}, 'BTCUSD': {'b': '118062.1000000000', 'o': '118062.0000000000'}, 'USDJPY': {'b': '148.66...
2025-07-16 00:12:03,696 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:12:03,703 - WARNING - app - User 2 has no group_name set. Skipping portfolio update.
2025-07-16 00:12:03,706 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:03,764 - WARNING - app - No group settings found for group string. Skipping portfolio update for user 3.
2025-07-16 00:12:03,820 - WARNING - app - User 4 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:12:03,820 - WARNING - app - User 5 has no group_name set. Skipping portfolio update.
2025-07-16 00:12:03,821 - WARNING - app - User 6 has no group_name set. Skipping portfolio update.
2025-07-16 00:12:04,279 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64743000, Current=0.65239, Quantity=0.10000000, Contract Size=100000.00000000, PnL=49.600000000000000000000000, PnL USD=49.600000000000000000000000, Commission=1.00000000, Final PnL=48.600000000000000000000000
2025-07-16 00:12:04,279 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=SELL, Entry=0.64707000, Current=0.65269, Quantity=0.22000000, Contract Size=100000.00000000, PnL=-123.640000000000000000000000, PnL USD=-123.640000000000000000000000, Commission=2.20000000, Final PnL=-125.840000000000000000000000
2025-07-16 00:12:04,280 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFSGD: Type=BUY, Entry=1.57561500, Current=1.6040050000000001, Quantity=0.10000000, Contract Size=100000.00000000, PnL=283.9000000000010000000000000, PnL USD=221.0852568295805687941936891, Commission=1.00000000, Final PnL=220.0852568295805687941936891
2025-07-16 00:12:04,281 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFSGD: Type=SELL, Entry=1.57505500, Current=1.604425, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-293.700000000000000000000000, PnL USD=-228.7169423418372114755630315, Commission=1.00000000, Final PnL=-229.7169423418372114755630315
2025-07-16 00:12:04,281 - DEBUG - app.services.portfolio_calculator - Position calculation for CADJPY: Type=SELL, Entry=106.24150000, Current=108.4325, Quantity=0.15000000, Contract Size=100000.00000000, PnL=-32865.00000000000000000000000, PnL USD=-221.0749360957890488362706848, Commission=0E-8, Final PnL=-221.0749360957890488362706848
2025-07-16 00:12:04,282 - DEBUG - app.services.portfolio_calculator - Position calculation for CADJPY: Type=BUY, Entry=106.27050000, Current=108.3995, Quantity=0.15000000, Contract Size=100000.00000000, PnL=31935.00000000000000000000000, PnL USD=214.8190501816224942822548096, Commission=0E-8, Final PnL=214.8190501816224942822548096
2025-07-16 00:12:04,282 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=BUY, Entry=1.77481000, Current=1.7816599999999998, Quantity=0.22000000, Contract Size=100000.00000000, PnL=150.6999999999956000000000000, PnL USD=98.33627099999712886800000000, Commission=2.20000000, Final PnL=96.13627099999712886800000000
2025-07-16 00:12:04,282 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=SELL, Entry=1.77439000, Current=1.7820600000000002, Quantity=0.21000000, Contract Size=100000.00000000, PnL=-161.0700000000042000000000000, PnL USD=-105.1030071000027406260000000, Commission=2.10000000, Final PnL=-107.2030071000027406260000000
2025-07-16 00:12:04,283 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFJPY: Type=BUY, Entry=178.15500000, Current=185.685, Quantity=0.10000000, Contract Size=100000.00000000, PnL=75300.00000000000000000000000, PnL USD=506.5249562760661913090273106, Commission=1.00000000, Final PnL=505.5249562760661913090273106
2025-07-16 00:12:04,283 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFJPY: Type=SELL, Entry=178.09500000, Current=185.73499999999999, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-76399.99999999990000000000000, PnL USD=-513.9243912283055293959370375, Commission=1.00000000, Final PnL=-514.9243912283055293959370375
2025-07-16 00:12:04,284 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=BUY, Entry=1.77480000, Current=1.7816599999999998, Quantity=0.05000000, Contract Size=100000.00000000, PnL=34.29999999999900000000000000, PnL USD=22.38177899999934747000000000, Commission=0.50000000, Final PnL=21.88177899999934747000000000
2025-07-16 00:12:04,284 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=SELL, Entry=1.77442000, Current=1.7820600000000002, Quantity=0.05000000, Contract Size=100000.00000000, PnL=-38.20000000000100000000000000, PnL USD=-24.92664600000065253000000000, Commission=0.50000000, Final PnL=-25.42664600000065253000000000
2025-07-16 00:12:04,284 - DEBUG - app.services.portfolio_calculator - Position calculation for EURGBP: Type=SELL, Entry=0.85403000, Current=0.86732, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-132.900000000000000000000000, PnL USD=-178.2029520000000000000000000, Commission=1.00000000, Final PnL=-179.2029520000000000000000000
2025-07-16 00:12:04,286 - DEBUG - app.services.portfolio_calculator - Position calculation for EURJPY: Type=BUY, Entry=167.26050000, Current=172.8255, Quantity=0.10000000, Contract Size=100000.00000000, PnL=55650.00000000000000000000000, PnL USD=374.3441409928696354096596260, Commission=1.00000000, Final PnL=373.3441409928696354096596260
2025-07-16 00:12:04,288 - DEBUG - app.services.portfolio_calculator - Position calculation for EURJPY: Type=SELL, Entry=167.23150000, Current=172.85549999999998, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-56239.99999999980000000000000, PnL USD=-378.3129288308879321942688013, Commission=1.00000000, Final PnL=-379.3129288308879321942688013
2025-07-16 00:12:04,288 - DEBUG - app.services.portfolio_calculator - Position calculation for EURNZD: Type=SELL, Entry=1.91952500, Current=1.954825, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-353.000000000000000000000000, PnL USD=-209.9961700000000000000000000, Commission=1.00000000, Final PnL=-210.9961700000000000000000000
2025-07-16 00:12:04,288 - DEBUG - app.services.portfolio_calculator - Position calculation for EURNZD: Type=BUY, Entry=1.92063500, Current=1.9544050000000002, Quantity=0.10000000, Contract Size=100000.00000000, PnL=337.7000000000020000000000000, PnL USD=200.8943530000011897800000000, Commission=1.00000000, Final PnL=199.8943530000011897800000000
2025-07-16 00:12:04,288 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=SELL, Entry=1.34376000, Current=1.34097, Quantity=0.25000000, Contract Size=0E-8, PnL=0E-24, PnL USD=0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:12:04,288 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=SELL, Entry=1.34361000, Current=1.34097, Quantity=0.25000000, Contract Size=0E-8, PnL=0E-24, PnL USD=0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:12:04,288 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=BUY, Entry=1.34379000, Current=1.34076, Quantity=0.25000000, Contract Size=0E-8, PnL=-0E-24, PnL USD=-0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:12:04,288 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=BUY, Entry=1.34378000, Current=1.34076, Quantity=0.25000000, Contract Size=0E-8, PnL=-0E-24, PnL USD=-0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:12:04,290 - DEBUG - app.services.portfolio_calculator - Position calculation for NZDJPY: Type=BUY, Entry=87.10150000, Current=88.4135, Quantity=0.01000000, Contract Size=100000.00000000, PnL=1312.000000000000000000000000, PnL USD=8.825507870308085564375084084, Commission=0.10000000, Final PnL=8.725507870308085564375084084
2025-07-16 00:12:04,294 - DEBUG - app.services.portfolio_calculator - Position calculation for USDCHF: Type=SELL, Entry=0.81771000, Current=0.8006, Quantity=0.15000000, Contract Size=100000.00000000, PnL=256.650000000000000000000000, PnL USD=320.6321444187644449996876757, Commission=1.50000000, Final PnL=319.1321444187644449996876757
2025-07-16 00:12:04,295 - DEBUG - app.services.portfolio_calculator - Position calculation for USDCHF: Type=BUY, Entry=0.81805000, Current=0.80027, Quantity=0.15000000, Contract Size=100000.00000000, PnL=-266.700000000000000000000000, PnL USD=-333.1875819851333624836029733, Commission=1.50000000, Final PnL=-334.6875819851333624836029733
2025-07-16 00:12:04,296 - DEBUG - app.services.portfolio_calculator - Position calculation for USDNOK: Type=BUY, Entry=10.04973000, Current=10.250020000000001, Quantity=0.10000000, Contract Size=100000.00000000, PnL=2002.900000000010000000000000, PnL USD=195.3677105331190651534586103, Commission=1.00000000, Final PnL=194.3677105331190651534586103
2025-07-16 00:12:04,297 - DEBUG - app.services.portfolio_calculator - Position calculation for USDNOK: Type=BUY, Entry=10.05023000, Current=10.250020000000001, Quantity=0.10000000, Contract Size=100000.00000000, PnL=1997.900000000010000000000000, PnL USD=194.8799984393222752744599808, Commission=1.00000000, Final PnL=193.8799984393222752744599808
2025-07-16 00:12:04,298 - DEBUG - app.services.portfolio_calculator - Position calculation for USDSGD: Type=SELL, Entry=1.28795000, Current=1.28427, Quantity=0.31000000, Contract Size=100000.00000000, PnL=114.080000000000000000000000, PnL USD=88.83904931003333021835965486, Commission=3.10000000, Final PnL=85.73904931003333021835965486
2025-07-16 00:12:04,299 - DEBUG - app.services.portfolio_calculator - Position calculation for USDTRY: Type=SELL, Entry=39.56087000, Current=40.2517200000, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-6908.500000000000000000000000, PnL USD=-171.6324171985694027485036664, Commission=1.00000000, Final PnL=-172.6324171985694027485036664
2025-07-16 00:12:04,734 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:04,739 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:05,100 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.89752000, Current=0.89472, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-2.800000000000000000000000, PnL USD=-2.041977217368474788874141276, Commission=0.10000000, Final PnL=-2.141977217368474788874141276
2025-07-16 00:12:05,123 - WARNING - app - User 12 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:12:05,151 - WARNING - app - User 13 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:12:05,746 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:05,751 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:06,056 - DEBUG - app.firebase_stream - Firebase listener triggered (107). Event Type: patch, Path: /. Timestamp: 1752649926.056771
2025-07-16 00:12:06,057 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0260000000', 'o': '13.0234000000'}, 'XAGUSD': {'b': '37.8930000000', 'o': '37.8890000000'}, 'NZDJPY': {'b': '88.4330000000', 'o': '88.4260000000'}, 'GBPAUD': {'b': '2.0549400000',
2025-07-16 00:12:06,057 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0260000000', 'o': '13.0234000000'}, 'XAGUSD': {'b': '37.8930000000', 'o': '37.8890000000'}, 'NZDJPY': {'b': '88.4330000000', 'o': '88.4260000000'}, 'GBPAUD': {'b': '2.0549400000',...
2025-07-16 00:12:06,058 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:12:06,760 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:06,764 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:07,778 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:07,782 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:08,298 - DEBUG - app.firebase_stream - Firebase listener triggered (108). Event Type: patch, Path: /. Timestamp: 1752649928.2985697
2025-07-16 00:12:08,299 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0259000000', 'o': '13.0233000000'}, 'XAGUSD': {'b': '37.8920000000', 'o': '37.8870000000'}, 'NZDJPY': {'b': '88.4360000000', 'o': '88.4270000000'}, 'GBPAUD': {'b': '2.0549400000',
2025-07-16 00:12:08,300 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0259000000', 'o': '13.0233000000'}, 'XAGUSD': {'b': '37.8920000000', 'o': '37.8870000000'}, 'NZDJPY': {'b': '88.4360000000', 'o': '88.4270000000'}, 'GBPAUD': {'b': '2.0549400000',...
2025-07-16 00:12:08,304 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:12:08,785 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:08,789 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:09,795 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:09,800 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:10,652 - DEBUG - app.firebase_stream - Firebase listener triggered (109). Event Type: patch, Path: /. Timestamp: 1752649930.6526532
2025-07-16 00:12:10,653 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0258000000', 'o': '13.0232000000'}, 'NZDJPY': {'b': '88.4320000000', 'o': '88.4290000000'}, 'GBPAUD': {'b': '2.0549500000', 'o': '2.0547700000'}, 'BTCUSD': {'b': '118062.100000000
2025-07-16 00:12:10,653 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0258000000', 'o': '13.0232000000'}, 'NZDJPY': {'b': '88.4320000000', 'o': '88.4290000000'}, 'GBPAUD': {'b': '2.0549500000', 'o': '2.0547700000'}, 'BTCUSD': {'b': '118062.100000000...
2025-07-16 00:12:10,653 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:12:10,801 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:10,803 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:11,817 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:11,820 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:12,828 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:12,830 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:12,903 - DEBUG - app.firebase_stream - Firebase listener triggered (110). Event Type: patch, Path: /. Timestamp: 1752649932.903259
2025-07-16 00:12:12,903 - DEBUG - app.firebase_stream - Prepared batch update for 34 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4400000000', 'o': '88.4320000000'}, 'GBPAUD': {'b': '2.0549300000', 'o': '2.0547600000'}, 'BTCUSD': {'b': '118049.9300000000', 'o': '118039.9300000000'}, 'USDJPY': {'b': '148.6800
2025-07-16 00:12:12,904 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4400000000', 'o': '88.4320000000'}, 'GBPAUD': {'b': '2.0549300000', 'o': '2.0547600000'}, 'BTCUSD': {'b': '118049.9300000000', 'o': '118039.9300000000'}, 'USDJPY': {'b': '148.6800...
2025-07-16 00:12:12,904 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:12:13,850 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:13,854 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:14,861 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:14,864 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:15,204 - DEBUG - app.firebase_stream - Firebase listener triggered (111). Event Type: patch, Path: /. Timestamp: 1752649935.2042263
2025-07-16 00:12:15,204 - DEBUG - app.firebase_stream - Prepared batch update for 30 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0262000000', 'o': '13.0236000000'}, 'NZDJPY': {'b': '88.4420000000', 'o': '88.4330000000'}, 'GBPAUD': {'b': '2.0549000000', 'o': '2.0547500000'}, 'BTCUSD': {'b': '118034.400000000
2025-07-16 00:12:15,205 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0262000000', 'o': '13.0236000000'}, 'NZDJPY': {'b': '88.4420000000', 'o': '88.4330000000'}, 'GBPAUD': {'b': '2.0549000000', 'o': '2.0547500000'}, 'BTCUSD': {'b': '118034.400000000...
2025-07-16 00:12:15,206 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:12:15,866 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:15,870 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:16,873 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:16,878 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:17,485 - DEBUG - app.firebase_stream - Firebase listener triggered (112). Event Type: patch, Path: /. Timestamp: 1752649937.4852297
2025-07-16 00:12:17,485 - DEBUG - app.firebase_stream - Prepared batch update for 26 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.8900000000', 'o': '37.8870000000'}, 'NZDJPY': {'b': '88.4400000000', 'o': '88.4320000000'}, 'GBPAUD': {'b': '2.0548900000', 'o': '2.0547600000'}, 'USDJPY': {'b': '148.6800000000',
2025-07-16 00:12:17,486 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.8900000000', 'o': '37.8870000000'}, 'NZDJPY': {'b': '88.4400000000', 'o': '88.4320000000'}, 'GBPAUD': {'b': '2.0548900000', 'o': '2.0547600000'}, 'USDJPY': {'b': '148.6800000000',...
2025-07-16 00:12:17,487 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:12:17,881 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:17,885 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:18,889 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:18,892 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:19,800 - DEBUG - app.firebase_stream - Firebase listener triggered (113). Event Type: patch, Path: /. Timestamp: 1752649939.8006725
2025-07-16 00:12:19,801 - DEBUG - app.firebase_stream - Prepared batch update for 27 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0263000000', 'o': '13.0237000000'}, 'NZDJPY': {'b': '88.4400000000', 'o': '88.4310000000'}, 'GBPAUD': {'b': '2.0549000000', 'o': '2.0547800000'}, 'USDJPY': {'b': '148.6800000000',
2025-07-16 00:12:19,801 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0263000000', 'o': '13.0237000000'}, 'NZDJPY': {'b': '88.4400000000', 'o': '88.4310000000'}, 'GBPAUD': {'b': '2.0549000000', 'o': '2.0547800000'}, 'USDJPY': {'b': '148.6800000000',...
2025-07-16 00:12:19,802 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:12:19,894 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:19,898 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:20,912 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:20,915 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:21,918 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:21,922 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:22,074 - DEBUG - app.firebase_stream - Firebase listener triggered (114). Event Type: patch, Path: /. Timestamp: 1752649942.0746734
2025-07-16 00:12:22,075 - DEBUG - app.firebase_stream - Prepared batch update for 26 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0265000000', 'o': '13.0239000000'}, 'NZDJPY': {'b': '88.4400000000', 'o': '88.4330000000'}, 'GBPAUD': {'b': '2.0549200000', 'o': '2.0547900000'}, 'CADCHF': {'b': '0.5838000000', '
2025-07-16 00:12:22,075 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0265000000', 'o': '13.0239000000'}, 'NZDJPY': {'b': '88.4400000000', 'o': '88.4330000000'}, 'GBPAUD': {'b': '2.0549200000', 'o': '2.0547900000'}, 'CADCHF': {'b': '0.5838000000', '...
2025-07-16 00:12:22,075 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:12:22,936 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:22,938 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:23,943 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:23,947 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:24,371 - DEBUG - app.firebase_stream - Firebase listener triggered (115). Event Type: patch, Path: /. Timestamp: 1752649944.3715484
2025-07-16 00:12:24,371 - DEBUG - app.firebase_stream - Prepared batch update for 27 symbols from root path for queue. Preview: {'USDJPY': {'b': '148.6550000000', 'o': '148.6520000000'}, 'CADCHF': {'b': '0.5838800000', 'o': '0.5838200000'}, 'EURNZD': {'b': '1.9545700000', 'o': '1.9544600000'}, 'USDSGD': {'b': '1.2841600000', '
2025-07-16 00:12:24,372 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'USDJPY': {'b': '148.6550000000', 'o': '148.6520000000'}, 'CADCHF': {'b': '0.5838800000', 'o': '0.5838200000'}, 'EURNZD': {'b': '1.9545700000', 'o': '1.9544600000'}, 'USDSGD': {'b': '1.2841600000', '...
2025-07-16 00:12:24,375 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:12:24,964 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:24,968 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:25,971 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:25,975 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:26,657 - DEBUG - app.firebase_stream - Firebase listener triggered (116). Event Type: patch, Path: /. Timestamp: 1752649946.6572711
2025-07-16 00:12:26,658 - DEBUG - app.firebase_stream - Prepared batch update for 27 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0258000000', 'o': '13.0232000000'}, 'NZDJPY': {'b': '88.4380000000', 'o': '88.4300000000'}, 'GBPAUD': {'b': '2.0548400000', 'o': '2.0547400000'}, 'USDJPY': {'b': '148.6750000000',
2025-07-16 00:12:26,659 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0258000000', 'o': '13.0232000000'}, 'NZDJPY': {'b': '88.4380000000', 'o': '88.4300000000'}, 'GBPAUD': {'b': '2.0548400000', 'o': '2.0547400000'}, 'USDJPY': {'b': '148.6750000000',...
2025-07-16 00:12:26,661 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:12:26,991 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:26,995 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:28,000 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:28,004 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:28,984 - DEBUG - app.firebase_stream - Firebase listener triggered (117). Event Type: patch, Path: /. Timestamp: 1752649948.9843662
2025-07-16 00:12:28,984 - DEBUG - app.firebase_stream - Prepared batch update for 35 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0261000000', 'o': '13.0235000000'}, 'NZDJPY': {'b': '88.4360000000', 'o': '88.4290000000'}, 'GBPAUD': {'b': '2.0548400000', 'o': '2.0546900000'}, 'BTCUSD': {'b': '118058.000000000
2025-07-16 00:12:28,985 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0261000000', 'o': '13.0235000000'}, 'NZDJPY': {'b': '88.4360000000', 'o': '88.4290000000'}, 'GBPAUD': {'b': '2.0548400000', 'o': '2.0546900000'}, 'BTCUSD': {'b': '118058.000000000...
2025-07-16 00:12:28,985 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:12:29,016 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:29,023 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:30,044 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:30,047 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:31,065 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:31,069 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:31,343 - DEBUG - app.firebase_stream - Firebase listener triggered (118). Event Type: patch, Path: /. Timestamp: 1752649951.343661
2025-07-16 00:12:31,344 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.8910000000', 'o': '37.8860000000'}, 'NZDJPY': {'b': '88.4310000000', 'o': '88.4230000000'}, 'GBPAUD': {'b': '2.0548800000', 'o': '2.0547600000'}, 'BTCUSD': {'b': '118040.400000000
2025-07-16 00:12:31,345 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.8910000000', 'o': '37.8860000000'}, 'NZDJPY': {'b': '88.4310000000', 'o': '88.4230000000'}, 'GBPAUD': {'b': '2.0548800000', 'o': '2.0547600000'}, 'BTCUSD': {'b': '118040.400000000...
2025-07-16 00:12:31,346 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:12:32,085 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:32,089 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:33,092 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:33,096 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:33,579 - DEBUG - app.firebase_stream - Firebase listener triggered (119). Event Type: patch, Path: /. Timestamp: 1752649953.579572
2025-07-16 00:12:33,579 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0255000000', 'o': '13.0229000000'}, 'NZDJPY': {'b': '88.4350000000', 'o': '88.4260000000'}, 'GBPAUD': {'b': '2.0548600000', 'o': '2.0547800000'}, 'USDCNH': {'b': '7.1810500000', '
2025-07-16 00:12:33,580 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0255000000', 'o': '13.0229000000'}, 'NZDJPY': {'b': '88.4350000000', 'o': '88.4260000000'}, 'GBPAUD': {'b': '2.0548600000', 'o': '2.0547800000'}, 'USDCNH': {'b': '7.1810500000', '...
2025-07-16 00:12:33,580 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:12:34,103 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:34,107 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:35,117 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:35,122 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:35,951 - DEBUG - app.firebase_stream - Firebase listener triggered (120). Event Type: patch, Path: /. Timestamp: 1752649955.951613
2025-07-16 00:12:35,952 - DEBUG - app.firebase_stream - Prepared batch update for 36 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0266000000', 'o': '13.0240000000'}, 'XAGUSD': {'b': '37.8920000000', 'o': '37.8860000000'}, 'NZDJPY': {'b': '88.4370000000', 'o': '88.4320000000'}, 'GBPAUD': {'b': '2.0548300000',
2025-07-16 00:12:35,952 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0266000000', 'o': '13.0240000000'}, 'XAGUSD': {'b': '37.8920000000', 'o': '37.8860000000'}, 'NZDJPY': {'b': '88.4370000000', 'o': '88.4320000000'}, 'GBPAUD': {'b': '2.0548300000',...
2025-07-16 00:12:35,952 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:12:36,125 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:36,130 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:37,135 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:37,138 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:38,143 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:38,147 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:38,206 - DEBUG - app.firebase_stream - Firebase listener triggered (121). Event Type: patch, Path: /. Timestamp: 1752649958.206448
2025-07-16 00:12:38,207 - DEBUG - app.firebase_stream - Prepared batch update for 30 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.8960000000', 'o': '37.8930000000'}, 'NZDJPY': {'b': '88.4340000000', 'o': '88.4260000000'}, 'GBPAUD': {'b': '2.0549100000', 'o': '2.0547800000'}, 'BTCUSD': {'b': '118049.900000000
2025-07-16 00:12:38,208 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.8960000000', 'o': '37.8930000000'}, 'NZDJPY': {'b': '88.4340000000', 'o': '88.4260000000'}, 'GBPAUD': {'b': '2.0549100000', 'o': '2.0547800000'}, 'BTCUSD': {'b': '118049.900000000...
2025-07-16 00:12:38,208 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:12:39,159 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:39,163 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:40,165 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:40,170 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:40,437 - DEBUG - app.firebase_stream - Firebase listener triggered (122). Event Type: patch, Path: /. Timestamp: 1752649960.4372816
2025-07-16 00:12:40,437 - DEBUG - app.firebase_stream - Prepared batch update for 20 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4390000000', 'o': '88.4300000000'}, 'GBPAUD': {'b': '2.0548800000', 'o': '2.0547200000'}, 'BTCUSD': {'b': '118062.1000000000', 'o': '118062.0000000000'}, 'USDJPY': {'b': '148.6760
2025-07-16 00:12:40,438 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4390000000', 'o': '88.4300000000'}, 'GBPAUD': {'b': '2.0548800000', 'o': '2.0547200000'}, 'BTCUSD': {'b': '118062.1000000000', 'o': '118062.0000000000'}, 'USDJPY': {'b': '148.6760...
2025-07-16 00:12:40,438 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:12:41,183 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:41,187 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:42,192 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:42,196 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:42,815 - DEBUG - app.firebase_stream - Firebase listener triggered (123). Event Type: patch, Path: /. Timestamp: 1752649962.8150241
2025-07-16 00:12:42,815 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0267000000', 'o': '13.0241000000'}, 'NZDJPY': {'b': '88.4360000000', 'o': '88.4280000000'}, 'GBPAUD': {'b': '2.0548600000', 'o': '2.0547100000'}, 'USDJPY': {'b': '148.6690000000',
2025-07-16 00:12:42,816 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0267000000', 'o': '13.0241000000'}, 'NZDJPY': {'b': '88.4360000000', 'o': '88.4280000000'}, 'GBPAUD': {'b': '2.0548600000', 'o': '2.0547100000'}, 'USDJPY': {'b': '148.6690000000',...
2025-07-16 00:12:42,818 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:12:43,199 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:43,202 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:44,206 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:44,210 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:45,058 - DEBUG - app.firebase_stream - Firebase listener triggered (124). Event Type: patch, Path: /. Timestamp: 1752649965.0584443
2025-07-16 00:12:45,059 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0264000000', 'o': '13.0238000000'}, 'NZDJPY': {'b': '88.4350000000', 'o': '88.4290000000'}, 'GBPAUD': {'b': '2.0548300000', 'o': '2.0546700000'}, 'BTCUSD': {'b': '118039.320000000
2025-07-16 00:12:45,060 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0264000000', 'o': '13.0238000000'}, 'NZDJPY': {'b': '88.4350000000', 'o': '88.4290000000'}, 'GBPAUD': {'b': '2.0548300000', 'o': '2.0546700000'}, 'BTCUSD': {'b': '118039.320000000...
2025-07-16 00:12:45,063 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:12:45,212 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:45,215 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:46,223 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:46,227 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:47,239 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:47,244 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:47,339 - DEBUG - app.firebase_stream - Firebase listener triggered (125). Event Type: patch, Path: /. Timestamp: 1752649967.3393912
2025-07-16 00:12:47,339 - DEBUG - app.firebase_stream - Prepared batch update for 24 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4390000000', 'o': '88.4320000000'}, 'BTCUSD': {'b': '118049.9300000000', 'o': '118039.9300000000'}, 'USDJPY': {'b': '148.6750000000', 'o': '148.6710000000'}, 'EURNZD': {'b': '1.95
2025-07-16 00:12:47,340 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4390000000', 'o': '88.4320000000'}, 'BTCUSD': {'b': '118049.9300000000', 'o': '118039.9300000000'}, 'USDJPY': {'b': '148.6750000000', 'o': '148.6710000000'}, 'EURNZD': {'b': '1.95...
2025-07-16 00:12:47,340 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:12:48,248 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:48,252 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:49,258 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:49,262 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:49,647 - DEBUG - app.firebase_stream - Firebase listener triggered (126). Event Type: patch, Path: /. Timestamp: 1752649969.6469765
2025-07-16 00:12:49,647 - DEBUG - app.firebase_stream - Prepared batch update for 36 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0261000000', 'o': '13.0235000000'}, 'XAGUSD': {'b': '37.8980000000', 'o': '37.8940000000'}, 'NZDJPY': {'b': '88.4400000000', 'o': '88.4330000000'}, 'GBPAUD': {'b': '2.0549000000',
2025-07-16 00:12:49,648 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0261000000', 'o': '13.0235000000'}, 'XAGUSD': {'b': '37.8980000000', 'o': '37.8940000000'}, 'NZDJPY': {'b': '88.4400000000', 'o': '88.4330000000'}, 'GBPAUD': {'b': '2.0549000000',...
2025-07-16 00:12:49,650 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:12:50,268 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:50,271 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:51,281 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:51,285 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:51,946 - DEBUG - app.firebase_stream - Firebase listener triggered (127). Event Type: patch, Path: /. Timestamp: 1752649971.9466949
2025-07-16 00:12:51,947 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0263000000', 'o': '13.0237000000'}, 'GBPAUD': {'b': '2.0547800000', 'o': '2.0546500000'}, 'BTCUSD': {'b': '118035.4000000000', 'o': '118035.3000000000'}, 'CADCHF': {'b': '0.583890
2025-07-16 00:12:51,948 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0263000000', 'o': '13.0237000000'}, 'GBPAUD': {'b': '2.0547800000', 'o': '2.0546500000'}, 'BTCUSD': {'b': '118035.4000000000', 'o': '118035.3000000000'}, 'CADCHF': {'b': '0.583890...
2025-07-16 00:12:51,948 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:12:52,299 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:52,302 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:53,318 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:53,322 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:54,213 - DEBUG - app.firebase_stream - Firebase listener triggered (128). Event Type: patch, Path: /. Timestamp: 1752649974.2135372
2025-07-16 00:12:54,214 - DEBUG - app.firebase_stream - Prepared batch update for 26 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.8980000000', 'o': '37.8930000000'}, 'NZDJPY': {'b': '88.4390000000', 'o': '88.4330000000'}, 'GBPAUD': {'b': '2.0547600000', 'o': '2.0546700000'}, 'USDJPY': {'b': '148.6760000000',
2025-07-16 00:12:54,215 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'XAGUSD': {'b': '37.8980000000', 'o': '37.8930000000'}, 'NZDJPY': {'b': '88.4390000000', 'o': '88.4330000000'}, 'GBPAUD': {'b': '2.0547600000', 'o': '2.0546700000'}, 'USDJPY': {'b': '148.6760000000',...
2025-07-16 00:12:54,216 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:12:54,324 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:54,328 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:55,331 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:55,337 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:56,342 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:56,346 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:56,517 - DEBUG - app.firebase_stream - Firebase listener triggered (129). Event Type: patch, Path: /. Timestamp: 1752649976.5172434
2025-07-16 00:12:56,517 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.8980000000', 'o': '37.8940000000'}, 'NZDJPY': {'b': '88.4400000000', 'o': '88.4330000000'}, 'USDJPY': {'b': '148.6720000000', 'o': '148.6720000000'}, 'USDCNH': {'b': '7.1812500000
2025-07-16 00:12:56,520 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.8980000000', 'o': '37.8940000000'}, 'NZDJPY': {'b': '88.4400000000', 'o': '88.4330000000'}, 'USDJPY': {'b': '148.6720000000', 'o': '148.6720000000'}, 'USDCNH': {'b': '7.1812500000...
2025-07-16 00:12:56,523 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:12:57,352 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:57,357 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:58,364 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:58,367 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:58,813 - DEBUG - app.firebase_stream - Firebase listener triggered (130). Event Type: patch, Path: /. Timestamp: 1752649978.8136315
2025-07-16 00:12:58,814 - DEBUG - app.firebase_stream - Prepared batch update for 34 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0264000000', 'o': '13.0238000000'}, 'NZDJPY': {'b': '88.4350000000', 'o': '88.4270000000'}, 'GBPAUD': {'b': '2.0548100000', 'o': '2.0547100000'}, 'CADCHF': {'b': '0.5839100000', '
2025-07-16 00:12:58,815 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0264000000', 'o': '13.0238000000'}, 'NZDJPY': {'b': '88.4350000000', 'o': '88.4270000000'}, 'GBPAUD': {'b': '2.0548100000', 'o': '2.0547100000'}, 'CADCHF': {'b': '0.5839100000', '...
2025-07-16 00:12:58,816 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:12:59,373 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:59,377 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:00,384 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:00,388 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:01,134 - DEBUG - app.firebase_stream - Firebase listener triggered (131). Event Type: patch, Path: /. Timestamp: 1752649981.1349423
2025-07-16 00:13:01,135 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.8970000000', 'o': '37.8920000000'}, 'NZDJPY': {'b': '88.4360000000', 'o': '88.4300000000'}, 'GBPAUD': {'b': '2.0548100000', 'o': '2.0546600000'}, 'USDJPY': {'b': '148.6810000000',
2025-07-16 00:13:01,136 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'XAGUSD': {'b': '37.8970000000', 'o': '37.8920000000'}, 'NZDJPY': {'b': '88.4360000000', 'o': '88.4300000000'}, 'GBPAUD': {'b': '2.0548100000', 'o': '2.0546600000'}, 'USDJPY': {'b': '148.6810000000',...
2025-07-16 00:13:01,136 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:13:01,405 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:01,409 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:02,137 - WARNING - app - User 4 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:13:02,140 - WARNING - app - No user data found for user 5 (live). Skipping portfolio update.
2025-07-16 00:13:02,148 - WARNING - app - No group settings found for group string. Skipping portfolio update for user 8.
2025-07-16 00:13:02,176 - WARNING - app - User 9 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:13:02,205 - WARNING - app - User 10 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:13:02,229 - WARNING - app - User 11 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:13:02,263 - WARNING - app - User 12 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:13:02,296 - WARNING - app - User 13 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:13:02,652 - DEBUG - app.services.portfolio_calculator - Position calculation for BTCUSD: Type=BUY, Entry=118908.50000000, Current=117985.3, Quantity=0.40000000, Contract Size=1.00000000, PnL=-369.280000000000000000000000, PnL USD=-369.280000000000000000000000, Commission=235.57000000, Final PnL=-604.850000000000000000000000
2025-07-16 00:13:02,653 - WARNING - app.services.portfolio_calculator - MARGIN CALL ALERT: User has margin level 98.66747747202774567455503872% which is below threshold 100.0%
2025-07-16 00:13:02,654 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:02,657 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:02,682 - WARNING - app - User 16 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:13:02,704 - WARNING - app - User 17 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:13:02,725 - WARNING - app - User 18 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:13:02,738 - WARNING - app - User 19 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:13:02,750 - WARNING - app - User 20 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:13:02,766 - WARNING - app - User 21 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:13:02,777 - WARNING - app - User 22 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:13:02,789 - WARNING - app - User 23 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:13:02,800 - WARNING - app - User 24 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:13:02,815 - WARNING - app - User 25 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:13:03,145 - DEBUG - app.services.portfolio_calculator - Position calculation for XAGUSD: Type=BUY, Entry=41.09800000, Current=37.8795, Quantity=0.01000000, Contract Size=5000.00000000, PnL=-160.925000000000000000000000, PnL USD=-160.925000000000000000000000, Commission=0.10000000, Final PnL=-161.025000000000000000000000
2025-07-16 00:13:03,145 - DEBUG - app.services.portfolio_calculator - Position calculation for BTCUSD: Type=BUY, Entry=132091.90000000, Current=117985.3, Quantity=6.00000000, Contract Size=1.00000000, PnL=-84639.60000000000000000000000, PnL USD=-84639.60000000000000000000000, Commission=3661.62000000, Final PnL=-88301.22000000000000000000000
2025-07-16 00:13:03,146 - WARNING - app.services.portfolio_calculator - MARGIN CALL ALERT: User has margin level 65.45647125596317479934903680% which is below threshold 100.0%
2025-07-16 00:13:03,422 - DEBUG - app.firebase_stream - Firebase listener triggered (132). Event Type: patch, Path: /. Timestamp: 1752649983.4221299
2025-07-16 00:13:03,422 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0263000000', 'o': '13.0237000000'}, 'XAGUSD': {'b': '37.8980000000', 'o': '37.8930000000'}, 'NZDJPY': {'b': '88.4380000000', 'o': '88.4300000000'}, 'GBPAUD': {'b': '2.0548000000',
2025-07-16 00:13:03,423 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0263000000', 'o': '13.0237000000'}, 'XAGUSD': {'b': '37.8980000000', 'o': '37.8930000000'}, 'NZDJPY': {'b': '88.4380000000', 'o': '88.4300000000'}, 'GBPAUD': {'b': '2.0548000000',...
2025-07-16 00:13:03,423 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:13:03,542 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=96.66800000, Current=96.953, Quantity=0.01000000, Contract Size=100000.00000000, PnL=285.000000000000000000000000, PnL USD=1.916868442292171105730427764, Commission=0.10000000, Final PnL=1.816868442292171105730427764
2025-07-16 00:13:03,545 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=96.56000000, Current=97.06, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-500.000000000000000000000000, PnL USD=-3.362927091740651062684960990, Commission=0.10000000, Final PnL=-3.462927091740651062684960990
2025-07-16 00:13:03,555 - WARNING - app - User 2 has no group_name set. Skipping portfolio update.
2025-07-16 00:13:03,616 - WARNING - app - No group settings found for group string. Skipping portfolio update for user 3.
2025-07-16 00:13:03,655 - WARNING - app - User 4 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:13:03,656 - WARNING - app - User 5 has no group_name set. Skipping portfolio update.
2025-07-16 00:13:03,657 - WARNING - app - User 6 has no group_name set. Skipping portfolio update.
2025-07-16 00:13:03,661 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:03,664 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:04,031 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64743000, Current=0.65228, Quantity=0.10000000, Contract Size=100000.00000000, PnL=48.500000000000000000000000, PnL USD=48.500000000000000000000000, Commission=1.00000000, Final PnL=47.500000000000000000000000
2025-07-16 00:13:04,031 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=SELL, Entry=0.64707000, Current=0.6526, Quantity=0.22000000, Contract Size=100000.00000000, PnL=-121.660000000000000000000000, PnL USD=-121.660000000000000000000000, Commission=2.20000000, Final PnL=-123.860000000000000000000000
2025-07-16 00:13:04,033 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFSGD: Type=BUY, Entry=1.57561500, Current=1.603765, Quantity=0.10000000, Contract Size=100000.00000000, PnL=281.500000000000000000000000, PnL USD=219.1957889491060860898274466, Commission=1.00000000, Final PnL=218.1957889491060860898274466
2025-07-16 00:13:04,033 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFSGD: Type=SELL, Entry=1.57505500, Current=1.604215, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-291.600000000000000000000000, PnL USD=-227.0603625490562511680059802, Commission=1.00000000, Final PnL=-228.0603625490562511680059802
2025-07-16 00:13:04,035 - DEBUG - app.services.portfolio_calculator - Position calculation for CADJPY: Type=SELL, Entry=106.24150000, Current=108.44250000000001, Quantity=0.15000000, Contract Size=100000.00000000, PnL=-33015.00000000015000000000000, PnL USD=-222.0540758676361985472154964, Commission=0E-8, Final PnL=-222.0540758676361985472154964
2025-07-16 00:13:04,035 - DEBUG - app.services.portfolio_calculator - Position calculation for CADJPY: Type=BUY, Entry=106.27050000, Current=108.4095, Quantity=0.15000000, Contract Size=100000.00000000, PnL=32085.00000000000000000000000, PnL USD=215.7990314769975786924939467, Commission=0E-8, Final PnL=215.7990314769975786924939467
2025-07-16 00:13:04,036 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=BUY, Entry=1.77481000, Current=1.78154, Quantity=0.22000000, Contract Size=100000.00000000, PnL=148.060000000000000000000000, PnL USD=96.60174700000000000000000000, Commission=2.20000000, Final PnL=94.40174700000000000000000000
2025-07-16 00:13:04,036 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=SELL, Entry=1.77439000, Current=1.7819500000000001, Quantity=0.21000000, Contract Size=100000.00000000, PnL=-158.7600000000021000000000000, PnL USD=-103.5829620000013701450000000, Commission=2.10000000, Final PnL=-105.6829620000013701450000000
2025-07-16 00:13:04,037 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFJPY: Type=BUY, Entry=178.15500000, Current=185.675, Quantity=0.10000000, Contract Size=100000.00000000, PnL=75200.00000000000000000000000, PnL USD=505.7842345977939198278181329, Commission=1.00000000, Final PnL=504.7842345977939198278181329
2025-07-16 00:13:04,038 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFJPY: Type=SELL, Entry=178.09500000, Current=185.725, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-76300.00000000000000000000000, PnL USD=-513.1826741996233521657250471, Commission=1.00000000, Final PnL=-514.1826741996233521657250471
2025-07-16 00:13:04,038 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=BUY, Entry=1.77480000, Current=1.78154, Quantity=0.05000000, Contract Size=100000.00000000, PnL=33.700000000000000000000000, PnL USD=21.98756500000000000000000000, Commission=0.50000000, Final PnL=21.48756500000000000000000000
2025-07-16 00:13:04,038 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=SELL, Entry=1.77442000, Current=1.7819500000000001, Quantity=0.05000000, Contract Size=100000.00000000, PnL=-37.65000000000050000000000000, PnL USD=-24.56474250000032622500000000, Commission=0.50000000, Final PnL=-25.06474250000032622500000000
2025-07-16 00:13:04,039 - DEBUG - app.services.portfolio_calculator - Position calculation for EURGBP: Type=SELL, Entry=0.85403000, Current=0.86731, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-132.800000000000000000000000, PnL USD=-178.0316800000000000000000000, Commission=1.00000000, Final PnL=-179.0316800000000000000000000
2025-07-16 00:13:04,039 - DEBUG - app.services.portfolio_calculator - Position calculation for EURJPY: Type=BUY, Entry=167.26050000, Current=172.8265, Quantity=0.10000000, Contract Size=100000.00000000, PnL=55660.00000000000000000000000, PnL USD=374.3610438525692762980898574, Commission=1.00000000, Final PnL=373.3610438525692762980898574
2025-07-16 00:13:04,040 - DEBUG - app.services.portfolio_calculator - Position calculation for EURJPY: Type=SELL, Entry=167.23150000, Current=172.85649999999998, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-56249.99999999980000000000000, PnL USD=-378.3292978208218993812214151, Commission=1.00000000, Final PnL=-379.3292978208218993812214151
2025-07-16 00:13:04,040 - DEBUG - app.services.portfolio_calculator - Position calculation for EURNZD: Type=SELL, Entry=1.91952500, Current=1.954685, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-351.600000000000000000000000, PnL USD=-209.1281640000000000000000000, Commission=1.00000000, Final PnL=-210.1281640000000000000000000
2025-07-16 00:13:04,040 - DEBUG - app.services.portfolio_calculator - Position calculation for EURNZD: Type=BUY, Entry=1.92063500, Current=1.954255, Quantity=0.10000000, Contract Size=100000.00000000, PnL=336.200000000000000000000000, PnL USD=199.9683980000000000000000000, Commission=1.00000000, Final PnL=198.9683980000000000000000000
2025-07-16 00:13:04,040 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=SELL, Entry=1.34376000, Current=1.3407, Quantity=0.25000000, Contract Size=0E-8, PnL=0E-24, PnL USD=0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:13:04,041 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=SELL, Entry=1.34361000, Current=1.3407, Quantity=0.25000000, Contract Size=0E-8, PnL=0E-24, PnL USD=0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:13:04,041 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=BUY, Entry=1.34379000, Current=1.34049, Quantity=0.25000000, Contract Size=0E-8, PnL=-0E-24, PnL USD=-0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:13:04,041 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=BUY, Entry=1.34378000, Current=1.34049, Quantity=0.25000000, Contract Size=0E-8, PnL=-0E-24, PnL USD=-0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:13:04,041 - DEBUG - app.services.portfolio_calculator - Position calculation for NZDJPY: Type=BUY, Entry=87.10150000, Current=88.4175, Quantity=0.01000000, Contract Size=100000.00000000, PnL=1316.000000000000000000000000, PnL USD=8.851224105461393596986817326, Commission=0.10000000, Final PnL=8.751224105461393596986817326
2025-07-16 00:13:04,042 - DEBUG - app.services.portfolio_calculator - Position calculation for USDCHF: Type=SELL, Entry=0.81771000, Current=0.80079, Quantity=0.15000000, Contract Size=100000.00000000, PnL=253.800000000000000000000000, PnL USD=316.9924436395428714169737089, Commission=1.50000000, Final PnL=315.4924436395428714169737089
2025-07-16 00:13:04,043 - DEBUG - app.services.portfolio_calculator - Position calculation for USDCHF: Type=BUY, Entry=0.81805000, Current=0.80047, Quantity=0.15000000, Contract Size=100000.00000000, PnL=-263.700000000000000000000000, PnL USD=-329.3573971148441890963592081, Commission=1.50000000, Final PnL=-330.8573971148441890963592081
2025-07-16 00:13:04,044 - DEBUG - app.services.portfolio_calculator - Position calculation for USDNOK: Type=BUY, Entry=10.04973000, Current=10.251470000000001, Quantity=0.10000000, Contract Size=100000.00000000, PnL=2017.400000000010000000000000, PnL USD=196.6980391621574188818027501, Commission=1.00000000, Final PnL=195.6980391621574188818027501
2025-07-16 00:13:04,046 - DEBUG - app.services.portfolio_calculator - Position calculation for USDNOK: Type=BUY, Entry=10.05023000, Current=10.251470000000001, Quantity=0.10000000, Contract Size=100000.00000000, PnL=2012.400000000010000000000000, PnL USD=196.2105353474400687185377226, Commission=1.00000000, Final PnL=195.2105353474400687185377226
2025-07-16 00:13:04,047 - DEBUG - app.services.portfolio_calculator - Position calculation for USDSGD: Type=SELL, Entry=1.28795000, Current=1.2843900000000001, Quantity=0.31000000, Contract Size=100000.00000000, PnL=110.3599999999969000000000000, PnL USD=85.93409331588869681679436865, Commission=3.10000000, Final PnL=82.83409331588869681679436865
2025-07-16 00:13:04,048 - DEBUG - app.services.portfolio_calculator - Position calculation for USDTRY: Type=SELL, Entry=39.56087000, Current=40.25063, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-6897.600000000000000000000000, PnL USD=-171.3651123328919353356074026, Commission=1.00000000, Final PnL=-172.3651123328919353356074026
2025-07-16 00:13:04,749 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:04,750 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.89752000, Current=0.89466, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-2.860000000000000000000000, PnL USD=-2.085566566763652804211969402, Commission=0.10000000, Final PnL=-2.185566566763652804211969402
2025-07-16 00:13:04,753 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:04,787 - WARNING - app - User 12 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:13:04,813 - WARNING - app - User 13 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:13:05,720 - DEBUG - app.firebase_stream - Firebase listener triggered (133). Event Type: patch, Path: /. Timestamp: 1752649985.7206016
2025-07-16 00:13:05,721 - DEBUG - app.firebase_stream - Prepared batch update for 30 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0260000000', 'o': '13.0234000000'}, 'NZDJPY': {'b': '88.4340000000', 'o': '88.4270000000'}, 'GBPAUD': {'b': '2.0547700000', 'o': '2.0546200000'}, 'USDJPY': {'b': '148.6800000000',
2025-07-16 00:13:05,722 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0260000000', 'o': '13.0234000000'}, 'NZDJPY': {'b': '88.4340000000', 'o': '88.4270000000'}, 'GBPAUD': {'b': '2.0547700000', 'o': '2.0546200000'}, 'USDJPY': {'b': '148.6800000000',...
2025-07-16 00:13:05,723 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:13:05,759 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:05,769 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:06,787 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:06,789 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:07,792 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:07,796 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:08,098 - DEBUG - app.firebase_stream - Firebase listener triggered (134). Event Type: patch, Path: /. Timestamp: 1752649988.0987535
2025-07-16 00:13:08,099 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.8970000000', 'o': '37.8930000000'}, 'USDJPY': {'b': '148.6780000000', 'o': '148.6740000000'}, 'EURNZD': {'b': '1.9545800000', 'o': '1.9544400000'}, 'EURZAR': {'b': '20.8114100000'
2025-07-16 00:13:08,100 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.8970000000', 'o': '37.8930000000'}, 'USDJPY': {'b': '148.6780000000', 'o': '148.6740000000'}, 'EURNZD': {'b': '1.9545800000', 'o': '1.9544400000'}, 'EURZAR': {'b': '20.8114100000'...
2025-07-16 00:13:08,102 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:13:08,811 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:08,814 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:09,820 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:09,824 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:10,341 - DEBUG - app.firebase_stream - Firebase listener triggered (135). Event Type: patch, Path: /. Timestamp: 1752649990.3414464
2025-07-16 00:13:10,342 - DEBUG - app.firebase_stream - Prepared batch update for 25 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.8980000000', 'o': '37.8940000000'}, 'NZDJPY': {'b': '88.4340000000', 'o': '88.4260000000'}, 'USDJPY': {'b': '148.6720000000', 'o': '148.6720000000'}, 'USDCNH': {'b': '7.1815300000
2025-07-16 00:13:10,343 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.8980000000', 'o': '37.8940000000'}, 'NZDJPY': {'b': '88.4340000000', 'o': '88.4260000000'}, 'USDJPY': {'b': '148.6720000000', 'o': '148.6720000000'}, 'USDCNH': {'b': '7.1815300000...
2025-07-16 00:13:10,344 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:13:10,837 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:10,840 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:11,843 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:11,847 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:12,710 - DEBUG - app.firebase_stream - Firebase listener triggered (136). Event Type: patch, Path: /. Timestamp: 1752649992.7107031
2025-07-16 00:13:12,711 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'GBPAUD': {'b': '2.0547800000', 'o': '2.0546500000'}, 'USDJPY': {'b': '148.6800000000', 'o': '148.6760000000'}, 'CADCHF': {'b': '0.5838800000', 'o': '0.5838200000'}, 'EURNZD': {'b': '1.9545400000', '
2025-07-16 00:13:12,712 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPAUD': {'b': '2.0547800000', 'o': '2.0546500000'}, 'USDJPY': {'b': '148.6800000000', 'o': '148.6760000000'}, 'CADCHF': {'b': '0.5838800000', 'o': '0.5838200000'}, 'EURNZD': {'b': '1.9545400000', '...
2025-07-16 00:13:12,721 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:13:12,849 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:12,852 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:13,869 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:13,872 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:14,878 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:14,881 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:14,963 - DEBUG - app.firebase_stream - Firebase listener triggered (137). Event Type: patch, Path: /. Timestamp: 1752649994.9637194
2025-07-16 00:13:14,964 - DEBUG - app.firebase_stream - Prepared batch update for 30 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4340000000', 'o': '88.4290000000'}, 'GBPAUD': {'b': '2.0548100000', 'o': '2.0546600000'}, 'USDJPY': {'b': '148.6810000000', 'o': '148.6810000000'}, 'USDCNH': {'b': '7.1812000000',
2025-07-16 00:13:14,964 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4340000000', 'o': '88.4290000000'}, 'GBPAUD': {'b': '2.0548100000', 'o': '2.0546600000'}, 'USDJPY': {'b': '148.6810000000', 'o': '148.6810000000'}, 'USDCNH': {'b': '7.1812000000',...
2025-07-16 00:13:14,965 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:13:15,890 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:15,894 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:16,897 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:16,903 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:17,243 - DEBUG - app.firebase_stream - Firebase listener triggered (138). Event Type: patch, Path: /. Timestamp: 1752649997.2429726
2025-07-16 00:13:17,243 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.8990000000', 'o': '37.8950000000'}, 'NZDJPY': {'b': '88.4360000000', 'o': '88.4280000000'}, 'BTCUSD': {'b': '118049.9000000000', 'o': '118049.8000000000'}, 'USDJPY': {'b': '148.68
2025-07-16 00:13:17,244 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.8990000000', 'o': '37.8950000000'}, 'NZDJPY': {'b': '88.4360000000', 'o': '88.4280000000'}, 'BTCUSD': {'b': '118049.9000000000', 'o': '118049.8000000000'}, 'USDJPY': {'b': '148.68...
2025-07-16 00:13:17,244 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:13:17,922 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:17,927 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:18,936 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:18,938 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:19,564 - DEBUG - app.firebase_stream - Firebase listener triggered (139). Event Type: patch, Path: /. Timestamp: 1752649999.56397
2025-07-16 00:13:19,564 - DEBUG - app.firebase_stream - Prepared batch update for 36 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0262000000', 'o': '13.0236000000'}, 'XAGUSD': {'b': '37.8980000000', 'o': '37.8930000000'}, 'NZDJPY': {'b': '88.4310000000', 'o': '88.4270000000'}, 'GBPAUD': {'b': '2.0548000000',
2025-07-16 00:13:19,564 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0262000000', 'o': '13.0236000000'}, 'XAGUSD': {'b': '37.8980000000', 'o': '37.8930000000'}, 'NZDJPY': {'b': '88.4310000000', 'o': '88.4270000000'}, 'GBPAUD': {'b': '2.0548000000',...
2025-07-16 00:13:19,564 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:13:19,945 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:19,948 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:20,950 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:20,953 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:21,859 - DEBUG - app.firebase_stream - Firebase listener triggered (140). Event Type: patch, Path: /. Timestamp: 1752650001.85925
2025-07-16 00:13:21,860 - DEBUG - app.firebase_stream - Prepared batch update for 37 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0264000000', 'o': '13.0238000000'}, 'NZDJPY': {'b': '88.4390000000', 'o': '88.4300000000'}, 'GBPAUD': {'b': '2.0547500000', 'o': '2.0546100000'}, 'BTCUSD': {'b': '118041.900000000
2025-07-16 00:13:21,860 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0264000000', 'o': '13.0238000000'}, 'NZDJPY': {'b': '88.4390000000', 'o': '88.4300000000'}, 'GBPAUD': {'b': '2.0547500000', 'o': '2.0546100000'}, 'BTCUSD': {'b': '118041.900000000...
2025-07-16 00:13:21,860 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:13:21,956 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:21,961 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:22,978 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:22,983 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:23,992 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:23,996 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:24,146 - DEBUG - app.firebase_stream - Firebase listener triggered (141). Event Type: patch, Path: /. Timestamp: 1752650004.1467445
2025-07-16 00:13:24,147 - DEBUG - app.firebase_stream - Prepared batch update for 22 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0261000000', 'o': '13.0235000000'}, 'XAGUSD': {'b': '37.9010000000', 'o': '37.8940000000'}, 'NZDJPY': {'b': '88.4330000000', 'o': '88.4240000000'}, 'GBPAUD': {'b': '2.0547100000',
2025-07-16 00:13:24,147 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0261000000', 'o': '13.0235000000'}, 'XAGUSD': {'b': '37.9010000000', 'o': '37.8940000000'}, 'NZDJPY': {'b': '88.4330000000', 'o': '88.4240000000'}, 'GBPAUD': {'b': '2.0547100000',...
2025-07-16 00:13:24,149 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:13:25,005 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:25,011 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:26,014 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:26,016 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:26,482 - DEBUG - app.firebase_stream - Firebase listener triggered (142). Event Type: patch, Path: /. Timestamp: 1752650006.4826972
2025-07-16 00:13:26,484 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0263000000', 'o': '13.0237000000'}, 'XAGUSD': {'b': '37.8990000000', 'o': '37.8930000000'}, 'NZDJPY': {'b': '88.4410000000', 'o': '88.4330000000'}, 'GBPAUD': {'b': '2.0547200000',
2025-07-16 00:13:26,485 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0263000000', 'o': '13.0237000000'}, 'XAGUSD': {'b': '37.8990000000', 'o': '37.8930000000'}, 'NZDJPY': {'b': '88.4410000000', 'o': '88.4330000000'}, 'GBPAUD': {'b': '2.0547200000',...
2025-07-16 00:13:26,485 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:13:26,657 - INFO - app - Starting cache validation task
2025-07-16 00:13:26,670 - INFO - app - Validating cache for 31 users
2025-07-16 00:13:26,672 - WARNING - app - User 4: Missing balance/margin cache, refreshing...
2025-07-16 00:13:26,687 - WARNING - app - User 5: Missing balance/margin cache, refreshing...
2025-07-16 00:13:26,692 - WARNING - app - User 8: Missing balance/margin cache, refreshing...
2025-07-16 00:13:26,705 - WARNING - app - User 9: Missing balance/margin cache, refreshing...
2025-07-16 00:13:26,717 - WARNING - app - User 10: Missing balance/margin cache, refreshing...
2025-07-16 00:13:26,726 - WARNING - app - User 11: Missing balance/margin cache, refreshing...
2025-07-16 00:13:26,735 - WARNING - app - User 12: Missing balance/margin cache, refreshing...
2025-07-16 00:13:26,746 - WARNING - app - User 13: Missing balance/margin cache, refreshing...
2025-07-16 00:13:26,758 - WARNING - app - User 14: Missing balance/margin cache, refreshing...
2025-07-16 00:13:26,770 - WARNING - app - User 16: Missing balance/margin cache, refreshing...
2025-07-16 00:13:26,784 - WARNING - app - User 17: Missing balance/margin cache, refreshing...
2025-07-16 00:13:26,795 - WARNING - app - User 18: Missing balance/margin cache, refreshing...
2025-07-16 00:13:26,806 - WARNING - app - User 19: Missing balance/margin cache, refreshing...
2025-07-16 00:13:26,818 - WARNING - app - User 20: Missing balance/margin cache, refreshing...
2025-07-16 00:13:26,829 - WARNING - app - User 21: Missing balance/margin cache, refreshing...
2025-07-16 00:13:26,840 - WARNING - app - User 22: Missing balance/margin cache, refreshing...
2025-07-16 00:13:26,851 - WARNING - app - User 23: Missing balance/margin cache, refreshing...
2025-07-16 00:13:26,868 - WARNING - app - User 24: Missing balance/margin cache, refreshing...
2025-07-16 00:13:26,879 - WARNING - app - User 25: Missing balance/margin cache, refreshing...
2025-07-16 00:13:26,885 - WARNING - app - User 26: Missing balance/margin cache, refreshing...
2025-07-16 00:13:26,894 - WARNING - app - User 1: Missing balance/margin cache, refreshing...
2025-07-16 00:13:26,901 - WARNING - app - User 2: Missing balance/margin cache, refreshing...
2025-07-16 00:13:26,904 - WARNING - app - User 3: Missing balance/margin cache, refreshing...
2025-07-16 00:13:26,914 - WARNING - app - User 5: Missing balance/margin cache, refreshing...
2025-07-16 00:13:26,918 - WARNING - app - User 6: Missing balance/margin cache, refreshing...
2025-07-16 00:13:26,925 - INFO - app - Cache validation completed
2025-07-16 00:13:27,035 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:27,038 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:28,040 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:28,043 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:28,787 - DEBUG - app.firebase_stream - Firebase listener triggered (143). Event Type: patch, Path: /. Timestamp: 1752650008.7876549
2025-07-16 00:13:28,788 - DEBUG - app.firebase_stream - Prepared batch update for 38 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0263100000', 'o': '13.0238000000'}, 'NZDJPY': {'b': '88.4380000000', 'o': '88.4290000000'}, 'GBPAUD': {'b': '2.0547700000', 'o': '2.0546700000'}, 'USDJPY': {'b': '148.6920000000',
2025-07-16 00:13:28,789 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0263100000', 'o': '13.0238000000'}, 'NZDJPY': {'b': '88.4380000000', 'o': '88.4290000000'}, 'GBPAUD': {'b': '2.0547700000', 'o': '2.0546700000'}, 'USDJPY': {'b': '148.6920000000',...
2025-07-16 00:13:28,794 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:13:29,046 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:29,051 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:30,059 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:30,062 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:31,069 - DEBUG - app.firebase_stream - Firebase listener triggered (144). Event Type: patch, Path: /. Timestamp: 1752650011.0690298
2025-07-16 00:13:31,069 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:31,069 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0261500000', 'o': '13.0238000000'}, 'NZDJPY': {'b': '88.4400000000', 'o': '88.4300000000'}, 'GBPAUD': {'b': '2.0547300000', 'o': '2.0545900000'}, 'USDJPY': {'b': '148.6910000000',
2025-07-16 00:13:31,070 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0261500000', 'o': '13.0238000000'}, 'NZDJPY': {'b': '88.4400000000', 'o': '88.4300000000'}, 'GBPAUD': {'b': '2.0547300000', 'o': '2.0545900000'}, 'USDJPY': {'b': '148.6910000000',...
2025-07-16 00:13:31,070 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:13:31,074 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:32,112 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:32,116 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:33,132 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:33,136 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:33,386 - DEBUG - app.firebase_stream - Firebase listener triggered (145). Event Type: patch, Path: /. Timestamp: 1752650013.3860874
2025-07-16 00:13:33,386 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4400000000', 'o': '88.4340000000'}, 'GBPAUD': {'b': '2.0547300000', 'o': '2.0546200000'}, 'USDJPY': {'b': '148.6860000000', 'o': '148.6860000000'}, 'USDCNH': {'b': '7.1815900000',
2025-07-16 00:13:33,387 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4400000000', 'o': '88.4340000000'}, 'GBPAUD': {'b': '2.0547300000', 'o': '2.0546200000'}, 'USDJPY': {'b': '148.6860000000', 'o': '148.6860000000'}, 'USDCNH': {'b': '7.1815900000',...
2025-07-16 00:13:33,387 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:13:34,142 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:34,146 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:35,163 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:35,169 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:35,695 - DEBUG - app.firebase_stream - Firebase listener triggered (146). Event Type: patch, Path: /. Timestamp: 1752650015.6959116
2025-07-16 00:13:35,696 - DEBUG - app.firebase_stream - Prepared batch update for 40 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0271000000', 'o': '13.0245000000'}, 'XAGUSD': {'b': '37.9010000000', 'o': '37.8980000000'}, 'NZDJPY': {'b': '88.4470000000', 'o': '88.4390000000'}, 'GBPAUD': {'b': '2.0548100000',
2025-07-16 00:13:35,697 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0271000000', 'o': '13.0245000000'}, 'XAGUSD': {'b': '37.9010000000', 'o': '37.8980000000'}, 'NZDJPY': {'b': '88.4470000000', 'o': '88.4390000000'}, 'GBPAUD': {'b': '2.0548100000',...
2025-07-16 00:13:35,701 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:13:36,184 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:36,190 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:37,193 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:37,196 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:38,012 - DEBUG - app.firebase_stream - Firebase listener triggered (147). Event Type: patch, Path: /. Timestamp: 1752650018.0127504
2025-07-16 00:13:38,013 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9030000000', 'o': '37.8970000000'}, 'NZDJPY': {'b': '88.4480000000', 'o': '88.4390000000'}, 'GBPAUD': {'b': '2.0547200000', 'o': '2.0546000000'}, 'BTCUSD': {'b': '118049.800000000
2025-07-16 00:13:38,014 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9030000000', 'o': '37.8970000000'}, 'NZDJPY': {'b': '88.4480000000', 'o': '88.4390000000'}, 'GBPAUD': {'b': '2.0547200000', 'o': '2.0546000000'}, 'BTCUSD': {'b': '118049.800000000...
2025-07-16 00:13:38,016 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:13:38,197 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:38,201 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:39,209 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:39,213 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:40,230 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:40,234 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:40,304 - DEBUG - app.firebase_stream - Firebase listener triggered (148). Event Type: patch, Path: /. Timestamp: 1752650020.3046095
2025-07-16 00:13:40,305 - DEBUG - app.firebase_stream - Prepared batch update for 26 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9020000000', 'o': '37.8970000000'}, 'GBPAUD': {'b': '2.0547200000', 'o': '2.0545700000'}, 'USDJPY': {'b': '148.6920000000', 'o': '148.6880000000'}, 'USDCNH': {'b': '7.1814600000',
2025-07-16 00:13:40,306 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9020000000', 'o': '37.8970000000'}, 'GBPAUD': {'b': '2.0547200000', 'o': '2.0545700000'}, 'USDJPY': {'b': '148.6920000000', 'o': '148.6880000000'}, 'USDCNH': {'b': '7.1814600000',...
2025-07-16 00:13:40,307 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:13:41,247 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:41,252 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:42,260 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:42,264 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:42,596 - DEBUG - app.firebase_stream - Firebase listener triggered (149). Event Type: patch, Path: /. Timestamp: 1752650022.596346
2025-07-16 00:13:42,596 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0260000000', 'o': '13.0234000000'}, 'NZDJPY': {'b': '88.4340000000', 'o': '88.4260000000'}, 'GBPAUD': {'b': '2.0546500000', 'o': '2.0545700000'}, 'BTCUSD': {'b': '118035.400000000
2025-07-16 00:13:42,597 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0260000000', 'o': '13.0234000000'}, 'NZDJPY': {'b': '88.4340000000', 'o': '88.4260000000'}, 'GBPAUD': {'b': '2.0546500000', 'o': '2.0545700000'}, 'BTCUSD': {'b': '118035.400000000...
2025-07-16 00:13:42,597 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:13:43,273 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:43,277 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:44,282 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:44,286 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:44,910 - DEBUG - app.firebase_stream - Firebase listener triggered (150). Event Type: patch, Path: /. Timestamp: 1752650024.9100556
2025-07-16 00:13:44,910 - DEBUG - app.firebase_stream - Prepared batch update for 35 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0267000000', 'o': '13.0241000000'}, 'XAGUSD': {'b': '37.8980000000', 'o': '37.8940000000'}, 'NZDJPY': {'b': '88.4480000000', 'o': '88.4400000000'}, 'GBPAUD': {'b': '2.0546900000',
2025-07-16 00:13:44,911 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0267000000', 'o': '13.0241000000'}, 'XAGUSD': {'b': '37.8980000000', 'o': '37.8940000000'}, 'NZDJPY': {'b': '88.4480000000', 'o': '88.4400000000'}, 'GBPAUD': {'b': '2.0546900000',...
2025-07-16 00:13:44,911 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:13:45,295 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:45,300 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:46,315 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:46,320 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:47,185 - DEBUG - app.firebase_stream - Firebase listener triggered (151). Event Type: patch, Path: /. Timestamp: 1752650027.1858468
2025-07-16 00:13:47,186 - DEBUG - app.firebase_stream - Prepared batch update for 24 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9040000000', 'o': '37.8990000000'}, 'NZDJPY': {'b': '88.4340000000', 'o': '88.4260000000'}, 'GBPAUD': {'b': '2.0547100000', 'o': '2.0545700000'}, 'BTCUSD': {'b': '118064.600000000
2025-07-16 00:13:47,187 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9040000000', 'o': '37.8990000000'}, 'NZDJPY': {'b': '88.4340000000', 'o': '88.4260000000'}, 'GBPAUD': {'b': '2.0547100000', 'o': '2.0545700000'}, 'BTCUSD': {'b': '118064.600000000...
2025-07-16 00:13:47,187 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:13:47,322 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:47,325 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:48,329 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:48,331 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:49,343 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:49,347 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:49,488 - DEBUG - app.firebase_stream - Firebase listener triggered (152). Event Type: patch, Path: /. Timestamp: 1752650029.4880507
2025-07-16 00:13:49,488 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0275000000', 'o': '13.0249000000'}, 'NZDJPY': {'b': '88.4370000000', 'o': '88.4290000000'}, 'GBPAUD': {'b': '2.0547900000', 'o': '2.0546600000'}, 'USDJPY': {'b': '148.6900000000',
2025-07-16 00:13:49,488 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0275000000', 'o': '13.0249000000'}, 'NZDJPY': {'b': '88.4370000000', 'o': '88.4290000000'}, 'GBPAUD': {'b': '2.0547900000', 'o': '2.0546600000'}, 'USDJPY': {'b': '148.6900000000',...
2025-07-16 00:13:49,489 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:13:50,365 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:50,368 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:51,371 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:51,374 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:51,773 - DEBUG - app.firebase_stream - Firebase listener triggered (153). Event Type: patch, Path: /. Timestamp: 1752650031.7734427
2025-07-16 00:13:51,773 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0272000000', 'o': '13.0247200000'}, 'NZDJPY': {'b': '88.4480000000', 'o': '88.4400000000'}, 'GBPAUD': {'b': '2.0547700000', 'o': '2.0546200000'}, 'BTCUSD': {'b': '118041.900000000
2025-07-16 00:13:51,773 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0272000000', 'o': '13.0247200000'}, 'NZDJPY': {'b': '88.4480000000', 'o': '88.4400000000'}, 'GBPAUD': {'b': '2.0547700000', 'o': '2.0546200000'}, 'BTCUSD': {'b': '118041.900000000...
2025-07-16 00:13:51,774 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:13:52,377 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:52,381 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:53,385 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:53,389 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:54,095 - DEBUG - app.firebase_stream - Firebase listener triggered (154). Event Type: patch, Path: /. Timestamp: 1752650034.0950904
2025-07-16 00:13:54,095 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0275000000', 'o': '13.0249000000'}, 'NZDJPY': {'b': '88.4320000000', 'o': '88.4270000000'}, 'GBPAUD': {'b': '2.0547200000', 'o': '2.0545400000'}, 'BTCUSD': {'b': '118064.600000000
2025-07-16 00:13:54,096 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0275000000', 'o': '13.0249000000'}, 'NZDJPY': {'b': '88.4320000000', 'o': '88.4270000000'}, 'GBPAUD': {'b': '2.0547200000', 'o': '2.0545400000'}, 'BTCUSD': {'b': '118064.600000000...
2025-07-16 00:13:54,096 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:13:54,392 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:54,395 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:55,398 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:55,402 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:56,417 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:56,423 - DEBUG - app.firebase_stream - Firebase listener triggered (155). Event Type: patch, Path: /. Timestamp: 1752650036.4234445
2025-07-16 00:13:56,426 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0261000000', 'o': '13.0235000000'}, 'XAGUSD': {'b': '37.8980000000', 'o': '37.8920000000'}, 'NZDJPY': {'b': '88.4330000000', 'o': '88.4270000000'}, 'BTCUSD': {'b': '118064.7000000
2025-07-16 00:13:56,427 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:56,429 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0261000000', 'o': '13.0235000000'}, 'XAGUSD': {'b': '37.8980000000', 'o': '37.8920000000'}, 'NZDJPY': {'b': '88.4330000000', 'o': '88.4270000000'}, 'BTCUSD': {'b': '118064.7000000...
2025-07-16 00:13:56,434 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:13:57,449 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:57,453 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:58,455 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:58,459 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:58,786 - DEBUG - app.firebase_stream - Firebase listener triggered (156). Event Type: patch, Path: /. Timestamp: 1752650038.78635
2025-07-16 00:13:58,786 - DEBUG - app.firebase_stream - Prepared batch update for 30 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0275000000', 'o': '13.0249000000'}, 'XAGUSD': {'b': '37.8990000000', 'o': '37.8960000000'}, 'NZDJPY': {'b': '88.4460000000', 'o': '88.4400000000'}, 'GBPAUD': {'b': '2.0546900000',
2025-07-16 00:13:58,788 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0275000000', 'o': '13.0249000000'}, 'XAGUSD': {'b': '37.8990000000', 'o': '37.8960000000'}, 'NZDJPY': {'b': '88.4460000000', 'o': '88.4400000000'}, 'GBPAUD': {'b': '2.0546900000',...
2025-07-16 00:13:58,791 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:13:59,475 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:59,480 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:00,497 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:00,502 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:01,024 - DEBUG - app.firebase_stream - Firebase listener triggered (157). Event Type: patch, Path: /. Timestamp: 1752650041.024902
2025-07-16 00:14:01,025 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0272000000', 'o': '13.0247200000'}, 'NZDJPY': {'b': '88.4470000000', 'o': '88.4400000000'}, 'GBPAUD': {'b': '2.0547200000', 'o': '2.0545500000'}, 'BTCUSD': {'b': '118056.240000000
2025-07-16 00:14:01,026 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0272000000', 'o': '13.0247200000'}, 'NZDJPY': {'b': '88.4470000000', 'o': '88.4400000000'}, 'GBPAUD': {'b': '2.0547200000', 'o': '2.0545500000'}, 'BTCUSD': {'b': '118056.240000000...
2025-07-16 00:14:01,026 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:14:01,517 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:01,521 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:02,147 - WARNING - app - User 4 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:14:02,152 - WARNING - app - No user data found for user 5 (live). Skipping portfolio update.
2025-07-16 00:14:02,160 - WARNING - app - No group settings found for group string. Skipping portfolio update for user 8.
2025-07-16 00:14:02,182 - WARNING - app - User 9 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:14:02,204 - WARNING - app - User 10 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:14:02,226 - WARNING - app - User 11 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:14:02,247 - WARNING - app - User 12 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:14:02,268 - WARNING - app - User 13 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:14:02,651 - DEBUG - app.services.portfolio_calculator - Position calculation for BTCUSD: Type=BUY, Entry=118908.50000000, Current=117996.24, Quantity=0.40000000, Contract Size=1.00000000, PnL=-364.904000000000000000000000, PnL USD=-364.904000000000000000000000, Commission=235.57000000, Final PnL=-600.474000000000000000000000
2025-07-16 00:14:02,652 - WARNING - app.services.portfolio_calculator - MARGIN CALL ALERT: User has margin level 98.71391836548431293266388828% which is below threshold 100.0%
2025-07-16 00:14:02,652 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:02,656 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:02,680 - WARNING - app - User 16 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:14:02,705 - WARNING - app - User 17 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:14:02,730 - WARNING - app - User 18 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:14:02,752 - WARNING - app - User 19 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:14:02,773 - WARNING - app - User 20 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:14:02,791 - WARNING - app - User 21 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:14:02,811 - WARNING - app - User 22 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:14:02,829 - WARNING - app - User 23 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:14:02,848 - WARNING - app - User 24 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:14:02,861 - WARNING - app - User 25 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:14:03,266 - DEBUG - app.services.portfolio_calculator - Position calculation for XAGUSD: Type=BUY, Entry=41.09800000, Current=37.8835, Quantity=0.01000000, Contract Size=5000.00000000, PnL=-160.725000000000000000000000, PnL USD=-160.725000000000000000000000, Commission=0.10000000, Final PnL=-160.825000000000000000000000
2025-07-16 00:14:03,266 - DEBUG - app.services.portfolio_calculator - Position calculation for BTCUSD: Type=BUY, Entry=132091.90000000, Current=117996.24, Quantity=6.00000000, Contract Size=1.00000000, PnL=-84573.96000000000000000000000, PnL USD=-84573.96000000000000000000000, Commission=3661.62000000, Final PnL=-88235.58000000000000000000000
2025-07-16 00:14:03,266 - WARNING - app.services.portfolio_calculator - MARGIN CALL ALERT: User has margin level 65.50141800014704630463556990% which is below threshold 100.0%
2025-07-16 00:14:03,300 - DEBUG - app.firebase_stream - Firebase listener triggered (158). Event Type: patch, Path: /. Timestamp: 1752650043.300767
2025-07-16 00:14:03,302 - DEBUG - app.firebase_stream - Prepared batch update for 26 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0272000000', 'o': '13.0246700000'}, 'NZDJPY': {'b': '88.4460000000', 'o': '88.4400000000'}, 'GBPAUD': {'b': '2.0547000000', 'o': '2.0545400000'}, 'USDJPY': {'b': '148.6910000000',
2025-07-16 00:14:03,304 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0272000000', 'o': '13.0246700000'}, 'NZDJPY': {'b': '88.4460000000', 'o': '88.4400000000'}, 'GBPAUD': {'b': '2.0547000000', 'o': '2.0545400000'}, 'USDJPY': {'b': '148.6910000000',...
2025-07-16 00:14:03,304 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:14:03,782 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=96.66800000, Current=96.971, Quantity=0.01000000, Contract Size=100000.00000000, PnL=303.000000000000000000000000, PnL USD=2.037783053446408995837004257, Commission=0.10000000, Final PnL=1.937783053446408995837004257
2025-07-16 00:14:03,782 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:03,786 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=96.56000000, Current=97.075, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-515.000000000000000000000000, PnL USD=-3.463558655197691857610749810, Commission=0.10000000, Final PnL=-3.563558655197691857610749810
2025-07-16 00:14:03,790 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:03,791 - WARNING - app - User 2 has no group_name set. Skipping portfolio update.
2025-07-16 00:14:03,798 - WARNING - app - No group settings found for group string. Skipping portfolio update for user 3.
2025-07-16 00:14:03,824 - WARNING - app - User 4 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:14:03,825 - WARNING - app - User 5 has no group_name set. Skipping portfolio update.
2025-07-16 00:14:03,826 - WARNING - app - User 6 has no group_name set. Skipping portfolio update.
2025-07-16 00:14:04,292 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64743000, Current=0.65237, Quantity=0.10000000, Contract Size=100000.00000000, PnL=49.400000000000000000000000, PnL USD=49.400000000000000000000000, Commission=1.00000000, Final PnL=48.400000000000000000000000
2025-07-16 00:14:04,293 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=SELL, Entry=0.64707000, Current=0.65269, Quantity=0.22000000, Contract Size=100000.00000000, PnL=-123.640000000000000000000000, PnL USD=-123.640000000000000000000000, Commission=2.20000000, Final PnL=-125.840000000000000000000000
2025-07-16 00:14:04,294 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFSGD: Type=BUY, Entry=1.57561500, Current=1.6038050000000001, Quantity=0.10000000, Contract Size=100000.00000000, PnL=281.9000000000010000000000000, PnL USD=219.5021296144899437034268495, Commission=1.00000000, Final PnL=218.5021296144899437034268495
2025-07-16 00:14:04,295 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFSGD: Type=SELL, Entry=1.57505500, Current=1.604225, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-291.700000000000000000000000, PnL USD=-227.1329237621372452833126990, Commission=1.00000000, Final PnL=-228.1329237621372452833126990
2025-07-16 00:14:04,296 - DEBUG - app.services.portfolio_calculator - Position calculation for CADJPY: Type=SELL, Entry=106.24150000, Current=108.4515, Quantity=0.15000000, Contract Size=100000.00000000, PnL=-33150.00000000000000000000000, PnL USD=-222.9455716889388059801870994, Commission=0E-8, Final PnL=-222.9455716889388059801870994
2025-07-16 00:14:04,297 - DEBUG - app.services.portfolio_calculator - Position calculation for CADJPY: Type=BUY, Entry=106.27050000, Current=108.4165, Quantity=0.15000000, Contract Size=100000.00000000, PnL=32190.00000000000000000000000, PnL USD=216.4892293413858269834757988, Commission=0E-8, Final PnL=216.4892293413858269834757988
2025-07-16 00:14:04,297 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=BUY, Entry=1.77481000, Current=1.7813299999999999, Quantity=0.22000000, Contract Size=100000.00000000, PnL=143.4399999999978000000000000, PnL USD=93.60033759999856441200000000, Commission=2.20000000, Final PnL=91.40033759999856441200000000
2025-07-16 00:14:04,297 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=SELL, Entry=1.77439000, Current=1.7817200000000002, Quantity=0.21000000, Contract Size=100000.00000000, PnL=-153.9300000000042000000000000, PnL USD=-100.4454822000027406680000000, Commission=2.10000000, Final PnL=-102.5454822000027406680000000
2025-07-16 00:14:04,298 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFJPY: Type=BUY, Entry=178.15500000, Current=185.685, Quantity=0.10000000, Contract Size=100000.00000000, PnL=75300.00000000000000000000000, PnL USD=506.4193528861867900545426421, Commission=1.00000000, Final PnL=505.4193528861867900545426421
2025-07-16 00:14:04,299 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFJPY: Type=SELL, Entry=178.09500000, Current=185.73499999999999, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-76399.99999999990000000000000, PnL USD=-513.8172451594239059526131373, Commission=1.00000000, Final PnL=-514.8172451594239059526131373
2025-07-16 00:14:04,300 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=BUY, Entry=1.77480000, Current=1.7813299999999999, Quantity=0.05000000, Contract Size=100000.00000000, PnL=32.64999999999950000000000000, PnL USD=21.30543099999967373000000000, Commission=0.50000000, Final PnL=20.80543099999967373000000000
2025-07-16 00:14:04,300 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=SELL, Entry=1.77442000, Current=1.7817200000000002, Quantity=0.05000000, Contract Size=100000.00000000, PnL=-36.50000000000100000000000000, PnL USD=-23.81771000000065254000000000, Commission=0.50000000, Final PnL=-24.31771000000065254000000000
2025-07-16 00:14:04,300 - DEBUG - app.services.portfolio_calculator - Position calculation for EURGBP: Type=SELL, Entry=0.85403000, Current=0.86732, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-132.900000000000000000000000, PnL USD=-178.1816880000000000000000000, Commission=1.00000000, Final PnL=-179.1816880000000000000000000
2025-07-16 00:14:04,301 - DEBUG - app.services.portfolio_calculator - Position calculation for EURJPY: Type=BUY, Entry=167.26050000, Current=172.8325, Quantity=0.10000000, Contract Size=100000.00000000, PnL=55720.00000000000000000000000, PnL USD=374.7368704225541559341184066, Commission=1.00000000, Final PnL=373.7368704225541559341184066
2025-07-16 00:14:04,302 - DEBUG - app.services.portfolio_calculator - Position calculation for EURJPY: Type=SELL, Entry=167.23150000, Current=172.86249999999998, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-56309.99999999980000000000000, PnL USD=-378.7048308236530792045248199, Commission=1.00000000, Final PnL=-379.7048308236530792045248199
2025-07-16 00:14:04,302 - DEBUG - app.services.portfolio_calculator - Position calculation for EURNZD: Type=SELL, Entry=1.91952500, Current=1.954535, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-350.100000000000000000000000, PnL USD=-208.2464820000000000000000000, Commission=1.00000000, Final PnL=-209.2464820000000000000000000
2025-07-16 00:14:04,303 - DEBUG - app.services.portfolio_calculator - Position calculation for EURNZD: Type=BUY, Entry=1.92063500, Current=1.9540950000000001, Quantity=0.10000000, Contract Size=100000.00000000, PnL=334.6000000000010000000000000, PnL USD=199.0267720000005948200000000, Commission=1.00000000, Final PnL=198.0267720000005948200000000
2025-07-16 00:14:04,303 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=SELL, Entry=1.34376000, Current=1.34082, Quantity=0.25000000, Contract Size=0E-8, PnL=0E-24, PnL USD=0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:14:04,303 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=SELL, Entry=1.34361000, Current=1.34082, Quantity=0.25000000, Contract Size=0E-8, PnL=0E-24, PnL USD=0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:14:04,303 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=BUY, Entry=1.34379000, Current=1.34061, Quantity=0.25000000, Contract Size=0E-8, PnL=-0E-24, PnL USD=-0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:14:04,303 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=BUY, Entry=1.34378000, Current=1.34061, Quantity=0.25000000, Contract Size=0E-8, PnL=-0E-24, PnL USD=-0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:14:04,304 - DEBUG - app.services.portfolio_calculator - Position calculation for NZDJPY: Type=BUY, Entry=87.10150000, Current=88.4275, Quantity=0.01000000, Contract Size=100000.00000000, PnL=1326.000000000000000000000000, PnL USD=8.917822867557552239207483977, Commission=0.10000000, Final PnL=8.817822867557552239207483977
2025-07-16 00:14:04,305 - DEBUG - app.services.portfolio_calculator - Position calculation for USDCHF: Type=SELL, Entry=0.81771000, Current=0.8008299999999999, Quantity=0.15000000, Contract Size=100000.00000000, PnL=253.2000000000015000000000000, PnL USD=316.2312034770463855722635760, Commission=1.50000000, Final PnL=314.7312034770463855722635760
2025-07-16 00:14:04,306 - DEBUG - app.services.portfolio_calculator - Position calculation for USDCHF: Type=BUY, Entry=0.81805000, Current=0.8005, Quantity=0.15000000, Contract Size=100000.00000000, PnL=-263.250000000000000000000000, PnL USD=-328.7830344207423689863615926, Commission=1.50000000, Final PnL=-330.2830344207423689863615926
2025-07-16 00:14:04,307 - DEBUG - app.services.portfolio_calculator - Position calculation for USDNOK: Type=BUY, Entry=10.04973000, Current=10.25428, Quantity=0.10000000, Contract Size=100000.00000000, PnL=2045.500000000000000000000000, PnL USD=199.4490895351388245618311679, Commission=1.00000000, Final PnL=198.4490895351388245618311679
2025-07-16 00:14:04,308 - DEBUG - app.services.portfolio_calculator - Position calculation for USDNOK: Type=BUY, Entry=10.05023000, Current=10.25428, Quantity=0.10000000, Contract Size=100000.00000000, PnL=2040.500000000000000000000000, PnL USD=198.9615581503059259439826439, Commission=1.00000000, Final PnL=197.9615581503059259439826439
2025-07-16 00:14:04,309 - DEBUG - app.services.portfolio_calculator - Position calculation for USDSGD: Type=SELL, Entry=1.28795000, Current=1.2844200000000001, Quantity=0.31000000, Contract Size=100000.00000000, PnL=109.4299999999969000000000000, PnL USD=85.20793914052099636369299291, Commission=3.10000000, Final PnL=82.10793914052099636369299291
2025-07-16 00:14:04,310 - DEBUG - app.services.portfolio_calculator - Position calculation for USDTRY: Type=SELL, Entry=39.56087000, Current=40.25221, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-6913.400000000000000000000000, PnL USD=-171.7527003586897167499005020, Commission=1.00000000, Final PnL=-172.7527003586897167499005020
2025-07-16 00:14:04,804 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:04,807 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:05,521 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.89752000, Current=0.89478, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-2.740000000000000000000000, PnL USD=-1.998045707118584741931249727, Commission=0.10000000, Final PnL=-2.098045707118584741931249727
2025-07-16 00:14:05,552 - WARNING - app - User 12 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:14:05,577 - WARNING - app - User 13 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:14:05,636 - DEBUG - app.firebase_stream - Firebase listener triggered (159). Event Type: patch, Path: /. Timestamp: 1752650045.6361701
2025-07-16 00:14:05,636 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4460000000', 'o': '88.4380000000'}, 'GBPAUD': {'b': '2.0546700000', 'o': '2.0545000000'}, 'BTCUSD': {'b': '118044.4000000000', 'o': '118044.3000000000'}, 'USDJPY': {'b': '148.6920
2025-07-16 00:14:05,637 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4460000000', 'o': '88.4380000000'}, 'GBPAUD': {'b': '2.0546700000', 'o': '2.0545000000'}, 'BTCUSD': {'b': '118044.4000000000', 'o': '118044.3000000000'}, 'USDJPY': {'b': '148.6920...
2025-07-16 00:14:05,637 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:14:05,809 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:05,812 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:06,815 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:06,819 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:07,822 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:07,826 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:07,894 - DEBUG - app.firebase_stream - Firebase listener triggered (160). Event Type: patch, Path: /. Timestamp: 1752650047.89425
2025-07-16 00:14:07,894 - DEBUG - app.firebase_stream - Prepared batch update for 23 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0274000000', 'o': '13.0248000000'}, 'NZDJPY': {'b': '88.4460000000', 'o': '88.4370000000'}, 'GBPAUD': {'b': '2.0546800000', 'o': '2.0545200000'}, 'USDJPY': {'b': '148.6890000000',
2025-07-16 00:14:07,895 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0274000000', 'o': '13.0248000000'}, 'NZDJPY': {'b': '88.4460000000', 'o': '88.4370000000'}, 'GBPAUD': {'b': '2.0546800000', 'o': '2.0545200000'}, 'USDJPY': {'b': '148.6890000000',...
2025-07-16 00:14:07,903 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:14:08,842 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:08,847 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:09,850 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:09,854 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:10,257 - DEBUG - app.firebase_stream - Firebase listener triggered (161). Event Type: patch, Path: /. Timestamp: 1752650050.2572489
2025-07-16 00:14:10,257 - DEBUG - app.firebase_stream - Prepared batch update for 30 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0273000000', 'o': '13.0247000000'}, 'XAGUSD': {'b': '37.9010000000', 'o': '37.8970000000'}, 'NZDJPY': {'b': '88.4460000000', 'o': '88.4400000000'}, 'GBPAUD': {'b': '2.0546800000',
2025-07-16 00:14:10,259 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0273000000', 'o': '13.0247000000'}, 'XAGUSD': {'b': '37.9010000000', 'o': '37.8970000000'}, 'NZDJPY': {'b': '88.4460000000', 'o': '88.4400000000'}, 'GBPAUD': {'b': '2.0546800000',...
2025-07-16 00:14:10,260 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:14:10,856 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:10,861 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:11,863 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:11,867 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:12,455 - DEBUG - app.firebase_stream - Firebase listener triggered (162). Event Type: patch, Path: /. Timestamp: 1752650052.455104
2025-07-16 00:14:12,455 - DEBUG - app.firebase_stream - Prepared batch update for 24 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0276000000', 'o': '13.0250000000'}, 'GBPAUD': {'b': '2.0546800000', 'o': '2.0545500000'}, 'CADCHF': {'b': '0.5839000000', 'o': '0.5838400000'}, 'EURNZD': {'b': '1.9544100000', 'o'
2025-07-16 00:14:12,456 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0276000000', 'o': '13.0250000000'}, 'GBPAUD': {'b': '2.0546800000', 'o': '2.0545500000'}, 'CADCHF': {'b': '0.5839000000', 'o': '0.5838400000'}, 'EURNZD': {'b': '1.9544100000', 'o'...
2025-07-16 00:14:12,457 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:14:12,871 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:12,875 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:13,890 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:13,893 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:14,858 - DEBUG - app.firebase_stream - Firebase listener triggered (163). Event Type: patch, Path: /. Timestamp: 1752650054.858517
2025-07-16 00:14:14,859 - DEBUG - app.firebase_stream - Prepared batch update for 24 symbols from root path for queue. Preview: {'USDJPY': {'b': '148.6940000000', 'o': '148.6880000000'}, 'CADCHF': {'b': '0.5839300000', 'o': '0.5838800000'}, 'EURNZD': {'b': '1.9544100000', 'o': '1.9542200000'}, 'EURZAR': {'b': '20.8139400000', 
2025-07-16 00:14:14,860 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'USDJPY': {'b': '148.6940000000', 'o': '148.6880000000'}, 'CADCHF': {'b': '0.5839300000', 'o': '0.5838800000'}, 'EURNZD': {'b': '1.9544100000', 'o': '1.9542200000'}, 'EURZAR': {'b': '20.8139400000', ...
2025-07-16 00:14:14,864 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:14:14,898 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:14,909 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:15,941 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:15,945 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:16,959 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:16,963 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:17,110 - DEBUG - app.firebase_stream - Firebase listener triggered (164). Event Type: patch, Path: /. Timestamp: 1752650057.1100316
2025-07-16 00:14:17,110 - DEBUG - app.firebase_stream - Prepared batch update for 24 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0278000000', 'o': '13.0252000000'}, 'XAGUSD': {'b': '37.9030000000', 'o': '37.8970000000'}, 'NZDJPY': {'b': '88.4490000000', 'o': '88.4410000000'}, 'GBPAUD': {'b': '2.0546800000',
2025-07-16 00:14:17,111 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0278000000', 'o': '13.0252000000'}, 'XAGUSD': {'b': '37.9030000000', 'o': '37.8970000000'}, 'NZDJPY': {'b': '88.4490000000', 'o': '88.4410000000'}, 'GBPAUD': {'b': '2.0546800000',...
2025-07-16 00:14:17,112 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:14:17,980 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:17,984 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:19,000 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:19,004 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:19,373 - DEBUG - app.firebase_stream - Firebase listener triggered (165). Event Type: patch, Path: /. Timestamp: 1752650059.3737648
2025-07-16 00:14:19,374 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0277000000', 'o': '13.0251000000'}, 'XAGUSD': {'b': '37.9020000000', 'o': '37.8970000000'}, 'NZDJPY': {'b': '88.4470000000', 'o': '88.4410000000'}, 'GBPAUD': {'b': '2.0547100000',
2025-07-16 00:14:19,375 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0277000000', 'o': '13.0251000000'}, 'XAGUSD': {'b': '37.9020000000', 'o': '37.8970000000'}, 'NZDJPY': {'b': '88.4470000000', 'o': '88.4410000000'}, 'GBPAUD': {'b': '2.0547100000',...
2025-07-16 00:14:19,379 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:14:20,017 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:20,020 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:21,024 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:21,028 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:21,640 - DEBUG - app.firebase_stream - Firebase listener triggered (166). Event Type: patch, Path: /. Timestamp: 1752650061.6402307
2025-07-16 00:14:21,640 - DEBUG - app.firebase_stream - Prepared batch update for 25 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4460000000', 'o': '88.4370000000'}, 'GBPAUD': {'b': '2.0547100000', 'o': '2.0545800000'}, 'USDJPY': {'b': '148.6920000000', 'o': '148.6880000000'}, 'USDCNH': {'b': '7.1820100000',
2025-07-16 00:14:21,640 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4460000000', 'o': '88.4370000000'}, 'GBPAUD': {'b': '2.0547100000', 'o': '2.0545800000'}, 'USDJPY': {'b': '148.6920000000', 'o': '148.6880000000'}, 'USDCNH': {'b': '7.1820100000',...
2025-07-16 00:14:21,642 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:14:22,039 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:22,041 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:23,055 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:23,058 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:23,937 - DEBUG - app.firebase_stream - Firebase listener triggered (167). Event Type: patch, Path: /. Timestamp: 1752650063.9378657
2025-07-16 00:14:23,938 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0266000000', 'o': '13.0240200000'}, 'NZDJPY': {'b': '88.4460000000', 'o': '88.4380000000'}, 'GBPAUD': {'b': '2.0547300000', 'o': '2.0546000000'}, 'BTCUSD': {'b': '118055.490000000
2025-07-16 00:14:23,939 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0266000000', 'o': '13.0240200000'}, 'NZDJPY': {'b': '88.4460000000', 'o': '88.4380000000'}, 'GBPAUD': {'b': '2.0547300000', 'o': '2.0546000000'}, 'BTCUSD': {'b': '118055.490000000...
2025-07-16 00:14:23,949 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:14:24,060 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:24,064 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:25,079 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:25,081 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:26,083 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:26,085 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:26,266 - DEBUG - app.firebase_stream - Firebase listener triggered (168). Event Type: patch, Path: /. Timestamp: 1752650066.2663414
2025-07-16 00:14:26,266 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0269000000', 'o': '13.0243000000'}, 'XAGUSD': {'b': '37.9000000000', 'o': '37.8940000000'}, 'NZDJPY': {'b': '88.4480000000', 'o': '88.4390000000'}, 'GBPAUD': {'b': '2.0547200000',
2025-07-16 00:14:26,268 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0269000000', 'o': '13.0243000000'}, 'XAGUSD': {'b': '37.9000000000', 'o': '37.8940000000'}, 'NZDJPY': {'b': '88.4480000000', 'o': '88.4390000000'}, 'GBPAUD': {'b': '2.0547200000',...
2025-07-16 00:14:26,270 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:14:27,089 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:27,092 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:28,096 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:28,099 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:28,599 - DEBUG - app.firebase_stream - Firebase listener triggered (169). Event Type: patch, Path: /. Timestamp: 1752650068.5993776
2025-07-16 00:14:28,599 - DEBUG - app.firebase_stream - Prepared batch update for 34 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0267000000', 'o': '13.0241000000'}, 'XAGUSD': {'b': '37.9010000000', 'o': '37.8950000000'}, 'NZDJPY': {'b': '88.4370000000', 'o': '88.4280000000'}, 'GBPAUD': {'b': '2.0547200000',
2025-07-16 00:14:28,601 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0267000000', 'o': '13.0241000000'}, 'XAGUSD': {'b': '37.9010000000', 'o': '37.8950000000'}, 'NZDJPY': {'b': '88.4370000000', 'o': '88.4280000000'}, 'GBPAUD': {'b': '2.0547200000',...
2025-07-16 00:14:28,602 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:14:29,101 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:29,105 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:30,120 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:30,124 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:30,875 - DEBUG - app.firebase_stream - Firebase listener triggered (170). Event Type: patch, Path: /. Timestamp: 1752650070.875415
2025-07-16 00:14:30,875 - DEBUG - app.firebase_stream - Prepared batch update for 26 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0265000000', 'o': '13.0239000000'}, 'XAGUSD': {'b': '37.8980000000', 'o': '37.8920000000'}, 'NZDJPY': {'b': '88.4380000000', 'o': '88.4300000000'}, 'GBPAUD': {'b': '2.0546800000',
2025-07-16 00:14:30,877 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0265000000', 'o': '13.0239000000'}, 'XAGUSD': {'b': '37.8980000000', 'o': '37.8920000000'}, 'NZDJPY': {'b': '88.4380000000', 'o': '88.4300000000'}, 'GBPAUD': {'b': '2.0546800000',...
2025-07-16 00:14:30,878 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:14:31,138 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:31,140 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:32,155 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:32,158 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:33,154 - DEBUG - app.firebase_stream - Firebase listener triggered (171). Event Type: patch, Path: /. Timestamp: 1752650073.154287
2025-07-16 00:14:33,154 - DEBUG - app.firebase_stream - Prepared batch update for 26 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9020000000', 'o': '37.8980000000'}, 'NZDJPY': {'b': '88.4470000000', 'o': '88.4390000000'}, 'GBPAUD': {'b': '2.0547000000', 'o': '2.0545400000'}, 'USDJPY': {'b': '148.6900000000',
2025-07-16 00:14:33,155 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9020000000', 'o': '37.8980000000'}, 'NZDJPY': {'b': '88.4470000000', 'o': '88.4390000000'}, 'GBPAUD': {'b': '2.0547000000', 'o': '2.0545400000'}, 'USDJPY': {'b': '148.6900000000',...
2025-07-16 00:14:33,156 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:14:33,166 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:33,189 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:34,203 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:34,206 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:35,220 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:35,223 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:35,463 - DEBUG - app.firebase_stream - Firebase listener triggered (172). Event Type: patch, Path: /. Timestamp: 1752650075.4638999
2025-07-16 00:14:35,464 - DEBUG - app.firebase_stream - Prepared batch update for 26 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9030000000', 'o': '37.8980000000'}, 'NZDJPY': {'b': '88.4380000000', 'o': '88.4290000000'}, 'GBPAUD': {'b': '2.0547000000', 'o': '2.0545700000'}, 'USDJPY': {'b': '148.6980000000',
2025-07-16 00:14:35,465 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'XAGUSD': {'b': '37.9030000000', 'o': '37.8980000000'}, 'NZDJPY': {'b': '88.4380000000', 'o': '88.4290000000'}, 'GBPAUD': {'b': '2.0547000000', 'o': '2.0545700000'}, 'USDJPY': {'b': '148.6980000000',...
2025-07-16 00:14:35,465 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:14:36,235 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:36,237 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:37,253 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:37,257 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:37,791 - DEBUG - app.firebase_stream - Firebase listener triggered (173). Event Type: patch, Path: /. Timestamp: 1752650077.7919276
2025-07-16 00:14:37,792 - DEBUG - app.firebase_stream - Prepared batch update for 24 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0272000000', 'o': '13.0246000000'}, 'XAGUSD': {'b': '37.9040000000', 'o': '37.8980000000'}, 'NZDJPY': {'b': '88.4390000000', 'o': '88.4300000000'}, 'GBPAUD': {'b': '2.0547000000',
2025-07-16 00:14:37,793 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0272000000', 'o': '13.0246000000'}, 'XAGUSD': {'b': '37.9040000000', 'o': '37.8980000000'}, 'NZDJPY': {'b': '88.4390000000', 'o': '88.4300000000'}, 'GBPAUD': {'b': '2.0547000000',...
2025-07-16 00:14:37,795 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:14:38,269 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:38,272 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:39,286 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:39,289 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:40,071 - DEBUG - app.firebase_stream - Firebase listener triggered (174). Event Type: patch, Path: /. Timestamp: 1752650080.0713332
2025-07-16 00:14:40,072 - DEBUG - app.firebase_stream - Prepared batch update for 21 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9040000000', 'o': '37.9000000000'}, 'NZDJPY': {'b': '88.4280000000', 'o': '88.4280000000'}, 'GBPAUD': {'b': '2.0547000000', 'o': '2.0545700000'}, 'USDJPY': {'b': '148.7000000000',
2025-07-16 00:14:40,072 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'XAGUSD': {'b': '37.9040000000', 'o': '37.9000000000'}, 'NZDJPY': {'b': '88.4280000000', 'o': '88.4280000000'}, 'GBPAUD': {'b': '2.0547000000', 'o': '2.0545700000'}, 'USDJPY': {'b': '148.7000000000',...
2025-07-16 00:14:40,073 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:14:40,304 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:40,307 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:41,312 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:41,316 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:42,324 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:42,328 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:42,419 - DEBUG - app.firebase_stream - Firebase listener triggered (175). Event Type: patch, Path: /. Timestamp: 1752650082.419169
2025-07-16 00:14:42,419 - DEBUG - app.firebase_stream - Prepared batch update for 36 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0273000000', 'o': '13.0247000000'}, 'XAGUSD': {'b': '37.8990000000', 'o': '37.8960000000'}, 'NZDJPY': {'b': '88.4450000000', 'o': '88.4370000000'}, 'GBPAUD': {'b': '2.0547400000',
2025-07-16 00:14:42,419 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0273000000', 'o': '13.0247000000'}, 'XAGUSD': {'b': '37.8990000000', 'o': '37.8960000000'}, 'NZDJPY': {'b': '88.4450000000', 'o': '88.4370000000'}, 'GBPAUD': {'b': '2.0547400000',...
2025-07-16 00:14:42,420 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:14:43,346 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:43,349 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:44,361 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:44,364 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:44,760 - DEBUG - app.firebase_stream - Firebase listener triggered (176). Event Type: patch, Path: /. Timestamp: 1752650084.7601018
2025-07-16 00:14:44,760 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9050000000', 'o': '37.8980000000'}, 'NZDJPY': {'b': '88.4290000000', 'o': '88.4210000000'}, 'GBPAUD': {'b': '2.0547300000', 'o': '2.0545700000'}, 'USDCNH': {'b': '7.1819800000', '
2025-07-16 00:14:44,760 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'XAGUSD': {'b': '37.9050000000', 'o': '37.8980000000'}, 'NZDJPY': {'b': '88.4290000000', 'o': '88.4210000000'}, 'GBPAUD': {'b': '2.0547300000', 'o': '2.0545700000'}, 'USDCNH': {'b': '7.1819800000', '...
2025-07-16 00:14:44,761 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:14:45,368 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:45,370 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:46,383 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:46,385 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:46,965 - DEBUG - app.firebase_stream - Firebase listener triggered (177). Event Type: patch, Path: /. Timestamp: 1752650086.9657207
2025-07-16 00:14:46,966 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0277000000', 'o': '13.0251000000'}, 'XAGUSD': {'b': '37.9040000000', 'o': '37.9000000000'}, 'NZDJPY': {'b': '88.4310000000', 'o': '88.4210000000'}, 'GBPAUD': {'b': '2.0546900000',
2025-07-16 00:14:46,966 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0277000000', 'o': '13.0251000000'}, 'XAGUSD': {'b': '37.9040000000', 'o': '37.9000000000'}, 'NZDJPY': {'b': '88.4310000000', 'o': '88.4210000000'}, 'GBPAUD': {'b': '2.0546900000',...
2025-07-16 00:14:46,967 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:14:47,392 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:47,396 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:48,399 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:48,402 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:49,246 - DEBUG - app.firebase_stream - Firebase listener triggered (178). Event Type: patch, Path: /. Timestamp: 1752650089.246701
2025-07-16 00:14:49,247 - DEBUG - app.firebase_stream - Prepared batch update for 30 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0275000000', 'o': '13.0249000000'}, 'XAGUSD': {'b': '37.9030000000', 'o': '37.9000000000'}, 'NZDJPY': {'b': '88.4310000000', 'o': '88.4220000000'}, 'GBPAUD': {'b': '2.0546900000',
2025-07-16 00:14:49,248 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0275000000', 'o': '13.0249000000'}, 'XAGUSD': {'b': '37.9030000000', 'o': '37.9000000000'}, 'NZDJPY': {'b': '88.4310000000', 'o': '88.4220000000'}, 'GBPAUD': {'b': '2.0546900000',...
2025-07-16 00:14:49,249 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:14:49,405 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:49,408 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:50,420 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:50,423 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:51,427 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:51,430 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:51,629 - DEBUG - app.firebase_stream - Firebase listener triggered (179). Event Type: patch, Path: /. Timestamp: 1752650091.6293623
2025-07-16 00:14:51,629 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9040000000', 'o': '37.9010000000'}, 'NZDJPY': {'b': '88.4310000000', 'o': '88.4310000000'}, 'USDJPY': {'b': '148.6940000000', 'o': '148.6940000000'}, 'CADCHF': {'b': '0.5839600000
2025-07-16 00:14:51,630 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9040000000', 'o': '37.9010000000'}, 'NZDJPY': {'b': '88.4310000000', 'o': '88.4310000000'}, 'USDJPY': {'b': '148.6940000000', 'o': '148.6940000000'}, 'CADCHF': {'b': '0.5839600000...
2025-07-16 00:14:51,630 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:14:52,435 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:52,439 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:53,445 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:53,449 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:53,841 - DEBUG - app.firebase_stream - Firebase listener triggered (180). Event Type: patch, Path: /. Timestamp: 1752650093.8417797
2025-07-16 00:14:53,842 - DEBUG - app.firebase_stream - Prepared batch update for 36 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0277000000', 'o': '13.0251000000'}, 'XAGUSD': {'b': '37.9050000000', 'o': '37.9020000000'}, 'NZDJPY': {'b': '88.4460000000', 'o': '88.4390000000'}, 'GBPAUD': {'b': '2.0547000000',
2025-07-16 00:14:53,843 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0277000000', 'o': '13.0251000000'}, 'XAGUSD': {'b': '37.9050000000', 'o': '37.9020000000'}, 'NZDJPY': {'b': '88.4460000000', 'o': '88.4390000000'}, 'GBPAUD': {'b': '2.0547000000',...
2025-07-16 00:14:53,846 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:14:54,463 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:54,466 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:55,482 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:55,485 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:56,234 - DEBUG - app.firebase_stream - Firebase listener triggered (181). Event Type: patch, Path: /. Timestamp: 1752650096.2344966
2025-07-16 00:14:56,234 - DEBUG - app.firebase_stream - Prepared batch update for 34 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0278000000', 'o': '13.0252000000'}, 'NZDJPY': {'b': '88.4390000000', 'o': '88.4320000000'}, 'GBPAUD': {'b': '2.0546700000', 'o': '2.0545100000'}, 'BTCUSD': {'b': '118057.800000000
2025-07-16 00:14:56,235 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0278000000', 'o': '13.0252000000'}, 'NZDJPY': {'b': '88.4390000000', 'o': '88.4320000000'}, 'GBPAUD': {'b': '2.0546700000', 'o': '2.0545100000'}, 'BTCUSD': {'b': '118057.800000000...
2025-07-16 00:14:56,242 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:14:56,496 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:56,499 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:57,507 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:57,510 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:58,471 - DEBUG - app.firebase_stream - Firebase listener triggered (182). Event Type: patch, Path: /. Timestamp: 1752650098.4712472
2025-07-16 00:14:58,471 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9060000000', 'o': '37.9030000000'}, 'NZDJPY': {'b': '88.4390000000', 'o': '88.4300000000'}, 'GBPAUD': {'b': '2.0546800000', 'o': '2.0545100000'}, 'USDJPY': {'b': '148.6920000000',
2025-07-16 00:14:58,473 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9060000000', 'o': '37.9030000000'}, 'NZDJPY': {'b': '88.4390000000', 'o': '88.4300000000'}, 'GBPAUD': {'b': '2.0546800000', 'o': '2.0545100000'}, 'USDJPY': {'b': '148.6920000000',...
2025-07-16 00:14:58,475 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:14:58,515 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:58,523 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:59,539 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:59,542 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:00,555 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:00,557 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:00,844 - DEBUG - app.firebase_stream - Firebase listener triggered (183). Event Type: patch, Path: /. Timestamp: 1752650100.8448317
2025-07-16 00:15:00,845 - DEBUG - app.firebase_stream - Prepared batch update for 30 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0275000000', 'o': '13.0249300000'}, 'XAGUSD': {'b': '37.9060000000', 'o': '37.9020000000'}, 'NZDJPY': {'b': '88.4370000000', 'o': '88.4300000000'}, 'GBPAUD': {'b': '2.0546800000',
2025-07-16 00:15:00,846 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0275000000', 'o': '13.0249300000'}, 'XAGUSD': {'b': '37.9060000000', 'o': '37.9020000000'}, 'NZDJPY': {'b': '88.4370000000', 'o': '88.4300000000'}, 'GBPAUD': {'b': '2.0546800000',...
2025-07-16 00:15:00,846 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:15:01,560 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:01,564 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:02,146 - WARNING - app - User 4 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:15:02,151 - WARNING - app - No user data found for user 5 (live). Skipping portfolio update.
2025-07-16 00:15:02,160 - WARNING - app - No group settings found for group string. Skipping portfolio update for user 8.
2025-07-16 00:15:02,189 - WARNING - app - User 9 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:15:02,214 - WARNING - app - User 10 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:15:02,243 - WARNING - app - User 11 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:15:02,273 - WARNING - app - User 12 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:15:02,303 - WARNING - app - User 13 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:15:02,657 - DEBUG - app.services.portfolio_calculator - Position calculation for BTCUSD: Type=BUY, Entry=118908.50000000, Current=118007.7, Quantity=0.40000000, Contract Size=1.00000000, PnL=-360.320000000000000000000000, PnL USD=-360.320000000000000000000000, Commission=235.57000000, Final PnL=-595.890000000000000000000000
2025-07-16 00:15:02,657 - WARNING - app.services.portfolio_calculator - MARGIN CALL ALERT: User has margin level 98.76256668714905340596621149% which is below threshold 100.0%
2025-07-16 00:15:02,658 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:02,662 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:02,690 - WARNING - app - User 16 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:15:02,718 - WARNING - app - User 17 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:15:02,741 - WARNING - app - User 18 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:15:02,764 - WARNING - app - User 19 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:15:02,787 - WARNING - app - User 20 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:15:02,809 - WARNING - app - User 21 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:15:02,831 - WARNING - app - User 22 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:15:02,853 - WARNING - app - User 23 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:15:02,878 - WARNING - app - User 24 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:15:02,903 - WARNING - app - User 25 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:15:03,035 - DEBUG - app.firebase_stream - Firebase listener triggered (184). Event Type: patch, Path: /. Timestamp: 1752650103.0358396
2025-07-16 00:15:03,036 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4370000000', 'o': '88.4280000000'}, 'GBPAUD': {'b': '2.0546800000', 'o': '2.0546000000'}, 'BTCUSD': {'b': '118050.3300000000', 'o': '118050.3300000000'}, 'USDCNH': {'b': '7.182190
2025-07-16 00:15:03,036 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4370000000', 'o': '88.4280000000'}, 'GBPAUD': {'b': '2.0546800000', 'o': '2.0546000000'}, 'BTCUSD': {'b': '118050.3300000000', 'o': '118050.3300000000'}, 'USDCNH': {'b': '7.182190...
2025-07-16 00:15:03,036 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:15:03,270 - DEBUG - app.services.portfolio_calculator - Position calculation for XAGUSD: Type=BUY, Entry=41.09800000, Current=37.8895, Quantity=0.01000000, Contract Size=5000.00000000, PnL=-160.425000000000000000000000, PnL USD=-160.425000000000000000000000, Commission=0.10000000, Final PnL=-160.525000000000000000000000
2025-07-16 00:15:03,271 - DEBUG - app.services.portfolio_calculator - Position calculation for BTCUSD: Type=BUY, Entry=132091.90000000, Current=118007.7, Quantity=6.00000000, Contract Size=1.00000000, PnL=-84505.20000000000000000000000, PnL USD=-84505.20000000000000000000000, Commission=3661.62000000, Final PnL=-88166.82000000000000000000000
2025-07-16 00:15:03,271 - WARNING - app.services.portfolio_calculator - MARGIN CALL ALERT: User has margin level 65.54856292957198807491333382% which is below threshold 100.0%
2025-07-16 00:15:03,784 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=96.66800000, Current=96.959, Quantity=0.01000000, Contract Size=100000.00000000, PnL=291.000000000000000000000000, PnL USD=1.957091936243190530634205394, Commission=0.10000000, Final PnL=1.857091936243190530634205394
2025-07-16 00:15:03,785 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:03,786 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=96.56000000, Current=97.065, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-505.000000000000000000000000, PnL USD=-3.396327930593852982715717264, Commission=0.10000000, Final PnL=-3.496327930593852982715717264
2025-07-16 00:15:03,789 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:03,790 - WARNING - app - User 2 has no group_name set. Skipping portfolio update.
2025-07-16 00:15:03,800 - WARNING - app - No group settings found for group string. Skipping portfolio update for user 3.
2025-07-16 00:15:03,838 - WARNING - app - User 4 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:15:03,841 - WARNING - app - User 5 has no group_name set. Skipping portfolio update.
2025-07-16 00:15:03,843 - WARNING - app - User 6 has no group_name set. Skipping portfolio update.
2025-07-16 00:15:04,293 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64743000, Current=0.6522600000000001, Quantity=0.10000000, Contract Size=100000.00000000, PnL=48.30000000000100000000000000, PnL USD=48.30000000000100000000000000, Commission=1.00000000, Final PnL=47.30000000000100000000000000
2025-07-16 00:15:04,293 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=SELL, Entry=0.64707000, Current=0.65257, Quantity=0.22000000, Contract Size=100000.00000000, PnL=-121.000000000000000000000000, PnL USD=-121.000000000000000000000000, Commission=2.20000000, Final PnL=-123.200000000000000000000000
2025-07-16 00:15:04,294 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFSGD: Type=BUY, Entry=1.57561500, Current=1.603815, Quantity=0.10000000, Contract Size=100000.00000000, PnL=282.000000000000000000000000, PnL USD=219.5646080538166869102120901, Commission=1.00000000, Final PnL=218.5646080538166869102120901
2025-07-16 00:15:04,294 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFSGD: Type=SELL, Entry=1.57505500, Current=1.604255, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-292.000000000000000000000000, PnL USD=-227.3505870628172786446167741, Commission=1.00000000, Final PnL=-228.3505870628172786446167741
2025-07-16 00:15:04,295 - DEBUG - app.services.portfolio_calculator - Position calculation for CADJPY: Type=SELL, Entry=106.24150000, Current=108.44550000000001, Quantity=0.15000000, Contract Size=100000.00000000, PnL=-33060.00000000015000000000000, PnL USD=-222.3417849216500773421211917, Commission=0E-8, Final PnL=-222.3417849216500773421211917
2025-07-16 00:15:04,295 - DEBUG - app.services.portfolio_calculator - Position calculation for CADJPY: Type=BUY, Entry=106.27050000, Current=108.4125, Quantity=0.15000000, Contract Size=100000.00000000, PnL=32130.00000000000000000000000, PnL USD=216.0871612078821709597148430, Commission=0E-8, Final PnL=216.0871612078821709597148430
2025-07-16 00:15:04,296 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=BUY, Entry=1.77481000, Current=1.7815699999999999, Quantity=0.22000000, Contract Size=100000.00000000, PnL=148.7199999999978000000000000, PnL USD=97.02790239999856467600000000, Commission=2.20000000, Final PnL=94.82790239999856467600000000
2025-07-16 00:15:04,296 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=SELL, Entry=1.77439000, Current=1.78187, Quantity=0.21000000, Contract Size=100000.00000000, PnL=-157.080000000000000000000000, PnL USD=-102.4821336000000000000000000, Commission=2.10000000, Final PnL=-104.5821336000000000000000000
2025-07-16 00:15:04,296 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFJPY: Type=BUY, Entry=178.15500000, Current=185.675, Quantity=0.10000000, Contract Size=100000.00000000, PnL=75200.00000000000000000000000, PnL USD=505.7502185755598897034097787, Commission=1.00000000, Final PnL=504.7502185755598897034097787
2025-07-16 00:15:04,297 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFJPY: Type=SELL, Entry=178.09500000, Current=185.725, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-76300.00000000000000000000000, PnL USD=-513.1481606025960051113054005, Commission=1.00000000, Final PnL=-514.1481606025960051113054005
2025-07-16 00:15:04,297 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=BUY, Entry=1.77480000, Current=1.7815699999999999, Quantity=0.05000000, Contract Size=100000.00000000, PnL=33.84999999999950000000000000, PnL USD=22.08441699999967379000000000, Commission=0.50000000, Final PnL=21.58441699999967379000000000
2025-07-16 00:15:04,298 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=SELL, Entry=1.77442000, Current=1.78187, Quantity=0.05000000, Contract Size=100000.00000000, PnL=-37.250000000000000000000000, PnL USD=-24.30264500000000000000000000, Commission=0.50000000, Final PnL=-24.80264500000000000000000000
2025-07-16 00:15:04,298 - DEBUG - app.services.portfolio_calculator - Position calculation for EURGBP: Type=SELL, Entry=0.85403000, Current=0.86735, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-133.200000000000000000000000, PnL USD=-178.5612600000000000000000000, Commission=1.00000000, Final PnL=-179.5612600000000000000000000
2025-07-16 00:15:04,299 - DEBUG - app.services.portfolio_calculator - Position calculation for EURJPY: Type=BUY, Entry=167.26050000, Current=172.82750000000001, Quantity=0.10000000, Contract Size=100000.00000000, PnL=55670.00000000010000000000000, PnL USD=374.4031205864557132288654247, Commission=1.00000000, Final PnL=373.4031205864557132288654247
2025-07-16 00:15:04,299 - DEBUG - app.services.portfolio_calculator - Position calculation for EURJPY: Type=SELL, Entry=167.23150000, Current=172.85649999999998, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-56249.99999999980000000000000, PnL USD=-378.3038536552545564597484700, Commission=1.00000000, Final PnL=-379.3038536552545564597484700
2025-07-16 00:15:04,300 - DEBUG - app.services.portfolio_calculator - Position calculation for EURNZD: Type=SELL, Entry=1.91952500, Current=1.9547249999999998, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-351.9999999999980000000000000, PnL USD=-209.3555199999988104800000000, Commission=1.00000000, Final PnL=-210.3555199999988104800000000
2025-07-16 00:15:04,300 - DEBUG - app.services.portfolio_calculator - Position calculation for EURNZD: Type=BUY, Entry=1.92063500, Current=1.9543650000000001, Quantity=0.10000000, Contract Size=100000.00000000, PnL=337.3000000000010000000000000, PnL USD=200.6125480000005947600000000, Commission=1.00000000, Final PnL=199.6125480000005947600000000
2025-07-16 00:15:04,300 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=SELL, Entry=1.34376000, Current=1.34065, Quantity=0.25000000, Contract Size=0E-8, PnL=0E-24, PnL USD=0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:15:04,300 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=SELL, Entry=1.34361000, Current=1.34065, Quantity=0.25000000, Contract Size=0E-8, PnL=0E-24, PnL USD=0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:15:04,300 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=BUY, Entry=1.34379000, Current=1.34044, Quantity=0.25000000, Contract Size=0E-8, PnL=-0E-24, PnL USD=-0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:15:04,300 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=BUY, Entry=1.34378000, Current=1.34044, Quantity=0.25000000, Contract Size=0E-8, PnL=-0E-24, PnL USD=-0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:15:04,301 - DEBUG - app.services.portfolio_calculator - Position calculation for NZDJPY: Type=BUY, Entry=87.10150000, Current=88.4155, Quantity=0.01000000, Contract Size=100000.00000000, PnL=1314.000000000000000000000000, PnL USD=8.837178021386777859977133634, Commission=0.10000000, Final PnL=8.737178021386777859977133634
2025-07-16 00:15:04,302 - DEBUG - app.services.portfolio_calculator - Position calculation for USDCHF: Type=SELL, Entry=0.81771000, Current=0.80087, Quantity=0.15000000, Contract Size=100000.00000000, PnL=252.600000000000000000000000, PnL USD=315.4660805275252272954341093, Commission=1.50000000, Final PnL=313.9660805275252272954341093
2025-07-16 00:15:04,302 - DEBUG - app.services.portfolio_calculator - Position calculation for USDCHF: Type=BUY, Entry=0.81805000, Current=0.80055, Quantity=0.15000000, Contract Size=100000.00000000, PnL=-262.500000000000000000000000, PnL USD=-327.8299530422619642321910281, Commission=1.50000000, Final PnL=-329.3299530422619642321910281
2025-07-16 00:15:04,303 - DEBUG - app.services.portfolio_calculator - Position calculation for USDNOK: Type=BUY, Entry=10.04973000, Current=10.254340000000001, Quantity=0.10000000, Contract Size=100000.00000000, PnL=2046.100000000010000000000000, PnL USD=199.5038972536900566890991952, Commission=1.00000000, Final PnL=198.5038972536900566890991952
2025-07-16 00:15:04,303 - DEBUG - app.services.portfolio_calculator - Position calculation for USDNOK: Type=BUY, Entry=10.05023000, Current=10.254340000000001, Quantity=0.10000000, Contract Size=100000.00000000, PnL=2041.100000000010000000000000, PnL USD=199.0163749007901762295801262, Commission=1.00000000, Final PnL=198.0163749007901762295801262
2025-07-16 00:15:04,304 - DEBUG - app.services.portfolio_calculator - Position calculation for USDSGD: Type=SELL, Entry=1.28795000, Current=1.28451, Quantity=0.31000000, Contract Size=100000.00000000, PnL=106.640000000000000000000000, PnL USD=83.02968015198231025569155066, Commission=3.10000000, Final PnL=79.92968015198231025569155066
2025-07-16 00:15:04,304 - DEBUG - app.services.portfolio_calculator - Position calculation for USDTRY: Type=SELL, Entry=39.56087000, Current=40.25501, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-6941.400000000000000000000000, PnL USD=-172.4363219745392233384987552, Commission=1.00000000, Final PnL=-173.4363219745392233384987552
2025-07-16 00:15:05,018 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.89752000, Current=0.89469, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-2.830000000000000000000000, PnL USD=-2.063644848909112122272780306, Commission=0.10000000, Final PnL=-2.163644848909112122272780306
2025-07-16 00:15:05,020 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:05,024 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:05,052 - WARNING - app - User 12 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:15:05,076 - WARNING - app - User 13 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:15:05,346 - DEBUG - app.firebase_stream - Firebase listener triggered (185). Event Type: patch, Path: /. Timestamp: 1752650105.346049
2025-07-16 00:15:05,346 - DEBUG - app.firebase_stream - Prepared batch update for 30 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9050000000', 'o': '37.9010000000'}, 'NZDJPY': {'b': '88.4350000000', 'o': '88.4260000000'}, 'GBPAUD': {'b': '2.0547800000', 'o': '2.0546100000'}, 'BTCUSD': {'b': '118028.800000000
2025-07-16 00:15:05,346 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'XAGUSD': {'b': '37.9050000000', 'o': '37.9010000000'}, 'NZDJPY': {'b': '88.4350000000', 'o': '88.4260000000'}, 'GBPAUD': {'b': '2.0547800000', 'o': '2.0546100000'}, 'BTCUSD': {'b': '118028.800000000...
2025-07-16 00:15:05,346 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:15:06,033 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:06,036 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:07,038 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:07,042 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:07,709 - DEBUG - app.firebase_stream - Firebase listener triggered (186). Event Type: patch, Path: /. Timestamp: 1752650107.7089562
2025-07-16 00:15:07,709 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0272000000', 'o': '13.0246000000'}, 'NZDJPY': {'b': '88.4360000000', 'o': '88.4270000000'}, 'GBPAUD': {'b': '2.0546800000', 'o': '2.0545200000'}, 'BTCUSD': {'b': '118017.300000000
2025-07-16 00:15:07,710 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0272000000', 'o': '13.0246000000'}, 'NZDJPY': {'b': '88.4360000000', 'o': '88.4270000000'}, 'GBPAUD': {'b': '2.0546800000', 'o': '2.0545200000'}, 'BTCUSD': {'b': '118017.300000000...
2025-07-16 00:15:07,710 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:15:08,045 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:08,048 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:09,056 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:09,060 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:09,955 - DEBUG - app.firebase_stream - Firebase listener triggered (187). Event Type: patch, Path: /. Timestamp: 1752650109.9553702
2025-07-16 00:15:09,956 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0274000000', 'o': '13.0248000000'}, 'XAGUSD': {'b': '37.9040000000', 'o': '37.9020000000'}, 'NZDJPY': {'b': '88.4380000000', 'o': '88.4290000000'}, 'GBPAUD': {'b': '2.0547900000',
2025-07-16 00:15:09,957 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0274000000', 'o': '13.0248000000'}, 'XAGUSD': {'b': '37.9040000000', 'o': '37.9020000000'}, 'NZDJPY': {'b': '88.4380000000', 'o': '88.4290000000'}, 'GBPAUD': {'b': '2.0547900000',...
2025-07-16 00:15:09,958 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:15:10,062 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:10,067 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:11,073 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:11,076 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:12,083 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:12,085 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:12,262 - DEBUG - app.firebase_stream - Firebase listener triggered (188). Event Type: patch, Path: /. Timestamp: 1752650112.2620537
2025-07-16 00:15:12,262 - DEBUG - app.firebase_stream - Prepared batch update for 27 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9050000000', 'o': '37.9010000000'}, 'NZDJPY': {'b': '88.4360000000', 'o': '88.4290000000'}, 'GBPAUD': {'b': '2.0547900000', 'o': '2.0546200000'}, 'BTCUSD': {'b': '118023.300000000
2025-07-16 00:15:12,263 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9050000000', 'o': '37.9010000000'}, 'NZDJPY': {'b': '88.4360000000', 'o': '88.4290000000'}, 'GBPAUD': {'b': '2.0547900000', 'o': '2.0546200000'}, 'BTCUSD': {'b': '118023.300000000...
2025-07-16 00:15:12,263 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:15:13,088 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:13,092 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:14,097 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:14,102 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:14,566 - DEBUG - app.firebase_stream - Firebase listener triggered (189). Event Type: patch, Path: /. Timestamp: 1752650114.566262
2025-07-16 00:15:14,566 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0266000000', 'o': '13.0240000000'}, 'XAGUSD': {'b': '37.9050000000', 'o': '37.9020000000'}, 'NZDJPY': {'b': '88.4370000000', 'o': '88.4290000000'}, 'GBPAUD': {'b': '2.0547700000',
2025-07-16 00:15:14,567 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0266000000', 'o': '13.0240000000'}, 'XAGUSD': {'b': '37.9050000000', 'o': '37.9020000000'}, 'NZDJPY': {'b': '88.4370000000', 'o': '88.4290000000'}, 'GBPAUD': {'b': '2.0547700000',...
2025-07-16 00:15:14,567 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:15:15,105 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:15,107 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:16,115 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:16,118 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:16,915 - DEBUG - app.firebase_stream - Firebase listener triggered (190). Event Type: patch, Path: /. Timestamp: 1752650116.9158933
2025-07-16 00:15:16,916 - DEBUG - app.firebase_stream - Prepared batch update for 21 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0268000000', 'o': '13.0242000000'}, 'BTCUSD': {'b': '118027.8000000000', 'o': '118027.7000000000'}, 'USDJPY': {'b': '148.7000000000', 'o': '148.6950000000'}, 'CADCHF': {'b': '0.58
2025-07-16 00:15:16,917 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0268000000', 'o': '13.0242000000'}, 'BTCUSD': {'b': '118027.8000000000', 'o': '118027.7000000000'}, 'USDJPY': {'b': '148.7000000000', 'o': '148.6950000000'}, 'CADCHF': {'b': '0.58...
2025-07-16 00:15:16,917 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:15:17,127 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:17,131 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:18,135 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:18,138 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:19,143 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:19,145 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:19,179 - DEBUG - app.firebase_stream - Firebase listener triggered (191). Event Type: patch, Path: /. Timestamp: 1752650119.17963
2025-07-16 00:15:19,180 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0273000000', 'o': '13.0247000000'}, 'NZDJPY': {'b': '88.4350000000', 'o': '88.4270000000'}, 'USDJPY': {'b': '148.6820000000', 'o': '148.6790000000'}, 'CADCHF': {'b': '0.5838800000
2025-07-16 00:15:19,180 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0273000000', 'o': '13.0247000000'}, 'NZDJPY': {'b': '88.4350000000', 'o': '88.4270000000'}, 'USDJPY': {'b': '148.6820000000', 'o': '148.6790000000'}, 'CADCHF': {'b': '0.5838800000...
2025-07-16 00:15:19,180 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:15:20,147 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:20,150 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:21,154 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:21,157 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:21,480 - DEBUG - app.firebase_stream - Firebase listener triggered (192). Event Type: patch, Path: /. Timestamp: 1752650121.480789
2025-07-16 00:15:21,481 - DEBUG - app.firebase_stream - Prepared batch update for 30 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0268000000', 'o': '13.0242000000'}, 'XAGUSD': {'b': '37.9070000000', 'o': '37.9040000000'}, 'NZDJPY': {'b': '88.4350000000', 'o': '88.4280000000'}, 'GBPAUD': {'b': '2.0548000000',
2025-07-16 00:15:21,482 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0268000000', 'o': '13.0242000000'}, 'XAGUSD': {'b': '37.9070000000', 'o': '37.9040000000'}, 'NZDJPY': {'b': '88.4350000000', 'o': '88.4280000000'}, 'GBPAUD': {'b': '2.0548000000',...
2025-07-16 00:15:21,482 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:15:22,161 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:22,165 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:23,175 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:23,180 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:23,805 - DEBUG - app.firebase_stream - Firebase listener triggered (193). Event Type: patch, Path: /. Timestamp: 1752650123.805241
2025-07-16 00:15:23,806 - DEBUG - app.firebase_stream - Prepared batch update for 30 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0267000000', 'o': '13.0241000000'}, 'XAGUSD': {'b': '37.9070000000', 'o': '37.9050000000'}, 'NZDJPY': {'b': '88.4330000000', 'o': '88.4280000000'}, 'GBPAUD': {'b': '2.0547400000',
2025-07-16 00:15:23,806 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0267000000', 'o': '13.0241000000'}, 'XAGUSD': {'b': '37.9070000000', 'o': '37.9050000000'}, 'NZDJPY': {'b': '88.4330000000', 'o': '88.4280000000'}, 'GBPAUD': {'b': '2.0547400000',...
2025-07-16 00:15:23,807 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:15:24,189 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:24,193 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:25,200 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:25,204 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:26,079 - DEBUG - app.firebase_stream - Firebase listener triggered (194). Event Type: patch, Path: /. Timestamp: 1752650126.0793147
2025-07-16 00:15:26,079 - DEBUG - app.firebase_stream - Prepared batch update for 23 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0269000000', 'o': '13.0243000000'}, 'XAGUSD': {'b': '37.9040000000', 'o': '37.9010000000'}, 'NZDJPY': {'b': '88.4330000000', 'o': '88.4270000000'}, 'GBPAUD': {'b': '2.0547400000',
2025-07-16 00:15:26,080 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0269000000', 'o': '13.0243000000'}, 'XAGUSD': {'b': '37.9040000000', 'o': '37.9010000000'}, 'NZDJPY': {'b': '88.4330000000', 'o': '88.4270000000'}, 'GBPAUD': {'b': '2.0547400000',...
2025-07-16 00:15:26,082 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:15:26,206 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:26,209 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:27,223 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:27,227 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:28,235 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:28,238 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:28,378 - DEBUG - app.firebase_stream - Firebase listener triggered (195). Event Type: patch, Path: /. Timestamp: 1752650128.378175
2025-07-16 00:15:28,378 - DEBUG - app.firebase_stream - Prepared batch update for 24 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4360000000', 'o': '88.4280000000'}, 'GBPAUD': {'b': '2.0546700000', 'o': '2.0545600000'}, 'USDJPY': {'b': '148.6800000000', 'o': '148.6760000000'}, 'USDCNH': {'b': '7.1820900000',
2025-07-16 00:15:28,379 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4360000000', 'o': '88.4280000000'}, 'GBPAUD': {'b': '2.0546700000', 'o': '2.0545600000'}, 'USDJPY': {'b': '148.6800000000', 'o': '148.6760000000'}, 'USDCNH': {'b': '7.1820900000',...
2025-07-16 00:15:28,382 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:15:29,254 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:29,257 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:30,273 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:30,276 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:30,740 - DEBUG - app.firebase_stream - Firebase listener triggered (196). Event Type: patch, Path: /. Timestamp: 1752650130.7405846
2025-07-16 00:15:30,741 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9140000000', 'o': '37.9090000000'}, 'NZDJPY': {'b': '88.4390000000', 'o': '88.4330000000'}, 'GBPAUD': {'b': '2.0546700000', 'o': '2.0545400000'}, 'USDJPY': {'b': '148.6890000000',
2025-07-16 00:15:30,742 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9140000000', 'o': '37.9090000000'}, 'NZDJPY': {'b': '88.4390000000', 'o': '88.4330000000'}, 'GBPAUD': {'b': '2.0546700000', 'o': '2.0545400000'}, 'USDJPY': {'b': '148.6890000000',...
2025-07-16 00:15:30,743 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:15:31,291 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:31,296 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:32,308 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:32,310 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:33,005 - DEBUG - app.firebase_stream - Firebase listener triggered (197). Event Type: patch, Path: /. Timestamp: 1752650133.0050647
2025-07-16 00:15:33,005 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0271000000', 'o': '13.0245500000'}, 'XAGUSD': {'b': '37.9160000000', 'o': '37.9120000000'}, 'NZDJPY': {'b': '88.4410000000', 'o': '88.4320000000'}, 'GBPAUD': {'b': '2.0546800000',
2025-07-16 00:15:33,006 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0271000000', 'o': '13.0245500000'}, 'XAGUSD': {'b': '37.9160000000', 'o': '37.9120000000'}, 'NZDJPY': {'b': '88.4410000000', 'o': '88.4320000000'}, 'GBPAUD': {'b': '2.0546800000',...
2025-07-16 00:15:33,006 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:15:33,326 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:33,331 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:34,346 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:34,349 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:35,348 - DEBUG - app.firebase_stream - Firebase listener triggered (198). Event Type: patch, Path: /. Timestamp: 1752650135.348061
2025-07-16 00:15:35,348 - DEBUG - app.firebase_stream - Prepared batch update for 34 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0271000000', 'o': '13.0245000000'}, 'NZDJPY': {'b': '88.4400000000', 'o': '88.4320000000'}, 'GBPAUD': {'b': '2.0546900000', 'o': '2.0545500000'}, 'USDJPY': {'b': '148.6890000000',
2025-07-16 00:15:35,349 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0271000000', 'o': '13.0245000000'}, 'NZDJPY': {'b': '88.4400000000', 'o': '88.4320000000'}, 'GBPAUD': {'b': '2.0546900000', 'o': '2.0545500000'}, 'USDJPY': {'b': '148.6890000000',...
2025-07-16 00:15:35,349 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:15:35,365 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:35,376 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:36,388 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:36,392 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:37,397 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:37,400 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:37,594 - DEBUG - app.firebase_stream - Firebase listener triggered (199). Event Type: patch, Path: /. Timestamp: 1752650137.5942707
2025-07-16 00:15:37,594 - DEBUG - app.firebase_stream - Prepared batch update for 17 symbols from root path for queue. Preview: {'GBPAUD': {'b': '2.0546900000', 'o': '2.0545300000'}, 'BTCUSD': {'b': '118046.0800000000', 'o': '118036.0800000000'}, 'USDCNH': {'b': '7.1821500000', 'o': '7.1821100000'}, 'CADCHF': {'b': '0.58392000
2025-07-16 00:15:37,595 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPAUD': {'b': '2.0546900000', 'o': '2.0545300000'}, 'BTCUSD': {'b': '118046.0800000000', 'o': '118036.0800000000'}, 'USDCNH': {'b': '7.1821500000', 'o': '7.1821100000'}, 'CADCHF': {'b': '0.58392000...
2025-07-16 00:15:37,595 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:15:38,410 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:38,413 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:39,416 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:39,420 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:39,876 - DEBUG - app.firebase_stream - Firebase listener triggered (200). Event Type: patch, Path: /. Timestamp: 1752650139.8767536
2025-07-16 00:15:39,877 - DEBUG - app.firebase_stream - Prepared batch update for 27 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0269000000', 'o': '13.0243000000'}, 'NZDJPY': {'b': '88.4410000000', 'o': '88.4330000000'}, 'GBPAUD': {'b': '2.0546000000', 'o': '2.0545400000'}, 'BTCUSD': {'b': '118051.800000000
2025-07-16 00:15:39,878 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0269000000', 'o': '13.0243000000'}, 'NZDJPY': {'b': '88.4410000000', 'o': '88.4330000000'}, 'GBPAUD': {'b': '2.0546000000', 'o': '2.0545400000'}, 'BTCUSD': {'b': '118051.800000000...
2025-07-16 00:15:39,880 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:15:40,429 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:40,432 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:41,445 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:41,448 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:42,211 - DEBUG - app.firebase_stream - Firebase listener triggered (201). Event Type: patch, Path: /. Timestamp: 1752650142.2114758
2025-07-16 00:15:42,211 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9090000000', 'o': '37.9080000000'}, 'NZDJPY': {'b': '88.4360000000', 'o': '88.4270000000'}, 'GBPAUD': {'b': '2.0547900000', 'o': '2.0546500000'}, 'BTCUSD': {'b': '118058.600000000
2025-07-16 00:15:42,212 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'XAGUSD': {'b': '37.9090000000', 'o': '37.9080000000'}, 'NZDJPY': {'b': '88.4360000000', 'o': '88.4270000000'}, 'GBPAUD': {'b': '2.0547900000', 'o': '2.0546500000'}, 'BTCUSD': {'b': '118058.600000000...
2025-07-16 00:15:42,212 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:15:42,459 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:42,462 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:43,471 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:43,475 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:44,495 - DEBUG - app.firebase_stream - Firebase listener triggered (202). Event Type: patch, Path: /. Timestamp: 1752650144.4957001
2025-07-16 00:15:44,496 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9190000000', 'o': '37.9150000000'}, 'NZDJPY': {'b': '88.4440000000', 'o': '88.4360000000'}, 'GBPAUD': {'b': '2.0546100000', 'o': '2.0544800000'}, 'USDCNH': {'b': '7.1820700000', '
2025-07-16 00:15:44,496 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:44,498 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9190000000', 'o': '37.9150000000'}, 'NZDJPY': {'b': '88.4440000000', 'o': '88.4360000000'}, 'GBPAUD': {'b': '2.0546100000', 'o': '2.0544800000'}, 'USDCNH': {'b': '7.1820700000', '...
2025-07-16 00:15:44,498 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:15:44,514 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:45,538 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:45,540 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:46,543 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:46,550 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:46,828 - DEBUG - app.firebase_stream - Firebase listener triggered (203). Event Type: patch, Path: /. Timestamp: 1752650146.8282368
2025-07-16 00:15:46,828 - DEBUG - app.firebase_stream - Prepared batch update for 37 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0274000000', 'o': '13.0248000000'}, 'XAGUSD': {'b': '37.9140000000', 'o': '37.9120000000'}, 'NZDJPY': {'b': '88.4440000000', 'o': '88.4430000000'}, 'GBPAUD': {'b': '2.0546300000',
2025-07-16 00:15:46,829 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0274000000', 'o': '13.0248000000'}, 'XAGUSD': {'b': '37.9140000000', 'o': '37.9120000000'}, 'NZDJPY': {'b': '88.4440000000', 'o': '88.4430000000'}, 'GBPAUD': {'b': '2.0546300000',...
2025-07-16 00:15:46,829 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:15:47,555 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:47,563 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:48,567 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:48,572 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:49,204 - DEBUG - app.firebase_stream - Firebase listener triggered (204). Event Type: patch, Path: /. Timestamp: 1752650149.2042706
2025-07-16 00:15:49,204 - DEBUG - app.firebase_stream - Prepared batch update for 36 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0271400000', 'o': '13.0246000000'}, 'XAGUSD': {'b': '37.9050000000', 'o': '37.9020000000'}, 'NZDJPY': {'b': '88.4500000000', 'o': '88.4410000000'}, 'GBPAUD': {'b': '2.0546700000',
2025-07-16 00:15:49,205 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0271400000', 'o': '13.0246000000'}, 'XAGUSD': {'b': '37.9050000000', 'o': '37.9020000000'}, 'NZDJPY': {'b': '88.4500000000', 'o': '88.4410000000'}, 'GBPAUD': {'b': '2.0546700000',...
2025-07-16 00:15:49,205 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:15:49,579 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:49,585 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:50,601 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:50,605 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:51,436 - DEBUG - app.firebase_stream - Firebase listener triggered (205). Event Type: patch, Path: /. Timestamp: 1752650151.4359589
2025-07-16 00:15:51,436 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9130000000', 'o': '37.9090000000'}, 'GBPAUD': {'b': '2.0546700000', 'o': '2.0544800000'}, 'USDCNH': {'b': '7.1819900000', 'o': '7.1819500000'}, 'EURNZD': {'b': '1.9544600000', 'o'
2025-07-16 00:15:51,436 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9130000000', 'o': '37.9090000000'}, 'GBPAUD': {'b': '2.0546700000', 'o': '2.0544800000'}, 'USDCNH': {'b': '7.1819900000', 'o': '7.1819500000'}, 'EURNZD': {'b': '1.9544600000', 'o'...
2025-07-16 00:15:51,437 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:15:51,607 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:51,610 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:52,616 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:52,619 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:53,623 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:53,625 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:53,665 - DEBUG - app.firebase_stream - Firebase listener triggered (206). Event Type: patch, Path: /. Timestamp: 1752650153.6659536
2025-07-16 00:15:53,666 - DEBUG - app.firebase_stream - Prepared batch update for 24 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4500000000', 'o': '88.4420000000'}, 'GBPAUD': {'b': '2.0547900000', 'o': '2.0546300000'}, 'USDJPY': {'b': '148.6800000000', 'o': '148.6770000000'}, 'USDCNH': {'b': '7.1819300000',
2025-07-16 00:15:53,667 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4500000000', 'o': '88.4420000000'}, 'GBPAUD': {'b': '2.0547900000', 'o': '2.0546300000'}, 'USDJPY': {'b': '148.6800000000', 'o': '148.6770000000'}, 'USDCNH': {'b': '7.1819300000',...
2025-07-16 00:15:53,668 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:15:54,634 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:54,638 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:55,654 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:55,658 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:55,961 - DEBUG - app.firebase_stream - Firebase listener triggered (207). Event Type: patch, Path: /. Timestamp: 1752650155.9619508
2025-07-16 00:15:55,962 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9150000000', 'o': '37.9120000000'}, 'NZDJPY': {'b': '88.4490000000', 'o': '88.4410000000'}, 'GBPAUD': {'b': '2.0546400000', 'o': '2.0545300000'}, 'BTCUSD': {'b': '118027.800000000
2025-07-16 00:15:55,963 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9150000000', 'o': '37.9120000000'}, 'NZDJPY': {'b': '88.4490000000', 'o': '88.4410000000'}, 'GBPAUD': {'b': '2.0546400000', 'o': '2.0545300000'}, 'BTCUSD': {'b': '118027.800000000...
2025-07-16 00:15:55,964 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:15:56,674 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:56,677 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:57,692 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:57,697 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:58,305 - DEBUG - app.firebase_stream - Firebase listener triggered (208). Event Type: patch, Path: /. Timestamp: 1752650158.3055587
2025-07-16 00:15:58,306 - DEBUG - app.firebase_stream - Prepared batch update for 36 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0267000000', 'o': '13.0241000000'}, 'XAGUSD': {'b': '37.9130000000', 'o': '37.9100000000'}, 'NZDJPY': {'b': '88.4330000000', 'o': '88.4280000000'}, 'GBPAUD': {'b': '2.0546200000',
2025-07-16 00:15:58,307 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0267000000', 'o': '13.0241000000'}, 'XAGUSD': {'b': '37.9130000000', 'o': '37.9100000000'}, 'NZDJPY': {'b': '88.4330000000', 'o': '88.4280000000'}, 'GBPAUD': {'b': '2.0546200000',...
2025-07-16 00:15:58,313 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:15:58,715 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:58,718 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:59,724 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:59,727 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:00,638 - DEBUG - app.firebase_stream - Firebase listener triggered (209). Event Type: patch, Path: /. Timestamp: 1752650160.638609
2025-07-16 00:16:00,639 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0266000000', 'o': '13.0240000000'}, 'NZDJPY': {'b': '88.4490000000', 'o': '88.4410000000'}, 'GBPAUD': {'b': '2.0546100000', 'o': '2.0544600000'}, 'USDJPY': {'b': '148.6790000000',
2025-07-16 00:16:00,640 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0266000000', 'o': '13.0240000000'}, 'NZDJPY': {'b': '88.4490000000', 'o': '88.4410000000'}, 'GBPAUD': {'b': '2.0546100000', 'o': '2.0544600000'}, 'USDJPY': {'b': '148.6790000000',...
2025-07-16 00:16:00,643 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:16:00,729 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:00,733 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:01,739 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:01,741 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:02,156 - WARNING - app - User 4 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:16:02,161 - WARNING - app - No user data found for user 5 (live). Skipping portfolio update.
2025-07-16 00:16:02,166 - WARNING - app - No group settings found for group string. Skipping portfolio update for user 8.
2025-07-16 00:16:02,190 - WARNING - app - User 9 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:16:02,228 - WARNING - app - User 10 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:16:02,254 - WARNING - app - User 11 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:16:02,276 - WARNING - app - User 12 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:16:02,300 - WARNING - app - User 13 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:16:02,634 - DEBUG - app.services.portfolio_calculator - Position calculation for BTCUSD: Type=BUY, Entry=118908.50000000, Current=118008.5, Quantity=0.40000000, Contract Size=1.00000000, PnL=-360.000000000000000000000000, PnL USD=-360.000000000000000000000000, Commission=235.57000000, Final PnL=-595.570000000000000000000000
2025-07-16 00:16:02,635 - WARNING - app.services.portfolio_calculator - MARGIN CALL ALERT: User has margin level 98.76596273054624296780232480% which is below threshold 100.0%
2025-07-16 00:16:02,678 - WARNING - app - User 16 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:16:02,709 - WARNING - app - User 17 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:16:02,737 - WARNING - app - User 18 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:16:02,744 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:02,748 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:02,765 - WARNING - app - User 19 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:16:02,792 - WARNING - app - User 20 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:16:02,824 - DEBUG - app.firebase_stream - Firebase listener triggered (210). Event Type: patch, Path: /. Timestamp: 1752650162.824526
2025-07-16 00:16:02,825 - DEBUG - app.firebase_stream - Prepared batch update for 24 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9170000000', 'o': '37.9130000000'}, 'GBPAUD': {'b': '2.0545300000', 'o': '2.0544500000'}, 'USDCNH': {'b': '7.1819200000', 'o': '7.1818600000'}, 'EURNZD': {'b': '1.9544600000', 'o'
2025-07-16 00:16:02,826 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'XAGUSD': {'b': '37.9170000000', 'o': '37.9130000000'}, 'GBPAUD': {'b': '2.0545300000', 'o': '2.0544500000'}, 'USDCNH': {'b': '7.1819200000', 'o': '7.1818600000'}, 'EURNZD': {'b': '1.9544600000', 'o'...
2025-07-16 00:16:02,826 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:16:02,886 - WARNING - app - User 21 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:16:02,933 - WARNING - app - User 22 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:16:02,962 - WARNING - app - User 23 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:16:02,995 - WARNING - app - User 24 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:16:03,029 - WARNING - app - User 25 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:16:03,428 - DEBUG - app.services.portfolio_calculator - Position calculation for XAGUSD: Type=BUY, Entry=41.09800000, Current=37.900499999999994, Quantity=0.01000000, Contract Size=5000.00000000, PnL=-159.8750000000003000000000000, PnL USD=-159.8750000000003000000000000, Commission=0.10000000, Final PnL=-159.9750000000003000000000000
2025-07-16 00:16:03,429 - DEBUG - app.services.portfolio_calculator - Position calculation for BTCUSD: Type=BUY, Entry=132091.90000000, Current=118008.5, Quantity=6.00000000, Contract Size=1.00000000, PnL=-84500.40000000000000000000000, PnL USD=-84500.40000000000000000000000, Commission=3661.62000000, Final PnL=-88162.02000000000000000000000
2025-07-16 00:16:03,429 - WARNING - app.services.portfolio_calculator - MARGIN CALL ALERT: User has margin level 65.55221519387003939735044950% which is below threshold 100.0%
2025-07-16 00:16:03,833 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:03,834 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=96.66800000, Current=96.96000000000001, Quantity=0.01000000, Contract Size=100000.00000000, PnL=292.0000000000100000000000000, PnL USD=1.963962630902884738261624036, Commission=0.10000000, Final PnL=1.863962630902884738261624036
2025-07-16 00:16:03,836 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=96.56000000, Current=97.062, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-502.000000000000000000000000, PnL USD=-3.376401509291830049973432697, Commission=0.10000000, Final PnL=-3.476401509291830049973432697
2025-07-16 00:16:03,837 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:03,841 - WARNING - app - User 2 has no group_name set. Skipping portfolio update.
2025-07-16 00:16:03,849 - WARNING - app - No group settings found for group string. Skipping portfolio update for user 3.
2025-07-16 00:16:03,881 - WARNING - app - User 4 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:16:03,882 - WARNING - app - User 5 has no group_name set. Skipping portfolio update.
2025-07-16 00:16:03,883 - WARNING - app - User 6 has no group_name set. Skipping portfolio update.
2025-07-16 00:16:04,260 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64743000, Current=0.6524, Quantity=0.10000000, Contract Size=100000.00000000, PnL=49.700000000000000000000000, PnL USD=49.700000000000000000000000, Commission=1.00000000, Final PnL=48.700000000000000000000000
2025-07-16 00:16:04,260 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=SELL, Entry=0.64707000, Current=0.6527, Quantity=0.22000000, Contract Size=100000.00000000, PnL=-123.860000000000000000000000, PnL USD=-123.860000000000000000000000, Commission=2.20000000, Final PnL=-126.060000000000000000000000
2025-07-16 00:16:04,261 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFSGD: Type=BUY, Entry=1.57561500, Current=1.603955, Quantity=0.10000000, Contract Size=100000.00000000, PnL=283.400000000000000000000000, PnL USD=220.6615173788463934222000747, Commission=1.00000000, Final PnL=219.6615173788463934222000747
2025-07-16 00:16:04,262 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFSGD: Type=SELL, Entry=1.57505500, Current=1.604395, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-293.400000000000000000000000, PnL USD=-228.4477388812756945309580167, Commission=1.00000000, Final PnL=-229.4477388812756945309580167
2025-07-16 00:16:04,263 - DEBUG - app.services.portfolio_calculator - Position calculation for CADJPY: Type=SELL, Entry=106.24150000, Current=108.4495, Quantity=0.15000000, Contract Size=100000.00000000, PnL=-33120.00000000000000000000000, PnL USD=-222.7617888202099825799204999, Commission=0E-8, Final PnL=-222.7617888202099825799204999
2025-07-16 00:16:04,264 - DEBUG - app.services.portfolio_calculator - Position calculation for CADJPY: Type=BUY, Entry=106.27050000, Current=108.4165, Quantity=0.15000000, Contract Size=100000.00000000, PnL=32190.00000000000000000000000, PnL USD=216.5067023587729269096509931, Commission=0E-8, Final PnL=216.5067023587729269096509931
2025-07-16 00:16:04,264 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=BUY, Entry=1.77481000, Current=1.7814299999999998, Quantity=0.22000000, Contract Size=100000.00000000, PnL=145.6399999999956000000000000, PnL USD=95.03738199999712878000000000, Commission=2.20000000, Final PnL=92.83738199999712878000000000
2025-07-16 00:16:04,264 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=SELL, Entry=1.77439000, Current=1.78183, Quantity=0.21000000, Contract Size=100000.00000000, PnL=-156.240000000000000000000000, PnL USD=-101.9544120000000000000000000, Commission=2.10000000, Final PnL=-104.0544120000000000000000000
2025-07-16 00:16:04,265 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFJPY: Type=BUY, Entry=178.15500000, Current=185.685, Quantity=0.10000000, Contract Size=100000.00000000, PnL=75300.00000000000000000000000, PnL USD=506.4602263937745074960149046, Commission=1.00000000, Final PnL=505.4602263937745074960149046
2025-07-16 00:16:04,266 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFJPY: Type=SELL, Entry=178.09500000, Current=185.73499999999999, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-76399.99999999990000000000000, PnL USD=-513.8587157567639007526281452, Commission=1.00000000, Final PnL=-514.8587157567639007526281452
2025-07-16 00:16:04,266 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=BUY, Entry=1.77480000, Current=1.7814299999999998, Quantity=0.05000000, Contract Size=100000.00000000, PnL=33.14999999999900000000000000, PnL USD=21.63203249999934745000000000, Commission=0.50000000, Final PnL=21.13203249999934745000000000
2025-07-16 00:16:04,266 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=SELL, Entry=1.77442000, Current=1.78183, Quantity=0.05000000, Contract Size=100000.00000000, PnL=-37.050000000000000000000000, PnL USD=-24.17697750000000000000000000, Commission=0.50000000, Final PnL=-24.67697750000000000000000000
2025-07-16 00:16:04,266 - DEBUG - app.services.portfolio_calculator - Position calculation for EURGBP: Type=SELL, Entry=0.85403000, Current=0.86734, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-133.100000000000000000000000, PnL USD=-178.4391840000000000000000000, Commission=1.00000000, Final PnL=-179.4391840000000000000000000
2025-07-16 00:16:04,267 - DEBUG - app.services.portfolio_calculator - Position calculation for EURJPY: Type=BUY, Entry=167.26050000, Current=172.83950000000002, Quantity=0.10000000, Contract Size=100000.00000000, PnL=55790.00000000020000000000000, PnL USD=375.2379286920156847974495389, Commission=1.00000000, Final PnL=374.2379286920156847974495389
2025-07-16 00:16:04,268 - DEBUG - app.services.portfolio_calculator - Position calculation for EURJPY: Type=SELL, Entry=167.23150000, Current=172.8695, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-56380.00000000000000000000000, PnL USD=-379.2062093503453749352632181, Commission=1.00000000, Final PnL=-380.2062093503453749352632181
2025-07-16 00:16:04,269 - DEBUG - app.services.portfolio_calculator - Position calculation for EURNZD: Type=SELL, Entry=1.91952500, Current=1.954585, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-350.600000000000000000000000, PnL USD=-208.5684340000000000000000000, Commission=1.00000000, Final PnL=-209.5684340000000000000000000
2025-07-16 00:16:04,269 - DEBUG - app.services.portfolio_calculator - Position calculation for EURNZD: Type=BUY, Entry=1.92063500, Current=1.954155, Quantity=0.10000000, Contract Size=100000.00000000, PnL=335.200000000000000000000000, PnL USD=199.4071280000000000000000000, Commission=1.00000000, Final PnL=198.4071280000000000000000000
2025-07-16 00:16:04,269 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=SELL, Entry=1.34376000, Current=1.34074, Quantity=0.25000000, Contract Size=0E-8, PnL=0E-24, PnL USD=0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:16:04,270 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=SELL, Entry=1.34361000, Current=1.34074, Quantity=0.25000000, Contract Size=0E-8, PnL=0E-24, PnL USD=0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:16:04,270 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=BUY, Entry=1.34379000, Current=1.34053, Quantity=0.25000000, Contract Size=0E-8, PnL=-0E-24, PnL USD=-0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:16:04,270 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=BUY, Entry=1.34378000, Current=1.34053, Quantity=0.25000000, Contract Size=0E-8, PnL=-0E-24, PnL USD=-0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:16:04,271 - DEBUG - app.services.portfolio_calculator - Position calculation for NZDJPY: Type=BUY, Entry=87.10150000, Current=88.4285, Quantity=0.01000000, Contract Size=100000.00000000, PnL=1327.000000000000000000000000, PnL USD=8.925268531534379434889930656, Commission=0.10000000, Final PnL=8.825268531534379434889930656
2025-07-16 00:16:04,272 - DEBUG - app.services.portfolio_calculator - Position calculation for USDCHF: Type=SELL, Entry=0.81771000, Current=0.80076, Quantity=0.15000000, Contract Size=100000.00000000, PnL=254.250000000000000000000000, PnL USD=317.5703526061378199123168584, Commission=1.50000000, Final PnL=316.0703526061378199123168584
2025-07-16 00:16:04,273 - DEBUG - app.services.portfolio_calculator - Position calculation for USDCHF: Type=BUY, Entry=0.81805000, Current=0.80043, Quantity=0.15000000, Contract Size=100000.00000000, PnL=-264.300000000000000000000000, PnL USD=-330.1232809982388428823022445, Commission=1.50000000, Final PnL=-331.6232809982388428823022445
2025-07-16 00:16:04,274 - DEBUG - app.services.portfolio_calculator - Position calculation for USDNOK: Type=BUY, Entry=10.04973000, Current=10.25252, Quantity=0.10000000, Contract Size=100000.00000000, PnL=2027.900000000000000000000000, PnL USD=197.7640250669485690657627066, Commission=1.00000000, Final PnL=196.7640250669485690657627066
2025-07-16 00:16:04,275 - DEBUG - app.services.portfolio_calculator - Position calculation for USDNOK: Type=BUY, Entry=10.05023000, Current=10.25252, Quantity=0.10000000, Contract Size=100000.00000000, PnL=2022.900000000000000000000000, PnL USD=197.2764171349328173791268697, Commission=1.00000000, Final PnL=196.2764171349328173791268697
2025-07-16 00:16:04,276 - DEBUG - app.services.portfolio_calculator - Position calculation for USDSGD: Type=SELL, Entry=1.28795000, Current=1.28447, Quantity=0.31000000, Contract Size=100000.00000000, PnL=107.880000000000000000000000, PnL USD=83.99775756820730036128067771, Commission=3.10000000, Final PnL=80.89775756820730036128067771
2025-07-16 00:16:04,277 - DEBUG - app.services.portfolio_calculator - Position calculation for USDTRY: Type=SELL, Entry=39.56087000, Current=40.2558, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-6949.300000000000000000000000, PnL USD=-172.6291837294889040420413035, Commission=1.00000000, Final PnL=-173.6291837294889040420413035
2025-07-16 00:16:05,038 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:05,040 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.89752000, Current=0.89475, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-2.770000000000000000000000, PnL USD=-2.019951579500043753463815885, Commission=0.10000000, Final PnL=-2.119951579500043753463815885
2025-07-16 00:16:05,042 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:05,075 - WARNING - app - User 12 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:16:05,109 - WARNING - app - User 13 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:16:05,160 - DEBUG - app.firebase_stream - Firebase listener triggered (211). Event Type: patch, Path: /. Timestamp: 1752650165.160491
2025-07-16 00:16:05,160 - DEBUG - app.firebase_stream - Prepared batch update for 35 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0258600000', 'o': '13.0233000000'}, 'XAGUSD': {'b': '37.9160000000', 'o': '37.9080000000'}, 'GBPAUD': {'b': '2.0544800000', 'o': '2.0543600000'}, 'USDJPY': {'b': '148.6800000000',
2025-07-16 00:16:05,161 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0258600000', 'o': '13.0233000000'}, 'XAGUSD': {'b': '37.9160000000', 'o': '37.9080000000'}, 'GBPAUD': {'b': '2.0544800000', 'o': '2.0543600000'}, 'USDJPY': {'b': '148.6800000000',...
2025-07-16 00:16:05,162 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:16:06,043 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:06,047 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:07,051 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:07,054 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:07,464 - DEBUG - app.firebase_stream - Firebase listener triggered (212). Event Type: patch, Path: /. Timestamp: 1752650167.4646409
2025-07-16 00:16:07,465 - DEBUG - app.firebase_stream - Prepared batch update for 36 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0256000000', 'o': '13.0230000000'}, 'XAGUSD': {'b': '37.9200000000', 'o': '37.9130000000'}, 'GBPAUD': {'b': '2.0544600000', 'o': '2.0543300000'}, 'BTCUSD': {'b': '118034.400000000
2025-07-16 00:16:07,465 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0256000000', 'o': '13.0230000000'}, 'XAGUSD': {'b': '37.9200000000', 'o': '37.9130000000'}, 'GBPAUD': {'b': '2.0544600000', 'o': '2.0543300000'}, 'BTCUSD': {'b': '118034.400000000...
2025-07-16 00:16:07,466 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:16:08,057 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:08,060 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:09,064 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:09,067 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:09,746 - DEBUG - app.firebase_stream - Firebase listener triggered (213). Event Type: patch, Path: /. Timestamp: 1752650169.7465534
2025-07-16 00:16:09,746 - DEBUG - app.firebase_stream - Prepared batch update for 36 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0255000000', 'o': '13.0229000000'}, 'XAGUSD': {'b': '37.9200000000', 'o': '37.9150000000'}, 'NZDJPY': {'b': '88.4480000000', 'o': '88.4400000000'}, 'GBPAUD': {'b': '2.0544300000',
2025-07-16 00:16:09,747 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0255000000', 'o': '13.0229000000'}, 'XAGUSD': {'b': '37.9200000000', 'o': '37.9150000000'}, 'NZDJPY': {'b': '88.4480000000', 'o': '88.4400000000'}, 'GBPAUD': {'b': '2.0544300000',...
2025-07-16 00:16:09,749 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:16:10,078 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:10,081 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:11,085 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:11,089 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:12,106 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:12,109 - DEBUG - app.firebase_stream - Firebase listener triggered (214). Event Type: patch, Path: /. Timestamp: 1752650172.1092157
2025-07-16 00:16:12,110 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0256100000', 'o': '13.0232000000'}, 'XAGUSD': {'b': '37.9090000000', 'o': '37.9080000000'}, 'NZDJPY': {'b': '88.4480000000', 'o': '88.4410000000'}, 'GBPAUD': {'b': '2.0544300000',
2025-07-16 00:16:12,112 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:12,113 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0256100000', 'o': '13.0232000000'}, 'XAGUSD': {'b': '37.9090000000', 'o': '37.9080000000'}, 'NZDJPY': {'b': '88.4480000000', 'o': '88.4410000000'}, 'GBPAUD': {'b': '2.0544300000',...
2025-07-16 00:16:12,113 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:16:13,142 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:13,146 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:14,154 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:14,158 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:14,349 - DEBUG - app.firebase_stream - Firebase listener triggered (215). Event Type: patch, Path: /. Timestamp: 1752650174.349951
2025-07-16 00:16:14,350 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0256100000', 'o': '13.0233000000'}, 'NZDJPY': {'b': '88.4500000000', 'o': '88.4430000000'}, 'GBPAUD': {'b': '2.0544300000', 'o': '2.0542900000'}, 'BTCUSD': {'b': '118058.600000000
2025-07-16 00:16:14,351 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0256100000', 'o': '13.0233000000'}, 'NZDJPY': {'b': '88.4500000000', 'o': '88.4430000000'}, 'GBPAUD': {'b': '2.0544300000', 'o': '2.0542900000'}, 'BTCUSD': {'b': '118058.600000000...
2025-07-16 00:16:14,352 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:16:15,161 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:15,164 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:16,179 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:16,182 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:16,656 - DEBUG - app.firebase_stream - Firebase listener triggered (216). Event Type: patch, Path: /. Timestamp: 1752650176.656643
2025-07-16 00:16:16,657 - DEBUG - app.firebase_stream - Prepared batch update for 34 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0256100000', 'o': '13.0232000000'}, 'XAGUSD': {'b': '37.9290000000', 'o': '37.9250000000'}, 'NZDJPY': {'b': '88.4500000000', 'o': '88.4420000000'}, 'GBPAUD': {'b': '2.0544300000',
2025-07-16 00:16:16,658 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0256100000', 'o': '13.0232000000'}, 'XAGUSD': {'b': '37.9290000000', 'o': '37.9250000000'}, 'NZDJPY': {'b': '88.4500000000', 'o': '88.4420000000'}, 'GBPAUD': {'b': '2.0544300000',...
2025-07-16 00:16:16,664 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:16:17,189 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:17,192 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:18,195 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:18,200 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:18,946 - DEBUG - app.firebase_stream - Firebase listener triggered (217). Event Type: patch, Path: /. Timestamp: 1752650178.946233
2025-07-16 00:16:18,946 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0258000000', 'o': '13.0232000000'}, 'XAGUSD': {'b': '37.9270000000', 'o': '37.9240000000'}, 'NZDJPY': {'b': '88.4510000000', 'o': '88.4430000000'}, 'GBPAUD': {'b': '2.0544300000',
2025-07-16 00:16:18,947 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0258000000', 'o': '13.0232000000'}, 'XAGUSD': {'b': '37.9270000000', 'o': '37.9240000000'}, 'NZDJPY': {'b': '88.4510000000', 'o': '88.4430000000'}, 'GBPAUD': {'b': '2.0544300000',...
2025-07-16 00:16:18,947 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:16:19,208 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:19,211 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:20,222 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:20,226 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:21,244 - DEBUG - app.firebase_stream - Firebase listener triggered (218). Event Type: patch, Path: /. Timestamp: 1752650181.244063
2025-07-16 00:16:21,244 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:21,244 - DEBUG - app.firebase_stream - Prepared batch update for 26 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0255000000', 'o': '13.0229000000'}, 'XAGUSD': {'b': '37.9260000000', 'o': '37.9230000000'}, 'NZDJPY': {'b': '88.4500000000', 'o': '88.4420000000'}, 'GBPAUD': {'b': '2.0544200000',
2025-07-16 00:16:21,245 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0255000000', 'o': '13.0229000000'}, 'XAGUSD': {'b': '37.9260000000', 'o': '37.9230000000'}, 'NZDJPY': {'b': '88.4500000000', 'o': '88.4420000000'}, 'GBPAUD': {'b': '2.0544200000',...
2025-07-16 00:16:21,245 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:16:21,261 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:22,285 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:22,288 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:23,293 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:23,295 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:23,554 - DEBUG - app.firebase_stream - Firebase listener triggered (219). Event Type: patch, Path: /. Timestamp: 1752650183.5546415
2025-07-16 00:16:23,555 - DEBUG - app.firebase_stream - Prepared batch update for 34 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4500000000', 'o': '88.4430000000'}, 'GBPAUD': {'b': '2.0543900000', 'o': '2.0542600000'}, 'BTCUSD': {'b': '118058.6000000000', 'o': '118058.5000000000'}, 'USDJPY': {'b': '148.6850
2025-07-16 00:16:23,555 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4500000000', 'o': '88.4430000000'}, 'GBPAUD': {'b': '2.0543900000', 'o': '2.0542600000'}, 'BTCUSD': {'b': '118058.6000000000', 'o': '118058.5000000000'}, 'USDJPY': {'b': '148.6850...
2025-07-16 00:16:23,557 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:16:24,298 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:24,301 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:25,309 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:25,312 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:25,865 - DEBUG - app.firebase_stream - Firebase listener triggered (220). Event Type: patch, Path: /. Timestamp: 1752650185.8650706
2025-07-16 00:16:25,865 - DEBUG - app.firebase_stream - Prepared batch update for 35 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0263000000', 'o': '13.0237000000'}, 'XAGUSD': {'b': '37.9150000000', 'o': '37.9120000000'}, 'NZDJPY': {'b': '88.4540000000', 'o': '88.4510000000'}, 'GBPAUD': {'b': '2.0544100000',
2025-07-16 00:16:25,866 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0263000000', 'o': '13.0237000000'}, 'XAGUSD': {'b': '37.9150000000', 'o': '37.9120000000'}, 'NZDJPY': {'b': '88.4540000000', 'o': '88.4510000000'}, 'GBPAUD': {'b': '2.0544100000',...
2025-07-16 00:16:25,866 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:16:26,324 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:26,328 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:27,334 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:27,337 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:28,186 - DEBUG - app.firebase_stream - Firebase listener triggered (221). Event Type: patch, Path: /. Timestamp: 1752650188.1860526
2025-07-16 00:16:28,186 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9330000000', 'o': '37.9290000000'}, 'NZDJPY': {'b': '88.4590000000', 'o': '88.4520000000'}, 'GBPAUD': {'b': '2.0544200000', 'o': '2.0542800000'}, 'BTCUSD': {'b': '118072.700000000
2025-07-16 00:16:28,187 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9330000000', 'o': '37.9290000000'}, 'NZDJPY': {'b': '88.4590000000', 'o': '88.4520000000'}, 'GBPAUD': {'b': '2.0544200000', 'o': '2.0542800000'}, 'BTCUSD': {'b': '118072.700000000...
2025-07-16 00:16:28,188 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:16:28,339 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:28,343 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:29,361 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:29,364 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:30,370 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:30,376 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:30,523 - DEBUG - app.firebase_stream - Firebase listener triggered (222). Event Type: patch, Path: /. Timestamp: 1752650190.5238082
2025-07-16 00:16:30,524 - DEBUG - app.firebase_stream - Prepared batch update for 25 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0267000000', 'o': '13.0241000000'}, 'XAGUSD': {'b': '37.9300000000', 'o': '37.9260000000'}, 'NZDJPY': {'b': '88.4490000000', 'o': '88.4410000000'}, 'GBPAUD': {'b': '2.0546100000',
2025-07-16 00:16:30,524 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0267000000', 'o': '13.0241000000'}, 'XAGUSD': {'b': '37.9300000000', 'o': '37.9260000000'}, 'NZDJPY': {'b': '88.4490000000', 'o': '88.4410000000'}, 'GBPAUD': {'b': '2.0546100000',...
2025-07-16 00:16:30,525 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:16:31,381 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:31,384 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:32,390 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:32,394 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:32,770 - DEBUG - app.firebase_stream - Firebase listener triggered (223). Event Type: patch, Path: /. Timestamp: 1752650192.7700799
2025-07-16 00:16:32,770 - DEBUG - app.firebase_stream - Prepared batch update for 26 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4580000000', 'o': '88.4510000000'}, 'GBPAUD': {'b': '2.0544200000', 'o': '2.0542900000'}, 'USDJPY': {'b': '148.6800000000', 'o': '148.6760000000'}, 'EURNZD': {'b': '1.9542300000',
2025-07-16 00:16:32,771 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'NZDJPY': {'b': '88.4580000000', 'o': '88.4510000000'}, 'GBPAUD': {'b': '2.0544200000', 'o': '2.0542900000'}, 'USDJPY': {'b': '148.6800000000', 'o': '148.6760000000'}, 'EURNZD': {'b': '1.9542300000',...
2025-07-16 00:16:32,771 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:16:33,401 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:33,404 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:34,409 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:34,414 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:35,048 - DEBUG - app.firebase_stream - Firebase listener triggered (224). Event Type: patch, Path: /. Timestamp: 1752650195.048605
2025-07-16 00:16:35,049 - DEBUG - app.firebase_stream - Prepared batch update for 20 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4580000000', 'o': '88.4500000000'}, 'GBPAUD': {'b': '2.0544700000', 'o': '2.0543000000'}, 'CADCHF': {'b': '0.5839300000', 'o': '0.5838600000'}, 'EURNZD': {'b': '1.9542600000', 'o'
2025-07-16 00:16:35,049 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'NZDJPY': {'b': '88.4580000000', 'o': '88.4500000000'}, 'GBPAUD': {'b': '2.0544700000', 'o': '2.0543000000'}, 'CADCHF': {'b': '0.5839300000', 'o': '0.5838600000'}, 'EURNZD': {'b': '1.9542600000', 'o'...
2025-07-16 00:16:35,050 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:16:35,429 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:35,432 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:36,435 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:36,439 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:37,343 - DEBUG - app.firebase_stream - Firebase listener triggered (225). Event Type: patch, Path: /. Timestamp: 1752650197.343183
2025-07-16 00:16:37,343 - DEBUG - app.firebase_stream - Prepared batch update for 22 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0266000000', 'o': '13.0240000000'}, 'XAGUSD': {'b': '37.9280000000', 'o': '37.9260000000'}, 'BTCUSD': {'b': '118065.3200000000', 'o': '118065.3200000000'}, 'USDCNH': {'b': '7.1819
2025-07-16 00:16:37,344 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0266000000', 'o': '13.0240000000'}, 'XAGUSD': {'b': '37.9280000000', 'o': '37.9260000000'}, 'BTCUSD': {'b': '118065.3200000000', 'o': '118065.3200000000'}, 'USDCNH': {'b': '7.1819...
2025-07-16 00:16:37,346 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:16:37,443 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:37,447 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:38,456 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:38,459 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:39,475 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:39,478 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:39,715 - DEBUG - app.firebase_stream - Firebase listener triggered (226). Event Type: patch, Path: /. Timestamp: 1752650199.715518
2025-07-16 00:16:39,716 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0259500000', 'o': '13.0240000000'}, 'XAGUSD': {'b': '37.9290000000', 'o': '37.9260000000'}, 'GBPAUD': {'b': '2.0543900000', 'o': '2.0543200000'}, 'BTCUSD': {'b': '118064.600000000
2025-07-16 00:16:39,717 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0259500000', 'o': '13.0240000000'}, 'XAGUSD': {'b': '37.9290000000', 'o': '37.9260000000'}, 'GBPAUD': {'b': '2.0543900000', 'o': '2.0543200000'}, 'BTCUSD': {'b': '118064.600000000...
2025-07-16 00:16:39,717 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:16:40,494 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:40,498 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:41,514 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:41,518 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:41,943 - DEBUG - app.firebase_stream - Firebase listener triggered (227). Event Type: patch, Path: /. Timestamp: 1752650201.943104
2025-07-16 00:16:41,943 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9330000000', 'o': '37.9280000000'}, 'NZDJPY': {'b': '88.4610000000', 'o': '88.4570000000'}, 'GBPAUD': {'b': '2.0544300000', 'o': '2.0542900000'}, 'USDJPY': {'b': '148.6810000000',
2025-07-16 00:16:41,944 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'XAGUSD': {'b': '37.9330000000', 'o': '37.9280000000'}, 'NZDJPY': {'b': '88.4610000000', 'o': '88.4570000000'}, 'GBPAUD': {'b': '2.0544300000', 'o': '2.0542900000'}, 'USDJPY': {'b': '148.6810000000',...
2025-07-16 00:16:41,944 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:16:42,525 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:42,530 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:43,537 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:43,540 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:44,242 - DEBUG - app.firebase_stream - Firebase listener triggered (228). Event Type: patch, Path: /. Timestamp: 1752650204.2426214
2025-07-16 00:16:44,242 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0259000000', 'o': '13.0233000000'}, 'XAGUSD': {'b': '37.9320000000', 'o': '37.9310000000'}, 'NZDJPY': {'b': '88.4650000000', 'o': '88.4570000000'}, 'GBPAUD': {'b': '2.0542600000',
2025-07-16 00:16:44,243 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0259000000', 'o': '13.0233000000'}, 'XAGUSD': {'b': '37.9320000000', 'o': '37.9310000000'}, 'NZDJPY': {'b': '88.4650000000', 'o': '88.4570000000'}, 'GBPAUD': {'b': '2.0542600000',...
2025-07-16 00:16:44,243 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:16:44,549 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:44,553 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:45,559 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:45,562 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:46,535 - DEBUG - app.firebase_stream - Firebase listener triggered (229). Event Type: patch, Path: /. Timestamp: 1752650206.5358622
2025-07-16 00:16:46,536 - DEBUG - app.firebase_stream - Prepared batch update for 30 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0259500000', 'o': '13.0234000000'}, 'NZDJPY': {'b': '88.4650000000', 'o': '88.4590000000'}, 'GBPAUD': {'b': '2.0544200000', 'o': '2.0542900000'}, 'USDJPY': {'b': '148.6820000000',
2025-07-16 00:16:46,537 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0259500000', 'o': '13.0234000000'}, 'NZDJPY': {'b': '88.4650000000', 'o': '88.4590000000'}, 'GBPAUD': {'b': '2.0544200000', 'o': '2.0542900000'}, 'USDJPY': {'b': '148.6820000000',...
2025-07-16 00:16:46,539 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:16:46,565 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:46,576 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:47,599 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:47,602 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:48,613 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:48,616 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:48,865 - DEBUG - app.firebase_stream - Firebase listener triggered (230). Event Type: patch, Path: /. Timestamp: 1752650208.8653347
2025-07-16 00:16:48,865 - DEBUG - app.firebase_stream - Prepared batch update for 35 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0256000000', 'o': '13.0230000000'}, 'XAGUSD': {'b': '37.9330000000', 'o': '37.9290000000'}, 'NZDJPY': {'b': '88.4660000000', 'o': '88.4590000000'}, 'GBPAUD': {'b': '2.0543100000',
2025-07-16 00:16:48,869 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0256000000', 'o': '13.0230000000'}, 'XAGUSD': {'b': '37.9330000000', 'o': '37.9290000000'}, 'NZDJPY': {'b': '88.4660000000', 'o': '88.4590000000'}, 'GBPAUD': {'b': '2.0543100000',...
2025-07-16 00:16:48,873 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:16:49,626 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:49,629 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:50,642 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:50,646 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:51,117 - DEBUG - app.firebase_stream - Firebase listener triggered (231). Event Type: patch, Path: /. Timestamp: 1752650211.1178758
2025-07-16 00:16:51,118 - DEBUG - app.firebase_stream - Prepared batch update for 23 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4650000000', 'o': '88.4570000000'}, 'GBPAUD': {'b': '2.0543000000', 'o': '2.0541400000'}, 'BTCUSD': {'b': '118074.0000000000', 'o': '118073.9000000000'}, 'USDJPY': {'b': '148.6830
2025-07-16 00:16:51,119 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4650000000', 'o': '88.4570000000'}, 'GBPAUD': {'b': '2.0543000000', 'o': '2.0541400000'}, 'BTCUSD': {'b': '118074.0000000000', 'o': '118073.9000000000'}, 'USDJPY': {'b': '148.6830...
2025-07-16 00:16:51,121 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:16:51,661 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:51,667 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:52,680 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:52,683 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:53,434 - DEBUG - app.firebase_stream - Firebase listener triggered (232). Event Type: patch, Path: /. Timestamp: 1752650213.4340367
2025-07-16 00:16:53,434 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0257000000', 'o': '13.0231000000'}, 'NZDJPY': {'b': '88.4670000000', 'o': '88.4610000000'}, 'GBPAUD': {'b': '2.0542600000', 'o': '2.0541200000'}, 'USDJPY': {'b': '148.6870000000',
2025-07-16 00:16:53,434 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0257000000', 'o': '13.0231000000'}, 'NZDJPY': {'b': '88.4670000000', 'o': '88.4610000000'}, 'GBPAUD': {'b': '2.0542600000', 'o': '2.0541200000'}, 'USDJPY': {'b': '148.6870000000',...
2025-07-16 00:16:53,435 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:16:53,692 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:53,695 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:54,701 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:54,708 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:55,718 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:55,720 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:55,785 - DEBUG - app.firebase_stream - Firebase listener triggered (233). Event Type: patch, Path: /. Timestamp: 1752650215.7854106
2025-07-16 00:16:55,785 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0255000000', 'o': '13.0229000000'}, 'NZDJPY': {'b': '88.4680000000', 'o': '88.4630000000'}, 'GBPAUD': {'b': '2.0542900000', 'o': '2.0541500000'}, 'USDJPY': {'b': '148.6900000000',
2025-07-16 00:16:55,786 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0255000000', 'o': '13.0229000000'}, 'NZDJPY': {'b': '88.4680000000', 'o': '88.4630000000'}, 'GBPAUD': {'b': '2.0542900000', 'o': '2.0541500000'}, 'USDJPY': {'b': '148.6900000000',...
2025-07-16 00:16:55,786 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:16:56,731 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:56,735 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:57,739 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:57,743 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:58,075 - DEBUG - app.firebase_stream - Firebase listener triggered (234). Event Type: patch, Path: /. Timestamp: 1752650218.0752075
2025-07-16 00:16:58,075 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0263000000', 'o': '13.0237000000'}, 'XAGUSD': {'b': '37.9260000000', 'o': '37.9230000000'}, 'NZDJPY': {'b': '88.4710000000', 'o': '88.4630000000'}, 'USDJPY': {'b': '148.6900000000
2025-07-16 00:16:58,076 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0263000000', 'o': '13.0237000000'}, 'XAGUSD': {'b': '37.9260000000', 'o': '37.9230000000'}, 'NZDJPY': {'b': '88.4710000000', 'o': '88.4630000000'}, 'USDJPY': {'b': '148.6900000000...
2025-07-16 00:16:58,079 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:16:58,763 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:58,766 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:59,773 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:59,775 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:00,368 - DEBUG - app.firebase_stream - Firebase listener triggered (235). Event Type: patch, Path: /. Timestamp: 1752650220.3680544
2025-07-16 00:17:00,368 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0255000000', 'o': '13.0229000000'}, 'XAGUSD': {'b': '37.9320000000', 'o': '37.9280000000'}, 'NZDJPY': {'b': '88.4590000000', 'o': '88.4520000000'}, 'GBPAUD': {'b': '2.0542300000',
2025-07-16 00:17:00,369 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0255000000', 'o': '13.0229000000'}, 'XAGUSD': {'b': '37.9320000000', 'o': '37.9280000000'}, 'NZDJPY': {'b': '88.4590000000', 'o': '88.4520000000'}, 'GBPAUD': {'b': '2.0542300000',...
2025-07-16 00:17:00,369 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:17:00,783 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:00,787 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:01,793 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:01,796 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:02,153 - WARNING - app - User 4 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:17:02,161 - WARNING - app - No user data found for user 5 (live). Skipping portfolio update.
2025-07-16 00:17:02,168 - WARNING - app - No group settings found for group string. Skipping portfolio update for user 8.
2025-07-16 00:17:02,201 - WARNING - app - User 9 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:17:02,232 - WARNING - app - User 10 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:17:02,266 - WARNING - app - User 11 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:17:02,298 - WARNING - app - User 12 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:17:02,327 - WARNING - app - User 13 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:17:02,664 - DEBUG - app.firebase_stream - Firebase listener triggered (236). Event Type: patch, Path: /. Timestamp: 1752650222.6644235
2025-07-16 00:17:02,665 - DEBUG - app.firebase_stream - Prepared batch update for 27 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9320000000', 'o': '37.9290000000'}, 'NZDJPY': {'b': '88.4690000000', 'o': '88.4630000000'}, 'GBPAUD': {'b': '2.0542100000', 'o': '2.0540900000'}, 'BTCUSD': {'b': '118087.200000000
2025-07-16 00:17:02,665 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9320000000', 'o': '37.9290000000'}, 'NZDJPY': {'b': '88.4690000000', 'o': '88.4630000000'}, 'GBPAUD': {'b': '2.0542100000', 'o': '2.0540900000'}, 'BTCUSD': {'b': '118087.200000000...
2025-07-16 00:17:02,665 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:17:02,684 - DEBUG - app.services.portfolio_calculator - Position calculation for BTCUSD: Type=BUY, Entry=118908.50000000, Current=118033.84, Quantity=0.40000000, Contract Size=1.00000000, PnL=-349.864000000000000000000000, PnL USD=-349.864000000000000000000000, Commission=235.57000000, Final PnL=-585.434000000000000000000000
2025-07-16 00:17:02,684 - WARNING - app.services.portfolio_calculator - MARGIN CALL ALERT: User has margin level 98.87353240515222233896121400% which is below threshold 100.0%
2025-07-16 00:17:02,799 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:02,804 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:02,813 - WARNING - app - User 16 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:17:02,844 - WARNING - app - User 17 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:17:02,878 - WARNING - app - User 18 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:17:02,915 - WARNING - app - User 19 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:17:02,946 - WARNING - app - User 20 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:17:02,977 - WARNING - app - User 21 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:17:03,016 - WARNING - app - User 22 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:17:03,054 - WARNING - app - User 23 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:17:03,084 - WARNING - app - User 24 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:17:03,115 - WARNING - app - User 25 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:17:03,475 - DEBUG - app.services.portfolio_calculator - Position calculation for XAGUSD: Type=BUY, Entry=41.09800000, Current=37.9165, Quantity=0.01000000, Contract Size=5000.00000000, PnL=-159.075000000000000000000000, PnL USD=-159.075000000000000000000000, Commission=0.10000000, Final PnL=-159.175000000000000000000000
2025-07-16 00:17:03,475 - DEBUG - app.services.portfolio_calculator - Position calculation for BTCUSD: Type=BUY, Entry=132091.90000000, Current=118037.1, Quantity=6.00000000, Contract Size=1.00000000, PnL=-84328.80000000000000000000000, PnL USD=-84328.80000000000000000000000, Commission=3661.62000000, Final PnL=-87990.42000000000000000000000
2025-07-16 00:17:03,476 - WARNING - app.services.portfolio_calculator - MARGIN CALL ALERT: User has margin level 65.66990685087641031161869924% which is below threshold 100.0%
2025-07-16 00:17:03,855 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:03,858 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=96.66800000, Current=96.99000000000001, Quantity=0.01000000, Contract Size=100000.00000000, PnL=322.0000000000100000000000000, PnL USD=2.165550264977335700642939768, Commission=0.10000000, Final PnL=2.065550264977335700642939768
2025-07-16 00:17:03,859 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=96.56000000, Current=97.095, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-535.000000000000000000000000, PnL USD=-3.598041589325585774621364969, Commission=0.10000000, Final PnL=-3.698041589325585774621364969
2025-07-16 00:17:03,860 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:03,862 - WARNING - app - User 2 has no group_name set. Skipping portfolio update.
2025-07-16 00:17:03,872 - WARNING - app - No group settings found for group string. Skipping portfolio update for user 3.
2025-07-16 00:17:03,904 - WARNING - app - User 4 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:17:03,905 - WARNING - app - User 5 has no group_name set. Skipping portfolio update.
2025-07-16 00:17:03,906 - WARNING - app - User 6 has no group_name set. Skipping portfolio update.
2025-07-16 00:17:04,264 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64743000, Current=0.65249, Quantity=0.10000000, Contract Size=100000.00000000, PnL=50.600000000000000000000000, PnL USD=50.600000000000000000000000, Commission=1.00000000, Final PnL=49.600000000000000000000000
2025-07-16 00:17:04,264 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=SELL, Entry=0.64707000, Current=0.6527999999999999, Quantity=0.22000000, Contract Size=100000.00000000, PnL=-126.0599999999978000000000000, PnL USD=-126.0599999999978000000000000, Commission=2.20000000, Final PnL=-128.2599999999978000000000000
2025-07-16 00:17:04,265 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFSGD: Type=BUY, Entry=1.57561500, Current=1.6038750000000002, Quantity=0.10000000, Contract Size=100000.00000000, PnL=282.6000000000020000000000000, PnL USD=220.0454729498255832061544212, Commission=1.00000000, Final PnL=219.0454729498255832061544212
2025-07-16 00:17:04,266 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFSGD: Type=SELL, Entry=1.57505500, Current=1.604295, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-292.400000000000000000000000, PnL USD=-227.6762076805681004142398854, Commission=1.00000000, Final PnL=-228.6762076805681004142398854
2025-07-16 00:17:04,266 - DEBUG - app.services.portfolio_calculator - Position calculation for CADJPY: Type=SELL, Entry=106.24150000, Current=108.4645, Quantity=0.15000000, Contract Size=100000.00000000, PnL=-33345.00000000000000000000000, PnL USD=-224.2555080300217900088774110, Commission=0E-8, Final PnL=-224.2555080300217900088774110
2025-07-16 00:17:04,267 - DEBUG - app.services.portfolio_calculator - Position calculation for CADJPY: Type=BUY, Entry=106.27050000, Current=108.43249999999999, Quantity=0.15000000, Contract Size=100000.00000000, PnL=32429.99999999985000000000000, PnL USD=218.1018481155667419901541441, Commission=0E-8, Final PnL=218.1018481155667419901541441
2025-07-16 00:17:04,267 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=BUY, Entry=1.77481000, Current=1.7813299999999999, Quantity=0.22000000, Contract Size=100000.00000000, PnL=143.4399999999978000000000000, PnL USD=93.61611599999856417000000000, Commission=2.20000000, Final PnL=91.41611599999856417000000000
2025-07-16 00:17:04,267 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=SELL, Entry=1.77439000, Current=1.7817100000000001, Quantity=0.21000000, Contract Size=100000.00000000, PnL=-153.7200000000021000000000000, PnL USD=-100.3253580000013705650000000, Commission=2.10000000, Final PnL=-102.4253580000013705650000000
2025-07-16 00:17:04,267 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFJPY: Type=BUY, Entry=178.15500000, Current=185.69500000000002, Quantity=0.10000000, Contract Size=100000.00000000, PnL=75400.00000000020000000000000, PnL USD=507.0884781965418448874182875, Commission=1.00000000, Final PnL=506.0884781965418448874182875
2025-07-16 00:17:04,268 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFJPY: Type=SELL, Entry=178.09500000, Current=185.74499999999998, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-76499.99999999980000000000000, PnL USD=-514.4863207166478357947972991, Commission=1.00000000, Final PnL=-515.4863207166478357947972991
2025-07-16 00:17:04,268 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=BUY, Entry=1.77480000, Current=1.7813299999999999, Quantity=0.05000000, Contract Size=100000.00000000, PnL=32.64999999999950000000000000, PnL USD=21.30902249999967367500000000, Commission=0.50000000, Final PnL=20.80902249999967367500000000
2025-07-16 00:17:04,268 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=SELL, Entry=1.77442000, Current=1.7817100000000001, Quantity=0.05000000, Contract Size=100000.00000000, PnL=-36.45000000000050000000000000, PnL USD=-23.78909250000032632500000000, Commission=0.50000000, Final PnL=-24.28909250000032632500000000
2025-07-16 00:17:04,268 - DEBUG - app.services.portfolio_calculator - Position calculation for EURGBP: Type=SELL, Entry=0.85403000, Current=0.86735, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-133.200000000000000000000000, PnL USD=-178.5745800000000000000000000, Commission=1.00000000, Final PnL=-179.5745800000000000000000000
2025-07-16 00:17:04,269 - DEBUG - app.services.portfolio_calculator - Position calculation for EURJPY: Type=BUY, Entry=167.26050000, Current=172.84150000000002, Quantity=0.10000000, Contract Size=100000.00000000, PnL=55810.00000000020000000000000, PnL USD=375.3396282247881526914696150, Commission=1.00000000, Final PnL=374.3396282247881526914696150
2025-07-16 00:17:04,270 - DEBUG - app.services.portfolio_calculator - Position calculation for EURJPY: Type=SELL, Entry=167.23150000, Current=172.8705, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-56390.00000000000000000000000, PnL USD=-379.2403088262986576278481694, Commission=1.00000000, Final PnL=-380.2403088262986576278481694
2025-07-16 00:17:04,270 - DEBUG - app.services.portfolio_calculator - Position calculation for EURNZD: Type=SELL, Entry=1.91952500, Current=1.954385, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-348.600000000000000000000000, PnL USD=-207.3960840000000000000000000, Commission=1.00000000, Final PnL=-208.3960840000000000000000000
2025-07-16 00:17:04,270 - DEBUG - app.services.portfolio_calculator - Position calculation for EURNZD: Type=BUY, Entry=1.92063500, Current=1.953935, Quantity=0.10000000, Contract Size=100000.00000000, PnL=333.000000000000000000000000, PnL USD=198.1150200000000000000000000, Commission=1.00000000, Final PnL=197.1150200000000000000000000
2025-07-16 00:17:04,270 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=SELL, Entry=1.34376000, Current=1.3407499999999999, Quantity=0.25000000, Contract Size=0E-8, PnL=0E-32, PnL USD=0E-32, Commission=2.50000000, Final PnL=-2.500000000000000000000000000
2025-07-16 00:17:04,271 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=SELL, Entry=1.34361000, Current=1.3407499999999999, Quantity=0.25000000, Contract Size=0E-8, PnL=0E-32, PnL USD=0E-32, Commission=2.50000000, Final PnL=-2.500000000000000000000000000
2025-07-16 00:17:04,271 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=BUY, Entry=1.34379000, Current=1.34054, Quantity=0.25000000, Contract Size=0E-8, PnL=-0E-24, PnL USD=-0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:17:04,271 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=BUY, Entry=1.34378000, Current=1.34054, Quantity=0.25000000, Contract Size=0E-8, PnL=-0E-24, PnL USD=-0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:17:04,271 - DEBUG - app.services.portfolio_calculator - Position calculation for NZDJPY: Type=BUY, Entry=87.10150000, Current=88.45049999999999, Quantity=0.01000000, Contract Size=100000.00000000, PnL=1348.999999999990000000000000, PnL USD=9.072445054205942485137061846, Commission=0.10000000, Final PnL=8.972445054205942485137061846
2025-07-16 00:17:04,272 - DEBUG - app.services.portfolio_calculator - Position calculation for USDCHF: Type=SELL, Entry=0.81771000, Current=0.8007799999999999, Quantity=0.15000000, Contract Size=100000.00000000, PnL=253.9500000000015000000000000, PnL USD=317.1877146746955522526010767, Commission=1.50000000, Final PnL=315.6877146746955522526010767
2025-07-16 00:17:04,273 - DEBUG - app.services.portfolio_calculator - Position calculation for USDCHF: Type=BUY, Entry=0.81805000, Current=0.8004600000000001, Quantity=0.15000000, Contract Size=100000.00000000, PnL=-263.8499999999985000000000000, PnL USD=-329.5529770305865381012452694, Commission=1.50000000, Final PnL=-331.0529770305865381012452694
2025-07-16 00:17:04,274 - DEBUG - app.services.portfolio_calculator - Position calculation for USDNOK: Type=BUY, Entry=10.04973000, Current=10.253250000000001, Quantity=0.10000000, Contract Size=100000.00000000, PnL=2035.200000000010000000000000, PnL USD=198.4668358913708078610498108, Commission=1.00000000, Final PnL=197.4668358913708078610498108
2025-07-16 00:17:04,274 - DEBUG - app.services.portfolio_calculator - Position calculation for USDNOK: Type=BUY, Entry=10.05023000, Current=10.253250000000001, Quantity=0.10000000, Contract Size=100000.00000000, PnL=2030.200000000010000000000000, PnL USD=197.9792503079112711258643673, Commission=1.00000000, Final PnL=196.9792503079112711258643673
2025-07-16 00:17:04,275 - DEBUG - app.services.portfolio_calculator - Position calculation for USDSGD: Type=SELL, Entry=1.28795000, Current=1.2844300000000002, Quantity=0.31000000, Contract Size=100000.00000000, PnL=109.1199999999938000000000000, PnL USD=84.96589528762715295729903136, Commission=3.10000000, Final PnL=81.86589528762715295729903136
2025-07-16 00:17:04,275 - DEBUG - app.services.portfolio_calculator - Position calculation for USDTRY: Type=SELL, Entry=39.56087000, Current=40.25655, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-6956.800000000000000000000000, PnL USD=-172.8122733279677268707584384, Commission=1.00000000, Final PnL=-173.8122733279677268707584384
2025-07-16 00:17:04,967 - DEBUG - app.firebase_stream - Firebase listener triggered (237). Event Type: patch, Path: /. Timestamp: 1752650224.9676754
2025-07-16 00:17:04,968 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0255700000', 'o': '13.0231000000'}, 'XAGUSD': {'b': '37.9320000000', 'o': '37.9280000000'}, 'NZDJPY': {'b': '88.4700000000', 'o': '88.4610000000'}, 'GBPAUD': {'b': '2.0542300000',
2025-07-16 00:17:04,969 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0255700000', 'o': '13.0231000000'}, 'XAGUSD': {'b': '37.9320000000', 'o': '37.9280000000'}, 'NZDJPY': {'b': '88.4700000000', 'o': '88.4610000000'}, 'GBPAUD': {'b': '2.0542300000',...
2025-07-16 00:17:04,969 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:17:04,970 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.89752000, Current=0.89483, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-2.690000000000000000000000, PnL USD=-1.961871143719824379713231326, Commission=0.10000000, Final PnL=-2.061871143719824379713231326
2025-07-16 00:17:04,971 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:04,983 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:05,082 - WARNING - app - User 12 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:17:05,114 - WARNING - app - User 13 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:17:06,015 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:06,019 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:07,029 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:07,033 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:07,260 - DEBUG - app.firebase_stream - Firebase listener triggered (238). Event Type: patch, Path: /. Timestamp: 1752650227.2601535
2025-07-16 00:17:07,260 - DEBUG - app.firebase_stream - Prepared batch update for 26 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0254000000', 'o': '13.0228000000'}, 'NZDJPY': {'b': '88.4700000000', 'o': '88.4620000000'}, 'GBPAUD': {'b': '2.0542300000', 'o': '2.0540900000'}, 'USDJPY': {'b': '148.6920000000',
2025-07-16 00:17:07,261 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0254000000', 'o': '13.0228000000'}, 'NZDJPY': {'b': '88.4700000000', 'o': '88.4620000000'}, 'GBPAUD': {'b': '2.0542300000', 'o': '2.0540900000'}, 'USDJPY': {'b': '148.6920000000',...
2025-07-16 00:17:07,263 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:17:08,038 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:08,040 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:09,053 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:09,056 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:09,569 - DEBUG - app.firebase_stream - Firebase listener triggered (239). Event Type: patch, Path: /. Timestamp: 1752650229.5693288
2025-07-16 00:17:09,569 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0254300000', 'o': '13.0229000000'}, 'XAGUSD': {'b': '37.9330000000', 'o': '37.9260000000'}, 'NZDJPY': {'b': '88.4580000000', 'o': '88.4500000000'}, 'GBPAUD': {'b': '2.0544700000',
2025-07-16 00:17:09,570 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0254300000', 'o': '13.0229000000'}, 'XAGUSD': {'b': '37.9330000000', 'o': '37.9260000000'}, 'NZDJPY': {'b': '88.4580000000', 'o': '88.4500000000'}, 'GBPAUD': {'b': '2.0544700000',...
2025-07-16 00:17:09,571 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:17:10,067 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:10,071 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:11,085 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:11,088 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:11,888 - DEBUG - app.firebase_stream - Firebase listener triggered (240). Event Type: patch, Path: /. Timestamp: 1752650231.8885965
2025-07-16 00:17:11,888 - DEBUG - app.firebase_stream - Prepared batch update for 39 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0250000000', 'o': '13.0224000000'}, 'NZDJPY': {'b': '88.4700000000', 'o': '88.4620000000'}, 'GBPAUD': {'b': '2.0544000000', 'o': '2.0543200000'}, 'BTCUSD': {'b': '118064.600000000
2025-07-16 00:17:11,889 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0250000000', 'o': '13.0224000000'}, 'NZDJPY': {'b': '88.4700000000', 'o': '88.4620000000'}, 'GBPAUD': {'b': '2.0544000000', 'o': '2.0543200000'}, 'BTCUSD': {'b': '118064.600000000...
2025-07-16 00:17:11,891 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:17:12,090 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:12,093 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:13,104 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:13,107 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:14,122 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:14,126 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:14,204 - DEBUG - app.firebase_stream - Firebase listener triggered (241). Event Type: patch, Path: /. Timestamp: 1752650234.2045407
2025-07-16 00:17:14,205 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0253000000', 'o': '13.0227000000'}, 'NZDJPY': {'b': '88.4710000000', 'o': '88.4620000000'}, 'GBPAUD': {'b': '2.0541700000', 'o': '2.0540300000'}, 'BTCUSD': {'b': '118105.100000000
2025-07-16 00:17:14,205 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0253000000', 'o': '13.0227000000'}, 'NZDJPY': {'b': '88.4710000000', 'o': '88.4620000000'}, 'GBPAUD': {'b': '2.0541700000', 'o': '2.0540300000'}, 'BTCUSD': {'b': '118105.100000000...
2025-07-16 00:17:14,205 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:17:15,131 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:15,134 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:16,142 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:16,146 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:16,492 - DEBUG - app.firebase_stream - Firebase listener triggered (242). Event Type: patch, Path: /. Timestamp: 1752650236.4921627
2025-07-16 00:17:16,493 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0259000000', 'o': '13.0233000000'}, 'NZDJPY': {'b': '88.4720000000', 'o': '88.4640000000'}, 'GBPAUD': {'b': '2.0541800000', 'o': '2.0540700000'}, 'USDJPY': {'b': '148.6980000000',
2025-07-16 00:17:16,494 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0259000000', 'o': '13.0233000000'}, 'NZDJPY': {'b': '88.4720000000', 'o': '88.4640000000'}, 'GBPAUD': {'b': '2.0541800000', 'o': '2.0540700000'}, 'USDJPY': {'b': '148.6980000000',...
2025-07-16 00:17:16,495 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:17:17,158 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:17,163 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:18,181 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:18,184 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:18,775 - DEBUG - app.firebase_stream - Firebase listener triggered (243). Event Type: patch, Path: /. Timestamp: 1752650238.7749739
2025-07-16 00:17:18,775 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0264000000', 'o': '13.0238000000'}, 'NZDJPY': {'b': '88.4700000000', 'o': '88.4610000000'}, 'GBPAUD': {'b': '2.0542700000', 'o': '2.0541400000'}, 'BTCUSD': {'b': '118106.600000000
2025-07-16 00:17:18,776 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0264000000', 'o': '13.0238000000'}, 'NZDJPY': {'b': '88.4700000000', 'o': '88.4610000000'}, 'GBPAUD': {'b': '2.0542700000', 'o': '2.0541400000'}, 'BTCUSD': {'b': '118106.600000000...
2025-07-16 00:17:18,776 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:17:19,200 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:19,204 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:20,211 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:20,216 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:21,085 - DEBUG - app.firebase_stream - Firebase listener triggered (244). Event Type: patch, Path: /. Timestamp: 1752650241.0858047
2025-07-16 00:17:21,086 - DEBUG - app.firebase_stream - Prepared batch update for 25 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0266000000', 'o': '13.0240000000'}, 'XAGUSD': {'b': '37.9330000000', 'o': '37.9290000000'}, 'GBPAUD': {'b': '2.0542900000', 'o': '2.0541600000'}, 'BTCUSD': {'b': '118074.000000000
2025-07-16 00:17:21,087 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0266000000', 'o': '13.0240000000'}, 'XAGUSD': {'b': '37.9330000000', 'o': '37.9290000000'}, 'GBPAUD': {'b': '2.0542900000', 'o': '2.0541600000'}, 'BTCUSD': {'b': '118074.000000000...
2025-07-16 00:17:21,088 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:17:21,218 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:21,221 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:22,235 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:22,239 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:23,257 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:23,260 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:23,347 - DEBUG - app.firebase_stream - Firebase listener triggered (245). Event Type: patch, Path: /. Timestamp: 1752650243.3474805
2025-07-16 00:17:23,348 - DEBUG - app.firebase_stream - Prepared batch update for 26 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0256000000', 'o': '13.0230000000'}, 'XAGUSD': {'b': '37.9330000000', 'o': '37.9260000000'}, 'NZDJPY': {'b': '88.4670000000', 'o': '88.4610000000'}, 'GBPAUD': {'b': '2.0543000000',
2025-07-16 00:17:23,348 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0256000000', 'o': '13.0230000000'}, 'XAGUSD': {'b': '37.9330000000', 'o': '37.9260000000'}, 'NZDJPY': {'b': '88.4670000000', 'o': '88.4610000000'}, 'GBPAUD': {'b': '2.0543000000',...
2025-07-16 00:17:23,348 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:17:24,263 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:24,266 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:25,272 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:25,275 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:25,654 - DEBUG - app.firebase_stream - Firebase listener triggered (246). Event Type: patch, Path: /. Timestamp: 1752650245.654372
2025-07-16 00:17:25,654 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0265000000', 'o': '13.0239000000'}, 'XAGUSD': {'b': '37.9280000000', 'o': '37.9240000000'}, 'NZDJPY': {'b': '88.4700000000', 'o': '88.4610000000'}, 'GBPAUD': {'b': '2.0542800000',
2025-07-16 00:17:25,657 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0265000000', 'o': '13.0239000000'}, 'XAGUSD': {'b': '37.9280000000', 'o': '37.9240000000'}, 'NZDJPY': {'b': '88.4700000000', 'o': '88.4610000000'}, 'GBPAUD': {'b': '2.0542800000',...
2025-07-16 00:17:25,657 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:17:26,280 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:26,283 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:27,284 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:27,289 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:27,964 - DEBUG - app.firebase_stream - Firebase listener triggered (247). Event Type: patch, Path: /. Timestamp: 1752650247.9648893
2025-07-16 00:17:27,965 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0255600000', 'o': '13.0230000000'}, 'NZDJPY': {'b': '88.4660000000', 'o': '88.4580000000'}, 'GBPAUD': {'b': '2.0542900000', 'o': '2.0541300000'}, 'USDJPY': {'b': '148.6930000000',
2025-07-16 00:17:27,965 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0255600000', 'o': '13.0230000000'}, 'NZDJPY': {'b': '88.4660000000', 'o': '88.4580000000'}, 'GBPAUD': {'b': '2.0542900000', 'o': '2.0541300000'}, 'USDJPY': {'b': '148.6930000000',...
2025-07-16 00:17:27,966 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:17:28,294 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:28,297 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:29,308 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:29,312 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:30,256 - DEBUG - app.firebase_stream - Firebase listener triggered (248). Event Type: patch, Path: /. Timestamp: 1752650250.256015
2025-07-16 00:17:30,256 - DEBUG - app.firebase_stream - Prepared batch update for 22 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9320000000', 'o': '37.9280000000'}, 'NZDJPY': {'b': '88.4680000000', 'o': '88.4600000000'}, 'USDJPY': {'b': '148.6980000000', 'o': '148.6940000000'}, 'USDCNH': {'b': '7.1817100000
2025-07-16 00:17:30,257 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9320000000', 'o': '37.9280000000'}, 'NZDJPY': {'b': '88.4680000000', 'o': '88.4600000000'}, 'USDJPY': {'b': '148.6980000000', 'o': '148.6940000000'}, 'USDCNH': {'b': '7.1817100000...
2025-07-16 00:17:30,258 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:17:30,318 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:30,326 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:31,338 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:31,341 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:32,344 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:32,346 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:32,575 - DEBUG - app.firebase_stream - Firebase listener triggered (249). Event Type: patch, Path: /. Timestamp: 1752650252.5751176
2025-07-16 00:17:32,575 - DEBUG - app.firebase_stream - Prepared batch update for 30 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0267000000', 'o': '13.0241000000'}, 'XAGUSD': {'b': '37.9290000000', 'o': '37.9250000000'}, 'NZDJPY': {'b': '88.4680000000', 'o': '88.4610000000'}, 'GBPAUD': {'b': '2.0543000000',
2025-07-16 00:17:32,575 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0267000000', 'o': '13.0241000000'}, 'XAGUSD': {'b': '37.9290000000', 'o': '37.9250000000'}, 'NZDJPY': {'b': '88.4680000000', 'o': '88.4610000000'}, 'GBPAUD': {'b': '2.0543000000',...
2025-07-16 00:17:32,576 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:17:33,350 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:33,354 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:34,359 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:34,362 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:34,862 - DEBUG - app.firebase_stream - Firebase listener triggered (250). Event Type: patch, Path: /. Timestamp: 1752650254.86273
2025-07-16 00:17:34,863 - DEBUG - app.firebase_stream - Prepared batch update for 24 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9290000000', 'o': '37.9260000000'}, 'GBPAUD': {'b': '2.0542500000', 'o': '2.0541400000'}, 'EURZAR': {'b': '20.8086300000', 'o': '20.8023300000'}, 'AUDJPY': {'b': '97.0480000000', 
2025-07-16 00:17:34,864 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9290000000', 'o': '37.9260000000'}, 'GBPAUD': {'b': '2.0542500000', 'o': '2.0541400000'}, 'EURZAR': {'b': '20.8086300000', 'o': '20.8023300000'}, 'AUDJPY': {'b': '97.0480000000', ...
2025-07-16 00:17:34,866 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:17:35,365 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:35,369 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:36,379 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:36,382 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:37,159 - DEBUG - app.firebase_stream - Firebase listener triggered (251). Event Type: patch, Path: /. Timestamp: 1752650257.1596723
2025-07-16 00:17:37,160 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0268000000', 'o': '13.0242000000'}, 'XAGUSD': {'b': '37.9330000000', 'o': '37.9280000000'}, 'NZDJPY': {'b': '88.4670000000', 'o': '88.4640000000'}, 'GBPAUD': {'b': '2.0542700000',
2025-07-16 00:17:37,161 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0268000000', 'o': '13.0242000000'}, 'XAGUSD': {'b': '37.9330000000', 'o': '37.9280000000'}, 'NZDJPY': {'b': '88.4670000000', 'o': '88.4640000000'}, 'GBPAUD': {'b': '2.0542700000',...
2025-07-16 00:17:37,161 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:17:37,395 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:37,398 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:38,400 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:38,405 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:39,417 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:39,421 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:39,451 - DEBUG - app.firebase_stream - Firebase listener triggered (252). Event Type: patch, Path: /. Timestamp: 1752650259.4511733
2025-07-16 00:17:39,451 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0265000000', 'o': '13.0239200000'}, 'NZDJPY': {'b': '88.4690000000', 'o': '88.4660000000'}, 'GBPAUD': {'b': '2.0542500000', 'o': '2.0540900000'}, 'USDJPY': {'b': '148.7040000000',
2025-07-16 00:17:39,451 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0265000000', 'o': '13.0239200000'}, 'NZDJPY': {'b': '88.4690000000', 'o': '88.4660000000'}, 'GBPAUD': {'b': '2.0542500000', 'o': '2.0540900000'}, 'USDJPY': {'b': '148.7040000000',...
2025-07-16 00:17:39,452 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:17:40,431 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:40,433 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:41,449 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:41,453 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:41,804 - DEBUG - app.firebase_stream - Firebase listener triggered (253). Event Type: patch, Path: /. Timestamp: 1752650261.8048086
2025-07-16 00:17:41,805 - DEBUG - app.firebase_stream - Prepared batch update for 34 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0267000000', 'o': '13.0241000000'}, 'XAGUSD': {'b': '37.9330000000', 'o': '37.9290000000'}, 'NZDJPY': {'b': '88.4730000000', 'o': '88.4670000000'}, 'GBPAUD': {'b': '2.0542500000',
2025-07-16 00:17:41,806 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0267000000', 'o': '13.0241000000'}, 'XAGUSD': {'b': '37.9330000000', 'o': '37.9290000000'}, 'NZDJPY': {'b': '88.4730000000', 'o': '88.4670000000'}, 'GBPAUD': {'b': '2.0542500000',...
2025-07-16 00:17:41,807 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:17:42,471 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:42,474 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:43,478 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:43,480 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:44,057 - DEBUG - app.firebase_stream - Firebase listener triggered (254). Event Type: patch, Path: /. Timestamp: 1752650264.0578494
2025-07-16 00:17:44,058 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0253000000', 'o': '13.0227000000'}, 'NZDJPY': {'b': '88.4760000000', 'o': '88.4680000000'}, 'USDJPY': {'b': '148.7030000000', 'o': '148.7000000000'}, 'USDCNH': {'b': '7.1816000000
2025-07-16 00:17:44,059 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0253000000', 'o': '13.0227000000'}, 'NZDJPY': {'b': '88.4760000000', 'o': '88.4680000000'}, 'USDJPY': {'b': '148.7030000000', 'o': '148.7000000000'}, 'USDCNH': {'b': '7.1816000000...
2025-07-16 00:17:44,062 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:17:44,494 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:44,496 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:45,507 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:45,511 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:46,366 - DEBUG - app.firebase_stream - Firebase listener triggered (255). Event Type: patch, Path: /. Timestamp: 1752650266.3661637
2025-07-16 00:17:46,366 - DEBUG - app.firebase_stream - Prepared batch update for 37 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0268000000', 'o': '13.0242000000'}, 'XAGUSD': {'b': '37.9380000000', 'o': '37.9290000000'}, 'NZDJPY': {'b': '88.4770000000', 'o': '88.4690000000'}, 'GBPAUD': {'b': '2.0542100000',
2025-07-16 00:17:46,367 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0268000000', 'o': '13.0242000000'}, 'XAGUSD': {'b': '37.9380000000', 'o': '37.9290000000'}, 'NZDJPY': {'b': '88.4770000000', 'o': '88.4690000000'}, 'GBPAUD': {'b': '2.0542100000',...
2025-07-16 00:17:46,367 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:17:46,514 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:46,516 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:47,519 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:47,521 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:48,533 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:48,537 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:48,775 - DEBUG - app.firebase_stream - Firebase listener triggered (256). Event Type: patch, Path: /. Timestamp: 1752650268.7755167
2025-07-16 00:17:48,775 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0272000000', 'o': '13.0246000000'}, 'XAGUSD': {'b': '37.9390000000', 'o': '37.9310000000'}, 'NZDJPY': {'b': '88.4760000000', 'o': '88.4670000000'}, 'USDJPY': {'b': '148.7070000000
2025-07-16 00:17:48,776 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0272000000', 'o': '13.0246000000'}, 'XAGUSD': {'b': '37.9390000000', 'o': '37.9310000000'}, 'NZDJPY': {'b': '88.4760000000', 'o': '88.4670000000'}, 'USDJPY': {'b': '148.7070000000...
2025-07-16 00:17:48,778 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:17:49,553 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:49,557 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:50,565 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:50,567 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:50,968 - DEBUG - app.firebase_stream - Firebase listener triggered (257). Event Type: patch, Path: /. Timestamp: 1752650270.9689386
2025-07-16 00:17:50,969 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9330000000', 'o': '37.9260000000'}, 'NZDJPY': {'b': '88.4740000000', 'o': '88.4670000000'}, 'GBPAUD': {'b': '2.0541700000', 'o': '2.0540900000'}, 'BTCUSD': {'b': '118106.600000000
2025-07-16 00:17:50,970 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9330000000', 'o': '37.9260000000'}, 'NZDJPY': {'b': '88.4740000000', 'o': '88.4670000000'}, 'GBPAUD': {'b': '2.0541700000', 'o': '2.0540900000'}, 'BTCUSD': {'b': '118106.600000000...
2025-07-16 00:17:50,975 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:17:51,571 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:51,573 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:52,581 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:52,584 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:53,280 - DEBUG - app.firebase_stream - Firebase listener triggered (258). Event Type: patch, Path: /. Timestamp: 1752650273.2809358
2025-07-16 00:17:53,281 - DEBUG - app.firebase_stream - Prepared batch update for 37 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0271000000', 'o': '13.0245000000'}, 'XAGUSD': {'b': '37.9380000000', 'o': '37.9340000000'}, 'NZDJPY': {'b': '88.4740000000', 'o': '88.4650000000'}, 'GBPAUD': {'b': '2.0541400000',
2025-07-16 00:17:53,283 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0271000000', 'o': '13.0245000000'}, 'XAGUSD': {'b': '37.9380000000', 'o': '37.9340000000'}, 'NZDJPY': {'b': '88.4740000000', 'o': '88.4650000000'}, 'GBPAUD': {'b': '2.0541400000',...
2025-07-16 00:17:53,283 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:17:53,593 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:53,595 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:54,604 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:54,607 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:55,632 - DEBUG - app.firebase_stream - Firebase listener triggered (259). Event Type: patch, Path: /. Timestamp: 1752650275.6320417
2025-07-16 00:17:55,632 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:55,633 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0267400000', 'o': '13.0245000000'}, 'XAGUSD': {'b': '37.9380000000', 'o': '37.9330000000'}, 'NZDJPY': {'b': '88.4650000000', 'o': '88.4570000000'}, 'GBPAUD': {'b': '2.0541600000',
2025-07-16 00:17:55,635 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0267400000', 'o': '13.0245000000'}, 'XAGUSD': {'b': '37.9380000000', 'o': '37.9330000000'}, 'NZDJPY': {'b': '88.4650000000', 'o': '88.4570000000'}, 'GBPAUD': {'b': '2.0541600000',...
2025-07-16 00:17:55,635 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:17:55,636 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:56,659 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:56,662 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:57,666 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:57,669 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:57,975 - DEBUG - app.firebase_stream - Firebase listener triggered (260). Event Type: patch, Path: /. Timestamp: 1752650277.9757574
2025-07-16 00:17:57,976 - DEBUG - app.firebase_stream - Prepared batch update for 24 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0267000000', 'o': '13.0241000000'}, 'NZDJPY': {'b': '88.4730000000', 'o': '88.4640000000'}, 'GBPAUD': {'b': '2.0541100000', 'o': '2.0540100000'}, 'USDJPY': {'b': '148.6920000000',
2025-07-16 00:17:57,976 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0267000000', 'o': '13.0241000000'}, 'NZDJPY': {'b': '88.4730000000', 'o': '88.4640000000'}, 'GBPAUD': {'b': '2.0541100000', 'o': '2.0540100000'}, 'USDJPY': {'b': '148.6920000000',...
2025-07-16 00:17:57,976 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:17:58,671 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:58,674 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:59,677 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:59,681 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:00,220 - DEBUG - app.firebase_stream - Firebase listener triggered (261). Event Type: patch, Path: /. Timestamp: 1752650280.2205276
2025-07-16 00:18:00,221 - DEBUG - app.firebase_stream - Prepared batch update for 23 symbols from root path for queue. Preview: {'GBPAUD': {'b': '2.0541200000', 'o': '2.0540100000'}, 'USDJPY': {'b': '148.6900000000', 'o': '148.6870000000'}, 'CADCHF': {'b': '0.5839700000', 'o': '0.5839300000'}, 'USDSGD': {'b': '1.2842100000', '
2025-07-16 00:18:00,222 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPAUD': {'b': '2.0541200000', 'o': '2.0540100000'}, 'USDJPY': {'b': '148.6900000000', 'o': '148.6870000000'}, 'CADCHF': {'b': '0.5839700000', 'o': '0.5839300000'}, 'USDSGD': {'b': '1.2842100000', '...
2025-07-16 00:18:00,230 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:18:00,696 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:00,700 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:01,707 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:01,711 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:02,138 - WARNING - app - User 4 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:18:02,143 - WARNING - app - No user data found for user 5 (live). Skipping portfolio update.
2025-07-16 00:18:02,147 - WARNING - app - No group settings found for group string. Skipping portfolio update for user 8.
2025-07-16 00:18:02,161 - WARNING - app - User 9 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:18:02,175 - WARNING - app - User 10 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:18:02,189 - WARNING - app - User 11 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:18:02,198 - WARNING - app - User 12 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:18:02,213 - WARNING - app - User 13 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:18:02,497 - DEBUG - app.firebase_stream - Firebase listener triggered (262). Event Type: patch, Path: /. Timestamp: 1752650282.4978268
2025-07-16 00:18:02,498 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9380000000', 'o': '37.9320000000'}, 'NZDJPY': {'b': '88.4680000000', 'o': '88.4610000000'}, 'GBPAUD': {'b': '2.0541200000', 'o': '2.0540200000'}, 'USDJPY': {'b': '148.6900000000',
2025-07-16 00:18:02,498 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9380000000', 'o': '37.9320000000'}, 'NZDJPY': {'b': '88.4680000000', 'o': '88.4610000000'}, 'GBPAUD': {'b': '2.0541200000', 'o': '2.0540200000'}, 'USDJPY': {'b': '148.6900000000',...
2025-07-16 00:18:02,498 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:18:02,531 - DEBUG - app.services.portfolio_calculator - Position calculation for BTCUSD: Type=BUY, Entry=118908.50000000, Current=118061.7, Quantity=0.40000000, Contract Size=1.00000000, PnL=-338.720000000000000000000000, PnL USD=-338.720000000000000000000000, Commission=235.57000000, Final PnL=-574.290000000000000000000000
2025-07-16 00:18:02,532 - WARNING - app.services.portfolio_calculator - MARGIN CALL ALERT: User has margin level 98.99179961645934882990386013% which is below threshold 100.0%
2025-07-16 00:18:02,649 - WARNING - app - User 16 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:18:02,677 - WARNING - app - User 17 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:18:02,709 - WARNING - app - User 18 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:18:02,716 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:02,720 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:02,747 - WARNING - app - User 19 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:18:02,782 - WARNING - app - User 20 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:18:02,820 - WARNING - app - User 21 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:18:02,857 - WARNING - app - User 22 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:18:02,897 - WARNING - app - User 23 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:18:02,925 - WARNING - app - User 24 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:18:02,954 - WARNING - app - User 25 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:18:03,389 - DEBUG - app.services.portfolio_calculator - Position calculation for XAGUSD: Type=BUY, Entry=41.09800000, Current=37.9195, Quantity=0.01000000, Contract Size=5000.00000000, PnL=-158.925000000000000000000000, PnL USD=-158.925000000000000000000000, Commission=0.10000000, Final PnL=-159.025000000000000000000000
2025-07-16 00:18:03,389 - DEBUG - app.services.portfolio_calculator - Position calculation for BTCUSD: Type=BUY, Entry=132091.90000000, Current=118061.7, Quantity=6.00000000, Contract Size=1.00000000, PnL=-84181.20000000000000000000000, PnL USD=-84181.20000000000000000000000, Commission=3661.62000000, Final PnL=-87842.82000000000000000000000
2025-07-16 00:18:03,389 - WARNING - app.services.portfolio_calculator - MARGIN CALL ALERT: User has margin level 65.77077078546278660120079623% which is below threshold 100.0%
2025-07-16 00:18:04,212 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:04,213 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=96.66800000, Current=96.994, Quantity=0.01000000, Contract Size=100000.00000000, PnL=326.000000000000000000000000, PnL USD=2.192481000739794202703611541, Commission=0.10000000, Final PnL=2.092481000739794202703611541
2025-07-16 00:18:04,215 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=96.56000000, Current=97.1, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-540.000000000000000000000000, PnL USD=-3.631716995090456654785123411, Commission=0.10000000, Final PnL=-3.731716995090456654785123411
2025-07-16 00:18:04,216 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:04,219 - WARNING - app - User 2 has no group_name set. Skipping portfolio update.
2025-07-16 00:18:04,229 - WARNING - app - No group settings found for group string. Skipping portfolio update for user 3.
2025-07-16 00:18:04,257 - WARNING - app - User 4 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:18:04,258 - WARNING - app - User 5 has no group_name set. Skipping portfolio update.
2025-07-16 00:18:04,259 - WARNING - app - User 6 has no group_name set. Skipping portfolio update.
2025-07-16 00:18:04,618 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64743000, Current=0.65253, Quantity=0.10000000, Contract Size=100000.00000000, PnL=51.000000000000000000000000, PnL USD=51.000000000000000000000000, Commission=1.00000000, Final PnL=50.000000000000000000000000
2025-07-16 00:18:04,618 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=SELL, Entry=0.64707000, Current=0.65283, Quantity=0.22000000, Contract Size=100000.00000000, PnL=-126.720000000000000000000000, PnL USD=-126.720000000000000000000000, Commission=2.20000000, Final PnL=-128.920000000000000000000000
2025-07-16 00:18:04,619 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFSGD: Type=BUY, Entry=1.57561500, Current=1.6037750000000002, Quantity=0.10000000, Contract Size=100000.00000000, PnL=281.6000000000020000000000000, PnL USD=219.2787783929435216981646304, Commission=1.00000000, Final PnL=218.2787783929435216981646304
2025-07-16 00:18:04,620 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFSGD: Type=SELL, Entry=1.57505500, Current=1.604195, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-291.400000000000000000000000, PnL USD=-226.9099290614463366583346960, Commission=1.00000000, Final PnL=-227.9099290614463366583346960
2025-07-16 00:18:04,620 - DEBUG - app.services.portfolio_calculator - Position calculation for CADJPY: Type=SELL, Entry=106.24150000, Current=108.4615, Quantity=0.15000000, Contract Size=100000.00000000, PnL=-33300.00000000000000000000000, PnL USD=-223.9558813639114937117492770, Commission=0E-8, Final PnL=-223.9558813639114937117492770
2025-07-16 00:18:04,621 - DEBUG - app.services.portfolio_calculator - Position calculation for CADJPY: Type=BUY, Entry=106.27050000, Current=108.43249999999999, Quantity=0.15000000, Contract Size=100000.00000000, PnL=32429.99999999985000000000000, PnL USD=218.1047817607091936243190531, Commission=0E-8, Final PnL=218.1047817607091936243190531
2025-07-16 00:18:04,621 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=BUY, Entry=1.77481000, Current=1.7811199999999998, Quantity=0.22000000, Contract Size=100000.00000000, PnL=138.8199999999956000000000000, PnL USD=90.60503759999712820800000000, Commission=2.20000000, Final PnL=88.40503759999712820800000000
2025-07-16 00:18:04,621 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=SELL, Entry=1.77439000, Current=1.7815, Quantity=0.21000000, Contract Size=100000.00000000, PnL=-149.310000000000000000000000, PnL USD=-97.45165080000000000000000000, Commission=2.10000000, Final PnL=-99.55165080000000000000000000
2025-07-16 00:18:04,622 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFJPY: Type=BUY, Entry=178.15500000, Current=185.69500000000002, Quantity=0.10000000, Contract Size=100000.00000000, PnL=75400.00000000020000000000000, PnL USD=507.0952989441132557670320802, Commission=1.00000000, Final PnL=506.0952989441132557670320802
2025-07-16 00:18:04,623 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFJPY: Type=SELL, Entry=178.09500000, Current=185.74499999999998, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-76499.99999999980000000000000, PnL USD=-514.4932409711466810141905979, Commission=1.00000000, Final PnL=-515.4932409711466810141905979
2025-07-16 00:18:04,623 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=BUY, Entry=1.77480000, Current=1.7811199999999998, Quantity=0.05000000, Contract Size=100000.00000000, PnL=31.59999999999900000000000000, PnL USD=20.62468799999934732000000000, Commission=0.50000000, Final PnL=20.12468799999934732000000000
2025-07-16 00:18:04,623 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=SELL, Entry=1.77442000, Current=1.7815, Quantity=0.05000000, Contract Size=100000.00000000, PnL=-35.400000000000000000000000, PnL USD=-23.10487200000000000000000000, Commission=0.50000000, Final PnL=-23.60487200000000000000000000
2025-07-16 00:18:04,623 - DEBUG - app.services.portfolio_calculator - Position calculation for EURGBP: Type=SELL, Entry=0.85403000, Current=0.86739, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-133.600000000000000000000000, PnL USD=-179.1148480000000000000000000, Commission=1.00000000, Final PnL=-180.1148480000000000000000000
2025-07-16 00:18:04,624 - DEBUG - app.services.portfolio_calculator - Position calculation for EURJPY: Type=BUY, Entry=167.26050000, Current=172.85850000000002, Quantity=0.10000000, Contract Size=100000.00000000, PnL=55980.00000000020000000000000, PnL USD=376.4879951577120182930930123, Commission=1.00000000, Final PnL=375.4879951577120182930930123
2025-07-16 00:18:04,625 - DEBUG - app.services.portfolio_calculator - Position calculation for EURJPY: Type=SELL, Entry=167.23150000, Current=172.8885, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-56570.00000000000000000000000, PnL USD=-380.4559822449391351133230211, Commission=1.00000000, Final PnL=-381.4559822449391351133230211
2025-07-16 00:18:04,625 - DEBUG - app.services.portfolio_calculator - Position calculation for EURNZD: Type=SELL, Entry=1.91952500, Current=1.954315, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-347.900000000000000000000000, PnL USD=-206.9970210000000000000000000, Commission=1.00000000, Final PnL=-207.9970210000000000000000000
2025-07-16 00:18:04,625 - DEBUG - app.services.portfolio_calculator - Position calculation for EURNZD: Type=BUY, Entry=1.92063500, Current=1.953875, Quantity=0.10000000, Contract Size=100000.00000000, PnL=332.400000000000000000000000, PnL USD=197.7746760000000000000000000, Commission=1.00000000, Final PnL=196.7746760000000000000000000
2025-07-16 00:18:04,625 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=SELL, Entry=1.34376000, Current=1.34078, Quantity=0.25000000, Contract Size=0E-8, PnL=0E-24, PnL USD=0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:18:04,626 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=SELL, Entry=1.34361000, Current=1.34078, Quantity=0.25000000, Contract Size=0E-8, PnL=0E-24, PnL USD=0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:18:04,626 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=BUY, Entry=1.34379000, Current=1.34057, Quantity=0.25000000, Contract Size=0E-8, PnL=-0E-24, PnL USD=-0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:18:04,626 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=BUY, Entry=1.34378000, Current=1.34057, Quantity=0.25000000, Contract Size=0E-8, PnL=-0E-24, PnL USD=-0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:18:04,627 - DEBUG - app.services.portfolio_calculator - Position calculation for NZDJPY: Type=BUY, Entry=87.10150000, Current=88.4485, Quantity=0.01000000, Contract Size=100000.00000000, PnL=1347.000000000000000000000000, PnL USD=9.059116282197861322214002287, Commission=0.10000000, Final PnL=8.959116282197861322214002287
2025-07-16 00:18:04,627 - DEBUG - app.services.portfolio_calculator - Position calculation for USDCHF: Type=SELL, Entry=0.81771000, Current=0.8007799999999999, Quantity=0.15000000, Contract Size=100000.00000000, PnL=253.9500000000015000000000000, PnL USD=317.1877146746955522526010767, Commission=1.50000000, Final PnL=315.6877146746955522526010767
2025-07-16 00:18:04,628 - DEBUG - app.services.portfolio_calculator - Position calculation for USDCHF: Type=BUY, Entry=0.81805000, Current=0.80045, Quantity=0.15000000, Contract Size=100000.00000000, PnL=-264.000000000000000000000000, PnL USD=-329.7403294905262106091452981, Commission=1.50000000, Final PnL=-331.2403294905262106091452981
2025-07-16 00:18:04,628 - DEBUG - app.services.portfolio_calculator - Position calculation for USDNOK: Type=BUY, Entry=10.04973000, Current=10.25239, Quantity=0.10000000, Contract Size=100000.00000000, PnL=2026.600000000000000000000000, PnL USD=197.6567155590536743413962371, Commission=1.00000000, Final PnL=196.6567155590536743413962371
2025-07-16 00:18:04,629 - DEBUG - app.services.portfolio_calculator - Position calculation for USDNOK: Type=BUY, Entry=10.05023000, Current=10.25239, Quantity=0.10000000, Contract Size=100000.00000000, PnL=2021.600000000000000000000000, PnL USD=197.1690595944848061031119278, Commission=1.00000000, Final PnL=196.1690595944848061031119278
2025-07-16 00:18:04,630 - DEBUG - app.services.portfolio_calculator - Position calculation for USDSGD: Type=SELL, Entry=1.28795000, Current=1.2843600000000002, Quantity=0.31000000, Contract Size=100000.00000000, PnL=111.2899999999938000000000000, PnL USD=86.66028141814329432102226271, Commission=3.10000000, Final PnL=83.56028141814329432102226271
2025-07-16 00:18:04,630 - DEBUG - app.services.portfolio_calculator - Position calculation for USDTRY: Type=SELL, Entry=39.56087000, Current=40.25651, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-6956.400000000000000000000000, PnL USD=-172.8025087216032448040508382, Commission=1.00000000, Final PnL=-173.8025087216032448040508382
2025-07-16 00:18:04,775 - DEBUG - app.firebase_stream - Firebase listener triggered (263). Event Type: patch, Path: /. Timestamp: 1752650284.7755945
2025-07-16 00:18:04,776 - DEBUG - app.firebase_stream - Prepared batch update for 30 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0270000000', 'o': '13.0244000000'}, 'XAGUSD': {'b': '37.9380000000', 'o': '37.9330000000'}, 'NZDJPY': {'b': '88.4710000000', 'o': '88.4640000000'}, 'GBPAUD': {'b': '2.0541400000',
2025-07-16 00:18:04,776 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0270000000', 'o': '13.0244000000'}, 'XAGUSD': {'b': '37.9380000000', 'o': '37.9330000000'}, 'NZDJPY': {'b': '88.4710000000', 'o': '88.4640000000'}, 'GBPAUD': {'b': '2.0541400000',...
2025-07-16 00:18:04,776 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:18:05,542 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.89752000, Current=0.89486, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-2.660000000000000000000000, PnL USD=-1.940048136532710962001312815, Commission=0.10000000, Final PnL=-2.040048136532710962001312815
2025-07-16 00:18:05,543 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:05,547 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:05,572 - WARNING - app - User 12 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:18:05,597 - WARNING - app - User 13 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:18:06,563 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:06,567 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:07,072 - DEBUG - app.firebase_stream - Firebase listener triggered (264). Event Type: patch, Path: /. Timestamp: 1752650287.0726428
2025-07-16 00:18:07,073 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0265000000', 'o': '13.0239000000'}, 'NZDJPY': {'b': '88.4750000000', 'o': '88.4660000000'}, 'GBPAUD': {'b': '2.0541200000', 'o': '2.0539900000'}, 'USDJPY': {'b': '148.6870000000',
2025-07-16 00:18:07,074 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0265000000', 'o': '13.0239000000'}, 'NZDJPY': {'b': '88.4750000000', 'o': '88.4660000000'}, 'GBPAUD': {'b': '2.0541200000', 'o': '2.0539900000'}, 'USDJPY': {'b': '148.6870000000',...
2025-07-16 00:18:07,076 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:18:07,576 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:07,582 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:08,593 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:08,597 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:09,459 - DEBUG - app.firebase_stream - Firebase listener triggered (265). Event Type: patch, Path: /. Timestamp: 1752650289.4593434
2025-07-16 00:18:09,459 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0265000000', 'o': '13.0240000000'}, 'XAGUSD': {'b': '37.9380000000', 'o': '37.9320000000'}, 'NZDJPY': {'b': '88.4700000000', 'o': '88.4650000000'}, 'GBPAUD': {'b': '2.0541500000',
2025-07-16 00:18:09,460 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0265000000', 'o': '13.0240000000'}, 'XAGUSD': {'b': '37.9380000000', 'o': '37.9320000000'}, 'NZDJPY': {'b': '88.4700000000', 'o': '88.4650000000'}, 'GBPAUD': {'b': '2.0541500000',...
2025-07-16 00:18:09,460 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:18:09,599 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:09,602 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:10,607 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:10,612 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:11,628 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:11,633 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:11,666 - DEBUG - app.firebase_stream - Firebase listener triggered (266). Event Type: patch, Path: /. Timestamp: 1752650291.6666827
2025-07-16 00:18:11,667 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0265000000', 'o': '13.0241900000'}, 'NZDJPY': {'b': '88.4710000000', 'o': '88.4630000000'}, 'GBPAUD': {'b': '2.0542100000', 'o': '2.0540800000'}, 'USDJPY': {'b': '148.6870000000',
2025-07-16 00:18:11,668 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0265000000', 'o': '13.0241900000'}, 'NZDJPY': {'b': '88.4710000000', 'o': '88.4630000000'}, 'GBPAUD': {'b': '2.0542100000', 'o': '2.0540800000'}, 'USDJPY': {'b': '148.6870000000',...
2025-07-16 00:18:11,676 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:18:12,650 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:12,655 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:13,672 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:13,676 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:14,075 - DEBUG - app.firebase_stream - Firebase listener triggered (267). Event Type: patch, Path: /. Timestamp: 1752650294.075342
2025-07-16 00:18:14,075 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0269000000', 'o': '13.0243000000'}, 'XAGUSD': {'b': '37.9330000000', 'o': '37.9260000000'}, 'NZDJPY': {'b': '88.4760000000', 'o': '88.4680000000'}, 'GBPAUD': {'b': '2.0542700000',
2025-07-16 00:18:14,077 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0269000000', 'o': '13.0243000000'}, 'XAGUSD': {'b': '37.9330000000', 'o': '37.9260000000'}, 'NZDJPY': {'b': '88.4760000000', 'o': '88.4680000000'}, 'GBPAUD': {'b': '2.0542700000',...
2025-07-16 00:18:14,079 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:18:14,693 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:14,697 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:15,702 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:15,706 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:16,314 - DEBUG - app.firebase_stream - Firebase listener triggered (268). Event Type: patch, Path: /. Timestamp: 1752650296.3142757
2025-07-16 00:18:16,314 - DEBUG - app.firebase_stream - Prepared batch update for 27 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0275000000', 'o': '13.0249000000'}, 'XAGUSD': {'b': '37.9240000000', 'o': '37.9200000000'}, 'NZDJPY': {'b': '88.4740000000', 'o': '88.4650000000'}, 'GBPAUD': {'b': '2.0543000000',
2025-07-16 00:18:16,318 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0275000000', 'o': '13.0249000000'}, 'XAGUSD': {'b': '37.9240000000', 'o': '37.9200000000'}, 'NZDJPY': {'b': '88.4740000000', 'o': '88.4650000000'}, 'GBPAUD': {'b': '2.0543000000',...
2025-07-16 00:18:16,318 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:18:16,713 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:16,718 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:17,722 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:17,726 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:18,569 - DEBUG - app.firebase_stream - Firebase listener triggered (269). Event Type: patch, Path: /. Timestamp: 1752650298.5694802
2025-07-16 00:18:18,570 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0276000000', 'o': '13.0250000000'}, 'XAGUSD': {'b': '37.9240000000', 'o': '37.9190000000'}, 'NZDJPY': {'b': '88.4710000000', 'o': '88.4640000000'}, 'GBPAUD': {'b': '2.0543200000',
2025-07-16 00:18:18,571 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0276000000', 'o': '13.0250000000'}, 'XAGUSD': {'b': '37.9240000000', 'o': '37.9190000000'}, 'NZDJPY': {'b': '88.4710000000', 'o': '88.4640000000'}, 'GBPAUD': {'b': '2.0543200000',...
2025-07-16 00:18:18,573 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:18:18,728 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:18,731 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:19,742 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:19,746 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:20,754 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:20,757 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:20,837 - DEBUG - app.firebase_stream - Firebase listener triggered (270). Event Type: patch, Path: /. Timestamp: 1752650300.8373895
2025-07-16 00:18:20,837 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0272000000', 'o': '13.0246000000'}, 'XAGUSD': {'b': '37.9280000000', 'o': '37.9210000000'}, 'NZDJPY': {'b': '88.4720000000', 'o': '88.4630000000'}, 'GBPAUD': {'b': '2.0542300000',
2025-07-16 00:18:20,841 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0272000000', 'o': '13.0246000000'}, 'XAGUSD': {'b': '37.9280000000', 'o': '37.9210000000'}, 'NZDJPY': {'b': '88.4720000000', 'o': '88.4630000000'}, 'GBPAUD': {'b': '2.0542300000',...
2025-07-16 00:18:20,841 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:18:21,773 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:21,777 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:22,779 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:22,783 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:23,135 - DEBUG - app.firebase_stream - Firebase listener triggered (271). Event Type: patch, Path: /. Timestamp: 1752650303.1349473
2025-07-16 00:18:23,135 - DEBUG - app.firebase_stream - Prepared batch update for 24 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4710000000', 'o': '88.4630000000'}, 'GBPAUD': {'b': '2.0542900000', 'o': '2.0541400000'}, 'USDJPY': {'b': '148.6830000000', 'o': '148.6790000000'}, 'EURZAR': {'b': '20.8086500000'
2025-07-16 00:18:23,136 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4710000000', 'o': '88.4630000000'}, 'GBPAUD': {'b': '2.0542900000', 'o': '2.0541400000'}, 'USDJPY': {'b': '148.6830000000', 'o': '148.6790000000'}, 'EURZAR': {'b': '20.8086500000'...
2025-07-16 00:18:23,137 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:18:23,790 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:23,793 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:24,798 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:24,802 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:25,453 - DEBUG - app.firebase_stream - Firebase listener triggered (272). Event Type: patch, Path: /. Timestamp: 1752650305.4533722
2025-07-16 00:18:25,453 - DEBUG - app.firebase_stream - Prepared batch update for 37 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0271000000', 'o': '13.0245000000'}, 'NZDJPY': {'b': '88.4740000000', 'o': '88.4650000000'}, 'GBPAUD': {'b': '2.0542900000', 'o': '2.0541300000'}, 'USDJPY': {'b': '148.6950000000',
2025-07-16 00:18:25,454 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0271000000', 'o': '13.0245000000'}, 'NZDJPY': {'b': '88.4740000000', 'o': '88.4650000000'}, 'GBPAUD': {'b': '2.0542900000', 'o': '2.0541300000'}, 'USDJPY': {'b': '148.6950000000',...
2025-07-16 00:18:25,462 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:18:25,818 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:25,823 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:26,827 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:26,829 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:26,935 - INFO - app - Starting cache validation task
2025-07-16 00:18:26,944 - INFO - app - Validating cache for 31 users
2025-07-16 00:18:26,945 - WARNING - app - User 4: Missing balance/margin cache, refreshing...
2025-07-16 00:18:26,954 - WARNING - app - User 5: Missing balance/margin cache, refreshing...
2025-07-16 00:18:26,957 - WARNING - app - User 8: Missing balance/margin cache, refreshing...
2025-07-16 00:18:26,964 - WARNING - app - User 9: Missing balance/margin cache, refreshing...
2025-07-16 00:18:26,969 - WARNING - app - User 10: Missing balance/margin cache, refreshing...
2025-07-16 00:18:26,975 - WARNING - app - User 11: Missing balance/margin cache, refreshing...
2025-07-16 00:18:26,983 - WARNING - app - User 12: Missing balance/margin cache, refreshing...
2025-07-16 00:18:26,990 - WARNING - app - User 13: Missing balance/margin cache, refreshing...
2025-07-16 00:18:26,996 - WARNING - app - User 14: Missing balance/margin cache, refreshing...
2025-07-16 00:18:27,003 - WARNING - app - User 16: Missing balance/margin cache, refreshing...
2025-07-16 00:18:27,010 - WARNING - app - User 17: Missing balance/margin cache, refreshing...
2025-07-16 00:18:27,017 - WARNING - app - User 18: Missing balance/margin cache, refreshing...
2025-07-16 00:18:27,022 - WARNING - app - User 19: Missing balance/margin cache, refreshing...
2025-07-16 00:18:27,029 - WARNING - app - User 20: Missing balance/margin cache, refreshing...
2025-07-16 00:18:27,035 - WARNING - app - User 21: Missing balance/margin cache, refreshing...
2025-07-16 00:18:27,040 - WARNING - app - User 22: Missing balance/margin cache, refreshing...
2025-07-16 00:18:27,046 - WARNING - app - User 23: Missing balance/margin cache, refreshing...
2025-07-16 00:18:27,053 - WARNING - app - User 24: Missing balance/margin cache, refreshing...
2025-07-16 00:18:27,058 - WARNING - app - User 25: Missing balance/margin cache, refreshing...
2025-07-16 00:18:27,063 - WARNING - app - User 26: Missing balance/margin cache, refreshing...
2025-07-16 00:18:27,069 - WARNING - app - User 1: Missing balance/margin cache, refreshing...
2025-07-16 00:18:27,075 - WARNING - app - User 2: Missing balance/margin cache, refreshing...
2025-07-16 00:18:27,079 - WARNING - app - User 3: Missing balance/margin cache, refreshing...
2025-07-16 00:18:27,083 - WARNING - app - User 5: Missing balance/margin cache, refreshing...
2025-07-16 00:18:27,088 - WARNING - app - User 6: Missing balance/margin cache, refreshing...
2025-07-16 00:18:27,095 - INFO - app - Cache validation completed
2025-07-16 00:18:27,778 - DEBUG - app.firebase_stream - Firebase listener triggered (273). Event Type: patch, Path: /. Timestamp: 1752650307.7785962
2025-07-16 00:18:27,778 - DEBUG - app.firebase_stream - Prepared batch update for 30 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9280000000', 'o': '37.9220000000'}, 'NZDJPY': {'b': '88.4700000000', 'o': '88.4610000000'}, 'GBPAUD': {'b': '2.0542900000', 'o': '2.0542400000'}, 'USDJPY': {'b': '148.6800000000',
2025-07-16 00:18:27,779 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9280000000', 'o': '37.9220000000'}, 'NZDJPY': {'b': '88.4700000000', 'o': '88.4610000000'}, 'GBPAUD': {'b': '2.0542900000', 'o': '2.0542400000'}, 'USDJPY': {'b': '148.6800000000',...
2025-07-16 00:18:27,779 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:18:27,835 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:27,842 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:28,856 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:28,860 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:29,877 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:29,881 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:30,059 - DEBUG - app.firebase_stream - Firebase listener triggered (274). Event Type: patch, Path: /. Timestamp: 1752650310.0595145
2025-07-16 00:18:30,060 - DEBUG - app.firebase_stream - Prepared batch update for 34 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0273100000', 'o': '13.0248000000'}, 'NZDJPY': {'b': '88.4680000000', 'o': '88.4590000000'}, 'GBPAUD': {'b': '2.0544100000', 'o': '2.0542700000'}, 'USDJPY': {'b': '148.6790000000',
2025-07-16 00:18:30,060 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0273100000', 'o': '13.0248000000'}, 'NZDJPY': {'b': '88.4680000000', 'o': '88.4590000000'}, 'GBPAUD': {'b': '2.0544100000', 'o': '2.0542700000'}, 'USDJPY': {'b': '148.6790000000',...
2025-07-16 00:18:30,060 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:18:30,899 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:30,903 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:31,907 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:31,911 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:32,795 - DEBUG - app.firebase_stream - Firebase listener triggered (275). Event Type: patch, Path: /. Timestamp: 1752650312.7953112
2025-07-16 00:18:32,795 - DEBUG - app.firebase_stream - Prepared batch update for 38 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0267000000', 'o': '13.0241000000'}, 'NZDJPY': {'b': '88.4670000000', 'o': '88.4580000000'}, 'GBPAUD': {'b': '2.0544200000', 'o': '2.0543400000'}, 'USDJPY': {'b': '148.6900000000',
2025-07-16 00:18:32,795 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0267000000', 'o': '13.0241000000'}, 'NZDJPY': {'b': '88.4670000000', 'o': '88.4580000000'}, 'GBPAUD': {'b': '2.0544200000', 'o': '2.0543400000'}, 'USDJPY': {'b': '148.6900000000',...
2025-07-16 00:18:32,796 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:18:32,927 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:32,937 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:33,950 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:33,954 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:34,654 - DEBUG - app.firebase_stream - Firebase listener triggered (276). Event Type: patch, Path: /. Timestamp: 1752650314.6539912
2025-07-16 00:18:34,654 - DEBUG - app.firebase_stream - Prepared batch update for 37 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0270000000', 'o': '13.0244000000'}, 'NZDJPY': {'b': '88.4710000000', 'o': '88.4650000000'}, 'GBPAUD': {'b': '2.0545000000', 'o': '2.0543400000'}, 'BTCUSD': {'b': '118110.100000000
2025-07-16 00:18:34,655 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0270000000', 'o': '13.0244000000'}, 'NZDJPY': {'b': '88.4710000000', 'o': '88.4650000000'}, 'GBPAUD': {'b': '2.0545000000', 'o': '2.0543400000'}, 'BTCUSD': {'b': '118110.100000000...
2025-07-16 00:18:34,658 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:18:34,969 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:34,973 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:35,974 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:35,976 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:36,950 - DEBUG - app.firebase_stream - Firebase listener triggered (277). Event Type: patch, Path: /. Timestamp: 1752650316.950745
2025-07-16 00:18:36,951 - DEBUG - app.firebase_stream - Prepared batch update for 35 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0286700000', 'o': '13.0262000000'}, 'XAGUSD': {'b': '37.9330000000', 'o': '37.9260000000'}, 'NZDJPY': {'b': '88.4710000000', 'o': '88.4620000000'}, 'GBPAUD': {'b': '2.0545000000',
2025-07-16 00:18:36,951 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0286700000', 'o': '13.0262000000'}, 'XAGUSD': {'b': '37.9330000000', 'o': '37.9260000000'}, 'NZDJPY': {'b': '88.4710000000', 'o': '88.4620000000'}, 'GBPAUD': {'b': '2.0545000000',...
2025-07-16 00:18:36,951 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:18:36,979 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:36,992 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:38,008 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:38,011 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:39,019 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:39,022 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:39,249 - DEBUG - app.firebase_stream - Firebase listener triggered (278). Event Type: patch, Path: /. Timestamp: 1752650319.2496214
2025-07-16 00:18:39,249 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0285000000', 'o': '13.0259000000'}, 'XAGUSD': {'b': '37.9340000000', 'o': '37.9250000000'}, 'GBPAUD': {'b': '2.0545400000', 'o': '2.0543900000'}, 'BTCUSD': {'b': '118110.100000000
2025-07-16 00:18:39,250 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0285000000', 'o': '13.0259000000'}, 'XAGUSD': {'b': '37.9340000000', 'o': '37.9250000000'}, 'GBPAUD': {'b': '2.0545400000', 'o': '2.0543900000'}, 'BTCUSD': {'b': '118110.100000000...
2025-07-16 00:18:39,250 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:18:40,024 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:40,027 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:41,033 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:41,037 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:41,603 - DEBUG - app.firebase_stream - Firebase listener triggered (279). Event Type: patch, Path: /. Timestamp: 1752650321.6032069
2025-07-16 00:18:41,603 - DEBUG - app.firebase_stream - Prepared batch update for 38 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0288000000', 'o': '13.0262000000'}, 'XAGUSD': {'b': '37.9330000000', 'o': '37.9250000000'}, 'NZDJPY': {'b': '88.4700000000', 'o': '88.4630000000'}, 'GBPAUD': {'b': '2.0545800000',
2025-07-16 00:18:41,603 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0288000000', 'o': '13.0262000000'}, 'XAGUSD': {'b': '37.9330000000', 'o': '37.9250000000'}, 'NZDJPY': {'b': '88.4700000000', 'o': '88.4630000000'}, 'GBPAUD': {'b': '2.0545800000',...
2025-07-16 00:18:41,604 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:18:42,043 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:42,047 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:43,063 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:43,066 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:43,949 - DEBUG - app.firebase_stream - Firebase listener triggered (280). Event Type: patch, Path: /. Timestamp: 1752650323.9494202
2025-07-16 00:18:43,949 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0289000000', 'o': '13.0263000000'}, 'XAGUSD': {'b': '37.9320000000', 'o': '37.9260000000'}, 'NZDJPY': {'b': '88.4700000000', 'o': '88.4620000000'}, 'GBPAUD': {'b': '2.0545500000',
2025-07-16 00:18:43,949 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0289000000', 'o': '13.0263000000'}, 'XAGUSD': {'b': '37.9320000000', 'o': '37.9260000000'}, 'NZDJPY': {'b': '88.4700000000', 'o': '88.4620000000'}, 'GBPAUD': {'b': '2.0545500000',...
2025-07-16 00:18:43,949 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:18:44,084 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:44,087 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:45,094 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:45,096 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:46,109 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:46,114 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:46,206 - DEBUG - app.firebase_stream - Firebase listener triggered (281). Event Type: patch, Path: /. Timestamp: 1752650326.2063732
2025-07-16 00:18:46,206 - DEBUG - app.firebase_stream - Prepared batch update for 30 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4690000000', 'o': '88.4620000000'}, 'GBPAUD': {'b': '2.0545500000', 'o': '2.0543800000'}, 'USDJPY': {'b': '148.6800000000', 'o': '148.6760000000'}, 'USDCNH': {'b': '7.1816200000',
2025-07-16 00:18:46,206 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4690000000', 'o': '88.4620000000'}, 'GBPAUD': {'b': '2.0545500000', 'o': '2.0543800000'}, 'USDJPY': {'b': '148.6800000000', 'o': '148.6760000000'}, 'USDCNH': {'b': '7.1816200000',...
2025-07-16 00:18:46,206 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:18:47,122 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:47,126 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:48,128 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:48,132 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:48,557 - DEBUG - app.firebase_stream - Firebase listener triggered (282). Event Type: patch, Path: /. Timestamp: 1752650328.5575156
2025-07-16 00:18:48,557 - DEBUG - app.firebase_stream - Prepared batch update for 24 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4710000000', 'o': '88.4630000000'}, 'GBPAUD': {'b': '2.0545200000', 'o': '2.0543800000'}, 'USDJPY': {'b': '148.6810000000', 'o': '148.6760000000'}, 'USDSGD': {'b': '1.2841500000',
2025-07-16 00:18:48,557 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4710000000', 'o': '88.4630000000'}, 'GBPAUD': {'b': '2.0545200000', 'o': '2.0543800000'}, 'USDJPY': {'b': '148.6810000000', 'o': '148.6760000000'}, 'USDSGD': {'b': '1.2841500000',...
2025-07-16 00:18:48,557 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:18:49,149 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:49,153 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:50,157 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:50,161 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:50,808 - DEBUG - app.firebase_stream - Firebase listener triggered (283). Event Type: patch, Path: /. Timestamp: 1752650330.8087046
2025-07-16 00:18:50,808 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0292200000', 'o': '13.0269000000'}, 'XAGUSD': {'b': '37.9340000000', 'o': '37.9270000000'}, 'NZDJPY': {'b': '88.4680000000', 'o': '88.4610000000'}, 'GBPAUD': {'b': '2.0545000000',
2025-07-16 00:18:50,809 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0292200000', 'o': '13.0269000000'}, 'XAGUSD': {'b': '37.9340000000', 'o': '37.9270000000'}, 'NZDJPY': {'b': '88.4680000000', 'o': '88.4610000000'}, 'GBPAUD': {'b': '2.0545000000',...
2025-07-16 00:18:50,809 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:18:51,166 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:51,170 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:52,187 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:52,191 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:53,168 - DEBUG - app.firebase_stream - Firebase listener triggered (284). Event Type: patch, Path: /. Timestamp: 1752650333.1680343
2025-07-16 00:18:53,168 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0292200000', 'o': '13.0268000000'}, 'XAGUSD': {'b': '37.9290000000', 'o': '37.9210000000'}, 'NZDJPY': {'b': '88.4690000000', 'o': '88.4610000000'}, 'GBPAUD': {'b': '2.0544800000',
2025-07-16 00:18:53,168 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0292200000', 'o': '13.0268000000'}, 'XAGUSD': {'b': '37.9290000000', 'o': '37.9210000000'}, 'NZDJPY': {'b': '88.4690000000', 'o': '88.4610000000'}, 'GBPAUD': {'b': '2.0544800000',...
2025-07-16 00:18:53,168 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:18:53,193 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:53,195 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:54,200 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:54,204 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:55,208 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:55,212 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:55,420 - DEBUG - app.firebase_stream - Firebase listener triggered (285). Event Type: patch, Path: /. Timestamp: 1752650335.420624
2025-07-16 00:18:55,420 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0294000000', 'o': '13.0268000000'}, 'XAGUSD': {'b': '37.9350000000', 'o': '37.9270000000'}, 'GBPAUD': {'b': '2.0544600000', 'o': '2.0543400000'}, 'USDJPY': {'b': '148.6820000000',
2025-07-16 00:18:55,421 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0294000000', 'o': '13.0268000000'}, 'XAGUSD': {'b': '37.9350000000', 'o': '37.9270000000'}, 'GBPAUD': {'b': '2.0544600000', 'o': '2.0543400000'}, 'USDJPY': {'b': '148.6820000000',...
2025-07-16 00:18:55,421 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:18:56,222 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:56,225 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:57,228 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:57,232 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:57,770 - DEBUG - app.firebase_stream - Firebase listener triggered (286). Event Type: patch, Path: /. Timestamp: 1752650337.7705903
2025-07-16 00:18:57,770 - DEBUG - app.firebase_stream - Prepared batch update for 30 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9340000000', 'o': '37.9280000000'}, 'USDJPY': {'b': '148.6810000000', 'o': '148.6780000000'}, 'USDCNH': {'b': '7.1816100000', 'o': '7.1815300000'}, 'CADCHF': {'b': '0.5839700000',
2025-07-16 00:18:57,770 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9340000000', 'o': '37.9280000000'}, 'USDJPY': {'b': '148.6810000000', 'o': '148.6780000000'}, 'USDCNH': {'b': '7.1816100000', 'o': '7.1815300000'}, 'CADCHF': {'b': '0.5839700000',...
2025-07-16 00:18:57,771 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:18:58,245 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:58,248 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:59,262 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:59,266 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:00,024 - DEBUG - app.firebase_stream - Firebase listener triggered (287). Event Type: patch, Path: /. Timestamp: 1752650340.0242445
2025-07-16 00:19:00,024 - DEBUG - app.firebase_stream - Prepared batch update for 22 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4680000000', 'o': '88.4600000000'}, 'GBPAUD': {'b': '2.0544800000', 'o': '2.0543200000'}, 'USDJPY': {'b': '148.6810000000', 'o': '148.6770000000'}, 'USDCNH': {'b': '7.1816200000',
2025-07-16 00:19:00,024 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4680000000', 'o': '88.4600000000'}, 'GBPAUD': {'b': '2.0544800000', 'o': '2.0543200000'}, 'USDJPY': {'b': '148.6810000000', 'o': '148.6770000000'}, 'USDCNH': {'b': '7.1816200000',...
2025-07-16 00:19:00,024 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:19:00,278 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:00,284 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:01,301 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:01,304 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:02,130 - WARNING - app - User 4 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:19:02,133 - WARNING - app - No user data found for user 5 (live). Skipping portfolio update.
2025-07-16 00:19:02,136 - WARNING - app - No group settings found for group string. Skipping portfolio update for user 8.
2025-07-16 00:19:02,145 - WARNING - app - User 9 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:19:02,153 - WARNING - app - User 10 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:19:02,162 - WARNING - app - User 11 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:19:02,170 - WARNING - app - User 12 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:19:02,179 - WARNING - app - User 13 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:19:02,498 - DEBUG - app.firebase_stream - Firebase listener triggered (288). Event Type: patch, Path: /. Timestamp: 1752650342.4985316
2025-07-16 00:19:02,498 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0293000000', 'o': '13.0267000000'}, 'XAGUSD': {'b': '37.9390000000', 'o': '37.9290000000'}, 'GBPAUD': {'b': '2.0544400000', 'o': '2.0543100000'}, 'USDJPY': {'b': '148.6800000000',
2025-07-16 00:19:02,499 - DEBUG - app.services.portfolio_calculator - Position calculation for BTCUSD: Type=BUY, Entry=118908.50000000, Current=118060.0, Quantity=0.40000000, Contract Size=1.00000000, PnL=-339.400000000000000000000000, PnL USD=-339.400000000000000000000000, Commission=235.57000000, Final PnL=-574.970000000000000000000000
2025-07-16 00:19:02,499 - WARNING - app.services.portfolio_calculator - MARGIN CALL ALERT: User has margin level 98.98458302424032101100211934% which is below threshold 100.0%
2025-07-16 00:19:02,499 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0293000000', 'o': '13.0267000000'}, 'XAGUSD': {'b': '37.9390000000', 'o': '37.9290000000'}, 'GBPAUD': {'b': '2.0544400000', 'o': '2.0543100000'}, 'USDJPY': {'b': '148.6800000000',...
2025-07-16 00:19:02,499 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:19:02,500 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:02,504 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:02,530 - WARNING - app - User 16 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:19:02,540 - WARNING - app - User 17 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:19:02,549 - WARNING - app - User 18 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:19:02,558 - WARNING - app - User 19 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:19:02,567 - WARNING - app - User 20 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:19:02,577 - WARNING - app - User 21 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:19:02,590 - WARNING - app - User 22 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:19:02,602 - WARNING - app - User 23 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:19:02,612 - WARNING - app - User 24 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:19:02,624 - WARNING - app - User 25 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:19:02,986 - DEBUG - app.services.portfolio_calculator - Position calculation for XAGUSD: Type=BUY, Entry=41.09800000, Current=37.9165, Quantity=0.01000000, Contract Size=5000.00000000, PnL=-159.075000000000000000000000, PnL USD=-159.075000000000000000000000, Commission=0.10000000, Final PnL=-159.175000000000000000000000
2025-07-16 00:19:02,987 - DEBUG - app.services.portfolio_calculator - Position calculation for BTCUSD: Type=BUY, Entry=132091.90000000, Current=118060.0, Quantity=6.00000000, Contract Size=1.00000000, PnL=-84191.40000000000000000000000, PnL USD=-84191.40000000000000000000000, Commission=3661.62000000, Final PnL=-87853.02000000000000000000000
2025-07-16 00:19:02,987 - WARNING - app.services.portfolio_calculator - MARGIN CALL ALERT: User has margin level 65.76370519004506074944326863% which is below threshold 100.0%
2025-07-16 00:19:03,601 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:03,603 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=96.66800000, Current=96.988, Quantity=0.01000000, Contract Size=100000.00000000, PnL=320.000000000000000000000000, PnL USD=2.152273338714016680118375034, Commission=0.10000000, Final PnL=2.052273338714016680118375034
2025-07-16 00:19:03,604 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=96.56000000, Current=97.093, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-533.000000000000000000000000, PnL USD=-3.584880279795534032822168415, Commission=0.10000000, Final PnL=-3.684880279795534032822168415
2025-07-16 00:19:03,605 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:03,607 - WARNING - app - User 2 has no group_name set. Skipping portfolio update.
2025-07-16 00:19:03,614 - WARNING - app - No group settings found for group string. Skipping portfolio update for user 3.
2025-07-16 00:19:03,626 - WARNING - app - User 4 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:19:03,626 - WARNING - app - User 5 has no group_name set. Skipping portfolio update.
2025-07-16 00:19:03,626 - WARNING - app - User 6 has no group_name set. Skipping portfolio update.
2025-07-16 00:19:04,011 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64743000, Current=0.65255, Quantity=0.10000000, Contract Size=100000.00000000, PnL=51.200000000000000000000000, PnL USD=51.200000000000000000000000, Commission=1.00000000, Final PnL=50.200000000000000000000000
2025-07-16 00:19:04,011 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=SELL, Entry=0.64707000, Current=0.6528499999999999, Quantity=0.22000000, Contract Size=100000.00000000, PnL=-127.1599999999978000000000000, PnL USD=-127.1599999999978000000000000, Commission=2.20000000, Final PnL=-129.3599999999978000000000000
2025-07-16 00:19:04,013 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFSGD: Type=BUY, Entry=1.57561500, Current=1.6037750000000002, Quantity=0.10000000, Contract Size=100000.00000000, PnL=281.6000000000020000000000000, PnL USD=219.2890238679297589845423042, Commission=1.00000000, Final PnL=218.2890238679297589845423042
2025-07-16 00:19:04,014 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFSGD: Type=SELL, Entry=1.57505500, Current=1.604175, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-291.200000000000000000000000, PnL USD=-226.7647860452439356772962660, Commission=1.00000000, Final PnL=-227.7647860452439356772962660
2025-07-16 00:19:04,014 - DEBUG - app.services.portfolio_calculator - Position calculation for CADJPY: Type=SELL, Entry=106.24150000, Current=108.4605, Quantity=0.15000000, Contract Size=100000.00000000, PnL=-33285.00000000000000000000000, PnL USD=-223.8700564971751412429378531, Commission=0E-8, Final PnL=-223.8700564971751412429378531
2025-07-16 00:19:04,015 - DEBUG - app.services.portfolio_calculator - Position calculation for CADJPY: Type=BUY, Entry=106.27050000, Current=108.4305, Quantity=0.15000000, Contract Size=100000.00000000, PnL=32400.00000000000000000000000, PnL USD=217.9176755447941888619854722, Commission=0E-8, Final PnL=217.9176755447941888619854722
2025-07-16 00:19:04,015 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=BUY, Entry=1.77481000, Current=1.78114, Quantity=0.22000000, Contract Size=100000.00000000, PnL=139.260000000000000000000000, PnL USD=90.89500200000000000000000000, Commission=2.20000000, Final PnL=88.69500200000000000000000000
2025-07-16 00:19:04,015 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=SELL, Entry=1.77439000, Current=1.7815100000000001, Quantity=0.21000000, Contract Size=100000.00000000, PnL=-149.5200000000021000000000000, PnL USD=-97.59170400000137067000000000, Commission=2.10000000, Final PnL=-99.69170400000137067000000000
2025-07-16 00:19:04,016 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFJPY: Type=BUY, Entry=178.15500000, Current=185.685, Quantity=0.10000000, Contract Size=100000.00000000, PnL=75300.00000000000000000000000, PnL USD=506.4568200161420500403551251, Commission=1.00000000, Final PnL=505.4568200161420500403551251
2025-07-16 00:19:04,016 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFJPY: Type=SELL, Entry=178.09500000, Current=185.73499999999999, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-76399.99999999990000000000000, PnL USD=-513.8552596179708097928436911, Commission=1.00000000, Final PnL=-514.8552596179708097928436911
2025-07-16 00:19:04,017 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=BUY, Entry=1.77480000, Current=1.78114, Quantity=0.05000000, Contract Size=100000.00000000, PnL=31.700000000000000000000000, PnL USD=20.69059000000000000000000000, Commission=0.50000000, Final PnL=20.19059000000000000000000000
2025-07-16 00:19:04,017 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=SELL, Entry=1.77442000, Current=1.7815100000000001, Quantity=0.05000000, Contract Size=100000.00000000, PnL=-35.45000000000050000000000000, PnL USD=-23.13821500000032635000000000, Commission=0.50000000, Final PnL=-23.63821500000032635000000000
2025-07-16 00:19:04,017 - DEBUG - app.services.portfolio_calculator - Position calculation for EURGBP: Type=SELL, Entry=0.85403000, Current=0.86725, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-132.200000000000000000000000, PnL USD=-177.2669800000000000000000000, Commission=1.00000000, Final PnL=-178.2669800000000000000000000
2025-07-16 00:19:04,017 - DEBUG - app.services.portfolio_calculator - Position calculation for EURJPY: Type=BUY, Entry=167.26050000, Current=172.8495, Quantity=0.10000000, Contract Size=100000.00000000, PnL=55890.00000000000000000000000, PnL USD=375.9079903147699757869249395, Commission=1.00000000, Final PnL=374.9079903147699757869249395
2025-07-16 00:19:04,018 - DEBUG - app.services.portfolio_calculator - Position calculation for EURJPY: Type=SELL, Entry=167.23150000, Current=172.87949999999998, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-56479.99999999980000000000000, PnL USD=-379.8762442830225988700564972, Commission=1.00000000, Final PnL=-380.8762442830225988700564972
2025-07-16 00:19:04,018 - DEBUG - app.services.portfolio_calculator - Position calculation for EURNZD: Type=SELL, Entry=1.91952500, Current=1.954275, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-347.500000000000000000000000, PnL USD=-206.7694500000000000000000000, Commission=1.00000000, Final PnL=-207.7694500000000000000000000
2025-07-16 00:19:04,018 - DEBUG - app.services.portfolio_calculator - Position calculation for EURNZD: Type=BUY, Entry=1.92063500, Current=1.953865, Quantity=0.10000000, Contract Size=100000.00000000, PnL=332.300000000000000000000000, PnL USD=197.7251460000000000000000000, Commission=1.00000000, Final PnL=196.7251460000000000000000000
2025-07-16 00:19:04,018 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=SELL, Entry=1.34376000, Current=1.341, Quantity=0.25000000, Contract Size=0E-8, PnL=0E-24, PnL USD=0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:19:04,018 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=SELL, Entry=1.34361000, Current=1.341, Quantity=0.25000000, Contract Size=0E-8, PnL=0E-24, PnL USD=0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:19:04,018 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=BUY, Entry=1.34379000, Current=1.34079, Quantity=0.25000000, Contract Size=0E-8, PnL=-0E-24, PnL USD=-0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:19:04,019 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=BUY, Entry=1.34378000, Current=1.34079, Quantity=0.25000000, Contract Size=0E-8, PnL=-0E-24, PnL USD=-0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:19:04,019 - DEBUG - app.services.portfolio_calculator - Position calculation for NZDJPY: Type=BUY, Entry=87.10150000, Current=88.44749999999999, Quantity=0.01000000, Contract Size=100000.00000000, PnL=1345.999999999990000000000000, PnL USD=9.052999730965765402206080172, Commission=0.10000000, Final PnL=8.952999730965765402206080172
2025-07-16 00:19:04,020 - DEBUG - app.services.portfolio_calculator - Position calculation for USDCHF: Type=SELL, Entry=0.81771000, Current=0.8007299999999999, Quantity=0.15000000, Contract Size=100000.00000000, PnL=254.7000000000015000000000000, PnL USD=318.1443453496233980364235929, Commission=1.50000000, Final PnL=316.6443453496233980364235929
2025-07-16 00:19:04,021 - DEBUG - app.services.portfolio_calculator - Position calculation for USDCHF: Type=BUY, Entry=0.81805000, Current=0.80042, Quantity=0.15000000, Contract Size=100000.00000000, PnL=-264.450000000000000000000000, PnL USD=-330.3230158135351869894326613, Commission=1.50000000, Final PnL=-331.8230158135351869894326613
2025-07-16 00:19:04,021 - DEBUG - app.services.portfolio_calculator - Position calculation for USDNOK: Type=BUY, Entry=10.04973000, Current=10.2536, Quantity=0.10000000, Contract Size=100000.00000000, PnL=2038.700000000000000000000000, PnL USD=198.8141560125995923661293311, Commission=1.00000000, Final PnL=197.8141560125995923661293311
2025-07-16 00:19:04,022 - DEBUG - app.services.portfolio_calculator - Position calculation for USDNOK: Type=BUY, Entry=10.05023000, Current=10.2536, Quantity=0.10000000, Contract Size=100000.00000000, PnL=2033.700000000000000000000000, PnL USD=198.3265556888329773850969837, Commission=1.00000000, Final PnL=197.3265556888329773850969837
2025-07-16 00:19:04,022 - DEBUG - app.services.portfolio_calculator - Position calculation for USDSGD: Type=SELL, Entry=1.28795000, Current=1.2843, Quantity=0.31000000, Contract Size=100000.00000000, PnL=113.150000000000000000000000, PnL USD=88.11275941284117898999338084, Commission=3.10000000, Final PnL=85.01275941284117898999338084
2025-07-16 00:19:04,023 - DEBUG - app.services.portfolio_calculator - Position calculation for USDTRY: Type=SELL, Entry=39.56087000, Current=40.25783, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-6969.600000000000000000000000, PnL USD=-173.1247304862078490365068230, Commission=1.00000000, Final PnL=-174.1247304862078490365068230
2025-07-16 00:19:04,631 - DEBUG - app.firebase_stream - Firebase listener triggered (289). Event Type: patch, Path: /. Timestamp: 1752650344.6315165
2025-07-16 00:19:04,631 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0293000000', 'o': '13.0268400000'}, 'XAGUSD': {'b': '37.9340000000', 'o': '37.9270000000'}, 'NZDJPY': {'b': '88.4620000000', 'o': '88.4590000000'}, 'GBPAUD': {'b': '2.0544600000',
2025-07-16 00:19:04,631 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0293000000', 'o': '13.0268400000'}, 'XAGUSD': {'b': '37.9340000000', 'o': '37.9270000000'}, 'NZDJPY': {'b': '88.4620000000', 'o': '88.4590000000'}, 'GBPAUD': {'b': '2.0544600000',...
2025-07-16 00:19:04,632 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:19:05,041 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:05,041 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.89752000, Current=0.89483, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-2.690000000000000000000000, PnL USD=-1.961999927063199737427519055, Commission=0.10000000, Final PnL=-2.061999927063199737427519055
2025-07-16 00:19:05,046 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:05,083 - WARNING - app - User 12 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:19:05,095 - WARNING - app - User 13 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:19:06,054 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:06,057 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:07,059 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:07,062 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:07,261 - DEBUG - app.firebase_stream - Firebase listener triggered (290). Event Type: patch, Path: /. Timestamp: 1752650347.2618177
2025-07-16 00:19:07,262 - DEBUG - app.firebase_stream - Prepared batch update for 39 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0285000000', 'o': '13.0260600000'}, 'XAGUSD': {'b': '37.9360000000', 'o': '37.9260000000'}, 'NZDJPY': {'b': '88.4620000000', 'o': '88.4540000000'}, 'GBPAUD': {'b': '2.0544700000',
2025-07-16 00:19:07,262 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0285000000', 'o': '13.0260600000'}, 'XAGUSD': {'b': '37.9360000000', 'o': '37.9260000000'}, 'NZDJPY': {'b': '88.4620000000', 'o': '88.4540000000'}, 'GBPAUD': {'b': '2.0544700000',...
2025-07-16 00:19:07,262 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:19:08,073 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:08,076 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:09,078 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:09,080 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:09,162 - DEBUG - app.firebase_stream - Firebase listener triggered (291). Event Type: patch, Path: /. Timestamp: 1752650349.162639
2025-07-16 00:19:09,163 - DEBUG - app.firebase_stream - Prepared batch update for 26 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0294000000', 'o': '13.0268000000'}, 'GBPAUD': {'b': '2.0544200000', 'o': '2.0542900000'}, 'USDJPY': {'b': '148.6700000000', 'o': '148.6650000000'}, 'USDCNH': {'b': '7.1815500000',
2025-07-16 00:19:09,163 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0294000000', 'o': '13.0268000000'}, 'GBPAUD': {'b': '2.0544200000', 'o': '2.0542900000'}, 'USDJPY': {'b': '148.6700000000', 'o': '148.6650000000'}, 'USDCNH': {'b': '7.1815500000',...
2025-07-16 00:19:09,163 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:19:10,094 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:10,096 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:11,109 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:11,111 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:11,478 - DEBUG - app.firebase_stream - Firebase listener triggered (292). Event Type: patch, Path: /. Timestamp: 1752650351.478417
2025-07-16 00:19:11,478 - DEBUG - app.firebase_stream - Prepared batch update for 20 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9350000000', 'o': '37.9250000000'}, 'GBPAUD': {'b': '2.0544200000', 'o': '2.0543000000'}, 'EURNZD': {'b': '1.9541500000', 'o': '1.9539700000'}, 'USDSGD': {'b': '1.2841400000', 'o'
2025-07-16 00:19:11,478 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9350000000', 'o': '37.9250000000'}, 'GBPAUD': {'b': '2.0544200000', 'o': '2.0543000000'}, 'EURNZD': {'b': '1.9541500000', 'o': '1.9539700000'}, 'USDSGD': {'b': '1.2841400000', 'o'...
2025-07-16 00:19:11,478 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:19:12,118 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:12,120 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:13,134 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:13,136 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:13,815 - DEBUG - app.firebase_stream - Firebase listener triggered (293). Event Type: patch, Path: /. Timestamp: 1752650353.815175
2025-07-16 00:19:13,815 - DEBUG - app.firebase_stream - Prepared batch update for 25 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0295000000', 'o': '13.0269000000'}, 'XAGUSD': {'b': '37.9320000000', 'o': '37.9260000000'}, 'NZDJPY': {'b': '88.4630000000', 'o': '88.4540000000'}, 'GBPAUD': {'b': '2.0544300000',
2025-07-16 00:19:13,815 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0295000000', 'o': '13.0269000000'}, 'XAGUSD': {'b': '37.9320000000', 'o': '37.9260000000'}, 'NZDJPY': {'b': '88.4630000000', 'o': '88.4540000000'}, 'GBPAUD': {'b': '2.0544300000',...
2025-07-16 00:19:13,815 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:19:14,145 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:14,149 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:15,161 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:15,165 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:16,176 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:16,178 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:16,198 - DEBUG - app.firebase_stream - Firebase listener triggered (294). Event Type: patch, Path: /. Timestamp: 1752650356.1980567
2025-07-16 00:19:16,198 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4710000000', 'o': '88.4620000000'}, 'GBPAUD': {'b': '2.0545300000', 'o': '2.0543800000'}, 'USDJPY': {'b': '148.6700000000', 'o': '148.6660000000'}, 'CADCHF': {'b': '0.5839900000',
2025-07-16 00:19:16,198 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4710000000', 'o': '88.4620000000'}, 'GBPAUD': {'b': '2.0545300000', 'o': '2.0543800000'}, 'USDJPY': {'b': '148.6700000000', 'o': '148.6660000000'}, 'CADCHF': {'b': '0.5839900000',...
2025-07-16 00:19:16,198 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:19:17,193 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:17,196 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:18,201 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:18,204 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:18,466 - DEBUG - app.firebase_stream - Firebase listener triggered (295). Event Type: patch, Path: /. Timestamp: 1752650358.4666412
2025-07-16 00:19:18,467 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0284000000', 'o': '13.0259400000'}, 'NZDJPY': {'b': '88.4650000000', 'o': '88.4570000000'}, 'GBPAUD': {'b': '2.0543500000', 'o': '2.0542700000'}, 'USDJPY': {'b': '148.6770000000',
2025-07-16 00:19:18,468 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0284000000', 'o': '13.0259400000'}, 'NZDJPY': {'b': '88.4650000000', 'o': '88.4570000000'}, 'GBPAUD': {'b': '2.0543500000', 'o': '2.0542700000'}, 'USDJPY': {'b': '148.6770000000',...
2025-07-16 00:19:18,469 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:19:19,217 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:19,221 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:20,228 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:20,232 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:20,805 - DEBUG - app.firebase_stream - Firebase listener triggered (296). Event Type: patch, Path: /. Timestamp: 1752650360.805307
2025-07-16 00:19:20,805 - DEBUG - app.firebase_stream - Prepared batch update for 35 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0293000000', 'o': '13.0267000000'}, 'GBPAUD': {'b': '2.0542400000', 'o': '2.0541600000'}, 'USDJPY': {'b': '148.6830000000', 'o': '148.6780000000'}, 'CADCHF': {'b': '0.5840400000',
2025-07-16 00:19:20,805 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0293000000', 'o': '13.0267000000'}, 'GBPAUD': {'b': '2.0542400000', 'o': '2.0541600000'}, 'USDJPY': {'b': '148.6830000000', 'o': '148.6780000000'}, 'CADCHF': {'b': '0.5840400000',...
2025-07-16 00:19:20,805 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:19:21,242 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:21,247 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:22,253 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:22,257 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:23,029 - DEBUG - app.firebase_stream - Firebase listener triggered (297). Event Type: patch, Path: /. Timestamp: 1752650363.0291338
2025-07-16 00:19:23,029 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9360000000', 'o': '37.9280000000'}, 'NZDJPY': {'b': '88.4700000000', 'o': '88.4630000000'}, 'GBPAUD': {'b': '2.0541900000', 'o': '2.0540900000'}, 'USDCNH': {'b': '7.1815500000', '
2025-07-16 00:19:23,030 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9360000000', 'o': '37.9280000000'}, 'NZDJPY': {'b': '88.4700000000', 'o': '88.4630000000'}, 'GBPAUD': {'b': '2.0541900000', 'o': '2.0540900000'}, 'USDCNH': {'b': '7.1815500000', '...
2025-07-16 00:19:23,030 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:19:23,267 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:23,269 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:24,274 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:24,278 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:25,280 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:25,282 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:25,389 - DEBUG - app.firebase_stream - Firebase listener triggered (298). Event Type: patch, Path: /. Timestamp: 1752650365.3898816
2025-07-16 00:19:25,390 - DEBUG - app.firebase_stream - Prepared batch update for 27 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0292000000', 'o': '13.0266200000'}, 'XAGUSD': {'b': '37.9330000000', 'o': '37.9280000000'}, 'NZDJPY': {'b': '88.4690000000', 'o': '88.4630000000'}, 'GBPAUD': {'b': '2.0542400000',
2025-07-16 00:19:25,390 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0292000000', 'o': '13.0266200000'}, 'XAGUSD': {'b': '37.9330000000', 'o': '37.9280000000'}, 'NZDJPY': {'b': '88.4690000000', 'o': '88.4630000000'}, 'GBPAUD': {'b': '2.0542400000',...
2025-07-16 00:19:25,390 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:19:26,299 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:26,302 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:27,307 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:27,310 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:27,611 - DEBUG - app.firebase_stream - Firebase listener triggered (299). Event Type: patch, Path: /. Timestamp: 1752650367.611552
2025-07-16 00:19:27,612 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0291000000', 'o': '13.0266200000'}, 'XAGUSD': {'b': '37.9360000000', 'o': '37.9280000000'}, 'NZDJPY': {'b': '88.4670000000', 'o': '88.4580000000'}, 'GBPAUD': {'b': '2.0542200000',
2025-07-16 00:19:27,612 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0291000000', 'o': '13.0266200000'}, 'XAGUSD': {'b': '37.9360000000', 'o': '37.9280000000'}, 'NZDJPY': {'b': '88.4670000000', 'o': '88.4580000000'}, 'GBPAUD': {'b': '2.0542200000',...
2025-07-16 00:19:27,612 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:19:28,316 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:28,318 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:29,330 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:29,334 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:29,917 - DEBUG - app.firebase_stream - Firebase listener triggered (300). Event Type: patch, Path: /. Timestamp: 1752650369.9177413
2025-07-16 00:19:29,917 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9360000000', 'o': '37.9290000000'}, 'NZDJPY': {'b': '88.4680000000', 'o': '88.4600000000'}, 'GBPAUD': {'b': '2.0544700000', 'o': '2.0543100000'}, 'USDJPY': {'b': '148.6790000000',
2025-07-16 00:19:29,918 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9360000000', 'o': '37.9290000000'}, 'NZDJPY': {'b': '88.4680000000', 'o': '88.4600000000'}, 'GBPAUD': {'b': '2.0544700000', 'o': '2.0543100000'}, 'USDJPY': {'b': '148.6790000000',...
2025-07-16 00:19:29,918 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:19:30,343 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:30,347 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:31,364 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:31,366 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:32,237 - DEBUG - app.firebase_stream - Firebase listener triggered (301). Event Type: patch, Path: /. Timestamp: 1752650372.2371557
2025-07-16 00:19:32,237 - DEBUG - app.firebase_stream - Prepared batch update for 26 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0290000000', 'o': '13.0264300000'}, 'NZDJPY': {'b': '88.4690000000', 'o': '88.4620000000'}, 'GBPAUD': {'b': '2.0541800000', 'o': '2.0540300000'}, 'USDJPY': {'b': '148.6800000000',
2025-07-16 00:19:32,237 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0290000000', 'o': '13.0264300000'}, 'NZDJPY': {'b': '88.4690000000', 'o': '88.4620000000'}, 'GBPAUD': {'b': '2.0541800000', 'o': '2.0540300000'}, 'USDJPY': {'b': '148.6800000000',...
2025-07-16 00:19:32,237 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:19:32,380 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:32,384 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:33,392 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:33,396 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:34,404 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:34,408 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:34,539 - DEBUG - app.firebase_stream - Firebase listener triggered (302). Event Type: patch, Path: /. Timestamp: 1752650374.5395432
2025-07-16 00:19:34,539 - DEBUG - app.firebase_stream - Prepared batch update for 38 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0290000000', 'o': '13.0264000000'}, 'XAGUSD': {'b': '37.9350000000', 'o': '37.9260000000'}, 'NZDJPY': {'b': '88.4710000000', 'o': '88.4620000000'}, 'GBPAUD': {'b': '2.0541400000',
2025-07-16 00:19:34,539 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0290000000', 'o': '13.0264000000'}, 'XAGUSD': {'b': '37.9350000000', 'o': '37.9260000000'}, 'NZDJPY': {'b': '88.4710000000', 'o': '88.4620000000'}, 'GBPAUD': {'b': '2.0541400000',...
2025-07-16 00:19:34,539 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:19:35,412 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:35,416 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:36,424 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:36,425 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:36,800 - DEBUG - app.firebase_stream - Firebase listener triggered (303). Event Type: patch, Path: /. Timestamp: 1752650376.8003082
2025-07-16 00:19:36,800 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4710000000', 'o': '88.4640000000'}, 'GBPAUD': {'b': '2.0544600000', 'o': '2.0543100000'}, 'USDJPY': {'b': '148.6700000000', 'o': '148.6670000000'}, 'USDCNH': {'b': '7.1815100000',
2025-07-16 00:19:36,800 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4710000000', 'o': '88.4640000000'}, 'GBPAUD': {'b': '2.0544600000', 'o': '2.0543100000'}, 'USDJPY': {'b': '148.6700000000', 'o': '148.6670000000'}, 'USDCNH': {'b': '7.1815100000',...
2025-07-16 00:19:36,800 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:19:37,430 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:37,434 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:38,444 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:38,448 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:39,140 - DEBUG - app.firebase_stream - Firebase listener triggered (304). Event Type: patch, Path: /. Timestamp: 1752650379.1406417
2025-07-16 00:19:39,141 - DEBUG - app.firebase_stream - Prepared batch update for 40 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0286000000', 'o': '13.0260000000'}, 'NZDJPY': {'b': '88.4730000000', 'o': '88.4640000000'}, 'GBPAUD': {'b': '2.0540800000', 'o': '2.0539400000'}, 'USDJPY': {'b': '148.6830000000',
2025-07-16 00:19:39,141 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0286000000', 'o': '13.0260000000'}, 'NZDJPY': {'b': '88.4730000000', 'o': '88.4640000000'}, 'GBPAUD': {'b': '2.0540800000', 'o': '2.0539400000'}, 'USDJPY': {'b': '148.6830000000',...
2025-07-16 00:19:39,141 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:19:39,460 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:39,464 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:40,471 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:40,474 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:41,390 - DEBUG - app.firebase_stream - Firebase listener triggered (305). Event Type: patch, Path: /. Timestamp: 1752650381.3907843
2025-07-16 00:19:41,390 - DEBUG - app.firebase_stream - Prepared batch update for 30 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0287000000', 'o': '13.0261000000'}, 'NZDJPY': {'b': '88.4620000000', 'o': '88.4540000000'}, 'GBPAUD': {'b': '2.0540500000', 'o': '2.0539400000'}, 'USDJPY': {'b': '148.6700000000',
2025-07-16 00:19:41,391 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0287000000', 'o': '13.0261000000'}, 'NZDJPY': {'b': '88.4620000000', 'o': '88.4540000000'}, 'GBPAUD': {'b': '2.0540500000', 'o': '2.0539400000'}, 'USDJPY': {'b': '148.6700000000',...
2025-07-16 00:19:41,391 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:19:41,482 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:41,486 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:42,493 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:42,498 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:43,511 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:43,514 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:43,756 - DEBUG - app.firebase_stream - Firebase listener triggered (306). Event Type: patch, Path: /. Timestamp: 1752650383.7567189
2025-07-16 00:19:43,756 - DEBUG - app.firebase_stream - Prepared batch update for 38 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0286000000', 'o': '13.0260000000'}, 'GBPAUD': {'b': '2.0540000000', 'o': '2.0538800000'}, 'BTCUSD': {'b': '118127.5000000000', 'o': '118127.4000000000'}, 'USDJPY': {'b': '148.6750
2025-07-16 00:19:43,757 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0286000000', 'o': '13.0260000000'}, 'GBPAUD': {'b': '2.0540000000', 'o': '2.0538800000'}, 'BTCUSD': {'b': '118127.5000000000', 'o': '118127.4000000000'}, 'USDJPY': {'b': '148.6750...
2025-07-16 00:19:43,757 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:19:44,524 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:44,528 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:45,541 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:45,545 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:46,113 - DEBUG - app.firebase_stream - Firebase listener triggered (307). Event Type: patch, Path: /. Timestamp: 1752650386.1130075
2025-07-16 00:19:46,113 - DEBUG - app.firebase_stream - Prepared batch update for 34 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9350000000', 'o': '37.9250000000'}, 'NZDJPY': {'b': '88.4780000000', 'o': '88.4720000000'}, 'GBPAUD': {'b': '2.0539600000', 'o': '2.0538600000'}, 'USDJPY': {'b': '148.6700000000',
2025-07-16 00:19:46,114 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9350000000', 'o': '37.9250000000'}, 'NZDJPY': {'b': '88.4780000000', 'o': '88.4720000000'}, 'GBPAUD': {'b': '2.0539600000', 'o': '2.0538600000'}, 'USDJPY': {'b': '148.6700000000',...
2025-07-16 00:19:46,114 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:19:46,556 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:46,560 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:47,569 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:47,572 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:48,357 - DEBUG - app.firebase_stream - Firebase listener triggered (308). Event Type: patch, Path: /. Timestamp: 1752650388.357821
2025-07-16 00:19:48,358 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0295000000', 'o': '13.0269000000'}, 'XAGUSD': {'b': '37.9340000000', 'o': '37.9250000000'}, 'NZDJPY': {'b': '88.4840000000', 'o': '88.4760000000'}, 'GBPAUD': {'b': '2.0539100000',
2025-07-16 00:19:48,358 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0295000000', 'o': '13.0269000000'}, 'XAGUSD': {'b': '37.9340000000', 'o': '37.9250000000'}, 'NZDJPY': {'b': '88.4840000000', 'o': '88.4760000000'}, 'GBPAUD': {'b': '2.0539100000',...
2025-07-16 00:19:48,358 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:19:48,579 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:48,582 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:49,590 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:49,594 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:50,598 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:50,619 - DEBUG - app.firebase_stream - Firebase listener triggered (309). Event Type: patch, Path: /. Timestamp: 1752650390.6191838
2025-07-16 00:19:50,619 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0295700000', 'o': '13.0270000000'}, 'NZDJPY': {'b': '88.4840000000', 'o': '88.4750000000'}, 'GBPAUD': {'b': '2.0539800000', 'o': '2.0538100000'}, 'BTCUSD': {'b': '118110.100000000
2025-07-16 00:19:50,619 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:50,620 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0295700000', 'o': '13.0270000000'}, 'NZDJPY': {'b': '88.4840000000', 'o': '88.4750000000'}, 'GBPAUD': {'b': '2.0539800000', 'o': '2.0538100000'}, 'BTCUSD': {'b': '118110.100000000...
2025-07-16 00:19:50,620 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:19:51,630 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:51,633 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:52,638 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:52,643 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:52,915 - DEBUG - app.firebase_stream - Firebase listener triggered (310). Event Type: patch, Path: /. Timestamp: 1752650392.9154665
2025-07-16 00:19:52,915 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0284200000', 'o': '13.0259000000'}, 'XAGUSD': {'b': '37.9330000000', 'o': '37.9250000000'}, 'NZDJPY': {'b': '88.4850000000', 'o': '88.4760000000'}, 'GBPAUD': {'b': '2.0540000000',
2025-07-16 00:19:52,915 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0284200000', 'o': '13.0259000000'}, 'XAGUSD': {'b': '37.9330000000', 'o': '37.9250000000'}, 'NZDJPY': {'b': '88.4850000000', 'o': '88.4760000000'}, 'GBPAUD': {'b': '2.0540000000',...
2025-07-16 00:19:52,916 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:19:53,648 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:53,651 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:54,656 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:54,659 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:55,227 - DEBUG - app.firebase_stream - Firebase listener triggered (311). Event Type: patch, Path: /. Timestamp: 1752650395.2277143
2025-07-16 00:19:55,227 - DEBUG - app.firebase_stream - Prepared batch update for 34 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0292000000', 'o': '13.0266200000'}, 'NZDJPY': {'b': '88.4840000000', 'o': '88.4750000000'}, 'GBPAUD': {'b': '2.0540200000', 'o': '2.0538600000'}, 'BTCUSD': {'b': '118129.900000000
2025-07-16 00:19:55,228 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0292000000', 'o': '13.0266200000'}, 'NZDJPY': {'b': '88.4840000000', 'o': '88.4750000000'}, 'GBPAUD': {'b': '2.0540200000', 'o': '2.0538600000'}, 'BTCUSD': {'b': '118129.900000000...
2025-07-16 00:19:55,228 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:19:55,676 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:55,679 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:56,684 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:56,688 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:57,576 - DEBUG - app.firebase_stream - Firebase listener triggered (312). Event Type: patch, Path: /. Timestamp: 1752650397.5762017
2025-07-16 00:19:57,576 - DEBUG - app.firebase_stream - Prepared batch update for 24 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0285000000', 'o': '13.0259000000'}, 'GBPAUD': {'b': '2.0542200000', 'o': '2.0540600000'}, 'USDJPY': {'b': '148.6760000000', 'o': '148.6740000000'}, 'USDSGD': {'b': '1.2840800000',
2025-07-16 00:19:57,576 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0285000000', 'o': '13.0259000000'}, 'GBPAUD': {'b': '2.0542200000', 'o': '2.0540600000'}, 'USDJPY': {'b': '148.6760000000', 'o': '148.6740000000'}, 'USDSGD': {'b': '1.2840800000',...
2025-07-16 00:19:57,577 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:19:57,691 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:57,695 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:58,697 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:58,700 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:59,706 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:59,708 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:59,822 - DEBUG - app.firebase_stream - Firebase listener triggered (313). Event Type: patch, Path: /. Timestamp: 1752650399.8224673
2025-07-16 00:19:59,822 - DEBUG - app.firebase_stream - Prepared batch update for 25 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9340000000', 'o': '37.9250000000'}, 'NZDJPY': {'b': '88.4840000000', 'o': '88.4760000000'}, 'GBPAUD': {'b': '2.0540200000', 'o': '2.0538700000'}, 'USDJPY': {'b': '148.6770000000',
2025-07-16 00:19:59,822 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9340000000', 'o': '37.9250000000'}, 'NZDJPY': {'b': '88.4840000000', 'o': '88.4760000000'}, 'GBPAUD': {'b': '2.0540200000', 'o': '2.0538700000'}, 'USDJPY': {'b': '148.6770000000',...
2025-07-16 00:19:59,823 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:20:00,719 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:00,723 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:01,727 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:01,730 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:02,136 - WARNING - app - User 4 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:20:02,138 - WARNING - app - No user data found for user 5 (live). Skipping portfolio update.
2025-07-16 00:20:02,142 - WARNING - app - No group settings found for group string. Skipping portfolio update for user 8.
2025-07-16 00:20:02,154 - WARNING - app - User 9 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:20:02,165 - WARNING - app - User 10 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:20:02,174 - WARNING - app - User 11 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:20:02,182 - DEBUG - app.firebase_stream - Firebase listener triggered (314). Event Type: patch, Path: /. Timestamp: 1752650402.1820998
2025-07-16 00:20:02,182 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0283000000', 'o': '13.0257000000'}, 'XAGUSD': {'b': '37.9360000000', 'o': '37.9290000000'}, 'NZDJPY': {'b': '88.4810000000', 'o': '88.4760000000'}, 'GBPAUD': {'b': '2.0540100000',
2025-07-16 00:20:02,182 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0283000000', 'o': '13.0257000000'}, 'XAGUSD': {'b': '37.9360000000', 'o': '37.9290000000'}, 'NZDJPY': {'b': '88.4810000000', 'o': '88.4760000000'}, 'GBPAUD': {'b': '2.0540100000',...
2025-07-16 00:20:02,182 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:20:02,215 - WARNING - app - User 12 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:20:02,227 - WARNING - app - User 13 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:20:02,582 - DEBUG - app.services.portfolio_calculator - Position calculation for BTCUSD: Type=BUY, Entry=118908.50000000, Current=118079.8, Quantity=0.40000000, Contract Size=1.00000000, PnL=-331.480000000000000000000000, PnL USD=-331.480000000000000000000000, Commission=235.57000000, Final PnL=-567.050000000000000000000000
2025-07-16 00:20:02,583 - WARNING - app.services.portfolio_calculator - MARGIN CALL ALERT: User has margin level 99.06863509832076266644592385% which is below threshold 100.0%
2025-07-16 00:20:02,603 - WARNING - app - User 16 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:20:02,615 - WARNING - app - User 17 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:20:02,626 - WARNING - app - User 18 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:20:02,636 - WARNING - app - User 19 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:20:02,646 - WARNING - app - User 20 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:20:02,657 - WARNING - app - User 21 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:20:02,667 - WARNING - app - User 22 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:20:02,676 - WARNING - app - User 23 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:20:02,689 - WARNING - app - User 24 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:20:02,699 - WARNING - app - User 25 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:20:03,093 - DEBUG - app.services.portfolio_calculator - Position calculation for XAGUSD: Type=BUY, Entry=41.09800000, Current=37.9165, Quantity=0.01000000, Contract Size=5000.00000000, PnL=-159.075000000000000000000000, PnL USD=-159.075000000000000000000000, Commission=0.10000000, Final PnL=-159.175000000000000000000000
2025-07-16 00:20:03,093 - DEBUG - app.services.portfolio_calculator - Position calculation for BTCUSD: Type=BUY, Entry=132091.90000000, Current=118091.99, Quantity=6.00000000, Contract Size=1.00000000, PnL=-83999.46000000000000000000000, PnL USD=-83999.46000000000000000000000, Commission=3661.62000000, Final PnL=-87661.08000000000000000000000
2025-07-16 00:20:03,093 - WARNING - app.services.portfolio_calculator - MARGIN CALL ALERT: User has margin level 65.89473614506711871913794002% which is below threshold 100.0%
2025-07-16 00:20:03,094 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:03,096 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:03,503 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=96.66800000, Current=97.004, Quantity=0.01000000, Contract Size=100000.00000000, PnL=336.000000000000000000000000, PnL USD=2.260008609556607834696513130, Commission=0.10000000, Final PnL=2.160008609556607834696513130
2025-07-16 00:20:03,503 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=96.56000000, Current=97.11, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-550.000000000000000000000000, PnL USD=-3.699418854928971157985363754, Commission=0.10000000, Final PnL=-3.799418854928971157985363754
2025-07-16 00:20:03,504 - WARNING - app - User 2 has no group_name set. Skipping portfolio update.
2025-07-16 00:20:03,509 - WARNING - app - No group settings found for group string. Skipping portfolio update for user 3.
2025-07-16 00:20:03,523 - WARNING - app - User 4 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:20:03,524 - WARNING - app - User 5 has no group_name set. Skipping portfolio update.
2025-07-16 00:20:03,524 - WARNING - app - User 6 has no group_name set. Skipping portfolio update.
2025-07-16 00:20:03,913 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64743000, Current=0.65258, Quantity=0.10000000, Contract Size=100000.00000000, PnL=51.500000000000000000000000, PnL USD=51.500000000000000000000000, Commission=1.00000000, Final PnL=50.500000000000000000000000
2025-07-16 00:20:03,913 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=SELL, Entry=0.64707000, Current=0.65288, Quantity=0.22000000, Contract Size=100000.00000000, PnL=-127.820000000000000000000000, PnL USD=-127.820000000000000000000000, Commission=2.20000000, Final PnL=-130.020000000000000000000000
2025-07-16 00:20:03,914 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFSGD: Type=BUY, Entry=1.57561500, Current=1.603625, Quantity=0.10000000, Contract Size=100000.00000000, PnL=280.100000000000000000000000, PnL USD=218.1328266151641642265279422, Commission=1.00000000, Final PnL=217.1328266151641642265279422
2025-07-16 00:20:03,914 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFSGD: Type=SELL, Entry=1.57505500, Current=1.6040949999999998, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-290.3999999999980000000000000, PnL USD=-226.1541336988334060183166158, Commission=1.00000000, Final PnL=-227.1541336988334060183166158
2025-07-16 00:20:03,915 - DEBUG - app.services.portfolio_calculator - Position calculation for CADJPY: Type=SELL, Entry=106.24150000, Current=108.4655, Quantity=0.15000000, Contract Size=100000.00000000, PnL=-33360.00000000000000000000000, PnL USD=-224.3865690916917778734395179, Commission=0E-8, Final PnL=-224.3865690916917778734395179
2025-07-16 00:20:03,915 - DEBUG - app.services.portfolio_calculator - Position calculation for CADJPY: Type=BUY, Entry=106.27050000, Current=108.4375, Quantity=0.15000000, Contract Size=100000.00000000, PnL=32505.00000000000000000000000, PnL USD=218.6356543263021954369349978, Commission=0E-8, Final PnL=218.6356543263021954369349978
2025-07-16 00:20:03,915 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=BUY, Entry=1.77481000, Current=1.7810599999999999, Quantity=0.22000000, Contract Size=100000.00000000, PnL=137.4999999999978000000000000, PnL USD=89.75037499999856399400000000, Commission=2.20000000, Final PnL=87.55037499999856399400000000
2025-07-16 00:20:03,915 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=SELL, Entry=1.77439000, Current=1.78146, Quantity=0.21000000, Contract Size=100000.00000000, PnL=-148.470000000000000000000000, PnL USD=-96.91082310000000000000000000, Commission=2.10000000, Final PnL=-99.01082310000000000000000000
2025-07-16 00:20:03,916 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFJPY: Type=BUY, Entry=178.15500000, Current=185.685, Quantity=0.10000000, Contract Size=100000.00000000, PnL=75300.00000000000000000000000, PnL USD=506.4840723202755058114507103, Commission=1.00000000, Final PnL=505.4840723202755058114507103
2025-07-16 00:20:03,916 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFJPY: Type=SELL, Entry=178.09500000, Current=185.725, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-76300.00000000000000000000000, PnL USD=-513.2102884201463624623331898, Commission=1.00000000, Final PnL=-514.2102884201463624623331898
2025-07-16 00:20:03,916 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=BUY, Entry=1.77480000, Current=1.7810599999999999, Quantity=0.05000000, Contract Size=100000.00000000, PnL=31.29999999999950000000000000, PnL USD=20.43044899999967363500000000, Commission=0.50000000, Final PnL=19.93044899999967363500000000
2025-07-16 00:20:03,916 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=SELL, Entry=1.77442000, Current=1.78146, Quantity=0.05000000, Contract Size=100000.00000000, PnL=-35.200000000000000000000000, PnL USD=-22.97609600000000000000000000, Commission=0.50000000, Final PnL=-23.47609600000000000000000000
2025-07-16 00:20:03,916 - DEBUG - app.services.portfolio_calculator - Position calculation for EURGBP: Type=SELL, Entry=0.85403000, Current=0.86731, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-132.800000000000000000000000, PnL USD=-178.0582400000000000000000000, Commission=1.00000000, Final PnL=-179.0582400000000000000000000
2025-07-16 00:20:03,917 - DEBUG - app.services.portfolio_calculator - Position calculation for EURJPY: Type=BUY, Entry=167.26050000, Current=172.85150000000002, Quantity=0.10000000, Contract Size=100000.00000000, PnL=55910.00000000020000000000000, PnL USD=376.0627421437809405940594059, Commission=1.00000000, Final PnL=375.0627421437809405940594059
2025-07-16 00:20:03,918 - DEBUG - app.services.portfolio_calculator - Position calculation for EURJPY: Type=SELL, Entry=167.23150000, Current=172.8775, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-56460.00000000000000000000000, PnL USD=-379.7621609987085665088247955, Commission=1.00000000, Final PnL=-380.7621609987085665088247955
2025-07-16 00:20:03,918 - DEBUG - app.services.portfolio_calculator - Position calculation for EURNZD: Type=SELL, Entry=1.91952500, Current=1.953935, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-344.100000000000000000000000, PnL USD=-204.7911150000000000000000000, Commission=1.00000000, Final PnL=-205.7911150000000000000000000
2025-07-16 00:20:03,918 - DEBUG - app.services.portfolio_calculator - Position calculation for EURNZD: Type=BUY, Entry=1.92063500, Current=1.953535, Quantity=0.10000000, Contract Size=100000.00000000, PnL=329.000000000000000000000000, PnL USD=195.8043500000000000000000000, Commission=1.00000000, Final PnL=194.8043500000000000000000000
2025-07-16 00:20:03,918 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=SELL, Entry=1.34376000, Current=1.3409, Quantity=0.25000000, Contract Size=0E-8, PnL=0E-24, PnL USD=0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:20:03,918 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=SELL, Entry=1.34361000, Current=1.3409, Quantity=0.25000000, Contract Size=0E-8, PnL=0E-24, PnL USD=0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:20:03,918 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=BUY, Entry=1.34379000, Current=1.34069, Quantity=0.25000000, Contract Size=0E-8, PnL=-0E-24, PnL USD=-0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:20:03,919 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=BUY, Entry=1.34378000, Current=1.34069, Quantity=0.25000000, Contract Size=0E-8, PnL=-0E-24, PnL USD=-0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:20:03,919 - DEBUG - app.services.portfolio_calculator - Position calculation for NZDJPY: Type=BUY, Entry=87.10150000, Current=88.4635, Quantity=0.01000000, Contract Size=100000.00000000, PnL=1362.000000000000000000000000, PnL USD=9.161106328024106758501937150, Commission=0.10000000, Final PnL=9.061106328024106758501937150
2025-07-16 00:20:03,920 - DEBUG - app.services.portfolio_calculator - Position calculation for USDCHF: Type=SELL, Entry=0.81771000, Current=0.80077, Quantity=0.15000000, Contract Size=100000.00000000, PnL=254.100000000000000000000000, PnL USD=317.3790312507806450001249032, Commission=1.50000000, Final PnL=315.8790312507806450001249032
2025-07-16 00:20:03,920 - DEBUG - app.services.portfolio_calculator - Position calculation for USDCHF: Type=BUY, Entry=0.81805000, Current=0.80044, Quantity=0.15000000, Contract Size=100000.00000000, PnL=-264.150000000000000000000000, PnL USD=-329.9318028527890884564462542, Commission=1.50000000, Final PnL=-331.4318028527890884564462542
2025-07-16 00:20:03,921 - DEBUG - app.services.portfolio_calculator - Position calculation for USDNOK: Type=BUY, Entry=10.04973000, Current=10.25303, Quantity=0.10000000, Contract Size=100000.00000000, PnL=2033.000000000000000000000000, PnL USD=198.2725999555276411314704356, Commission=1.00000000, Final PnL=197.2725999555276411314704356
2025-07-16 00:20:03,922 - DEBUG - app.services.portfolio_calculator - Position calculation for USDNOK: Type=BUY, Entry=10.05023000, Current=10.25303, Quantity=0.10000000, Contract Size=100000.00000000, PnL=2028.000000000000000000000000, PnL USD=197.7849644416183257327211232, Commission=1.00000000, Final PnL=196.7849644416183257327211232
2025-07-16 00:20:03,923 - DEBUG - app.services.portfolio_calculator - Position calculation for USDSGD: Type=SELL, Entry=1.28795000, Current=1.2842300000000002, Quantity=0.31000000, Contract Size=100000.00000000, PnL=115.3199999999938000000000000, PnL USD=89.80748862998707245654476357, Commission=3.10000000, Final PnL=86.70748862998707245654476357
2025-07-16 00:20:03,923 - DEBUG - app.services.portfolio_calculator - Position calculation for USDTRY: Type=SELL, Entry=39.56087000, Current=40.257839999999995, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-6969.699999999950000000000000, PnL USD=-173.1271714795347174664020713, Commission=1.00000000, Final PnL=-174.1271714795347174664020713
2025-07-16 00:20:04,329 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:04,332 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:04,436 - DEBUG - app.firebase_stream - Firebase listener triggered (315). Event Type: patch, Path: /. Timestamp: 1752650404.4362226
2025-07-16 00:20:04,436 - DEBUG - app.firebase_stream - Prepared batch update for 34 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9290000000', 'o': '37.9230000000'}, 'NZDJPY': {'b': '88.4810000000', 'o': '88.4720000000'}, 'GBPAUD': {'b': '2.0541300000', 'o': '2.0540300000'}, 'BTCUSD': {'b': '118193.230000000
2025-07-16 00:20:04,436 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9290000000', 'o': '37.9230000000'}, 'NZDJPY': {'b': '88.4810000000', 'o': '88.4720000000'}, 'GBPAUD': {'b': '2.0541300000', 'o': '2.0540300000'}, 'BTCUSD': {'b': '118193.230000000...
2025-07-16 00:20:04,436 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:20:04,734 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.89752000, Current=0.89493, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-2.590000000000000000000000, PnL USD=-1.889242260671665742712922709, Commission=0.10000000, Final PnL=-1.989242260671665742712922709
2025-07-16 00:20:04,776 - WARNING - app - User 12 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:20:04,786 - WARNING - app - User 13 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:20:05,334 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:05,338 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:06,353 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:06,357 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:06,788 - DEBUG - app.firebase_stream - Firebase listener triggered (316). Event Type: patch, Path: /. Timestamp: 1752650406.7887285
2025-07-16 00:20:06,788 - DEBUG - app.firebase_stream - Prepared batch update for 23 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4790000000', 'o': '88.4710000000'}, 'GBPAUD': {'b': '2.0540500000', 'o': '2.0539000000'}, 'BTCUSD': {'b': '118199.4700000000', 'o': '118199.4700000000'}, 'USDJPY': {'b': '148.6740
2025-07-16 00:20:06,789 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4790000000', 'o': '88.4710000000'}, 'GBPAUD': {'b': '2.0540500000', 'o': '2.0539000000'}, 'BTCUSD': {'b': '118199.4700000000', 'o': '118199.4700000000'}, 'USDJPY': {'b': '148.6740...
2025-07-16 00:20:06,789 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:20:07,364 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:07,366 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:08,378 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:08,382 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:08,999 - DEBUG - app.firebase_stream - Firebase listener triggered (317). Event Type: patch, Path: /. Timestamp: 1752650408.9995625
2025-07-16 00:20:09,000 - DEBUG - app.firebase_stream - Prepared batch update for 25 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9350000000', 'o': '37.9260000000'}, 'NZDJPY': {'b': '88.4830000000', 'o': '88.4740000000'}, 'GBPAUD': {'b': '2.0540500000', 'o': '2.0538900000'}, 'BTCUSD': {'b': '118223.800000000
2025-07-16 00:20:09,000 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9350000000', 'o': '37.9260000000'}, 'NZDJPY': {'b': '88.4830000000', 'o': '88.4740000000'}, 'GBPAUD': {'b': '2.0540500000', 'o': '2.0538900000'}, 'BTCUSD': {'b': '118223.800000000...
2025-07-16 00:20:09,000 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:20:09,408 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:09,414 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:10,429 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:10,433 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:11,397 - DEBUG - app.firebase_stream - Firebase listener triggered (318). Event Type: patch, Path: /. Timestamp: 1752650411.3973699
2025-07-16 00:20:11,397 - DEBUG - app.firebase_stream - Prepared batch update for 34 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0286000000', 'o': '13.0260000000'}, 'NZDJPY': {'b': '88.4840000000', 'o': '88.4760000000'}, 'GBPAUD': {'b': '2.0540500000', 'o': '2.0539000000'}, 'BTCUSD': {'b': '118118.600000000
2025-07-16 00:20:11,397 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0286000000', 'o': '13.0260000000'}, 'NZDJPY': {'b': '88.4840000000', 'o': '88.4760000000'}, 'GBPAUD': {'b': '2.0540500000', 'o': '2.0539000000'}, 'BTCUSD': {'b': '118118.600000000...
2025-07-16 00:20:11,397 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:20:11,435 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:11,436 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:12,450 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:12,453 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:13,462 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:13,464 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:13,658 - DEBUG - app.firebase_stream - Firebase listener triggered (319). Event Type: patch, Path: /. Timestamp: 1752650413.6582558
2025-07-16 00:20:13,658 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0285000000', 'o': '13.0259000000'}, 'NZDJPY': {'b': '88.4850000000', 'o': '88.4770000000'}, 'GBPAUD': {'b': '2.0540600000', 'o': '2.0539100000'}, 'BTCUSD': {'b': '118247.700000000
2025-07-16 00:20:13,658 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0285000000', 'o': '13.0259000000'}, 'NZDJPY': {'b': '88.4850000000', 'o': '88.4770000000'}, 'GBPAUD': {'b': '2.0540600000', 'o': '2.0539100000'}, 'BTCUSD': {'b': '118247.700000000...
2025-07-16 00:20:13,659 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:20:14,470 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:14,474 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:15,479 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:15,484 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:15,898 - DEBUG - app.firebase_stream - Firebase listener triggered (320). Event Type: patch, Path: /. Timestamp: 1752650415.898623
2025-07-16 00:20:15,898 - DEBUG - app.firebase_stream - Prepared batch update for 27 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9310000000', 'o': '37.9240000000'}, 'NZDJPY': {'b': '88.4840000000', 'o': '88.4770000000'}, 'GBPAUD': {'b': '2.0540300000', 'o': '2.0539000000'}, 'BTCUSD': {'b': '118239.170000000
2025-07-16 00:20:15,899 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9310000000', 'o': '37.9240000000'}, 'NZDJPY': {'b': '88.4840000000', 'o': '88.4770000000'}, 'GBPAUD': {'b': '2.0540300000', 'o': '2.0539000000'}, 'BTCUSD': {'b': '118239.170000000...
2025-07-16 00:20:15,899 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:20:16,503 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:16,506 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:17,511 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:17,513 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:18,166 - DEBUG - app.firebase_stream - Firebase listener triggered (321). Event Type: patch, Path: /. Timestamp: 1752650418.1664925
2025-07-16 00:20:18,166 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9290000000', 'o': '37.9230000000'}, 'NZDJPY': {'b': '88.4840000000', 'o': '88.4760000000'}, 'GBPAUD': {'b': '2.0540300000', 'o': '2.0538900000'}, 'BTCUSD': {'b': '118237.300000000
2025-07-16 00:20:18,167 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9290000000', 'o': '37.9230000000'}, 'NZDJPY': {'b': '88.4840000000', 'o': '88.4760000000'}, 'GBPAUD': {'b': '2.0540300000', 'o': '2.0538900000'}, 'BTCUSD': {'b': '118237.300000000...
2025-07-16 00:20:18,168 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:20:18,527 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:18,530 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:19,542 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:19,546 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:20,459 - DEBUG - app.firebase_stream - Firebase listener triggered (322). Event Type: patch, Path: /. Timestamp: 1752650420.459822
2025-07-16 00:20:20,460 - DEBUG - app.firebase_stream - Prepared batch update for 22 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4830000000', 'o': '88.4760000000'}, 'BTCUSD': {'b': '118242.3000000000', 'o': '118242.2000000000'}, 'USDJPY': {'b': '148.6790000000', 'o': '148.6750000000'}, 'EURNZD': {'b': '1.95
2025-07-16 00:20:20,460 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4830000000', 'o': '88.4760000000'}, 'BTCUSD': {'b': '118242.3000000000', 'o': '118242.2000000000'}, 'USDJPY': {'b': '148.6790000000', 'o': '148.6750000000'}, 'EURNZD': {'b': '1.95...
2025-07-16 00:20:20,460 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:20:20,552 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:20,553 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:21,557 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:21,560 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:22,573 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:22,576 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:22,774 - DEBUG - app.firebase_stream - Firebase listener triggered (323). Event Type: patch, Path: /. Timestamp: 1752650422.774078
2025-07-16 00:20:22,774 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9320000000', 'o': '37.9220000000'}, 'NZDJPY': {'b': '88.4840000000', 'o': '88.4750000000'}, 'GBPAUD': {'b': '2.0540300000', 'o': '2.0539200000'}, 'USDJPY': {'b': '148.6810000000',
2025-07-16 00:20:22,774 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9320000000', 'o': '37.9220000000'}, 'NZDJPY': {'b': '88.4840000000', 'o': '88.4750000000'}, 'GBPAUD': {'b': '2.0540300000', 'o': '2.0539200000'}, 'USDJPY': {'b': '148.6810000000',...
2025-07-16 00:20:22,775 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:20:23,579 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:23,584 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:24,600 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:24,604 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:25,120 - DEBUG - app.firebase_stream - Firebase listener triggered (324). Event Type: patch, Path: /. Timestamp: 1752650425.120416
2025-07-16 00:20:25,120 - DEBUG - app.firebase_stream - Prepared batch update for 35 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0289000000', 'o': '13.0263000000'}, 'NZDJPY': {'b': '88.4770000000', 'o': '88.4710000000'}, 'GBPAUD': {'b': '2.0541200000', 'o': '2.0539800000'}, 'BTCUSD': {'b': '118127.600000000
2025-07-16 00:20:25,121 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0289000000', 'o': '13.0263000000'}, 'NZDJPY': {'b': '88.4770000000', 'o': '88.4710000000'}, 'GBPAUD': {'b': '2.0541200000', 'o': '2.0539800000'}, 'BTCUSD': {'b': '118127.600000000...
2025-07-16 00:20:25,121 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:20:25,614 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:25,618 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:26,635 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:26,640 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:27,364 - DEBUG - app.firebase_stream - Firebase listener triggered (325). Event Type: patch, Path: /. Timestamp: 1752650427.3648632
2025-07-16 00:20:27,365 - DEBUG - app.firebase_stream - Prepared batch update for 25 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4750000000', 'o': '88.4670000000'}, 'GBPAUD': {'b': '2.0541500000', 'o': '2.0540000000'}, 'BTCUSD': {'b': '118242.3000000000', 'o': '118242.2000000000'}, 'USDJPY': {'b': '148.6810
2025-07-16 00:20:27,365 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4750000000', 'o': '88.4670000000'}, 'GBPAUD': {'b': '2.0541500000', 'o': '2.0540000000'}, 'BTCUSD': {'b': '118242.3000000000', 'o': '118242.2000000000'}, 'USDJPY': {'b': '148.6810...
2025-07-16 00:20:27,365 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:20:27,645 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:27,647 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:28,654 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:28,659 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:29,636 - DEBUG - app.firebase_stream - Firebase listener triggered (326). Event Type: patch, Path: /. Timestamp: 1752650429.6367302
2025-07-16 00:20:29,636 - DEBUG - app.firebase_stream - Prepared batch update for 23 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0288000000', 'o': '13.0262000000'}, 'NZDJPY': {'b': '88.4760000000', 'o': '88.4670000000'}, 'GBPAUD': {'b': '2.0541400000', 'o': '2.0539900000'}, 'USDJPY': {'b': '148.6760000000',
2025-07-16 00:20:29,637 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0288000000', 'o': '13.0262000000'}, 'NZDJPY': {'b': '88.4760000000', 'o': '88.4670000000'}, 'GBPAUD': {'b': '2.0541400000', 'o': '2.0539900000'}, 'USDJPY': {'b': '148.6760000000',...
2025-07-16 00:20:29,637 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:20:29,661 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:29,662 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:30,676 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:30,679 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:31,690 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:31,692 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:31,991 - DEBUG - app.firebase_stream - Firebase listener triggered (327). Event Type: patch, Path: /. Timestamp: 1752650431.9918478
2025-07-16 00:20:31,992 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9340000000', 'o': '37.9250000000'}, 'NZDJPY': {'b': '88.4840000000', 'o': '88.4750000000'}, 'GBPAUD': {'b': '2.0540300000', 'o': '2.0538700000'}, 'USDJPY': {'b': '148.6800000000',
2025-07-16 00:20:31,992 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9340000000', 'o': '37.9250000000'}, 'NZDJPY': {'b': '88.4840000000', 'o': '88.4750000000'}, 'GBPAUD': {'b': '2.0540300000', 'o': '2.0538700000'}, 'USDJPY': {'b': '148.6800000000',...
2025-07-16 00:20:31,992 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:20:32,708 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:32,711 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:33,726 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:33,732 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:34,335 - DEBUG - app.firebase_stream - Firebase listener triggered (328). Event Type: patch, Path: /. Timestamp: 1752650434.3359494
2025-07-16 00:20:34,336 - DEBUG - app.firebase_stream - Prepared batch update for 27 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0285000000', 'o': '13.0259000000'}, 'XAGUSD': {'b': '37.9260000000', 'o': '37.9220000000'}, 'NZDJPY': {'b': '88.4760000000', 'o': '88.4670000000'}, 'GBPAUD': {'b': '2.0541300000',
2025-07-16 00:20:34,336 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0285000000', 'o': '13.0259000000'}, 'XAGUSD': {'b': '37.9260000000', 'o': '37.9220000000'}, 'NZDJPY': {'b': '88.4760000000', 'o': '88.4670000000'}, 'GBPAUD': {'b': '2.0541300000',...
2025-07-16 00:20:34,336 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:20:34,747 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:34,750 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:35,766 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:35,770 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:36,586 - DEBUG - app.firebase_stream - Firebase listener triggered (329). Event Type: patch, Path: /. Timestamp: 1752650436.5863476
2025-07-16 00:20:36,586 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9290000000', 'o': '37.9230000000'}, 'NZDJPY': {'b': '88.4810000000', 'o': '88.4720000000'}, 'GBPAUD': {'b': '2.0541400000', 'o': '2.0540000000'}, 'USDJPY': {'b': '148.6820000000',
2025-07-16 00:20:36,586 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9290000000', 'o': '37.9230000000'}, 'NZDJPY': {'b': '88.4810000000', 'o': '88.4720000000'}, 'GBPAUD': {'b': '2.0541400000', 'o': '2.0540000000'}, 'USDJPY': {'b': '148.6820000000',...
2025-07-16 00:20:36,586 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:20:36,783 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:36,786 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:37,788 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:37,792 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:38,806 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:38,808 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:38,947 - DEBUG - app.firebase_stream - Firebase listener triggered (330). Event Type: patch, Path: /. Timestamp: 1752650438.9473696
2025-07-16 00:20:38,947 - DEBUG - app.firebase_stream - Prepared batch update for 36 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0289000000', 'o': '13.0263000000'}, 'XAGUSD': {'b': '37.9260000000', 'o': '37.9210000000'}, 'NZDJPY': {'b': '88.4750000000', 'o': '88.4670000000'}, 'USDJPY': {'b': '148.6840000000
2025-07-16 00:20:38,947 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0289000000', 'o': '13.0263000000'}, 'XAGUSD': {'b': '37.9260000000', 'o': '37.9210000000'}, 'NZDJPY': {'b': '88.4750000000', 'o': '88.4670000000'}, 'USDJPY': {'b': '148.6840000000...
2025-07-16 00:20:38,947 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:20:39,824 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:39,827 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:40,834 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:40,836 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:41,173 - DEBUG - app.firebase_stream - Firebase listener triggered (331). Event Type: patch, Path: /. Timestamp: 1752650441.1736476
2025-07-16 00:20:41,173 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9290000000', 'o': '37.9230000000'}, 'NZDJPY': {'b': '88.4760000000', 'o': '88.4680000000'}, 'GBPAUD': {'b': '2.0541300000', 'o': '2.0539800000'}, 'BTCUSD': {'b': '118237.300000000
2025-07-16 00:20:41,174 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9290000000', 'o': '37.9230000000'}, 'NZDJPY': {'b': '88.4760000000', 'o': '88.4680000000'}, 'GBPAUD': {'b': '2.0541300000', 'o': '2.0539800000'}, 'BTCUSD': {'b': '118237.300000000...
2025-07-16 00:20:41,174 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:20:41,846 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:41,849 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:42,860 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:42,863 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:43,548 - DEBUG - app.firebase_stream - Firebase listener triggered (332). Event Type: patch, Path: /. Timestamp: 1752650443.5488226
2025-07-16 00:20:43,549 - DEBUG - app.firebase_stream - Prepared batch update for 25 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9260000000', 'o': '37.9230000000'}, 'NZDJPY': {'b': '88.4740000000', 'o': '88.4680000000'}, 'GBPAUD': {'b': '2.0541400000', 'o': '2.0540000000'}, 'USDCNH': {'b': '7.1814200000', '
2025-07-16 00:20:43,549 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9260000000', 'o': '37.9230000000'}, 'NZDJPY': {'b': '88.4740000000', 'o': '88.4680000000'}, 'GBPAUD': {'b': '2.0541400000', 'o': '2.0540000000'}, 'USDCNH': {'b': '7.1814200000', '...
2025-07-16 00:20:43,549 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:20:43,864 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:43,867 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:44,882 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:44,886 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:45,804 - DEBUG - app.firebase_stream - Firebase listener triggered (333). Event Type: patch, Path: /. Timestamp: 1752650445.8041759
2025-07-16 00:20:45,804 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0291000000', 'o': '13.0265000000'}, 'XAGUSD': {'b': '37.9260000000', 'o': '37.9240000000'}, 'NZDJPY': {'b': '88.4760000000', 'o': '88.4710000000'}, 'GBPAUD': {'b': '2.0541100000',
2025-07-16 00:20:45,804 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0291000000', 'o': '13.0265000000'}, 'XAGUSD': {'b': '37.9260000000', 'o': '37.9240000000'}, 'NZDJPY': {'b': '88.4760000000', 'o': '88.4710000000'}, 'GBPAUD': {'b': '2.0541100000',...
2025-07-16 00:20:45,804 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:20:45,890 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:45,893 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:46,900 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:46,903 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:47,908 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:47,910 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:48,117 - DEBUG - app.firebase_stream - Firebase listener triggered (334). Event Type: patch, Path: /. Timestamp: 1752650448.1171887
2025-07-16 00:20:48,117 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0289000000', 'o': '13.0263000000'}, 'XAGUSD': {'b': '37.9260000000', 'o': '37.9230000000'}, 'NZDJPY': {'b': '88.4850000000', 'o': '88.4770000000'}, 'GBPAUD': {'b': '2.0541100000',
2025-07-16 00:20:48,117 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0289000000', 'o': '13.0263000000'}, 'XAGUSD': {'b': '37.9260000000', 'o': '37.9230000000'}, 'NZDJPY': {'b': '88.4850000000', 'o': '88.4770000000'}, 'GBPAUD': {'b': '2.0541100000',...
2025-07-16 00:20:48,117 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:20:48,915 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:48,918 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:49,927 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:49,931 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:50,414 - DEBUG - app.firebase_stream - Firebase listener triggered (335). Event Type: patch, Path: /. Timestamp: 1752650450.4147987
2025-07-16 00:20:50,415 - DEBUG - app.firebase_stream - Prepared batch update for 25 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0285100000', 'o': '13.0260000000'}, 'XAGUSD': {'b': '37.9260000000', 'o': '37.9220000000'}, 'NZDJPY': {'b': '88.4770000000', 'o': '88.4700000000'}, 'GBPAUD': {'b': '2.0540300000',
2025-07-16 00:20:50,415 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0285100000', 'o': '13.0260000000'}, 'XAGUSD': {'b': '37.9260000000', 'o': '37.9220000000'}, 'NZDJPY': {'b': '88.4770000000', 'o': '88.4700000000'}, 'GBPAUD': {'b': '2.0540300000',...
2025-07-16 00:20:50,415 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:20:50,935 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:50,938 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:51,954 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:51,957 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:52,772 - DEBUG - app.firebase_stream - Firebase listener triggered (336). Event Type: patch, Path: /. Timestamp: 1752650452.7722387
2025-07-16 00:20:52,772 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0287000000', 'o': '13.0261000000'}, 'XAGUSD': {'b': '37.9290000000', 'o': '37.9230000000'}, 'NZDJPY': {'b': '88.4710000000', 'o': '88.4680000000'}, 'GBPAUD': {'b': '2.0540200000',
2025-07-16 00:20:52,772 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0287000000', 'o': '13.0261000000'}, 'XAGUSD': {'b': '37.9290000000', 'o': '37.9230000000'}, 'NZDJPY': {'b': '88.4710000000', 'o': '88.4680000000'}, 'GBPAUD': {'b': '2.0540200000',...
2025-07-16 00:20:52,773 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:20:52,960 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:52,963 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:53,976 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:53,978 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:54,992 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:54,995 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:55,019 - DEBUG - app.firebase_stream - Firebase listener triggered (337). Event Type: patch, Path: /. Timestamp: 1752650455.0192199
2025-07-16 00:20:55,019 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9230000000', 'o': '37.9170000000'}, 'NZDJPY': {'b': '88.4710000000', 'o': '88.4660000000'}, 'GBPAUD': {'b': '2.0541400000', 'o': '2.0539500000'}, 'USDJPY': {'b': '148.6900000000',
2025-07-16 00:20:55,019 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9230000000', 'o': '37.9170000000'}, 'NZDJPY': {'b': '88.4710000000', 'o': '88.4660000000'}, 'GBPAUD': {'b': '2.0541400000', 'o': '2.0539500000'}, 'USDJPY': {'b': '148.6900000000',...
2025-07-16 00:20:55,020 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:20:56,005 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:56,009 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:57,013 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:57,017 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:57,289 - DEBUG - app.firebase_stream - Firebase listener triggered (338). Event Type: patch, Path: /. Timestamp: 1752650457.2892468
2025-07-16 00:20:57,289 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0290000000', 'o': '13.0264700000'}, 'XAGUSD': {'b': '37.9230000000', 'o': '37.9180000000'}, 'NZDJPY': {'b': '88.4790000000', 'o': '88.4720000000'}, 'GBPAUD': {'b': '2.0541600000',
2025-07-16 00:20:57,289 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0290000000', 'o': '13.0264700000'}, 'XAGUSD': {'b': '37.9230000000', 'o': '37.9180000000'}, 'NZDJPY': {'b': '88.4790000000', 'o': '88.4720000000'}, 'GBPAUD': {'b': '2.0541600000',...
2025-07-16 00:20:57,290 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:20:58,020 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:58,022 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:59,024 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:59,027 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:59,581 - DEBUG - app.firebase_stream - Firebase listener triggered (339). Event Type: patch, Path: /. Timestamp: 1752650459.5811267
2025-07-16 00:20:59,581 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0289000000', 'o': '13.0263000000'}, 'NZDJPY': {'b': '88.4710000000', 'o': '88.4650000000'}, 'GBPAUD': {'b': '2.0541600000', 'o': '2.0539800000'}, 'USDJPY': {'b': '148.6890000000',
2025-07-16 00:20:59,581 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0289000000', 'o': '13.0263000000'}, 'NZDJPY': {'b': '88.4710000000', 'o': '88.4650000000'}, 'GBPAUD': {'b': '2.0541600000', 'o': '2.0539800000'}, 'USDJPY': {'b': '148.6890000000',...
2025-07-16 00:20:59,581 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:21:00,036 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:21:00,040 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:21:01,045 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:21:01,048 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:21:01,879 - DEBUG - app.firebase_stream - Firebase listener triggered (340). Event Type: patch, Path: /. Timestamp: 1752650461.8798447
2025-07-16 00:21:01,880 - DEBUG - app.firebase_stream - Prepared batch update for 27 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0290000000', 'o': '13.0264700000'}, 'XAGUSD': {'b': '37.9200000000', 'o': '37.9150000000'}, 'NZDJPY': {'b': '88.4710000000', 'o': '88.4640000000'}, 'GBPAUD': {'b': '2.0541600000',
2025-07-16 00:21:01,880 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0290000000', 'o': '13.0264700000'}, 'XAGUSD': {'b': '37.9200000000', 'o': '37.9150000000'}, 'NZDJPY': {'b': '88.4710000000', 'o': '88.4640000000'}, 'GBPAUD': {'b': '2.0541600000',...
2025-07-16 00:21:01,880 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:21:02,049 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:21:02,051 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:21:02,132 - WARNING - app - User 4 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:21:02,135 - WARNING - app - No user data found for user 5 (live). Skipping portfolio update.
2025-07-16 00:21:02,137 - WARNING - app - No group settings found for group string. Skipping portfolio update for user 8.
2025-07-16 00:21:02,149 - WARNING - app - User 9 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:21:02,160 - WARNING - app - User 10 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:21:02,171 - WARNING - app - User 11 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:21:02,183 - WARNING - app - User 12 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:21:02,194 - WARNING - app - User 13 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:21:02,502 - DEBUG - app.services.portfolio_calculator - Position calculation for BTCUSD: Type=BUY, Entry=118908.50000000, Current=118187.2, Quantity=0.40000000, Contract Size=1.00000000, PnL=-288.520000000000000000000000, PnL USD=-288.520000000000000000000000, Commission=235.57000000, Final PnL=-524.090000000000000000000000
2025-07-16 00:21:02,503 - WARNING - app.services.portfolio_calculator - MARGIN CALL ALERT: User has margin level 99.52455392439346134294413615% which is below threshold 100.0%
2025-07-16 00:21:02,520 - WARNING - app - User 16 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:21:02,533 - WARNING - app - User 17 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:21:02,545 - WARNING - app - User 18 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:21:02,555 - WARNING - app - User 19 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:21:02,566 - WARNING - app - User 20 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:21:02,576 - WARNING - app - User 21 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:21:02,587 - WARNING - app - User 22 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:21:02,597 - WARNING - app - User 23 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:21:02,607 - WARNING - app - User 24 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:21:02,618 - WARNING - app - User 25 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:21:02,921 - DEBUG - app.services.portfolio_calculator - Position calculation for XAGUSD: Type=BUY, Entry=41.09800000, Current=37.902499999999996, Quantity=0.01000000, Contract Size=5000.00000000, PnL=-159.7750000000002000000000000, PnL USD=-159.7750000000002000000000000, Commission=0.10000000, Final PnL=-159.8750000000002000000000000
2025-07-16 00:21:02,921 - DEBUG - app.services.portfolio_calculator - Position calculation for BTCUSD: Type=BUY, Entry=132091.90000000, Current=118187.2, Quantity=6.00000000, Contract Size=1.00000000, PnL=-83428.20000000000000000000000, PnL USD=-83428.20000000000000000000000, Commission=3661.62000000, Final PnL=-87089.82000000000000000000000
2025-07-16 00:21:02,921 - WARNING - app.services.portfolio_calculator - MARGIN CALL ALERT: User has margin level 66.28423818579539510229309633% which is below threshold 100.0%
2025-07-16 00:21:03,233 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:21:03,234 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=96.66800000, Current=97.003, Quantity=0.01000000, Contract Size=100000.00000000, PnL=335.000000000000000000000000, PnL USD=2.253009617324635146950030264, Commission=0.10000000, Final PnL=2.153009617324635146950030264
2025-07-16 00:21:03,234 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=96.56000000, Current=97.109, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-549.000000000000000000000000, PnL USD=-3.692245611675297599031542135, Commission=0.10000000, Final PnL=-3.792245611675297599031542135
2025-07-16 00:21:03,235 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:21:03,236 - WARNING - app - User 2 has no group_name set. Skipping portfolio update.
2025-07-16 00:21:03,240 - WARNING - app - No group settings found for group string. Skipping portfolio update for user 3.
2025-07-16 00:21:03,252 - WARNING - app - User 4 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:21:03,253 - WARNING - app - User 5 has no group_name set. Skipping portfolio update.
2025-07-16 00:21:03,253 - WARNING - app - User 6 has no group_name set. Skipping portfolio update.
2025-07-16 00:21:03,559 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64743000, Current=0.6526000000000001, Quantity=0.10000000, Contract Size=100000.00000000, PnL=51.70000000000100000000000000, PnL USD=51.70000000000100000000000000, Commission=1.00000000, Final PnL=50.70000000000100000000000000
2025-07-16 00:21:03,559 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=SELL, Entry=0.64707000, Current=0.65291, Quantity=0.22000000, Contract Size=100000.00000000, PnL=-128.480000000000000000000000, PnL USD=-128.480000000000000000000000, Commission=2.20000000, Final PnL=-130.680000000000000000000000
2025-07-16 00:21:03,560 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFSGD: Type=BUY, Entry=1.57561500, Current=1.603475, Quantity=0.10000000, Contract Size=100000.00000000, PnL=278.600000000000000000000000, PnL USD=216.9629854605206800146407183, Commission=1.00000000, Final PnL=215.9629854605206800146407183
2025-07-16 00:21:03,560 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFSGD: Type=SELL, Entry=1.57505500, Current=1.603915, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-288.600000000000000000000000, PnL USD=-224.7506015933462607761138238, Commission=1.00000000, Final PnL=-225.7506015933462607761138238
2025-07-16 00:21:03,561 - DEBUG - app.services.portfolio_calculator - Position calculation for CADJPY: Type=SELL, Entry=106.24150000, Current=108.4615, Quantity=0.15000000, Contract Size=100000.00000000, PnL=-33300.00000000000000000000000, PnL USD=-223.9558813639114937117492770, Commission=0E-8, Final PnL=-223.9558813639114937117492770
2025-07-16 00:21:03,561 - DEBUG - app.services.portfolio_calculator - Position calculation for CADJPY: Type=BUY, Entry=106.27050000, Current=108.4315, Quantity=0.15000000, Contract Size=100000.00000000, PnL=32415.00000000000000000000000, PnL USD=218.0039007330688008608514359, Commission=0E-8, Final PnL=218.0039007330688008608514359
2025-07-16 00:21:03,562 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=BUY, Entry=1.77481000, Current=1.7809, Quantity=0.22000000, Contract Size=100000.00000000, PnL=133.980000000000000000000000, PnL USD=87.45678480000000000000000000, Commission=2.20000000, Final PnL=85.25678480000000000000000000
2025-07-16 00:21:03,562 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=SELL, Entry=1.77439000, Current=1.7813, Quantity=0.21000000, Contract Size=100000.00000000, PnL=-145.110000000000000000000000, PnL USD=-94.72200360000000000000000000, Commission=2.10000000, Final PnL=-96.82200360000000000000000000
2025-07-16 00:21:03,562 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFJPY: Type=BUY, Entry=178.15500000, Current=185.675, Quantity=0.10000000, Contract Size=100000.00000000, PnL=75200.00000000000000000000000, PnL USD=505.7502185755598897034097787, Commission=1.00000000, Final PnL=504.7502185755598897034097787
2025-07-16 00:21:03,562 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFJPY: Type=SELL, Entry=178.09500000, Current=185.71499999999997, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-76199.99999999970000000000000, PnL USD=-512.4756204183179769991256978, Commission=1.00000000, Final PnL=-513.4756204183179769991256978
2025-07-16 00:21:03,562 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=BUY, Entry=1.77480000, Current=1.7809, Quantity=0.05000000, Contract Size=100000.00000000, PnL=30.500000000000000000000000, PnL USD=19.90918000000000000000000000, Commission=0.50000000, Final PnL=19.40918000000000000000000000
2025-07-16 00:21:03,563 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=SELL, Entry=1.77442000, Current=1.7813, Quantity=0.05000000, Contract Size=100000.00000000, PnL=-34.400000000000000000000000, PnL USD=-22.45494400000000000000000000, Commission=0.50000000, Final PnL=-22.95494400000000000000000000
2025-07-16 00:21:03,563 - DEBUG - app.services.portfolio_calculator - Position calculation for EURGBP: Type=SELL, Entry=0.85403000, Current=0.8672799999999999, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-132.4999999999990000000000000, PnL USD=-177.6559999999986592000000000, Commission=1.00000000, Final PnL=-178.6559999999986592000000000
2025-07-16 00:21:03,563 - DEBUG - app.services.portfolio_calculator - Position calculation for EURJPY: Type=BUY, Entry=167.26050000, Current=172.85150000000002, Quantity=0.10000000, Contract Size=100000.00000000, PnL=55910.00000000020000000000000, PnL USD=376.0172170287188109489542000, Commission=1.00000000, Final PnL=375.0172170287188109489542000
2025-07-16 00:21:03,564 - DEBUG - app.services.portfolio_calculator - Position calculation for EURJPY: Type=SELL, Entry=167.23150000, Current=172.8815, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-56500.00000000000000000000000, PnL USD=-379.9852041159459277691842088, Commission=1.00000000, Final PnL=-380.9852041159459277691842088
2025-07-16 00:21:03,564 - DEBUG - app.services.portfolio_calculator - Position calculation for EURNZD: Type=SELL, Entry=1.91952500, Current=1.9542249999999999, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-346.9999999999990000000000000, PnL USD=-206.4649999999994050000000000, Commission=1.00000000, Final PnL=-207.4649999999994050000000000
2025-07-16 00:21:03,564 - DEBUG - app.services.portfolio_calculator - Position calculation for EURNZD: Type=BUY, Entry=1.92063500, Current=1.953805, Quantity=0.10000000, Contract Size=100000.00000000, PnL=331.700000000000000000000000, PnL USD=197.3615000000000000000000000, Commission=1.00000000, Final PnL=196.3615000000000000000000000
2025-07-16 00:21:03,564 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=SELL, Entry=1.34376000, Current=1.3409, Quantity=0.25000000, Contract Size=0E-8, PnL=0E-24, PnL USD=0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:21:03,564 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=SELL, Entry=1.34361000, Current=1.3409, Quantity=0.25000000, Contract Size=0E-8, PnL=0E-24, PnL USD=0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:21:03,564 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=BUY, Entry=1.34379000, Current=1.34069, Quantity=0.25000000, Contract Size=0E-8, PnL=-0E-24, PnL USD=-0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:21:03,564 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=BUY, Entry=1.34378000, Current=1.34069, Quantity=0.25000000, Contract Size=0E-8, PnL=-0E-24, PnL USD=-0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:21:03,565 - DEBUG - app.services.portfolio_calculator - Position calculation for NZDJPY: Type=BUY, Entry=87.10150000, Current=88.4515, Quantity=0.01000000, Contract Size=100000.00000000, PnL=1350.000000000000000000000000, PnL USD=9.079292487726141636962808528, Commission=0.10000000, Final PnL=8.979292487726141636962808528
2025-07-16 00:21:03,565 - DEBUG - app.services.portfolio_calculator - Position calculation for USDCHF: Type=SELL, Entry=0.81771000, Current=0.80085, Quantity=0.15000000, Contract Size=100000.00000000, PnL=252.900000000000000000000000, PnL USD=315.8486324466092169351817160, Commission=1.50000000, Final PnL=314.3486324466092169351817160
2025-07-16 00:21:03,565 - DEBUG - app.services.portfolio_calculator - Position calculation for USDCHF: Type=BUY, Entry=0.81805000, Current=0.80054, Quantity=0.15000000, Contract Size=100000.00000000, PnL=-262.650000000000000000000000, PnL USD=-328.0254777070063694267515924, Commission=1.50000000, Final PnL=-329.5254777070063694267515924
2025-07-16 00:21:03,566 - DEBUG - app.services.portfolio_calculator - Position calculation for USDNOK: Type=BUY, Entry=10.04973000, Current=10.254520000000001, Quantity=0.10000000, Contract Size=100000.00000000, PnL=2047.900000000010000000000000, PnL USD=199.6891405927010445188114796, Commission=1.00000000, Final PnL=198.6891405927010445188114796
2025-07-16 00:21:03,566 - DEBUG - app.services.portfolio_calculator - Position calculation for USDNOK: Type=BUY, Entry=10.05023000, Current=10.254520000000001, Quantity=0.10000000, Contract Size=100000.00000000, PnL=2042.900000000010000000000000, PnL USD=199.2015944708379162668788467, Commission=1.00000000, Final PnL=198.2015944708379162668788467
2025-07-16 00:21:03,566 - DEBUG - app.services.portfolio_calculator - Position calculation for USDSGD: Type=SELL, Entry=1.28795000, Current=1.28424, Quantity=0.31000000, Contract Size=100000.00000000, PnL=115.010000000000000000000000, PnL USD=89.56537314362700433770218598, Commission=3.10000000, Final PnL=86.46537314362700433770218598
2025-07-16 00:21:03,566 - DEBUG - app.services.portfolio_calculator - Position calculation for USDTRY: Type=SELL, Entry=39.56087000, Current=40.257529999999996, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-6966.599999999960000000000000, PnL USD=-173.0515001224610245376127309, Commission=1.00000000, Final PnL=-174.0515001224610245376127309
2025-07-16 00:21:04,191 - DEBUG - app.firebase_stream - Firebase listener triggered (341). Event Type: patch, Path: /. Timestamp: 1752650464.1914096
2025-07-16 00:21:04,191 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9150000000', 'o': '37.9110000000'}, 'NZDJPY': {'b': '88.4670000000', 'o': '88.4600000000'}, 'GBPAUD': {'b': '2.0541400000', 'o': '2.0540000000'}, 'BTCUSD': {'b': '118242.300000000
2025-07-16 00:21:04,191 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9150000000', 'o': '37.9110000000'}, 'NZDJPY': {'b': '88.4670000000', 'o': '88.4600000000'}, 'GBPAUD': {'b': '2.0541400000', 'o': '2.0540000000'}, 'BTCUSD': {'b': '118242.300000000...
2025-07-16 00:21:04,191 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:21:05,251 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.89752000, Current=0.89496, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-2.560000000000000000000000, PnL USD=-1.867318282942485138042962909, Commission=0.10000000, Final PnL=-1.967318282942485138042962909
2025-07-16 00:21:05,252 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:21:05,256 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:21:05,291 - WARNING - app - User 12 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:21:05,301 - WARNING - app - User 13 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:21:06,270 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:21:06,273 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:21:06,599 - DEBUG - app.firebase_stream - Firebase listener triggered (342). Event Type: patch, Path: /. Timestamp: 1752650466.5992947
2025-07-16 00:21:06,599 - DEBUG - app.firebase_stream - Prepared batch update for 30 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0285000000', 'o': '13.0259000000'}, 'XAGUSD': {'b': '37.9150000000', 'o': '37.9090000000'}, 'NZDJPY': {'b': '88.4680000000', 'o': '88.4600000000'}, 'BTCUSD': {'b': '118237.3000000
2025-07-16 00:21:06,600 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0285000000', 'o': '13.0259000000'}, 'XAGUSD': {'b': '37.9150000000', 'o': '37.9090000000'}, 'NZDJPY': {'b': '88.4680000000', 'o': '88.4600000000'}, 'BTCUSD': {'b': '118237.3000000...
2025-07-16 00:21:06,600 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:21:07,278 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:21:07,280 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:21:08,285 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:21:08,291 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:21:08,845 - DEBUG - app.firebase_stream - Firebase listener triggered (343). Event Type: patch, Path: /. Timestamp: 1752650468.845776
2025-07-16 00:21:08,846 - DEBUG - app.firebase_stream - Prepared batch update for 26 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0290000000', 'o': '13.0264300000'}, 'NZDJPY': {'b': '88.4650000000', 'o': '88.4600000000'}, 'GBPAUD': {'b': '2.0541400000', 'o': '2.0540200000'}, 'USDJPY': {'b': '148.6860000000',
2025-07-16 00:21:08,846 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0290000000', 'o': '13.0264300000'}, 'NZDJPY': {'b': '88.4650000000', 'o': '88.4600000000'}, 'GBPAUD': {'b': '2.0541400000', 'o': '2.0540200000'}, 'USDJPY': {'b': '148.6860000000',...
2025-07-16 00:21:08,846 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:21:09,295 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:21:09,297 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:21:10,299 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:21:10,302 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:21:11,092 - DEBUG - app.firebase_stream - Firebase listener triggered (344). Event Type: patch, Path: /. Timestamp: 1752650471.092885
2025-07-16 00:21:11,093 - DEBUG - app.firebase_stream - Prepared batch update for 30 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0286000000', 'o': '13.0260000000'}, 'NZDJPY': {'b': '88.4660000000', 'o': '88.4590000000'}, 'GBPAUD': {'b': '2.0541300000', 'o': '2.0539900000'}, 'BTCUSD': {'b': '118242.300000000
2025-07-16 00:21:11,093 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0286000000', 'o': '13.0260000000'}, 'NZDJPY': {'b': '88.4660000000', 'o': '88.4590000000'}, 'GBPAUD': {'b': '2.0541300000', 'o': '2.0539900000'}, 'BTCUSD': {'b': '118242.300000000...
2025-07-16 00:21:11,093 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:21:11,317 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:21:11,319 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:21:12,322 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:21:12,325 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:21:13,341 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:21:13,343 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:21:13,457 - DEBUG - app.firebase_stream - Firebase listener triggered (345). Event Type: patch, Path: /. Timestamp: 1752650473.4577012
2025-07-16 00:21:13,458 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0286000000', 'o': '13.0260600000'}, 'NZDJPY': {'b': '88.4660000000', 'o': '88.4580000000'}, 'GBPAUD': {'b': '2.0541900000', 'o': '2.0540200000'}, 'BTCUSD': {'b': '118237.300000000
2025-07-16 00:21:13,458 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0286000000', 'o': '13.0260600000'}, 'NZDJPY': {'b': '88.4660000000', 'o': '88.4580000000'}, 'GBPAUD': {'b': '2.0541900000', 'o': '2.0540200000'}, 'BTCUSD': {'b': '118237.300000000...
2025-07-16 00:21:13,458 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:21:14,358 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:21:14,360 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:21:15,377 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:21:15,379 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:21:15,700 - DEBUG - app.firebase_stream - Firebase listener triggered (346). Event Type: patch, Path: /. Timestamp: 1752650475.7006006
2025-07-16 00:21:15,700 - DEBUG - app.firebase_stream - Prepared batch update for 20 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0289000000', 'o': '13.0263000000'}, 'XAGUSD': {'b': '37.9260000000', 'o': '37.9220000000'}, 'NZDJPY': {'b': '88.4650000000', 'o': '88.4590000000'}, 'GBPAUD': {'b': '2.0541400000',
2025-07-16 00:21:15,701 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0289000000', 'o': '13.0263000000'}, 'XAGUSD': {'b': '37.9260000000', 'o': '37.9220000000'}, 'NZDJPY': {'b': '88.4650000000', 'o': '88.4590000000'}, 'GBPAUD': {'b': '2.0541400000',...
2025-07-16 00:21:15,701 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:21:16,393 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:21:16,395 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:21:17,402 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:21:17,404 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:21:17,961 - DEBUG - app.firebase_stream - Firebase listener triggered (347). Event Type: patch, Path: /. Timestamp: 1752650477.9615283
2025-07-16 00:21:17,961 - DEBUG - app.firebase_stream - Prepared batch update for 24 symbols from root path for queue. Preview: {'GBPAUD': {'b': '2.0542000000', 'o': '2.0540200000'}, 'USDJPY': {'b': '148.6850000000', 'o': '148.6790000000'}, 'EURNZD': {'b': '1.9542200000', 'o': '1.9540400000'}, 'USDSGD': {'b': '1.2840900000', '
2025-07-16 00:21:17,963 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPAUD': {'b': '2.0542000000', 'o': '2.0540200000'}, 'USDJPY': {'b': '148.6850000000', 'o': '148.6790000000'}, 'EURNZD': {'b': '1.9542200000', 'o': '1.9540400000'}, 'USDSGD': {'b': '1.2840900000', '...
2025-07-16 00:21:17,964 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:21:18,410 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:21:18,413 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:21:19,422 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:21:19,425 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:21:20,253 - DEBUG - app.firebase_stream - Firebase listener triggered (348). Event Type: patch, Path: /. Timestamp: 1752650480.2532573
2025-07-16 00:21:20,253 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0280000000', 'o': '13.0263000000'}, 'XAGUSD': {'b': '37.9090000000', 'o': '37.9040000000'}, 'NZDJPY': {'b': '88.4650000000', 'o': '88.4600000000'}, 'GBPAUD': {'b': '2.0541700000',
2025-07-16 00:21:20,253 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0280000000', 'o': '13.0263000000'}, 'XAGUSD': {'b': '37.9090000000', 'o': '37.9040000000'}, 'NZDJPY': {'b': '88.4650000000', 'o': '88.4600000000'}, 'GBPAUD': {'b': '2.0541700000',...
2025-07-16 00:21:20,254 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:21:20,429 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:21:20,434 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:21:21,452 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:21:21,455 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:21:22,458 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:21:22,462 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:21:22,543 - DEBUG - app.firebase_stream - Firebase listener triggered (349). Event Type: patch, Path: /. Timestamp: 1752650482.5435815
2025-07-16 00:21:22,543 - DEBUG - app.firebase_stream - Prepared batch update for 23 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9130000000', 'o': '37.9070000000'}, 'NZDJPY': {'b': '88.4670000000', 'o': '88.4610000000'}, 'GBPAUD': {'b': '2.0541600000', 'o': '2.0540100000'}, 'USDJPY': {'b': '148.6870000000',
2025-07-16 00:21:22,543 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9130000000', 'o': '37.9070000000'}, 'NZDJPY': {'b': '88.4670000000', 'o': '88.4610000000'}, 'GBPAUD': {'b': '2.0541600000', 'o': '2.0540100000'}, 'USDJPY': {'b': '148.6870000000',...
2025-07-16 00:21:22,544 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:21:23,464 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:21:23,469 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:21:24,473 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:21:24,478 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:21:24,920 - DEBUG - app.firebase_stream - Firebase listener triggered (350). Event Type: patch, Path: /. Timestamp: 1752650484.9209087
2025-07-16 00:21:24,921 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0283000000', 'o': '13.0257000000'}, 'XAGUSD': {'b': '37.9120000000', 'o': '37.9070000000'}, 'NZDJPY': {'b': '88.4670000000', 'o': '88.4630000000'}, 'GBPAUD': {'b': '2.0540200000',
2025-07-16 00:21:24,921 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0283000000', 'o': '13.0257000000'}, 'XAGUSD': {'b': '37.9120000000', 'o': '37.9070000000'}, 'NZDJPY': {'b': '88.4670000000', 'o': '88.4630000000'}, 'GBPAUD': {'b': '2.0540200000',...
2025-07-16 00:21:24,921 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:21:25,485 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:21:25,489 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:21:26,492 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:21:26,494 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:21:27,179 - DEBUG - app.firebase_stream - Firebase listener triggered (351). Event Type: patch, Path: /. Timestamp: 1752650487.1795712
2025-07-16 00:21:27,179 - DEBUG - app.firebase_stream - Prepared batch update for 30 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0282000000', 'o': '13.0256000000'}, 'XAGUSD': {'b': '37.9100000000', 'o': '37.9060000000'}, 'NZDJPY': {'b': '88.4710000000', 'o': '88.4650000000'}, 'GBPAUD': {'b': '2.0540900000',
2025-07-16 00:21:27,180 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0282000000', 'o': '13.0256000000'}, 'XAGUSD': {'b': '37.9100000000', 'o': '37.9060000000'}, 'NZDJPY': {'b': '88.4710000000', 'o': '88.4650000000'}, 'GBPAUD': {'b': '2.0540900000',...
2025-07-16 00:21:27,180 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:21:27,498 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:21:27,502 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:21:28,516 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:21:28,520 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:21:29,525 - DEBUG - app.firebase_stream - Firebase listener triggered (352). Event Type: patch, Path: /. Timestamp: 1752650489.5251176
2025-07-16 00:21:29,525 - DEBUG - app.firebase_stream - Prepared batch update for 30 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0281000000', 'o': '13.0255000000'}, 'XAGUSD': {'b': '37.9090000000', 'o': '37.9060000000'}, 'GBPAUD': {'b': '2.0541100000', 'o': '2.0539700000'}, 'USDJPY': {'b': '148.6870000000',
2025-07-16 00:21:29,525 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:21:29,525 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0281000000', 'o': '13.0255000000'}, 'XAGUSD': {'b': '37.9090000000', 'o': '37.9060000000'}, 'GBPAUD': {'b': '2.0541100000', 'o': '2.0539700000'}, 'USDJPY': {'b': '148.6870000000',...
2025-07-16 00:21:29,526 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:21:29,527 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:21:30,537 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:21:30,540 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:21:31,546 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:21:31,550 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:21:31,887 - DEBUG - app.firebase_stream - Firebase listener triggered (353). Event Type: patch, Path: /. Timestamp: 1752650491.8873172
2025-07-16 00:21:31,887 - DEBUG - app.firebase_stream - Prepared batch update for 26 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0290000000', 'o': '13.0264700000'}, 'NZDJPY': {'b': '88.4690000000', 'o': '88.4640000000'}, 'GBPAUD': {'b': '2.0541100000', 'o': '2.0539900000'}, 'USDJPY': {'b': '148.6910000000',
2025-07-16 00:21:31,887 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0290000000', 'o': '13.0264700000'}, 'NZDJPY': {'b': '88.4690000000', 'o': '88.4640000000'}, 'GBPAUD': {'b': '2.0541100000', 'o': '2.0539900000'}, 'USDJPY': {'b': '148.6910000000',...
2025-07-16 00:21:31,887 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:21:32,562 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:21:32,566 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:21:33,573 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:21:33,574 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:21:34,086 - DEBUG - app.firebase_stream - Firebase listener triggered (354). Event Type: patch, Path: /. Timestamp: 1752650494.085977
2025-07-16 00:21:34,086 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0276000000', 'o': '13.0253300000'}, 'XAGUSD': {'b': '37.9090000000', 'o': '37.9040000000'}, 'NZDJPY': {'b': '88.4770000000', 'o': '88.4700000000'}, 'GBPAUD': {'b': '2.0540700000',
2025-07-16 00:21:34,086 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0276000000', 'o': '13.0253300000'}, 'XAGUSD': {'b': '37.9090000000', 'o': '37.9040000000'}, 'NZDJPY': {'b': '88.4770000000', 'o': '88.4700000000'}, 'GBPAUD': {'b': '2.0540700000',...
2025-07-16 00:21:34,086 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:21:34,581 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:21:34,584 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:21:35,597 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:21:35,601 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:21:36,221 - INFO - app - Application shutdown initiated
2025-07-16 00:21:36,221 - INFO - app - Scheduler shutdown completed
2025-07-16 00:21:36,399 - DEBUG - app.firebase_stream - Firebase listener triggered (355). Event Type: patch, Path: /. Timestamp: 1752650496.39961
2025-07-16 00:21:36,400 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0278000000', 'o': '13.0253300000'}, 'XAGUSD': {'b': '37.9090000000', 'o': '37.9060000000'}, 'NZDJPY': {'b': '88.4770000000', 'o': '88.4690000000'}, 'GBPAUD': {'b': '2.0540900000',
2025-07-16 00:21:36,400 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0278000000', 'o': '13.0253300000'}, 'XAGUSD': {'b': '37.9090000000', 'o': '37.9060000000'}, 'NZDJPY': {'b': '88.4770000000', 'o': '88.4690000000'}, 'GBPAUD': {'b': '2.0540900000',...
2025-07-16 00:21:36,400 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:21:36,547 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-07-16 00:21:38,737 - INFO - app.firebase_stream - Firebase listener closed.
2025-07-16 00:21:38,737 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-07-16 00:21:38,740 - INFO - app - Redis connection closed
2025-07-16 00:21:38,742 - INFO - app - Application shutdown completed
2025-07-16 00:22:10,980 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-07-16 00:22:11,019 - INFO - app.core.config - .env file loaded successfully.
2025-07-16 00:22:11,031 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-07-16 00:22:11,031 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-07-16 00:22:11,348 - INFO - app - Application starting up - Trading system initialized
2025-07-16 00:22:11,348 - INFO - app - SL/TP Epsilon accuracy configured: 0.00001
2025-07-16 00:22:11,348 - INFO - app - Environment: DEVELOPMENT
2025-07-16 00:22:11,397 - INFO - app - Application startup initiated
2025-07-16 00:22:11,397 - INFO - app - Initializing core services...
2025-07-16 00:22:11,431 - INFO - app - Firebase initialized
2025-07-16 00:22:11,431 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-07-16 00:22:13,487 - INFO - app - Redis initialized
2025-07-16 00:22:13,496 - INFO - app - [SWAP] daily_swap_charge_job triggered
2025-07-16 00:22:13,498 - INFO - app - Scheduler initialized
2025-07-16 00:22:13,500 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-07-16 00:22:13,500 - DEBUG - app.firebase_stream - Successfully got running event loop in process_firebase_events task.
2025-07-16 00:22:13,500 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-07-16 00:22:14,676 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-07-16 00:22:14,677 - INFO - app - Starting stale cache cleanup task
2025-07-16 00:22:14,686 - DEBUG - app.firebase_stream - Firebase listener triggered (1). Event Type: put, Path: /. Timestamp: 1752650534.6865804
2025-07-16 00:22:14,686 - DEBUG - app.firebase_stream - Prepared batch update for 48 symbols from root path for queue. Preview: {'AUDCAD': {'b': '0.8949000000', 'o': '0.8948800000'}, 'AUDCHF': {'b': '0.5226500000', 'o': '0.5226000000'}, 'AUDJPY': {'b': '97.0640000000', 'o': '97.0580000000'}, 'AUDNZD': {'b': '1.0000000000', 'o'
2025-07-16 00:22:14,687 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'AUDCAD': {'b': '0.8949000000', 'o': '0.8948800000'}, 'AUDCHF': {'b': '0.5226500000', 'o': '0.5226000000'}, 'AUDJPY': {'b': '97.0640000000', 'o': '97.0580000000'}, 'AUDNZD': {'b': '1.0000000000', 'o'...
2025-07-16 00:22:14,687 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type put at path /.
2025-07-16 00:22:15,607 - DEBUG - app.firebase_stream - Firebase listener triggered (2). Event Type: patch, Path: /. Timestamp: 1752650535.607941
2025-07-16 00:22:15,608 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0273000000', 'o': '13.0247000000'}, 'XAGUSD': {'b': '37.9110000000', 'o': '37.9050000000'}, 'NZDJPY': {'b': '88.4770000000', 'o': '88.4740000000'}, 'GBPAUD': {'b': '2.0541000000',
2025-07-16 00:22:15,608 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0273000000', 'o': '13.0247000000'}, 'XAGUSD': {'b': '37.9110000000', 'o': '37.9050000000'}, 'NZDJPY': {'b': '88.4770000000', 'o': '88.4740000000'}, 'GBPAUD': {'b': '2.0541000000',...
2025-07-16 00:22:15,608 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:22:17,967 - DEBUG - app.firebase_stream - Firebase listener triggered (3). Event Type: patch, Path: /. Timestamp: 1752650537.9676912
2025-07-16 00:22:17,967 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9120000000', 'o': '37.9070000000'}, 'NZDJPY': {'b': '88.4830000000', 'o': '88.4740000000'}, 'GBPAUD': {'b': '2.0540300000', 'o': '2.0539400000'}, 'BTCUSD': {'b': '118248.720000000
2025-07-16 00:22:17,968 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'XAGUSD': {'b': '37.9120000000', 'o': '37.9070000000'}, 'NZDJPY': {'b': '88.4830000000', 'o': '88.4740000000'}, 'GBPAUD': {'b': '2.0540300000', 'o': '2.0539400000'}, 'BTCUSD': {'b': '118248.720000000...
2025-07-16 00:22:17,968 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:22:18,775 - INFO - app - Cleaned up pending order stream for new trigger price format
2025-07-16 00:22:18,775 - INFO - app - Background tasks initialized
2025-07-16 00:22:19,373 - INFO - app - Service account JWT for 'barclays_service_provider' was generated and pushed to Firebase.
2025-07-16 00:22:19,373 - INFO - app - Application startup completed successfully
2025-07-16 00:22:19,373 - INFO - app - Starting cache validation task
2025-07-16 00:22:19,376 - INFO - app - Starting Barclays pending order margin checker task.
2025-07-16 00:22:19,377 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:22:19,379 - INFO - app - Starting auto-cutoff order monitoring task.
2025-07-16 00:22:19,392 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:22:19,398 - INFO - app - Validating cache for 31 users
2025-07-16 00:22:20,173 - DEBUG - app.firebase_stream - Firebase listener triggered (4). Event Type: patch, Path: /. Timestamp: 1752650540.1730268
2025-07-16 00:22:20,173 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0272000000', 'o': '13.0246000000'}, 'XAGUSD': {'b': '37.9180000000', 'o': '37.9120000000'}, 'NZDJPY': {'b': '88.4810000000', 'o': '88.4740000000'}, 'GBPAUD': {'b': '2.0538400000',
2025-07-16 00:22:20,173 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 2. Data preview: {'GBPSEK': {'b': '13.0272000000', 'o': '13.0246000000'}, 'XAGUSD': {'b': '37.9180000000', 'o': '37.9120000000'}, 'NZDJPY': {'b': '88.4810000000', 'o': '88.4740000000'}, 'GBPAUD': {'b': '2.0538400000',...
2025-07-16 00:22:20,173 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:22:20,400 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:22:20,402 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:22:21,410 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:22:21,414 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:22:21,432 - INFO - app - Found 23 static orders cache entries to check
2025-07-16 00:22:22,428 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:22:22,430 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:22:22,569 - DEBUG - app.firebase_stream - Firebase listener triggered (5). Event Type: patch, Path: /. Timestamp: 1752650542.5694544
2025-07-16 00:22:22,569 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0274000000', 'o': '13.0252500000'}, 'XAGUSD': {'b': '37.9180000000', 'o': '37.9140000000'}, 'GBPAUD': {'b': '2.0538500000', 'o': '2.0536800000'}, 'BTCUSD': {'b': '118239.010000000
2025-07-16 00:22:22,569 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 2. Data preview: {'GBPSEK': {'b': '13.0274000000', 'o': '13.0252500000'}, 'XAGUSD': {'b': '37.9180000000', 'o': '37.9140000000'}, 'GBPAUD': {'b': '2.0538500000', 'o': '2.0536800000'}, 'BTCUSD': {'b': '118239.010000000...
2025-07-16 00:22:22,569 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:22:23,434 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:22:23,436 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:22:24,448 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:22:24,451 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:22:24,823 - DEBUG - app.firebase_stream - Firebase listener triggered (6). Event Type: patch, Path: /. Timestamp: 1752650544.823572
2025-07-16 00:22:24,823 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9250000000', 'o': '37.9210000000'}, 'NZDJPY': {'b': '88.4800000000', 'o': '88.4740000000'}, 'GBPAUD': {'b': '2.0538500000', 'o': '2.0536900000'}, 'BTCUSD': {'b': '118232.110000000
2025-07-16 00:22:24,823 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 2. Data preview: {'XAGUSD': {'b': '37.9250000000', 'o': '37.9210000000'}, 'NZDJPY': {'b': '88.4800000000', 'o': '88.4740000000'}, 'GBPAUD': {'b': '2.0538500000', 'o': '2.0536900000'}, 'BTCUSD': {'b': '118232.110000000...
2025-07-16 00:22:24,824 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:22:25,468 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:22:25,478 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:22:25,508 - WARNING - app - Found stale cache entry for user 2, will be refreshed on next access
2025-07-16 00:22:25,516 - WARNING - app - Found stale cache entry for user 3, will be refreshed on next access
2025-07-16 00:22:26,487 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:22:26,490 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:22:27,072 - DEBUG - app.firebase_stream - Firebase listener triggered (7). Event Type: patch, Path: /. Timestamp: 1752650547.0729682
2025-07-16 00:22:27,073 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9280000000', 'o': '37.9230000000'}, 'NZDJPY': {'b': '88.4720000000', 'o': '88.4670000000'}, 'GBPAUD': {'b': '2.0539700000', 'o': '2.0538300000'}, 'BTCUSD': {'b': '118213.300000000
2025-07-16 00:22:27,073 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'XAGUSD': {'b': '37.9280000000', 'o': '37.9230000000'}, 'NZDJPY': {'b': '88.4720000000', 'o': '88.4670000000'}, 'GBPAUD': {'b': '2.0539700000', 'o': '2.0538300000'}, 'BTCUSD': {'b': '118213.300000000...
2025-07-16 00:22:27,073 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:22:27,502 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:22:27,505 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:22:27,563 - WARNING - app - Found stale cache entry for user 17, will be refreshed on next access
2025-07-16 00:22:27,567 - WARNING - app - Found stale cache entry for user 18, will be refreshed on next access
2025-07-16 00:22:27,576 - WARNING - app - Found stale cache entry for user 23, will be refreshed on next access
2025-07-16 00:22:27,578 - WARNING - app - Found stale cache entry for user 19, will be refreshed on next access
2025-07-16 00:22:27,581 - WARNING - app - Found stale cache entry for user 8, will be refreshed on next access
2025-07-16 00:22:27,584 - WARNING - app - Found stale cache entry for user 5, will be refreshed on next access
2025-07-16 00:22:27,586 - WARNING - app - Found stale cache entry for user 24, will be refreshed on next access
2025-07-16 00:22:27,588 - WARNING - app - Found stale cache entry for user 13, will be refreshed on next access
2025-07-16 00:22:27,590 - WARNING - app - Found stale cache entry for user 16, will be refreshed on next access
2025-07-16 00:22:27,591 - WARNING - app - Found stale cache entry for user 25, will be refreshed on next access
2025-07-16 00:22:27,596 - WARNING - app - Found stale cache entry for user 12, will be refreshed on next access
2025-07-16 00:22:27,607 - WARNING - app - Found stale cache entry for user 21, will be refreshed on next access
2025-07-16 00:22:27,611 - WARNING - app - Found stale cache entry for user 22, will be refreshed on next access
2025-07-16 00:22:27,621 - WARNING - app - Found stale cache entry for user 6, will be refreshed on next access
2025-07-16 00:22:27,624 - WARNING - app - Found stale cache entry for user 20, will be refreshed on next access
2025-07-16 00:22:27,624 - INFO - app - Completed stale cache cleanup task
2025-07-16 00:22:28,511 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:22:28,514 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:22:29,436 - DEBUG - app.firebase_stream - Firebase listener triggered (8). Event Type: patch, Path: /. Timestamp: 1752650549.4364684
2025-07-16 00:22:29,436 - DEBUG - app.firebase_stream - Prepared batch update for 27 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4800000000', 'o': '88.4730000000'}, 'GBPAUD': {'b': '2.0538700000', 'o': '2.0537300000'}, 'USDJPY': {'b': '148.6950000000', 'o': '148.6910000000'}, 'USDCNH': {'b': '7.1811800000',
2025-07-16 00:22:29,436 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4800000000', 'o': '88.4730000000'}, 'GBPAUD': {'b': '2.0538700000', 'o': '2.0537300000'}, 'USDJPY': {'b': '148.6950000000', 'o': '148.6910000000'}, 'USDCNH': {'b': '7.1811800000',...
2025-07-16 00:22:29,436 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:22:29,516 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:22:29,519 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:22:30,532 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:22:30,534 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:22:31,538 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:22:31,541 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:22:31,691 - DEBUG - app.firebase_stream - Firebase listener triggered (9). Event Type: patch, Path: /. Timestamp: 1752650551.6915114
2025-07-16 00:22:31,691 - DEBUG - app.firebase_stream - Prepared batch update for 30 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0276000000', 'o': '13.0252100000'}, 'XAGUSD': {'b': '37.9070000000', 'o': '37.9010000000'}, 'GBPAUD': {'b': '2.0538500000', 'o': '2.0537100000'}, 'BTCUSD': {'b': '118210.100000000
2025-07-16 00:22:31,692 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0276000000', 'o': '13.0252100000'}, 'XAGUSD': {'b': '37.9070000000', 'o': '37.9010000000'}, 'GBPAUD': {'b': '2.0538500000', 'o': '2.0537100000'}, 'BTCUSD': {'b': '118210.100000000...
2025-07-16 00:22:31,692 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:22:31,707 - WARNING - app - User 1: Missing static orders cache, refreshing...
2025-07-16 00:22:32,552 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:22:32,554 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:22:33,558 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:22:33,563 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:22:34,064 - DEBUG - app.firebase_stream - Firebase listener triggered (10). Event Type: patch, Path: /. Timestamp: 1752650554.0648296
2025-07-16 00:22:34,065 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9330000000', 'o': '37.9310000000'}, 'NZDJPY': {'b': '88.4810000000', 'o': '88.4750000000'}, 'USDJPY': {'b': '148.6920000000', 'o': '148.6890000000'}, 'CADCHF': {'b': '0.5840700000
2025-07-16 00:22:34,065 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9330000000', 'o': '37.9310000000'}, 'NZDJPY': {'b': '88.4810000000', 'o': '88.4750000000'}, 'USDJPY': {'b': '148.6920000000', 'o': '148.6890000000'}, 'CADCHF': {'b': '0.5840700000...
2025-07-16 00:22:34,066 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:22:34,374 - INFO - app - Starting stale cache cleanup task
2025-07-16 00:22:34,573 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:22:34,577 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:22:35,586 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:22:35,589 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:22:35,810 - INFO - app - Found 24 static orders cache entries to check
2025-07-16 00:22:35,828 - WARNING - app - Found stale cache entry for user 2, will be refreshed on next access
2025-07-16 00:22:35,840 - WARNING - app - Found stale cache entry for user 3, will be refreshed on next access
2025-07-16 00:22:35,851 - WARNING - app - Found stale cache entry for user 17, will be refreshed on next access
2025-07-16 00:22:35,856 - WARNING - app - Found stale cache entry for user 18, will be refreshed on next access
2025-07-16 00:22:35,867 - WARNING - app - Found stale cache entry for user 23, will be refreshed on next access
2025-07-16 00:22:35,871 - WARNING - app - Found stale cache entry for user 19, will be refreshed on next access
2025-07-16 00:22:35,876 - WARNING - app - Found stale cache entry for user 8, will be refreshed on next access
2025-07-16 00:22:35,881 - WARNING - app - Found stale cache entry for user 5, will be refreshed on next access
2025-07-16 00:22:35,885 - WARNING - app - Found stale cache entry for user 24, will be refreshed on next access
2025-07-16 00:22:36,310 - DEBUG - app.firebase_stream - Firebase listener triggered (11). Event Type: patch, Path: /. Timestamp: 1752650556.3104336
2025-07-16 00:22:36,311 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0274000000', 'o': '13.0248100000'}, 'XAGUSD': {'b': '37.9070000000', 'o': '37.9020000000'}, 'NZDJPY': {'b': '88.4820000000', 'o': '88.4750000000'}, 'GBPAUD': {'b': '2.0538200000',
2025-07-16 00:22:36,312 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0274000000', 'o': '13.0248100000'}, 'XAGUSD': {'b': '37.9070000000', 'o': '37.9020000000'}, 'NZDJPY': {'b': '88.4820000000', 'o': '88.4750000000'}, 'GBPAUD': {'b': '2.0538200000',...
2025-07-16 00:22:36,312 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:22:36,603 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:22:36,607 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:22:37,614 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:22:37,617 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:22:37,907 - WARNING - app - Found stale cache entry for user 13, will be refreshed on next access
2025-07-16 00:22:37,911 - INFO - app.api.v1.endpoints.users - User ID 24 deleted successfully by admin 5.
2025-07-16 00:22:37,913 - WARNING - app - Found stale cache entry for user 16, will be refreshed on next access
2025-07-16 00:22:37,922 - WARNING - app - Found stale cache entry for user 25, will be refreshed on next access
2025-07-16 00:22:37,937 - INFO - app - Cache validation completed
2025-07-16 00:22:37,942 - WARNING - app - Found stale cache entry for user 12, will be refreshed on next access
2025-07-16 00:22:37,967 - WARNING - app - Found stale cache entry for user 21, will be refreshed on next access
2025-07-16 00:22:37,978 - WARNING - app - Found stale cache entry for user 22, will be refreshed on next access
2025-07-16 00:22:37,987 - WARNING - app - Found stale cache entry for user 6, will be refreshed on next access
2025-07-16 00:22:37,996 - WARNING - app - Found stale cache entry for user 20, will be refreshed on next access
2025-07-16 00:22:37,997 - INFO - app - Completed stale cache cleanup task
2025-07-16 00:22:38,626 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:22:38,629 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:22:38,666 - DEBUG - app.firebase_stream - Firebase listener triggered (12). Event Type: patch, Path: /. Timestamp: 1752650558.6661308
2025-07-16 00:22:38,666 - DEBUG - app.firebase_stream - Prepared batch update for 34 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0268000000', 'o': '13.0242000000'}, 'XAGUSD': {'b': '37.9330000000', 'o': '37.9300000000'}, 'NZDJPY': {'b': '88.4710000000', 'o': '88.4640000000'}, 'GBPAUD': {'b': '2.0538100000',
2025-07-16 00:22:38,667 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0268000000', 'o': '13.0242000000'}, 'XAGUSD': {'b': '37.9330000000', 'o': '37.9300000000'}, 'NZDJPY': {'b': '88.4710000000', 'o': '88.4640000000'}, 'GBPAUD': {'b': '2.0538100000',...
2025-07-16 00:22:38,668 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:22:39,631 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:22:39,634 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:22:39,836 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-07-16 00:22:39,848 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-07-16 00:22:39,850 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-07-16 00:22:39,859 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-07-16 00:22:39,864 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-07-16 00:22:39,908 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-07-16 00:22:39,909 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-07-16 00:22:40,093 - INFO - app.core.config - .env file loaded successfully.
2025-07-16 00:22:40,114 - INFO - app.core.config - .env file loaded successfully.
2025-07-16 00:22:40,117 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-07-16 00:22:40,117 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-07-16 00:22:40,135 - INFO - app.core.config - .env file loaded successfully.
2025-07-16 00:22:40,135 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-07-16 00:22:40,135 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-07-16 00:22:40,156 - INFO - app.core.config - .env file loaded successfully.
2025-07-16 00:22:40,160 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-07-16 00:22:40,160 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-07-16 00:22:40,162 - INFO - app.core.config - .env file loaded successfully.
2025-07-16 00:22:40,166 - INFO - app.core.config - .env file loaded successfully.
2025-07-16 00:22:40,176 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-07-16 00:22:40,177 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-07-16 00:22:40,184 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-07-16 00:22:40,184 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-07-16 00:22:40,185 - INFO - app.core.config - .env file loaded successfully.
2025-07-16 00:22:40,189 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-07-16 00:22:40,189 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-07-16 00:22:40,205 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-07-16 00:22:40,205 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-07-16 00:22:40,636 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:22:40,639 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:22:40,877 - DEBUG - app.firebase_stream - Firebase listener triggered (13). Event Type: patch, Path: /. Timestamp: 1752650560.876959
2025-07-16 00:22:40,878 - DEBUG - app.firebase_stream - Prepared batch update for 30 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0272000000', 'o': '13.0248100000'}, 'NZDJPY': {'b': '88.4820000000', 'o': '88.4740000000'}, 'GBPAUD': {'b': '2.0538300000', 'o': '2.0537000000'}, 'BTCUSD': {'b': '118257.100000000
2025-07-16 00:22:40,882 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0272000000', 'o': '13.0248100000'}, 'NZDJPY': {'b': '88.4820000000', 'o': '88.4740000000'}, 'GBPAUD': {'b': '2.0538300000', 'o': '2.0537000000'}, 'BTCUSD': {'b': '118257.100000000...
2025-07-16 00:22:40,882 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:22:41,642 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:22:41,651 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:22:42,670 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:22:42,674 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:22:43,157 - DEBUG - app.firebase_stream - Firebase listener triggered (14). Event Type: patch, Path: /. Timestamp: 1752650563.1575422
2025-07-16 00:22:43,157 - DEBUG - app.firebase_stream - Prepared batch update for 27 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4810000000', 'o': '88.4750000000'}, 'GBPAUD': {'b': '2.0538300000', 'o': '2.0537100000'}, 'BTCUSD': {'b': '118221.9300000000', 'o': '118211.9300000000'}, 'USDJPY': {'b': '148.6950
2025-07-16 00:22:43,158 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4810000000', 'o': '88.4750000000'}, 'GBPAUD': {'b': '2.0538300000', 'o': '2.0537100000'}, 'BTCUSD': {'b': '118221.9300000000', 'o': '118211.9300000000'}, 'USDJPY': {'b': '148.6950...
2025-07-16 00:22:43,158 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:22:43,684 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:22:43,688 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:22:44,701 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:22:44,705 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:22:45,520 - DEBUG - app.firebase_stream - Firebase listener triggered (15). Event Type: patch, Path: /. Timestamp: 1752650565.520028
2025-07-16 00:22:45,520 - DEBUG - app.firebase_stream - Prepared batch update for 25 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0272000000', 'o': '13.0248200000'}, 'XAGUSD': {'b': '37.9330000000', 'o': '37.9270000000'}, 'NZDJPY': {'b': '88.4760000000', 'o': '88.4670000000'}, 'GBPAUD': {'b': '2.0538700000',
2025-07-16 00:22:45,521 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0272000000', 'o': '13.0248200000'}, 'XAGUSD': {'b': '37.9330000000', 'o': '37.9270000000'}, 'NZDJPY': {'b': '88.4760000000', 'o': '88.4670000000'}, 'GBPAUD': {'b': '2.0538700000',...
2025-07-16 00:22:45,523 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:22:45,707 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:22:45,708 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:22:46,715 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:22:46,719 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:22:47,736 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:22:47,739 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:22:47,783 - DEBUG - app.firebase_stream - Firebase listener triggered (16). Event Type: patch, Path: /. Timestamp: 1752650567.7835538
2025-07-16 00:22:47,784 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0273000000', 'o': '13.0248200000'}, 'XAGUSD': {'b': '37.9120000000', 'o': '37.9070000000'}, 'NZDJPY': {'b': '88.4840000000', 'o': '88.4770000000'}, 'GBPAUD': {'b': '2.0538900000',
2025-07-16 00:22:47,785 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0273000000', 'o': '13.0248200000'}, 'XAGUSD': {'b': '37.9120000000', 'o': '37.9070000000'}, 'NZDJPY': {'b': '88.4840000000', 'o': '88.4770000000'}, 'GBPAUD': {'b': '2.0538900000',...
2025-07-16 00:22:47,790 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:22:48,755 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:22:48,757 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:22:49,761 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:22:49,765 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:22:50,131 - DEBUG - app.firebase_stream - Firebase listener triggered (17). Event Type: patch, Path: /. Timestamp: 1752650570.1318944
2025-07-16 00:22:50,132 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0269000000', 'o': '13.0244700000'}, 'XAGUSD': {'b': '37.9340000000', 'o': '37.9270000000'}, 'NZDJPY': {'b': '88.4800000000', 'o': '88.4770000000'}, 'USDCNH': {'b': '7.1811300000',
2025-07-16 00:22:50,133 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0269000000', 'o': '13.0244700000'}, 'XAGUSD': {'b': '37.9340000000', 'o': '37.9270000000'}, 'NZDJPY': {'b': '88.4800000000', 'o': '88.4770000000'}, 'USDCNH': {'b': '7.1811300000',...
2025-07-16 00:22:50,136 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:22:50,780 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:22:50,784 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:22:51,799 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:22:51,803 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:22:52,370 - DEBUG - app.firebase_stream - Firebase listener triggered (18). Event Type: patch, Path: /. Timestamp: 1752650572.3701465
2025-07-16 00:22:52,370 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9290000000', 'o': '37.9240000000'}, 'GBPAUD': {'b': '2.0539800000', 'o': '2.0539700000'}, 'BTCUSD': {'b': '118248.7200000000', 'o': '118248.7200000000'}, 'USDJPY': {'b': '148.6970
2025-07-16 00:22:52,370 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9290000000', 'o': '37.9240000000'}, 'GBPAUD': {'b': '2.0539800000', 'o': '2.0539700000'}, 'BTCUSD': {'b': '118248.7200000000', 'o': '118248.7200000000'}, 'USDJPY': {'b': '148.6970...
2025-07-16 00:22:52,371 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:22:52,817 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:22:52,821 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:22:53,830 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:22:53,834 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:22:54,749 - DEBUG - app.firebase_stream - Firebase listener triggered (19). Event Type: patch, Path: /. Timestamp: 1752650574.7499073
2025-07-16 00:22:54,750 - DEBUG - app.firebase_stream - Prepared batch update for 37 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0275000000', 'o': '13.0249000000'}, 'NZDJPY': {'b': '88.4760000000', 'o': '88.4680000000'}, 'GBPAUD': {'b': '2.0540700000', 'o': '2.0539700000'}, 'BTCUSD': {'b': '118218.300000000
2025-07-16 00:22:54,751 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0275000000', 'o': '13.0249000000'}, 'NZDJPY': {'b': '88.4760000000', 'o': '88.4680000000'}, 'GBPAUD': {'b': '2.0540700000', 'o': '2.0539700000'}, 'BTCUSD': {'b': '118218.300000000...
2025-07-16 00:22:54,753 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:22:54,841 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:22:54,848 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:22:55,866 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:22:55,869 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:22:56,872 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:22:56,877 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:22:56,937 - DEBUG - app.firebase_stream - Firebase listener triggered (20). Event Type: patch, Path: /. Timestamp: 1752650576.9369833
2025-07-16 00:22:56,937 - DEBUG - app.firebase_stream - Prepared batch update for 30 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0273000000', 'o': '13.0247400000'}, 'NZDJPY': {'b': '88.4760000000', 'o': '88.4690000000'}, 'GBPAUD': {'b': '2.0541100000', 'o': '2.0539900000'}, 'USDJPY': {'b': '148.7020000000',
2025-07-16 00:22:56,937 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0273000000', 'o': '13.0247400000'}, 'NZDJPY': {'b': '88.4760000000', 'o': '88.4690000000'}, 'GBPAUD': {'b': '2.0541100000', 'o': '2.0539900000'}, 'USDJPY': {'b': '148.7020000000',...
2025-07-16 00:22:56,937 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:22:57,880 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:22:57,883 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:22:58,887 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:22:58,890 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:22:59,291 - DEBUG - app.firebase_stream - Firebase listener triggered (21). Event Type: patch, Path: /. Timestamp: 1752650579.2918618
2025-07-16 00:22:59,292 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'GBPAUD': {'b': '2.0541000000', 'o': '2.0539700000'}, 'BTCUSD': {'b': '118218.4000000000', 'o': '118218.3000000000'}, 'USDJPY': {'b': '148.7010000000', 'o': '148.6990000000'}, 'USDCNH': {'b': '7.1811
2025-07-16 00:22:59,293 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPAUD': {'b': '2.0541000000', 'o': '2.0539700000'}, 'BTCUSD': {'b': '118218.4000000000', 'o': '118218.3000000000'}, 'USDJPY': {'b': '148.7010000000', 'o': '148.6990000000'}, 'USDCNH': {'b': '7.1811...
2025-07-16 00:22:59,295 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:22:59,901 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:22:59,905 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:00,909 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:00,912 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:01,558 - DEBUG - app.firebase_stream - Firebase listener triggered (22). Event Type: patch, Path: /. Timestamp: 1752650581.55807
2025-07-16 00:23:01,558 - DEBUG - app.firebase_stream - Prepared batch update for 22 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9250000000', 'o': '37.9220000000'}, 'NZDJPY': {'b': '88.4760000000', 'o': '88.4680000000'}, 'GBPAUD': {'b': '2.0541100000', 'o': '2.0540000000'}, 'USDCNH': {'b': '7.1811400000', '
2025-07-16 00:23:01,558 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9250000000', 'o': '37.9220000000'}, 'NZDJPY': {'b': '88.4760000000', 'o': '88.4680000000'}, 'GBPAUD': {'b': '2.0541100000', 'o': '2.0540000000'}, 'USDCNH': {'b': '7.1811400000', '...
2025-07-16 00:23:01,559 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:23:01,920 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:01,926 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:02,930 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:02,933 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:03,851 - DEBUG - app.firebase_stream - Firebase listener triggered (23). Event Type: patch, Path: /. Timestamp: 1752650583.8513474
2025-07-16 00:23:03,852 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9280000000', 'o': '37.9230000000'}, 'GBPAUD': {'b': '2.0541000000', 'o': '2.0539600000'}, 'BTCUSD': {'b': '118213.3000000000', 'o': '118213.2000000000'}, 'USDJPY': {'b': '148.6940
2025-07-16 00:23:03,853 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9280000000', 'o': '37.9230000000'}, 'GBPAUD': {'b': '2.0541000000', 'o': '2.0539600000'}, 'BTCUSD': {'b': '118213.3000000000', 'o': '118213.2000000000'}, 'USDJPY': {'b': '148.6940...
2025-07-16 00:23:03,861 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:23:03,936 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:03,939 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:04,948 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:04,952 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:05,968 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:05,972 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:06,171 - DEBUG - app.firebase_stream - Firebase listener triggered (24). Event Type: patch, Path: /. Timestamp: 1752650586.1716704
2025-07-16 00:23:06,172 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0272000000', 'o': '13.0247200000'}, 'XAGUSD': {'b': '37.9240000000', 'o': '37.9200000000'}, 'NZDJPY': {'b': '88.4740000000', 'o': '88.4680000000'}, 'GBPAUD': {'b': '2.0540900000',
2025-07-16 00:23:06,172 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0272000000', 'o': '13.0247200000'}, 'XAGUSD': {'b': '37.9240000000', 'o': '37.9200000000'}, 'NZDJPY': {'b': '88.4740000000', 'o': '88.4680000000'}, 'GBPAUD': {'b': '2.0540900000',...
2025-07-16 00:23:06,172 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:23:06,975 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:06,980 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:07,997 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:08,002 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:08,432 - DEBUG - app.firebase_stream - Firebase listener triggered (25). Event Type: patch, Path: /. Timestamp: 1752650588.4328246
2025-07-16 00:23:08,433 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9240000000', 'o': '37.9210000000'}, 'NZDJPY': {'b': '88.4730000000', 'o': '88.4680000000'}, 'GBPAUD': {'b': '2.0541000000', 'o': '2.0539600000'}, 'USDJPY': {'b': '148.7010000000',
2025-07-16 00:23:08,433 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9240000000', 'o': '37.9210000000'}, 'NZDJPY': {'b': '88.4730000000', 'o': '88.4680000000'}, 'GBPAUD': {'b': '2.0541000000', 'o': '2.0539600000'}, 'USDJPY': {'b': '148.7010000000',...
2025-07-16 00:23:08,433 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:23:09,005 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:09,008 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:10,010 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:10,015 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:10,797 - DEBUG - app.firebase_stream - Firebase listener triggered (26). Event Type: patch, Path: /. Timestamp: 1752650590.7969866
2025-07-16 00:23:10,797 - DEBUG - app.firebase_stream - Prepared batch update for 21 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0274000000', 'o': '13.0248100000'}, 'XAGUSD': {'b': '37.9240000000', 'o': '37.9200000000'}, 'NZDJPY': {'b': '88.4820000000', 'o': '88.4750000000'}, 'GBPAUD': {'b': '2.0541000000',
2025-07-16 00:23:10,797 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0274000000', 'o': '13.0248100000'}, 'XAGUSD': {'b': '37.9240000000', 'o': '37.9200000000'}, 'NZDJPY': {'b': '88.4820000000', 'o': '88.4750000000'}, 'GBPAUD': {'b': '2.0541000000',...
2025-07-16 00:23:10,797 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:23:11,021 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:11,024 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:12,031 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:12,037 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:13,040 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:13,078 - DEBUG - app.firebase_stream - Firebase listener triggered (27). Event Type: patch, Path: /. Timestamp: 1752650593.0782351
2025-07-16 00:23:13,078 - DEBUG - app.firebase_stream - Prepared batch update for 35 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0273000000', 'o': '13.0247200000'}, 'XAGUSD': {'b': '37.9270000000', 'o': '37.9260000000'}, 'NZDJPY': {'b': '88.4810000000', 'o': '88.4750000000'}, 'GBPAUD': {'b': '2.0541200000',
2025-07-16 00:23:13,079 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0273000000', 'o': '13.0247200000'}, 'XAGUSD': {'b': '37.9270000000', 'o': '37.9260000000'}, 'NZDJPY': {'b': '88.4810000000', 'o': '88.4750000000'}, 'GBPAUD': {'b': '2.0541200000',...
2025-07-16 00:23:13,080 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:23:13,079 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:13,550 - WARNING - app - User 4 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:23:13,557 - WARNING - app - No user data found for user 5 (live). Skipping portfolio update.
2025-07-16 00:23:13,567 - WARNING - app - No group settings found for group string. Skipping portfolio update for user 8.
2025-07-16 00:23:13,600 - WARNING - app - User 9 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:23:13,635 - WARNING - app - User 10 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:23:13,666 - WARNING - app - User 11 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:23:13,691 - WARNING - app - User 12 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:23:13,718 - WARNING - app - User 13 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:23:14,155 - DEBUG - app.services.portfolio_calculator - Position calculation for BTCUSD: Type=BUY, Entry=118908.50000000, Current=118152.72, Quantity=0.40000000, Contract Size=1.00000000, PnL=-302.312000000000000000000000, PnL USD=-302.312000000000000000000000, Commission=235.57000000, Final PnL=-537.882000000000000000000000
2025-07-16 00:23:14,155 - WARNING - app.services.portfolio_calculator - MARGIN CALL ALERT: User has margin level 99.37818445397459122780765235% which is below threshold 100.0%
2025-07-16 00:23:14,157 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:14,161 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:14,205 - WARNING - app - User 16 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:23:14,236 - WARNING - app - User 17 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:23:14,256 - WARNING - app - User 18 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:23:14,277 - WARNING - app - User 19 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:23:14,298 - WARNING - app - User 20 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:23:14,317 - WARNING - app - User 21 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:23:14,339 - WARNING - app - User 22 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:23:14,359 - WARNING - app - User 23 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:23:14,380 - WARNING - app - User 25 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:23:14,782 - DEBUG - app.services.portfolio_calculator - Position calculation for XAGUSD: Type=BUY, Entry=41.09800000, Current=37.9135, Quantity=0.01000000, Contract Size=5000.00000000, PnL=-159.225000000000000000000000, PnL USD=-159.225000000000000000000000, Commission=0.10000000, Final PnL=-159.325000000000000000000000
2025-07-16 00:23:14,783 - DEBUG - app.services.portfolio_calculator - Position calculation for BTCUSD: Type=BUY, Entry=132091.90000000, Current=118152.72, Quantity=6.00000000, Contract Size=1.00000000, PnL=-83635.08000000000000000000000, PnL USD=-83635.08000000000000000000000, Commission=3661.62000000, Final PnL=-87296.70000000000000000000000
2025-07-16 00:23:14,783 - WARNING - app.services.portfolio_calculator - MARGIN CALL ALERT: User has margin level 66.14338366381091456316154197% which is below threshold 100.0%
2025-07-16 00:23:15,295 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:15,297 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=96.66800000, Current=97.00200000000001, Quantity=0.01000000, Contract Size=100000.00000000, PnL=334.0000000000100000000000000, PnL USD=2.246133154001412239408204438, Commission=0.10000000, Final PnL=2.146133154001412239408204438
2025-07-16 00:23:15,298 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:15,298 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=96.56000000, Current=97.108, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-548.000000000000000000000000, PnL USD=-3.685272360457296570275722932, Commission=0.10000000, Final PnL=-3.785272360457296570275722932
2025-07-16 00:23:15,301 - WARNING - app - User 2 has no group_name set. Skipping portfolio update.
2025-07-16 00:23:15,307 - WARNING - app - No group settings found for group string. Skipping portfolio update for user 3.
2025-07-16 00:23:15,333 - WARNING - app - User 4 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:23:15,334 - WARNING - app - User 5 has no group_name set. Skipping portfolio update.
2025-07-16 00:23:15,335 - WARNING - app - User 6 has no group_name set. Skipping portfolio update.
2025-07-16 00:23:15,361 - DEBUG - app.firebase_stream - Firebase listener triggered (28). Event Type: patch, Path: /. Timestamp: 1752650595.3613424
2025-07-16 00:23:15,362 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0272000000', 'o': '13.0247200000'}, 'NZDJPY': {'b': '88.4730000000', 'o': '88.4680000000'}, 'GBPAUD': {'b': '2.0541200000', 'o': '2.0539500000'}, 'BTCUSD': {'b': '118226.500000000
2025-07-16 00:23:15,362 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0272000000', 'o': '13.0247200000'}, 'NZDJPY': {'b': '88.4730000000', 'o': '88.4680000000'}, 'GBPAUD': {'b': '2.0541200000', 'o': '2.0539500000'}, 'BTCUSD': {'b': '118226.500000000...
2025-07-16 00:23:15,362 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:23:15,819 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64743000, Current=0.65255, Quantity=0.10000000, Contract Size=100000.00000000, PnL=51.200000000000000000000000, PnL USD=51.200000000000000000000000, Commission=1.00000000, Final PnL=50.200000000000000000000000
2025-07-16 00:23:15,819 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=SELL, Entry=0.64707000, Current=0.65286, Quantity=0.22000000, Contract Size=100000.00000000, PnL=-127.380000000000000000000000, PnL USD=-127.380000000000000000000000, Commission=2.20000000, Final PnL=-129.580000000000000000000000
2025-07-16 00:23:15,820 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFSGD: Type=BUY, Entry=1.57561500, Current=1.6034650000000001, Quantity=0.10000000, Contract Size=100000.00000000, PnL=278.5000000000010000000000000, PnL USD=216.8884873877600130833988801, Commission=1.00000000, Final PnL=215.8884873877600130833988801
2025-07-16 00:23:15,822 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFSGD: Type=SELL, Entry=1.57505500, Current=1.6038649999999999, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-288.0999999999990000000000000, PnL USD=-224.3647153192575171135529994, Commission=1.00000000, Final PnL=-225.3647153192575171135529994
2025-07-16 00:23:15,823 - DEBUG - app.services.portfolio_calculator - Position calculation for CADJPY: Type=SELL, Entry=106.24150000, Current=108.4795, Quantity=0.15000000, Contract Size=100000.00000000, PnL=-33570.00000000000000000000000, PnL USD=-225.7535204637462845153394036, Commission=0E-8, Final PnL=-225.7535204637462845153394036
2025-07-16 00:23:15,824 - DEBUG - app.services.portfolio_calculator - Position calculation for CADJPY: Type=BUY, Entry=106.27050000, Current=108.4465, Quantity=0.15000000, Contract Size=100000.00000000, PnL=32640.00000000000000000000000, PnL USD=219.4994014875388360613845140, Commission=0E-8, Final PnL=219.4994014875388360613845140
2025-07-16 00:23:15,824 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=BUY, Entry=1.77481000, Current=1.7809, Quantity=0.22000000, Contract Size=100000.00000000, PnL=133.980000000000000000000000, PnL USD=87.46348380000000000000000000, Commission=2.20000000, Final PnL=85.26348380000000000000000000
2025-07-16 00:23:15,824 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=SELL, Entry=1.77439000, Current=1.7812700000000001, Quantity=0.21000000, Contract Size=100000.00000000, PnL=-144.4800000000021000000000000, PnL USD=-94.31798880000137090100000000, Commission=2.10000000, Final PnL=-96.41798880000137090100000000
2025-07-16 00:23:15,826 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFJPY: Type=BUY, Entry=178.15500000, Current=185.685, Quantity=0.10000000, Contract Size=100000.00000000, PnL=75300.00000000000000000000000, PnL USD=506.3818912993772780460249358, Commission=1.00000000, Final PnL=505.3818912993772780460249358
2025-07-16 00:23:15,828 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFJPY: Type=SELL, Entry=178.09500000, Current=185.725, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-76300.00000000000000000000000, PnL USD=-513.1067504135788355233957849, Commission=1.00000000, Final PnL=-514.1067504135788355233957849
2025-07-16 00:23:15,828 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=BUY, Entry=1.77480000, Current=1.7809, Quantity=0.05000000, Contract Size=100000.00000000, PnL=30.500000000000000000000000, PnL USD=19.91070500000000000000000000, Commission=0.50000000, Final PnL=19.41070500000000000000000000
2025-07-16 00:23:15,828 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=SELL, Entry=1.77442000, Current=1.7812700000000001, Quantity=0.05000000, Contract Size=100000.00000000, PnL=-34.25000000000050000000000000, PnL USD=-22.35874250000032640500000000, Commission=0.50000000, Final PnL=-22.85874250000032640500000000
2025-07-16 00:23:15,828 - DEBUG - app.services.portfolio_calculator - Position calculation for EURGBP: Type=SELL, Entry=0.85403000, Current=0.86742, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-133.900000000000000000000000, PnL USD=-179.5143740000000000000000000, Commission=1.00000000, Final PnL=-180.5143740000000000000000000
2025-07-16 00:23:15,830 - DEBUG - app.services.portfolio_calculator - Position calculation for EURJPY: Type=BUY, Entry=167.26050000, Current=172.8775, Quantity=0.10000000, Contract Size=100000.00000000, PnL=56170.00000000000000000000000, PnL USD=377.7353364447014835039205929, Commission=1.00000000, Final PnL=376.7353364447014835039205929
2025-07-16 00:23:15,832 - DEBUG - app.services.portfolio_calculator - Position calculation for EURJPY: Type=SELL, Entry=167.23150000, Current=172.9065, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-56750.00000000000000000000000, PnL USD=-381.6357547309383868407956853, Commission=1.00000000, Final PnL=-382.6357547309383868407956853
2025-07-16 00:23:15,832 - DEBUG - app.services.portfolio_calculator - Position calculation for EURNZD: Type=SELL, Entry=1.91952500, Current=1.954385, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-348.600000000000000000000000, PnL USD=-207.4100280000000000000000000, Commission=1.00000000, Final PnL=-208.4100280000000000000000000
2025-07-16 00:23:15,832 - DEBUG - app.services.portfolio_calculator - Position calculation for EURNZD: Type=BUY, Entry=1.92063500, Current=1.953945, Quantity=0.10000000, Contract Size=100000.00000000, PnL=333.100000000000000000000000, PnL USD=198.1878380000000000000000000, Commission=1.00000000, Final PnL=197.1878380000000000000000000
2025-07-16 00:23:15,832 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=SELL, Entry=1.34376000, Current=1.34078, Quantity=0.25000000, Contract Size=0E-8, PnL=0E-24, PnL USD=0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:23:15,833 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=SELL, Entry=1.34361000, Current=1.34078, Quantity=0.25000000, Contract Size=0E-8, PnL=0E-24, PnL USD=0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:23:15,833 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=BUY, Entry=1.34379000, Current=1.34057, Quantity=0.25000000, Contract Size=0E-8, PnL=-0E-24, PnL USD=-0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:23:15,833 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=BUY, Entry=1.34378000, Current=1.34057, Quantity=0.25000000, Contract Size=0E-8, PnL=-0E-24, PnL USD=-0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:23:15,834 - DEBUG - app.services.portfolio_calculator - Position calculation for NZDJPY: Type=BUY, Entry=87.10150000, Current=88.46249999999999, Quantity=0.01000000, Contract Size=100000.00000000, PnL=1360.999999999990000000000000, PnL USD=9.152533254428252478110583583, Commission=0.10000000, Final PnL=9.052533254428252478110583583
2025-07-16 00:23:15,835 - DEBUG - app.services.portfolio_calculator - Position calculation for USDCHF: Type=SELL, Entry=0.81771000, Current=0.80089, Quantity=0.15000000, Contract Size=100000.00000000, PnL=252.300000000000000000000000, PnL USD=315.0835477183605165222169493, Commission=1.50000000, Final PnL=313.5835477183605165222169493
2025-07-16 00:23:15,838 - DEBUG - app.services.portfolio_calculator - Position calculation for USDCHF: Type=BUY, Entry=0.81805000, Current=0.80057, Quantity=0.15000000, Contract Size=100000.00000000, PnL=-262.200000000000000000000000, PnL USD=-327.4471114219347103928865799, Commission=1.50000000, Final PnL=-328.9471114219347103928865799
2025-07-16 00:23:15,839 - DEBUG - app.services.portfolio_calculator - Position calculation for USDNOK: Type=BUY, Entry=10.04973000, Current=10.25383, Quantity=0.10000000, Contract Size=100000.00000000, PnL=2041.000000000000000000000000, PnL USD=199.0332115339794842689649590, Commission=1.00000000, Final PnL=198.0332115339794842689649590
2025-07-16 00:23:15,841 - DEBUG - app.services.portfolio_calculator - Position calculation for USDNOK: Type=BUY, Entry=10.05023000, Current=10.25383, Quantity=0.10000000, Contract Size=100000.00000000, PnL=2036.000000000000000000000000, PnL USD=198.5456240485949191433672987, Commission=1.00000000, Final PnL=197.5456240485949191433672987
2025-07-16 00:23:15,842 - DEBUG - app.services.portfolio_calculator - Position calculation for USDSGD: Type=SELL, Entry=1.28795000, Current=1.2842200000000001, Quantity=0.31000000, Contract Size=100000.00000000, PnL=115.6299999999969000000000000, PnL USD=90.04960788741805353290708450, Commission=3.10000000, Final PnL=86.94960788741805353290708450
2025-07-16 00:23:15,844 - DEBUG - app.services.portfolio_calculator - Position calculation for USDTRY: Type=SELL, Entry=39.56087000, Current=40.25812, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-6972.500000000000000000000000, PnL USD=-173.1955188003766707561260540, Commission=1.00000000, Final PnL=-174.1955188003766707561260540
2025-07-16 00:23:16,300 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:16,304 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:16,609 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.89752000, Current=0.8948, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-2.720000000000000000000000, PnL USD=-1.983953318745441283734500365, Commission=0.10000000, Final PnL=-2.083953318745441283734500365
2025-07-16 00:23:16,634 - WARNING - app - User 12 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:23:16,660 - WARNING - app - User 13 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:23:17,316 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:17,318 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:17,668 - DEBUG - app.firebase_stream - Firebase listener triggered (29). Event Type: patch, Path: /. Timestamp: 1752650597.6680243
2025-07-16 00:23:17,668 - DEBUG - app.firebase_stream - Prepared batch update for 22 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4750000000', 'o': '88.4690000000'}, 'USDJPY': {'b': '148.7020000000', 'o': '148.6990000000'}, 'USDCNH': {'b': '7.1811200000', 'o': '7.1811200000'}, 'CADCHF': {'b': '0.5841100000',
2025-07-16 00:23:17,670 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4750000000', 'o': '88.4690000000'}, 'USDJPY': {'b': '148.7020000000', 'o': '148.6990000000'}, 'USDCNH': {'b': '7.1811200000', 'o': '7.1811200000'}, 'CADCHF': {'b': '0.5841100000',...
2025-07-16 00:23:17,670 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:23:18,325 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:18,328 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:19,334 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:19,336 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:19,959 - DEBUG - app.firebase_stream - Firebase listener triggered (30). Event Type: patch, Path: /. Timestamp: 1752650599.959509
2025-07-16 00:23:19,959 - DEBUG - app.firebase_stream - Prepared batch update for 26 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0275000000', 'o': '13.0249000000'}, 'XAGUSD': {'b': '37.9330000000', 'o': '37.9270000000'}, 'NZDJPY': {'b': '88.4810000000', 'o': '88.4750000000'}, 'GBPAUD': {'b': '2.0540400000',
2025-07-16 00:23:19,961 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0275000000', 'o': '13.0249000000'}, 'XAGUSD': {'b': '37.9330000000', 'o': '37.9270000000'}, 'NZDJPY': {'b': '88.4810000000', 'o': '88.4750000000'}, 'GBPAUD': {'b': '2.0540400000',...
2025-07-16 00:23:19,962 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:23:20,345 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:20,348 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:21,351 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:21,355 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:22,301 - DEBUG - app.firebase_stream - Firebase listener triggered (31). Event Type: patch, Path: /. Timestamp: 1752650602.3017602
2025-07-16 00:23:22,302 - DEBUG - app.firebase_stream - Prepared batch update for 36 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0271000000', 'o': '13.0245000000'}, 'XAGUSD': {'b': '37.9320000000', 'o': '37.9270000000'}, 'NZDJPY': {'b': '88.4800000000', 'o': '88.4710000000'}, 'GBPAUD': {'b': '2.0540100000',
2025-07-16 00:23:22,302 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0271000000', 'o': '13.0245000000'}, 'XAGUSD': {'b': '37.9320000000', 'o': '37.9270000000'}, 'NZDJPY': {'b': '88.4800000000', 'o': '88.4710000000'}, 'GBPAUD': {'b': '2.0540100000',...
2025-07-16 00:23:22,303 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:23:22,359 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:22,366 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:23,387 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:23,393 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:24,397 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:24,399 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:24,635 - DEBUG - app.firebase_stream - Firebase listener triggered (32). Event Type: patch, Path: /. Timestamp: 1752650604.6358767
2025-07-16 00:23:24,636 - DEBUG - app.firebase_stream - Prepared batch update for 27 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9340000000', 'o': '37.9270000000'}, 'NZDJPY': {'b': '88.4800000000', 'o': '88.4760000000'}, 'GBPAUD': {'b': '2.0540100000', 'o': '2.0538700000'}, 'BTCUSD': {'b': '118241.700000000
2025-07-16 00:23:24,636 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9340000000', 'o': '37.9270000000'}, 'NZDJPY': {'b': '88.4800000000', 'o': '88.4760000000'}, 'GBPAUD': {'b': '2.0540100000', 'o': '2.0538700000'}, 'BTCUSD': {'b': '118241.700000000...
2025-07-16 00:23:24,637 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:23:25,404 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:25,407 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:26,423 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:26,426 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:26,901 - DEBUG - app.firebase_stream - Firebase listener triggered (33). Event Type: patch, Path: /. Timestamp: 1752650606.9014742
2025-07-16 00:23:26,902 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0268400000', 'o': '13.0245000000'}, 'XAGUSD': {'b': '37.9330000000', 'o': '37.9270000000'}, 'NZDJPY': {'b': '88.4850000000', 'o': '88.4810000000'}, 'GBPAUD': {'b': '2.0538900000',
2025-07-16 00:23:26,903 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0268400000', 'o': '13.0245000000'}, 'XAGUSD': {'b': '37.9330000000', 'o': '37.9270000000'}, 'NZDJPY': {'b': '88.4850000000', 'o': '88.4810000000'}, 'GBPAUD': {'b': '2.0538900000',...
2025-07-16 00:23:26,907 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:23:27,434 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:27,438 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:28,449 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:28,453 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:29,268 - DEBUG - app.firebase_stream - Firebase listener triggered (34). Event Type: patch, Path: /. Timestamp: 1752650609.268853
2025-07-16 00:23:29,269 - DEBUG - app.firebase_stream - Prepared batch update for 34 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9290000000', 'o': '37.9240000000'}, 'NZDJPY': {'b': '88.4880000000', 'o': '88.4810000000'}, 'GBPAUD': {'b': '2.0539800000', 'o': '2.0538200000'}, 'BTCUSD': {'b': '118234.970000000
2025-07-16 00:23:29,270 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9290000000', 'o': '37.9240000000'}, 'NZDJPY': {'b': '88.4880000000', 'o': '88.4810000000'}, 'GBPAUD': {'b': '2.0539800000', 'o': '2.0538200000'}, 'BTCUSD': {'b': '118234.970000000...
2025-07-16 00:23:29,278 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:23:29,455 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:29,457 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:30,460 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:30,462 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:31,492 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:31,502 - DEBUG - app.firebase_stream - Firebase listener triggered (35). Event Type: patch, Path: /. Timestamp: 1752650611.5024135
2025-07-16 00:23:31,503 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'GBPAUD': {'b': '2.0539900000', 'o': '2.0538200000'}, 'BTCUSD': {'b': '118234.9000000000', 'o': '118234.8000000000'}, 'USDJPY': {'b': '148.7020000000', 'o': '148.6990000000'}, 'USDCNH': {'b': '7.1811
2025-07-16 00:23:31,504 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPAUD': {'b': '2.0539900000', 'o': '2.0538200000'}, 'BTCUSD': {'b': '118234.9000000000', 'o': '118234.8000000000'}, 'USDJPY': {'b': '148.7020000000', 'o': '148.6990000000'}, 'USDCNH': {'b': '7.1811...
2025-07-16 00:23:31,504 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:23:31,506 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:32,535 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:32,540 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:33,551 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:33,556 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:33,734 - DEBUG - app.firebase_stream - Firebase listener triggered (36). Event Type: patch, Path: /. Timestamp: 1752650613.7339585
2025-07-16 00:23:33,734 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9340000000', 'o': '37.9270000000'}, 'NZDJPY': {'b': '88.4860000000', 'o': '88.4790000000'}, 'GBPAUD': {'b': '2.0540000000', 'o': '2.0538500000'}, 'USDJPY': {'b': '148.7210000000',
2025-07-16 00:23:33,734 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9340000000', 'o': '37.9270000000'}, 'NZDJPY': {'b': '88.4860000000', 'o': '88.4790000000'}, 'GBPAUD': {'b': '2.0540000000', 'o': '2.0538500000'}, 'USDJPY': {'b': '148.7210000000',...
2025-07-16 00:23:33,734 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:23:34,563 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:34,564 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:35,567 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:35,572 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:36,111 - DEBUG - app.firebase_stream - Firebase listener triggered (37). Event Type: patch, Path: /. Timestamp: 1752650616.111133
2025-07-16 00:23:36,111 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0267800000', 'o': '13.0243000000'}, 'XAGUSD': {'b': '37.9330000000', 'o': '37.9270000000'}, 'GBPAUD': {'b': '2.0540300000', 'o': '2.0538800000'}, 'BTCUSD': {'b': '118218.300000000
2025-07-16 00:23:36,117 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0267800000', 'o': '13.0243000000'}, 'XAGUSD': {'b': '37.9330000000', 'o': '37.9270000000'}, 'GBPAUD': {'b': '2.0540300000', 'o': '2.0538800000'}, 'BTCUSD': {'b': '118218.300000000...
2025-07-16 00:23:36,117 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:23:36,576 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:36,580 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:37,589 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:37,594 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:38,361 - DEBUG - app.firebase_stream - Firebase listener triggered (38). Event Type: patch, Path: /. Timestamp: 1752650618.3613734
2025-07-16 00:23:38,362 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9320000000', 'o': '37.9270000000'}, 'NZDJPY': {'b': '88.4870000000', 'o': '88.4800000000'}, 'GBPAUD': {'b': '2.0540300000', 'o': '2.0538700000'}, 'BTCUSD': {'b': '118234.900000000
2025-07-16 00:23:38,363 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9320000000', 'o': '37.9270000000'}, 'NZDJPY': {'b': '88.4870000000', 'o': '88.4800000000'}, 'GBPAUD': {'b': '2.0540300000', 'o': '2.0538700000'}, 'BTCUSD': {'b': '118234.900000000...
2025-07-16 00:23:38,368 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:23:38,608 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:38,613 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:39,617 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:39,621 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:40,628 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:40,633 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:40,658 - DEBUG - app.firebase_stream - Firebase listener triggered (39). Event Type: patch, Path: /. Timestamp: 1752650620.6588457
2025-07-16 00:23:40,659 - DEBUG - app.firebase_stream - Prepared batch update for 26 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4880000000', 'o': '88.4820000000'}, 'GBPAUD': {'b': '2.0539300000', 'o': '2.0538700000'}, 'BTCUSD': {'b': '118226.5000000000', 'o': '118226.4000000000'}, 'CADCHF': {'b': '0.584110
2025-07-16 00:23:40,660 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4880000000', 'o': '88.4820000000'}, 'GBPAUD': {'b': '2.0539300000', 'o': '2.0538700000'}, 'BTCUSD': {'b': '118226.5000000000', 'o': '118226.4000000000'}, 'CADCHF': {'b': '0.584110...
2025-07-16 00:23:40,662 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:23:41,665 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:41,669 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:42,682 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:42,686 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:42,974 - DEBUG - app.firebase_stream - Firebase listener triggered (40). Event Type: patch, Path: /. Timestamp: 1752650622.9745338
2025-07-16 00:23:42,975 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0264000000', 'o': '13.0238600000'}, 'XAGUSD': {'b': '37.9330000000', 'o': '37.9260000000'}, 'NZDJPY': {'b': '88.4740000000', 'o': '88.4680000000'}, 'GBPAUD': {'b': '2.0539500000',
2025-07-16 00:23:42,975 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0264000000', 'o': '13.0238600000'}, 'XAGUSD': {'b': '37.9330000000', 'o': '37.9260000000'}, 'NZDJPY': {'b': '88.4740000000', 'o': '88.4680000000'}, 'GBPAUD': {'b': '2.0539500000',...
2025-07-16 00:23:42,976 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:23:43,693 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:43,698 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:44,710 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:44,713 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:45,248 - DEBUG - app.firebase_stream - Firebase listener triggered (41). Event Type: patch, Path: /. Timestamp: 1752650625.248505
2025-07-16 00:23:45,248 - DEBUG - app.firebase_stream - Prepared batch update for 23 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0265000000', 'o': '13.0241000000'}, 'XAGUSD': {'b': '37.9340000000', 'o': '37.9300000000'}, 'NZDJPY': {'b': '88.4890000000', 'o': '88.4830000000'}, 'GBPAUD': {'b': '2.0539600000',
2025-07-16 00:23:45,249 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0265000000', 'o': '13.0241000000'}, 'XAGUSD': {'b': '37.9340000000', 'o': '37.9300000000'}, 'NZDJPY': {'b': '88.4890000000', 'o': '88.4830000000'}, 'GBPAUD': {'b': '2.0539600000',...
2025-07-16 00:23:45,252 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:23:45,728 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:45,733 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:46,749 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:46,753 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:47,585 - DEBUG - app.firebase_stream - Firebase listener triggered (42). Event Type: patch, Path: /. Timestamp: 1752650627.5850172
2025-07-16 00:23:47,585 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'GBPAUD': {'b': '2.0539300000', 'o': '2.0538000000'}, 'BTCUSD': {'b': '118231.7000000000', 'o': '118231.6000000000'}, 'USDJPY': {'b': '148.7260000000', 'o': '148.7210000000'}, 'CADCHF': {'b': '0.5840
2025-07-16 00:23:47,586 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPAUD': {'b': '2.0539300000', 'o': '2.0538000000'}, 'BTCUSD': {'b': '118231.7000000000', 'o': '118231.6000000000'}, 'USDJPY': {'b': '148.7260000000', 'o': '148.7210000000'}, 'CADCHF': {'b': '0.5840...
2025-07-16 00:23:47,589 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:23:47,755 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:47,756 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:48,758 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:48,762 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:49,778 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:49,782 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:49,918 - DEBUG - app.firebase_stream - Firebase listener triggered (43). Event Type: patch, Path: /. Timestamp: 1752650629.918733
2025-07-16 00:23:49,919 - DEBUG - app.firebase_stream - Prepared batch update for 20 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9370000000', 'o': '37.9300000000'}, 'BTCUSD': {'b': '118226.5000000000', 'o': '118226.4000000000'}, 'USDJPY': {'b': '148.7240000000', 'o': '148.7210000000'}, 'CADCHF': {'b': '0.58
2025-07-16 00:23:49,920 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9370000000', 'o': '37.9300000000'}, 'BTCUSD': {'b': '118226.5000000000', 'o': '118226.4000000000'}, 'USDJPY': {'b': '148.7240000000', 'o': '148.7210000000'}, 'CADCHF': {'b': '0.58...
2025-07-16 00:23:49,925 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:23:50,795 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:50,798 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:51,812 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:51,816 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:52,182 - DEBUG - app.firebase_stream - Firebase listener triggered (44). Event Type: patch, Path: /. Timestamp: 1752650632.182034
2025-07-16 00:23:52,182 - DEBUG - app.firebase_stream - Prepared batch update for 20 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4880000000', 'o': '88.4830000000'}, 'GBPAUD': {'b': '2.0539500000', 'o': '2.0537900000'}, 'USDJPY': {'b': '148.7230000000', 'o': '148.7210000000'}, 'USDCNH': {'b': '7.1809900000',
2025-07-16 00:23:52,184 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4880000000', 'o': '88.4830000000'}, 'GBPAUD': {'b': '2.0539500000', 'o': '2.0537900000'}, 'USDJPY': {'b': '148.7230000000', 'o': '148.7210000000'}, 'USDCNH': {'b': '7.1809900000',...
2025-07-16 00:23:52,190 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:23:52,828 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:52,831 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:53,844 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:53,846 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:54,435 - DEBUG - app.firebase_stream - Firebase listener triggered (45). Event Type: patch, Path: /. Timestamp: 1752650634.4354188
2025-07-16 00:23:54,436 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0270000000', 'o': '13.0244000000'}, 'XAGUSD': {'b': '37.9380000000', 'o': '37.9300000000'}, 'GBPAUD': {'b': '2.0541200000', 'o': '2.0539500000'}, 'BTCUSD': {'b': '118226.100000000
2025-07-16 00:23:54,437 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0270000000', 'o': '13.0244000000'}, 'XAGUSD': {'b': '37.9380000000', 'o': '37.9300000000'}, 'GBPAUD': {'b': '2.0541200000', 'o': '2.0539500000'}, 'BTCUSD': {'b': '118226.100000000...
2025-07-16 00:23:54,437 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:23:54,851 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:54,856 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:55,869 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:55,873 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:56,784 - DEBUG - app.firebase_stream - Firebase listener triggered (46). Event Type: patch, Path: /. Timestamp: 1752650636.7848344
2025-07-16 00:23:56,785 - DEBUG - app.firebase_stream - Prepared batch update for 30 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0267000000', 'o': '13.0241000000'}, 'XAGUSD': {'b': '37.9330000000', 'o': '37.9270000000'}, 'NZDJPY': {'b': '88.4880000000', 'o': '88.4820000000'}, 'GBPAUD': {'b': '2.0539500000',
2025-07-16 00:23:56,785 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0267000000', 'o': '13.0241000000'}, 'XAGUSD': {'b': '37.9330000000', 'o': '37.9270000000'}, 'NZDJPY': {'b': '88.4880000000', 'o': '88.4820000000'}, 'GBPAUD': {'b': '2.0539500000',...
2025-07-16 00:23:56,785 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:23:56,876 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:56,879 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:57,886 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:57,890 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:58,892 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:58,894 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:59,005 - DEBUG - app.firebase_stream - Firebase listener triggered (47). Event Type: patch, Path: /. Timestamp: 1752650639.0056357
2025-07-16 00:23:59,006 - DEBUG - app.firebase_stream - Prepared batch update for 25 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9380000000', 'o': '37.9330000000'}, 'NZDJPY': {'b': '88.4800000000', 'o': '88.4710000000'}, 'GBPAUD': {'b': '2.0539400000', 'o': '2.0537800000'}, 'USDJPY': {'b': '148.7050000000',
2025-07-16 00:23:59,007 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9380000000', 'o': '37.9330000000'}, 'NZDJPY': {'b': '88.4800000000', 'o': '88.4710000000'}, 'GBPAUD': {'b': '2.0539400000', 'o': '2.0537800000'}, 'USDJPY': {'b': '148.7050000000',...
2025-07-16 00:23:59,008 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:23:59,899 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:59,902 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:24:00,921 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:24:00,926 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:24:01,323 - DEBUG - app.firebase_stream - Firebase listener triggered (48). Event Type: patch, Path: /. Timestamp: 1752650641.3238835
2025-07-16 00:24:01,324 - DEBUG - app.firebase_stream - Prepared batch update for 24 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0263000000', 'o': '13.0237400000'}, 'XAGUSD': {'b': '37.9380000000', 'o': '37.9310000000'}, 'NZDJPY': {'b': '88.4900000000', 'o': '88.4830000000'}, 'GBPAUD': {'b': '2.0539400000',
2025-07-16 00:24:01,324 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0263000000', 'o': '13.0237400000'}, 'XAGUSD': {'b': '37.9380000000', 'o': '37.9310000000'}, 'NZDJPY': {'b': '88.4900000000', 'o': '88.4830000000'}, 'GBPAUD': {'b': '2.0539400000',...
2025-07-16 00:24:01,324 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:24:01,954 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:24:01,956 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:24:02,972 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:24:02,977 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:24:03,654 - DEBUG - app.firebase_stream - Firebase listener triggered (49). Event Type: patch, Path: /. Timestamp: 1752650643.6544616
2025-07-16 00:24:03,655 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0265000000', 'o': '13.0239000000'}, 'GBPAUD': {'b': '2.0539700000', 'o': '2.0538000000'}, 'BTCUSD': {'b': '118241.7000000000', 'o': '118241.6000000000'}, 'USDJPY': {'b': '148.7240
2025-07-16 00:24:03,656 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0265000000', 'o': '13.0239000000'}, 'GBPAUD': {'b': '2.0539700000', 'o': '2.0538000000'}, 'BTCUSD': {'b': '118241.7000000000', 'o': '118241.6000000000'}, 'USDJPY': {'b': '148.7240...
2025-07-16 00:24:03,662 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:24:03,989 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:24:03,993 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:24:05,006 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:24:05,010 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:24:05,924 - DEBUG - app.firebase_stream - Firebase listener triggered (50). Event Type: patch, Path: /. Timestamp: 1752650645.9241993
2025-07-16 00:24:05,924 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0268400000', 'o': '13.0244000000'}, 'XAGUSD': {'b': '37.9410000000', 'o': '37.9350000000'}, 'NZDJPY': {'b': '88.4910000000', 'o': '88.4830000000'}, 'GBPAUD': {'b': '2.0539500000',
2025-07-16 00:24:05,925 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0268400000', 'o': '13.0244000000'}, 'XAGUSD': {'b': '37.9410000000', 'o': '37.9350000000'}, 'NZDJPY': {'b': '88.4910000000', 'o': '88.4830000000'}, 'GBPAUD': {'b': '2.0539500000',...
2025-07-16 00:24:05,927 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:24:06,016 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:24:06,032 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:24:07,045 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:24:07,051 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:24:08,059 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:24:08,063 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:24:08,248 - DEBUG - app.firebase_stream - Firebase listener triggered (51). Event Type: patch, Path: /. Timestamp: 1752650648.2485282
2025-07-16 00:24:08,248 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4910000000', 'o': '88.4840000000'}, 'GBPAUD': {'b': '2.0539400000', 'o': '2.0537900000'}, 'USDJPY': {'b': '148.7210000000', 'o': '148.7180000000'}, 'USDCNH': {'b': '7.1809300000',
2025-07-16 00:24:08,248 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4910000000', 'o': '88.4840000000'}, 'GBPAUD': {'b': '2.0539400000', 'o': '2.0537900000'}, 'USDJPY': {'b': '148.7210000000', 'o': '148.7180000000'}, 'USDCNH': {'b': '7.1809300000',...
2025-07-16 00:24:08,249 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:24:09,065 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:24:09,067 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:24:10,078 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:24:10,081 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:24:10,508 - DEBUG - app.firebase_stream - Firebase listener triggered (52). Event Type: patch, Path: /. Timestamp: 1752650650.5081336
2025-07-16 00:24:10,508 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0263500000', 'o': '13.0238000000'}, 'NZDJPY': {'b': '88.4920000000', 'o': '88.4890000000'}, 'GBPAUD': {'b': '2.0539600000', 'o': '2.0539400000'}, 'USDJPY': {'b': '148.7300000000',
2025-07-16 00:24:10,508 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0263500000', 'o': '13.0238000000'}, 'NZDJPY': {'b': '88.4920000000', 'o': '88.4890000000'}, 'GBPAUD': {'b': '2.0539600000', 'o': '2.0539400000'}, 'USDJPY': {'b': '148.7300000000',...
2025-07-16 00:24:10,508 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:24:11,094 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:24:11,098 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:24:12,002 - INFO - app - Application shutdown initiated
2025-07-16 00:24:12,003 - INFO - app - Scheduler shutdown completed
2025-07-16 00:24:12,369 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-07-16 00:24:12,796 - INFO - app.firebase_stream - Firebase listener closed.
2025-07-16 00:24:12,796 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-07-16 00:24:12,797 - INFO - app - Redis connection closed
2025-07-16 00:24:12,798 - INFO - app - Application shutdown completed
2025-07-16 00:24:14,430 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-07-16 00:24:14,456 - INFO - app.core.config - .env file loaded successfully.
2025-07-16 00:24:14,471 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-07-16 00:24:14,471 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-07-16 00:24:14,731 - INFO - app - Application starting up - Trading system initialized
2025-07-16 00:24:14,731 - INFO - app - SL/TP Epsilon accuracy configured: 0.00001
2025-07-16 00:24:14,731 - INFO - app - Environment: DEVELOPMENT
2025-07-16 00:24:14,783 - INFO - app - Application startup initiated
2025-07-16 00:24:14,784 - INFO - app - Initializing core services...
2025-07-16 00:24:14,835 - INFO - app - Firebase initialized
2025-07-16 00:24:14,836 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-07-16 00:24:16,879 - INFO - app - Redis initialized
2025-07-16 00:24:16,883 - INFO - app - [SWAP] daily_swap_charge_job triggered
2025-07-16 00:24:16,885 - INFO - app - Scheduler initialized
2025-07-16 00:24:16,888 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-07-16 00:24:16,888 - DEBUG - app.firebase_stream - Successfully got running event loop in process_firebase_events task.
2025-07-16 00:24:16,888 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-07-16 00:24:17,837 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-07-16 00:24:17,846 - DEBUG - app.firebase_stream - Firebase listener triggered (1). Event Type: put, Path: /. Timestamp: 1752650657.846411
2025-07-16 00:24:17,847 - DEBUG - app.firebase_stream - Prepared batch update for 48 symbols from root path for queue. Preview: {'AUDCAD': {'b': '0.8948000000', 'o': '0.8947500000'}, 'AUDCHF': {'b': '0.5226000000', 'o': '0.5225400000'}, 'AUDJPY': {'b': '97.0670000000', 'o': '97.0610000000'}, 'AUDNZD': {'b': '1.0000000000', 'o'
2025-07-16 00:24:17,847 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'AUDCAD': {'b': '0.8948000000', 'o': '0.8947500000'}, 'AUDCHF': {'b': '0.5226000000', 'o': '0.5225400000'}, 'AUDJPY': {'b': '97.0670000000', 'o': '97.0610000000'}, 'AUDNZD': {'b': '1.0000000000', 'o'...
2025-07-16 00:24:17,848 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type put at path /.
2025-07-16 00:24:17,848 - INFO - app - Starting stale cache cleanup task
2025-07-16 00:24:19,832 - DEBUG - app.firebase_stream - Firebase listener triggered (2). Event Type: patch, Path: /. Timestamp: 1752650659.832872
2025-07-16 00:24:19,833 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4840000000', 'o': '88.4750000000'}, 'GBPAUD': {'b': '2.0541100000', 'o': '2.0539600000'}, 'USDJPY': {'b': '148.7380000000', 'o': '148.7320000000'}, 'CADCHF': {'b': '0.5840800000',
2025-07-16 00:24:19,834 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4840000000', 'o': '88.4750000000'}, 'GBPAUD': {'b': '2.0541100000', 'o': '2.0539600000'}, 'USDJPY': {'b': '148.7380000000', 'o': '148.7320000000'}, 'CADCHF': {'b': '0.5840800000',...
2025-07-16 00:24:19,835 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:24:21,943 - INFO - app - Cleaned up pending order stream for new trigger price format
2025-07-16 00:24:21,943 - INFO - app - Background tasks initialized
2025-07-16 00:24:22,077 - DEBUG - app.firebase_stream - Firebase listener triggered (3). Event Type: patch, Path: /. Timestamp: 1752650662.0778904
2025-07-16 00:24:22,078 - DEBUG - app.firebase_stream - Prepared batch update for 25 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9340000000', 'o': '37.9270000000'}, 'NZDJPY': {'b': '88.4820000000', 'o': '88.4750000000'}, 'GBPAUD': {'b': '2.0541100000', 'o': '2.0539700000'}, 'BTCUSD': {'b': '118210.100000000
2025-07-16 00:24:22,078 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'XAGUSD': {'b': '37.9340000000', 'o': '37.9270000000'}, 'NZDJPY': {'b': '88.4820000000', 'o': '88.4750000000'}, 'GBPAUD': {'b': '2.0541100000', 'o': '2.0539700000'}, 'BTCUSD': {'b': '118210.100000000...
2025-07-16 00:24:22,079 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:24:22,679 - INFO - app - Service account JWT for 'barclays_service_provider' was generated and pushed to Firebase.
2025-07-16 00:24:22,679 - INFO - app - Application startup completed successfully
2025-07-16 00:24:22,680 - INFO - app - Starting cache validation task
2025-07-16 00:24:22,683 - INFO - app - Starting Barclays pending order margin checker task.
2025-07-16 00:24:22,683 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:24:22,686 - INFO - app - Starting auto-cutoff order monitoring task.
2025-07-16 00:24:22,728 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:24:22,732 - INFO - app - Validating cache for 30 users
2025-07-16 00:24:23,748 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:24:23,751 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:24:24,322 - DEBUG - app.firebase_stream - Firebase listener triggered (4). Event Type: patch, Path: /. Timestamp: 1752650664.3226664
2025-07-16 00:24:24,322 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'GBPAUD': {'b': '2.0539200000', 'o': '2.0538000000'}, 'BTCUSD': {'b': '118209.9000000000', 'o': '118209.8000000000'}, 'USDJPY': {'b': '148.7340000000', 'o': '148.7320000000'}, 'USDCNH': {'b': '7.1810
2025-07-16 00:24:24,323 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 2. Data preview: {'GBPAUD': {'b': '2.0539200000', 'o': '2.0538000000'}, 'BTCUSD': {'b': '118209.9000000000', 'o': '118209.8000000000'}, 'USDJPY': {'b': '148.7340000000', 'o': '148.7320000000'}, 'USDCNH': {'b': '7.1810...
2025-07-16 00:24:24,323 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:24:24,737 - INFO - app - Found 24 static orders cache entries to check
2025-07-16 00:24:24,764 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:24:24,768 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:24:25,771 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:24:25,774 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:24:26,596 - DEBUG - app.firebase_stream - Firebase listener triggered (5). Event Type: patch, Path: /. Timestamp: 1752650666.5965261
2025-07-16 00:24:26,596 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4890000000', 'o': '88.4830000000'}, 'GBPAUD': {'b': '2.0541000000', 'o': '2.0539700000'}, 'USDJPY': {'b': '148.7230000000', 'o': '148.7210000000'}, 'USDCNH': {'b': '7.1810500000',
2025-07-16 00:24:26,597 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 2. Data preview: {'NZDJPY': {'b': '88.4890000000', 'o': '88.4830000000'}, 'GBPAUD': {'b': '2.0541000000', 'o': '2.0539700000'}, 'USDJPY': {'b': '148.7230000000', 'o': '148.7210000000'}, 'USDCNH': {'b': '7.1810500000',...
2025-07-16 00:24:26,597 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:24:26,778 - WARNING - app - User 4: Missing balance/margin cache, refreshing...
2025-07-16 00:24:26,778 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:24:26,782 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:24:27,796 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:24:27,800 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:24:28,829 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:24:28,853 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:24:29,038 - DEBUG - app.firebase_stream - Firebase listener triggered (6). Event Type: patch, Path: /. Timestamp: 1752650669.0383656
2025-07-16 00:24:29,038 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0254700000', 'o': '13.0235000000'}, 'XAGUSD': {'b': '37.9340000000', 'o': '37.9260000000'}, 'NZDJPY': {'b': '88.4820000000', 'o': '88.4730000000'}, 'GBPAUD': {'b': '2.0541600000',
2025-07-16 00:24:29,038 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 2. Data preview: {'GBPSEK': {'b': '13.0254700000', 'o': '13.0235000000'}, 'XAGUSD': {'b': '37.9340000000', 'o': '37.9260000000'}, 'NZDJPY': {'b': '88.4820000000', 'o': '88.4730000000'}, 'GBPAUD': {'b': '2.0541600000',...
2025-07-16 00:24:29,039 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:24:29,865 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:24:29,867 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:24:30,873 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:24:30,876 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:24:30,890 - WARNING - app - Found stale cache entry for user 2, will be refreshed on next access
2025-07-16 00:24:30,901 - WARNING - app - Found stale cache entry for user 3, will be refreshed on next access
2025-07-16 00:24:30,916 - WARNING - app - Found stale cache entry for user 17, will be refreshed on next access
2025-07-16 00:24:30,920 - WARNING - app - Found stale cache entry for user 18, will be refreshed on next access
2025-07-16 00:24:30,925 - WARNING - app - User 5: Missing balance/margin cache, refreshing...
2025-07-16 00:24:30,930 - WARNING - app - Found stale cache entry for user 23, will be refreshed on next access
2025-07-16 00:24:30,936 - WARNING - app - Found stale cache entry for user 19, will be refreshed on next access
2025-07-16 00:24:30,940 - WARNING - app - User 8: Missing balance/margin cache, refreshing...
2025-07-16 00:24:30,942 - WARNING - app - Found stale cache entry for user 8, will be refreshed on next access
2025-07-16 00:24:30,949 - WARNING - app - Found stale cache entry for user 5, will be refreshed on next access
2025-07-16 00:24:30,953 - WARNING - app - Found stale cache entry for user 24, will be refreshed on next access
2025-07-16 00:24:30,956 - WARNING - app - Found stale cache entry for user 13, will be refreshed on next access
2025-07-16 00:24:30,959 - WARNING - app - Found stale cache entry for user 16, will be refreshed on next access
2025-07-16 00:24:31,286 - DEBUG - app.firebase_stream - Firebase listener triggered (7). Event Type: patch, Path: /. Timestamp: 1752650671.2869425
2025-07-16 00:24:31,287 - DEBUG - app.firebase_stream - Prepared batch update for 24 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9390000000', 'o': '37.9310000000'}, 'NZDJPY': {'b': '88.4820000000', 'o': '88.4770000000'}, 'USDJPY': {'b': '148.7410000000', 'o': '148.7410000000'}, 'USDCNH': {'b': '7.1808500000
2025-07-16 00:24:31,287 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9390000000', 'o': '37.9310000000'}, 'NZDJPY': {'b': '88.4820000000', 'o': '88.4770000000'}, 'USDJPY': {'b': '148.7410000000', 'o': '148.7410000000'}, 'USDCNH': {'b': '7.1808500000...
2025-07-16 00:24:31,288 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:24:31,884 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:24:31,888 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:24:32,895 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:24:32,899 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:24:32,984 - WARNING - app - Found stale cache entry for user 25, will be refreshed on next access
2025-07-16 00:24:33,014 - WARNING - app - User 9: Missing balance/margin cache, refreshing...
2025-07-16 00:24:33,015 - WARNING - app - Found stale cache entry for user 12, will be refreshed on next access
2025-07-16 00:24:33,051 - WARNING - app - Found stale cache entry for user 21, will be refreshed on next access
2025-07-16 00:24:33,066 - WARNING - app - Found stale cache entry for user 22, will be refreshed on next access
2025-07-16 00:24:33,082 - WARNING - app - Found stale cache entry for user 6, will be refreshed on next access
2025-07-16 00:24:33,086 - WARNING - app - User 10: Missing balance/margin cache, refreshing...
2025-07-16 00:24:33,093 - WARNING - app - Found stale cache entry for user 20, will be refreshed on next access
2025-07-16 00:24:33,093 - INFO - app - Completed stale cache cleanup task
2025-07-16 00:24:33,133 - WARNING - app - User 11: Missing balance/margin cache, refreshing...
2025-07-16 00:24:33,514 - DEBUG - app.firebase_stream - Firebase listener triggered (8). Event Type: patch, Path: /. Timestamp: 1752650673.5148468
2025-07-16 00:24:33,515 - DEBUG - app.firebase_stream - Prepared batch update for 36 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0255900000', 'o': '13.0232000000'}, 'XAGUSD': {'b': '37.9330000000', 'o': '37.9230000000'}, 'NZDJPY': {'b': '88.4830000000', 'o': '88.4750000000'}, 'GBPAUD': {'b': '2.0541900000',
2025-07-16 00:24:33,516 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0255900000', 'o': '13.0232000000'}, 'XAGUSD': {'b': '37.9330000000', 'o': '37.9230000000'}, 'NZDJPY': {'b': '88.4830000000', 'o': '88.4750000000'}, 'GBPAUD': {'b': '2.0541900000',...
2025-07-16 00:24:33,516 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:24:33,902 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:24:33,905 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:24:34,922 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:24:34,926 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:24:35,227 - WARNING - app - User 12: Missing balance/margin cache, refreshing...
2025-07-16 00:24:35,910 - DEBUG - app.firebase_stream - Firebase listener triggered (9). Event Type: patch, Path: /. Timestamp: 1752650675.91062
2025-07-16 00:24:35,911 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9280000000', 'o': '37.9230000000'}, 'NZDJPY': {'b': '88.4810000000', 'o': '88.4720000000'}, 'GBPAUD': {'b': '2.0542400000', 'o': '2.0540700000'}, 'USDJPY': {'b': '148.7450000000',
2025-07-16 00:24:35,911 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9280000000', 'o': '37.9230000000'}, 'NZDJPY': {'b': '88.4810000000', 'o': '88.4720000000'}, 'GBPAUD': {'b': '2.0542400000', 'o': '2.0540700000'}, 'USDJPY': {'b': '148.7450000000',...
2025-07-16 00:24:35,912 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:24:35,941 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:24:35,946 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:24:36,957 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:24:36,961 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:24:37,297 - WARNING - app - User 13: Missing balance/margin cache, refreshing...
2025-07-16 00:24:37,336 - WARNING - app - User 14: Missing balance/margin cache, refreshing...
2025-07-16 00:24:37,373 - WARNING - app - User 16: Missing balance/margin cache, refreshing...
2025-07-16 00:24:37,412 - WARNING - app - User 17: Missing balance/margin cache, refreshing...
2025-07-16 00:24:37,445 - WARNING - app - User 18: Missing balance/margin cache, refreshing...
2025-07-16 00:24:37,693 - INFO - app - Starting stale cache cleanup task
2025-07-16 00:24:37,970 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:24:37,975 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:24:38,147 - DEBUG - app.firebase_stream - Firebase listener triggered (10). Event Type: patch, Path: /. Timestamp: 1752650678.1468732
2025-07-16 00:24:38,147 - DEBUG - app.firebase_stream - Prepared batch update for 25 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0255900000', 'o': '13.0231000000'}, 'XAGUSD': {'b': '37.9380000000', 'o': '37.9310000000'}, 'NZDJPY': {'b': '88.4800000000', 'o': '88.4720000000'}, 'GBPAUD': {'b': '2.0542400000',
2025-07-16 00:24:38,147 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0255900000', 'o': '13.0231000000'}, 'XAGUSD': {'b': '37.9380000000', 'o': '37.9310000000'}, 'NZDJPY': {'b': '88.4800000000', 'o': '88.4720000000'}, 'GBPAUD': {'b': '2.0542400000',...
2025-07-16 00:24:38,148 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:24:38,987 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:24:38,991 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:24:39,509 - INFO - app - Found 24 static orders cache entries to check
2025-07-16 00:24:39,527 - WARNING - app - Found stale cache entry for user 2, will be refreshed on next access
2025-07-16 00:24:39,536 - WARNING - app - Found stale cache entry for user 3, will be refreshed on next access
2025-07-16 00:24:39,537 - WARNING - app - User 19: Missing balance/margin cache, refreshing...
2025-07-16 00:24:39,569 - WARNING - app - Found stale cache entry for user 17, will be refreshed on next access
2025-07-16 00:24:39,574 - WARNING - app - Found stale cache entry for user 18, will be refreshed on next access
2025-07-16 00:24:39,586 - WARNING - app - Found stale cache entry for user 23, will be refreshed on next access
2025-07-16 00:24:39,591 - WARNING - app - Found stale cache entry for user 19, will be refreshed on next access
2025-07-16 00:24:39,595 - WARNING - app - Found stale cache entry for user 8, will be refreshed on next access
2025-07-16 00:24:39,598 - WARNING - app - User 20: Missing balance/margin cache, refreshing...
2025-07-16 00:24:39,607 - WARNING - app - Found stale cache entry for user 5, will be refreshed on next access
2025-07-16 00:24:39,616 - WARNING - app - Found stale cache entry for user 24, will be refreshed on next access
2025-07-16 00:24:39,622 - WARNING - app - Found stale cache entry for user 13, will be refreshed on next access
2025-07-16 00:24:39,625 - WARNING - app - Found stale cache entry for user 16, will be refreshed on next access
2025-07-16 00:24:39,630 - WARNING - app - Found stale cache entry for user 25, will be refreshed on next access
2025-07-16 00:24:40,005 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:24:40,009 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:24:40,616 - DEBUG - app.firebase_stream - Firebase listener triggered (11). Event Type: patch, Path: /. Timestamp: 1752650680.6168168
2025-07-16 00:24:40,617 - DEBUG - app.firebase_stream - Prepared batch update for 25 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9290000000', 'o': '37.9260000000'}, 'NZDJPY': {'b': '88.4910000000', 'o': '88.4830000000'}, 'GBPAUD': {'b': '2.0542200000', 'o': '2.0540700000'}, 'USDJPY': {'b': '148.7420000000',
2025-07-16 00:24:40,618 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9290000000', 'o': '37.9260000000'}, 'NZDJPY': {'b': '88.4910000000', 'o': '88.4830000000'}, 'GBPAUD': {'b': '2.0542200000', 'o': '2.0540700000'}, 'USDJPY': {'b': '148.7420000000',...
2025-07-16 00:24:40,618 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:24:41,019 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:24:41,024 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:24:41,675 - WARNING - app - Found stale cache entry for user 12, will be refreshed on next access
2025-07-16 00:24:41,687 - WARNING - app - User 21: Missing balance/margin cache, refreshing...
2025-07-16 00:24:41,702 - WARNING - app - Found stale cache entry for user 21, will be refreshed on next access
2025-07-16 00:24:41,712 - WARNING - app - Found stale cache entry for user 22, will be refreshed on next access
2025-07-16 00:24:41,724 - WARNING - app - Found stale cache entry for user 6, will be refreshed on next access
2025-07-16 00:24:41,729 - WARNING - app - Found stale cache entry for user 20, will be refreshed on next access
2025-07-16 00:24:41,729 - INFO - app - Completed stale cache cleanup task
2025-07-16 00:24:41,737 - WARNING - app - User 22: Missing balance/margin cache, refreshing...
2025-07-16 00:24:41,762 - WARNING - app - User 23: Missing balance/margin cache, refreshing...
2025-07-16 00:24:41,804 - WARNING - app - User 25: Missing balance/margin cache, refreshing...
2025-07-16 00:24:41,843 - WARNING - app - User 26: Missing balance/margin cache, refreshing...
2025-07-16 00:24:41,878 - WARNING - app - User 2: Missing balance/margin cache, refreshing...
2025-07-16 00:24:41,924 - WARNING - app - User 3: Missing balance/margin cache, refreshing...
2025-07-16 00:24:42,008 - WARNING - app - User 5: Missing balance/margin cache, refreshing...
2025-07-16 00:24:42,028 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:24:42,030 - WARNING - app - User 6: Missing balance/margin cache, refreshing...
2025-07-16 00:24:42,031 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:24:42,080 - INFO - app - Cache validation completed
2025-07-16 00:24:42,858 - DEBUG - app.firebase_stream - Firebase listener triggered (12). Event Type: patch, Path: /. Timestamp: 1752650682.8582988
2025-07-16 00:24:42,858 - DEBUG - app.firebase_stream - Prepared batch update for 27 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0265000000', 'o': '13.0239000000'}, 'NZDJPY': {'b': '88.4790000000', 'o': '88.4720000000'}, 'GBPAUD': {'b': '2.0542100000', 'o': '2.0540800000'}, 'BTCUSD': {'b': '118201.670000000
2025-07-16 00:24:42,861 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0265000000', 'o': '13.0239000000'}, 'NZDJPY': {'b': '88.4790000000', 'o': '88.4720000000'}, 'GBPAUD': {'b': '2.0542100000', 'o': '2.0540800000'}, 'BTCUSD': {'b': '118201.670000000...
2025-07-16 00:24:42,861 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:24:43,044 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:24:43,046 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:24:43,256 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-07-16 00:24:43,317 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-07-16 00:24:43,424 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-07-16 00:24:43,428 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-07-16 00:24:43,452 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-07-16 00:24:43,488 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-07-16 00:24:43,488 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-07-16 00:24:43,489 - INFO - app.core.config - .env file loaded successfully.
2025-07-16 00:24:43,507 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-07-16 00:24:43,507 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-07-16 00:24:43,544 - INFO - app.core.config - .env file loaded successfully.
2025-07-16 00:24:43,559 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-07-16 00:24:43,559 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-07-16 00:24:43,639 - INFO - app.core.config - .env file loaded successfully.
2025-07-16 00:24:43,646 - INFO - app.core.config - .env file loaded successfully.
2025-07-16 00:24:43,659 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-07-16 00:24:43,660 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-07-16 00:24:43,663 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-07-16 00:24:43,663 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-07-16 00:24:43,669 - INFO - app.core.config - .env file loaded successfully.
2025-07-16 00:24:43,685 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-07-16 00:24:43,686 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-07-16 00:24:43,702 - INFO - app.core.config - .env file loaded successfully.
2025-07-16 00:24:43,703 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-07-16 00:24:43,703 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-07-16 00:24:43,714 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-07-16 00:24:43,714 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-07-16 00:24:44,048 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:24:44,050 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:24:45,052 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:24:45,055 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:24:45,215 - DEBUG - app.firebase_stream - Firebase listener triggered (13). Event Type: patch, Path: /. Timestamp: 1752650685.2155392
2025-07-16 00:24:45,217 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0255000000', 'o': '13.0229000000'}, 'XAGUSD': {'b': '37.9280000000', 'o': '37.9260000000'}, 'NZDJPY': {'b': '88.4920000000', 'o': '88.4870000000'}, 'GBPAUD': {'b': '2.0542300000',
2025-07-16 00:24:45,217 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0255000000', 'o': '13.0229000000'}, 'XAGUSD': {'b': '37.9280000000', 'o': '37.9260000000'}, 'NZDJPY': {'b': '88.4920000000', 'o': '88.4870000000'}, 'GBPAUD': {'b': '2.0542300000',...
2025-07-16 00:24:45,218 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:24:46,061 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:24:46,065 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:24:47,072 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:24:47,075 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:24:47,480 - DEBUG - app.firebase_stream - Firebase listener triggered (14). Event Type: patch, Path: /. Timestamp: 1752650687.4804468
2025-07-16 00:24:47,480 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0259000000', 'o': '13.0233000000'}, 'NZDJPY': {'b': '88.4790000000', 'o': '88.4720000000'}, 'GBPAUD': {'b': '2.0541800000', 'o': '2.0540400000'}, 'USDJPY': {'b': '148.7340000000',
2025-07-16 00:24:47,481 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0259000000', 'o': '13.0233000000'}, 'NZDJPY': {'b': '88.4790000000', 'o': '88.4720000000'}, 'GBPAUD': {'b': '2.0541800000', 'o': '2.0540400000'}, 'USDJPY': {'b': '148.7340000000',...
2025-07-16 00:24:47,483 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:24:48,091 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:24:48,095 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:24:49,108 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:24:49,113 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:24:49,742 - DEBUG - app.firebase_stream - Firebase listener triggered (15). Event Type: patch, Path: /. Timestamp: 1752650689.74264
2025-07-16 00:24:49,743 - DEBUG - app.firebase_stream - Prepared batch update for 30 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9330000000', 'o': '37.9270000000'}, 'NZDJPY': {'b': '88.4780000000', 'o': '88.4720000000'}, 'GBPAUD': {'b': '2.0541700000', 'o': '2.0540500000'}, 'BTCUSD': {'b': '118188.300000000
2025-07-16 00:24:49,743 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9330000000', 'o': '37.9270000000'}, 'NZDJPY': {'b': '88.4780000000', 'o': '88.4720000000'}, 'GBPAUD': {'b': '2.0541700000', 'o': '2.0540500000'}, 'BTCUSD': {'b': '118188.300000000...
2025-07-16 00:24:49,744 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:24:50,123 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:24:50,127 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:24:51,134 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:24:51,139 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:24:52,078 - DEBUG - app.firebase_stream - Firebase listener triggered (16). Event Type: patch, Path: /. Timestamp: 1752650692.0786335
2025-07-16 00:24:52,079 - DEBUG - app.firebase_stream - Prepared batch update for 22 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9320000000', 'o': '37.9270000000'}, 'NZDJPY': {'b': '88.4840000000', 'o': '88.4760000000'}, 'GBPAUD': {'b': '2.0541700000', 'o': '2.0540400000'}, 'USDJPY': {'b': '148.7390000000',
2025-07-16 00:24:52,080 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9320000000', 'o': '37.9270000000'}, 'NZDJPY': {'b': '88.4840000000', 'o': '88.4760000000'}, 'GBPAUD': {'b': '2.0541700000', 'o': '2.0540400000'}, 'USDJPY': {'b': '148.7390000000',...
2025-07-16 00:24:52,090 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:24:52,143 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:24:52,148 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:24:53,158 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:24:53,160 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:24:54,168 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:24:54,171 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:24:54,281 - DEBUG - app.firebase_stream - Firebase listener triggered (17). Event Type: patch, Path: /. Timestamp: 1752650694.281766
2025-07-16 00:24:54,282 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0254500000', 'o': '13.0229000000'}, 'XAGUSD': {'b': '37.9290000000', 'o': '37.9250000000'}, 'NZDJPY': {'b': '88.4760000000', 'o': '88.4700000000'}, 'GBPAUD': {'b': '2.0540700000',
2025-07-16 00:24:54,282 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0254500000', 'o': '13.0229000000'}, 'XAGUSD': {'b': '37.9290000000', 'o': '37.9250000000'}, 'NZDJPY': {'b': '88.4760000000', 'o': '88.4700000000'}, 'GBPAUD': {'b': '2.0540700000',...
2025-07-16 00:24:54,282 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:24:55,175 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:24:55,180 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:24:56,190 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:24:56,192 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:24:56,682 - DEBUG - app.firebase_stream - Firebase listener triggered (18). Event Type: patch, Path: /. Timestamp: 1752650696.682262
2025-07-16 00:24:56,682 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0249800000', 'o': '13.0224000000'}, 'NZDJPY': {'b': '88.4800000000', 'o': '88.4720000000'}, 'GBPAUD': {'b': '2.0540500000', 'o': '2.0538900000'}, 'BTCUSD': {'b': '118179.800000000
2025-07-16 00:24:56,682 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0249800000', 'o': '13.0224000000'}, 'NZDJPY': {'b': '88.4800000000', 'o': '88.4720000000'}, 'GBPAUD': {'b': '2.0540500000', 'o': '2.0538900000'}, 'BTCUSD': {'b': '118179.800000000...
2025-07-16 00:24:56,683 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:24:57,208 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:24:57,211 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:24:58,228 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:24:58,230 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:24:58,935 - DEBUG - app.firebase_stream - Firebase listener triggered (19). Event Type: patch, Path: /. Timestamp: 1752650698.935599
2025-07-16 00:24:58,935 - DEBUG - app.firebase_stream - Prepared batch update for 25 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4780000000', 'o': '88.4710000000'}, 'GBPAUD': {'b': '2.0540600000', 'o': '2.0539300000'}, 'USDJPY': {'b': '148.7390000000', 'o': '148.7340000000'}, 'USDCNH': {'b': '7.1810900000',
2025-07-16 00:24:58,936 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4780000000', 'o': '88.4710000000'}, 'GBPAUD': {'b': '2.0540600000', 'o': '2.0539300000'}, 'USDJPY': {'b': '148.7390000000', 'o': '148.7340000000'}, 'USDCNH': {'b': '7.1810900000',...
2025-07-16 00:24:58,936 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:24:59,237 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:24:59,240 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:00,253 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:00,257 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:01,188 - DEBUG - app.firebase_stream - Firebase listener triggered (20). Event Type: patch, Path: /. Timestamp: 1752650701.1882071
2025-07-16 00:25:01,188 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0249000000', 'o': '13.0223000000'}, 'NZDJPY': {'b': '88.4750000000', 'o': '88.4660000000'}, 'GBPAUD': {'b': '2.0541500000', 'o': '2.0540200000'}, 'USDJPY': {'b': '148.7490000000',
2025-07-16 00:25:01,188 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0249000000', 'o': '13.0223000000'}, 'NZDJPY': {'b': '88.4750000000', 'o': '88.4660000000'}, 'GBPAUD': {'b': '2.0541500000', 'o': '2.0540200000'}, 'USDJPY': {'b': '148.7490000000',...
2025-07-16 00:25:01,189 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:25:01,265 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:01,267 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:02,282 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:02,286 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:03,300 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:03,304 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:03,541 - DEBUG - app.firebase_stream - Firebase listener triggered (21). Event Type: patch, Path: /. Timestamp: 1752650703.5416887
2025-07-16 00:25:03,541 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0250000000', 'o': '13.0224000000'}, 'XAGUSD': {'b': '37.9290000000', 'o': '37.9260000000'}, 'NZDJPY': {'b': '88.4780000000', 'o': '88.4700000000'}, 'GBPAUD': {'b': '2.0541600000',
2025-07-16 00:25:03,542 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0250000000', 'o': '13.0224000000'}, 'XAGUSD': {'b': '37.9290000000', 'o': '37.9260000000'}, 'NZDJPY': {'b': '88.4780000000', 'o': '88.4700000000'}, 'GBPAUD': {'b': '2.0541600000',...
2025-07-16 00:25:03,542 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:25:04,313 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:04,316 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:05,332 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:05,334 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:05,797 - DEBUG - app.firebase_stream - Firebase listener triggered (22). Event Type: patch, Path: /. Timestamp: 1752650705.7972906
2025-07-16 00:25:05,797 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4710000000', 'o': '88.4700000000'}, 'GBPAUD': {'b': '2.0542100000', 'o': '2.0540600000'}, 'USDJPY': {'b': '148.7530000000', 'o': '148.7510000000'}, 'CADCHF': {'b': '0.5840700000',
2025-07-16 00:25:05,797 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4710000000', 'o': '88.4700000000'}, 'GBPAUD': {'b': '2.0542100000', 'o': '2.0540600000'}, 'USDJPY': {'b': '148.7530000000', 'o': '148.7510000000'}, 'CADCHF': {'b': '0.5840700000',...
2025-07-16 00:25:05,797 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:25:06,336 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:06,340 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:07,351 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:07,355 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:08,056 - DEBUG - app.firebase_stream - Firebase listener triggered (23). Event Type: patch, Path: /. Timestamp: 1752650708.0568197
2025-07-16 00:25:08,057 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9290000000', 'o': '37.9270000000'}, 'NZDJPY': {'b': '88.4680000000', 'o': '88.4610000000'}, 'GBPAUD': {'b': '2.0541500000', 'o': '2.0540600000'}, 'BTCUSD': {'b': '118209.900000000
2025-07-16 00:25:08,057 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9290000000', 'o': '37.9270000000'}, 'NZDJPY': {'b': '88.4680000000', 'o': '88.4610000000'}, 'GBPAUD': {'b': '2.0541500000', 'o': '2.0540600000'}, 'BTCUSD': {'b': '118209.900000000...
2025-07-16 00:25:08,057 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:25:08,371 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:08,375 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:09,377 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:09,380 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:10,382 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:10,385 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:10,428 - DEBUG - app.firebase_stream - Firebase listener triggered (24). Event Type: patch, Path: /. Timestamp: 1752650710.4284463
2025-07-16 00:25:10,428 - DEBUG - app.firebase_stream - Prepared batch update for 34 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0244000000', 'o': '13.0218000000'}, 'XAGUSD': {'b': '37.9280000000', 'o': '37.9220000000'}, 'NZDJPY': {'b': '88.4610000000', 'o': '88.4610000000'}, 'USDJPY': {'b': '148.7520000000
2025-07-16 00:25:10,429 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0244000000', 'o': '13.0218000000'}, 'XAGUSD': {'b': '37.9280000000', 'o': '37.9220000000'}, 'NZDJPY': {'b': '88.4610000000', 'o': '88.4610000000'}, 'USDJPY': {'b': '148.7520000000...
2025-07-16 00:25:10,431 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:25:11,399 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:11,403 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:12,419 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:12,422 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:12,699 - DEBUG - app.firebase_stream - Firebase listener triggered (25). Event Type: patch, Path: /. Timestamp: 1752650712.6996305
2025-07-16 00:25:12,700 - DEBUG - app.firebase_stream - Prepared batch update for 34 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0238400000', 'o': '13.0217000000'}, 'NZDJPY': {'b': '88.4630000000', 'o': '88.4540000000'}, 'GBPAUD': {'b': '2.0540600000', 'o': '2.0539700000'}, 'BTCUSD': {'b': '118172.620000000
2025-07-16 00:25:12,701 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0238400000', 'o': '13.0217000000'}, 'NZDJPY': {'b': '88.4630000000', 'o': '88.4540000000'}, 'GBPAUD': {'b': '2.0540600000', 'o': '2.0539700000'}, 'BTCUSD': {'b': '118172.620000000...
2025-07-16 00:25:12,702 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:25:13,424 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:13,427 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:14,430 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:14,433 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:14,998 - DEBUG - app.firebase_stream - Firebase listener triggered (26). Event Type: patch, Path: /. Timestamp: 1752650714.9984634
2025-07-16 00:25:14,999 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4610000000', 'o': '88.4530000000'}, 'GBPAUD': {'b': '2.0539700000', 'o': '2.0539100000'}, 'USDJPY': {'b': '148.7490000000', 'o': '148.7460000000'}, 'USDCNH': {'b': '7.1810000000',
2025-07-16 00:25:15,000 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4610000000', 'o': '88.4530000000'}, 'GBPAUD': {'b': '2.0539700000', 'o': '2.0539100000'}, 'USDJPY': {'b': '148.7490000000', 'o': '148.7460000000'}, 'USDCNH': {'b': '7.1810000000',...
2025-07-16 00:25:15,000 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:25:15,447 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:15,450 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:16,452 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:16,456 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:16,945 - WARNING - app - User 4 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:25:16,949 - WARNING - app - No user data found for user 5 (live). Skipping portfolio update.
2025-07-16 00:25:16,958 - WARNING - app - No group settings found for group string. Skipping portfolio update for user 8.
2025-07-16 00:25:16,990 - WARNING - app - User 9 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:25:17,021 - WARNING - app - User 10 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:25:17,054 - WARNING - app - User 11 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:25:17,086 - WARNING - app - User 12 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:25:17,118 - WARNING - app - User 13 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:25:17,281 - DEBUG - app.firebase_stream - Firebase listener triggered (27). Event Type: patch, Path: /. Timestamp: 1752650717.2812145
2025-07-16 00:25:17,281 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0237000000', 'o': '13.0211000000'}, 'XAGUSD': {'b': '37.9240000000', 'o': '37.9190000000'}, 'GBPAUD': {'b': '2.0542100000', 'o': '2.0540700000'}, 'BTCUSD': {'b': '118172.100000000
2025-07-16 00:25:17,282 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0237000000', 'o': '13.0211000000'}, 'XAGUSD': {'b': '37.9240000000', 'o': '37.9190000000'}, 'GBPAUD': {'b': '2.0542100000', 'o': '2.0540700000'}, 'BTCUSD': {'b': '118172.100000000...
2025-07-16 00:25:17,282 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:25:17,500 - DEBUG - app.services.portfolio_calculator - Position calculation for BTCUSD: Type=BUY, Entry=118908.50000000, Current=118122.62, Quantity=0.40000000, Contract Size=1.00000000, PnL=-314.352000000000000000000000, PnL USD=-314.352000000000000000000000, Commission=235.57000000, Final PnL=-549.922000000000000000000000
2025-07-16 00:25:17,500 - WARNING - app.services.portfolio_calculator - MARGIN CALL ALERT: User has margin level 99.25040832115533396372388894% which is below threshold 100.0%
2025-07-16 00:25:17,501 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:17,515 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:17,662 - WARNING - app - User 16 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:25:17,710 - WARNING - app - User 17 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:25:17,749 - WARNING - app - User 18 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:25:17,780 - WARNING - app - User 19 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:25:17,815 - WARNING - app - User 20 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:25:17,847 - WARNING - app - User 21 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:25:17,878 - WARNING - app - User 22 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:25:17,927 - WARNING - app - User 23 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:25:17,968 - WARNING - app - User 25 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:25:18,377 - DEBUG - app.services.portfolio_calculator - Position calculation for XAGUSD: Type=BUY, Entry=41.09800000, Current=37.906499999999994, Quantity=0.01000000, Contract Size=5000.00000000, PnL=-159.5750000000003000000000000, PnL USD=-159.5750000000003000000000000, Commission=0.10000000, Final PnL=-159.6750000000003000000000000
2025-07-16 00:25:18,377 - DEBUG - app.services.portfolio_calculator - Position calculation for BTCUSD: Type=BUY, Entry=132091.90000000, Current=118122.0, Quantity=6.00000000, Contract Size=1.00000000, PnL=-83819.40000000000000000000000, PnL USD=-83819.40000000000000000000000, Commission=3661.62000000, Final PnL=-87481.02000000000000000000000
2025-07-16 00:25:18,377 - WARNING - app.services.portfolio_calculator - MARGIN CALL ALERT: User has margin level 66.01731569223686285651987545% which is below threshold 100.0%
2025-07-16 00:25:18,799 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:18,800 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=96.66800000, Current=97.006, Quantity=0.01000000, Contract Size=100000.00000000, PnL=338.000000000000000000000000, PnL USD=2.272314735759376659697338434, Commission=0.10000000, Final PnL=2.172314735759376659697338434
2025-07-16 00:25:18,801 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=96.56000000, Current=97.111, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-551.000000000000000000000000, PnL USD=-3.704276388767504554713708512, Commission=0.10000000, Final PnL=-3.804276388767504554713708512
2025-07-16 00:25:18,804 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:18,806 - WARNING - app - User 2 has no group_name set. Skipping portfolio update.
2025-07-16 00:25:18,816 - WARNING - app - No group settings found for group string. Skipping portfolio update for user 3.
2025-07-16 00:25:18,847 - WARNING - app - User 4 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:25:18,848 - WARNING - app - User 5 has no group_name set. Skipping portfolio update.
2025-07-16 00:25:18,849 - WARNING - app - User 6 has no group_name set. Skipping portfolio update.
2025-07-16 00:25:19,298 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64743000, Current=0.65235, Quantity=0.10000000, Contract Size=100000.00000000, PnL=49.200000000000000000000000, PnL USD=49.200000000000000000000000, Commission=1.00000000, Final PnL=48.200000000000000000000000
2025-07-16 00:25:19,298 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=SELL, Entry=0.64707000, Current=0.65267, Quantity=0.22000000, Contract Size=100000.00000000, PnL=-123.200000000000000000000000, PnL USD=-123.200000000000000000000000, Commission=2.20000000, Final PnL=-125.400000000000000000000000
2025-07-16 00:25:19,300 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFSGD: Type=BUY, Entry=1.57561500, Current=1.6033350000000002, Quantity=0.10000000, Contract Size=100000.00000000, PnL=277.2000000000020000000000000, PnL USD=215.8491858934941560312405099, Commission=1.00000000, Final PnL=214.8491858934941560312405099
2025-07-16 00:25:19,300 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFSGD: Type=SELL, Entry=1.57505500, Current=1.6037249999999998, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-286.6999999999980000000000000, PnL USD=-223.2466147029722090279778544, Commission=1.00000000, Final PnL=-224.2466147029722090279778544
2025-07-16 00:25:19,301 - DEBUG - app.services.portfolio_calculator - Position calculation for CADJPY: Type=SELL, Entry=106.24150000, Current=108.4995, Quantity=0.15000000, Contract Size=100000.00000000, PnL=-33870.00000000000000000000000, PnL USD=-227.7020713022783652779551857, Commission=0E-8, Final PnL=-227.7020713022783652779551857
2025-07-16 00:25:19,302 - DEBUG - app.services.portfolio_calculator - Position calculation for CADJPY: Type=BUY, Entry=106.27050000, Current=108.4645, Quantity=0.15000000, Contract Size=100000.00000000, PnL=32910.00000000000000000000000, PnL USD=221.2481596267487747652053487, Commission=0E-8, Final PnL=221.2481596267487747652053487
2025-07-16 00:25:19,302 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=BUY, Entry=1.77481000, Current=1.7815599999999998, Quantity=0.22000000, Contract Size=100000.00000000, PnL=148.4999999999956000000000000, PnL USD=96.89921999999712891200000000, Commission=2.20000000, Final PnL=94.69921999999712891200000000
2025-07-16 00:25:19,302 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=SELL, Entry=1.77439000, Current=1.78186, Quantity=0.21000000, Contract Size=100000.00000000, PnL=-156.870000000000000000000000, PnL USD=-102.3608124000000000000000000, Commission=2.10000000, Final PnL=-104.4608124000000000000000000
2025-07-16 00:25:19,303 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFJPY: Type=BUY, Entry=178.15500000, Current=185.715, Quantity=0.10000000, Contract Size=100000.00000000, PnL=75600.00000000000000000000000, PnL USD=508.2455444479552528790496615, Commission=1.00000000, Final PnL=507.2455444479552528790496615
2025-07-16 00:25:19,304 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFJPY: Type=SELL, Entry=178.09500000, Current=185.765, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-76700.00000000000000000000000, PnL USD=-515.6406515761662420082421830, Commission=1.00000000, Final PnL=-516.6406515761662420082421830
2025-07-16 00:25:19,304 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=BUY, Entry=1.77480000, Current=1.7815599999999998, Quantity=0.05000000, Contract Size=100000.00000000, PnL=33.79999999999900000000000000, PnL USD=22.05517599999934748000000000, Commission=0.50000000, Final PnL=21.55517599999934748000000000
2025-07-16 00:25:19,304 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=SELL, Entry=1.77442000, Current=1.78186, Quantity=0.05000000, Contract Size=100000.00000000, PnL=-37.200000000000000000000000, PnL USD=-24.27374400000000000000000000, Commission=0.50000000, Final PnL=-24.77374400000000000000000000
2025-07-16 00:25:19,304 - DEBUG - app.services.portfolio_calculator - Position calculation for EURGBP: Type=SELL, Entry=0.85403000, Current=0.86765, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-136.200000000000000000000000, PnL USD=-182.5338780000000000000000000, Commission=1.00000000, Final PnL=-183.5338780000000000000000000
2025-07-16 00:25:19,305 - DEBUG - app.services.portfolio_calculator - Position calculation for EURJPY: Type=BUY, Entry=167.26050000, Current=172.9155, Quantity=0.10000000, Contract Size=100000.00000000, PnL=56550.00000000000000000000000, PnL USD=380.1757346366649411416700841, Commission=1.00000000, Final PnL=379.1757346366649411416700841
2025-07-16 00:25:19,306 - DEBUG - app.services.portfolio_calculator - Position calculation for EURJPY: Type=SELL, Entry=167.23150000, Current=172.94549999999998, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-57139.99999999980000000000000, PnL USD=-384.1422011872494907460318527, Commission=1.00000000, Final PnL=-385.1422011872494907460318527
2025-07-16 00:25:19,306 - DEBUG - app.services.portfolio_calculator - Position calculation for EURNZD: Type=SELL, Entry=1.91952500, Current=1.9552049999999999, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-356.7999999999990000000000000, PnL USD=-212.1889599999994053000000000, Commission=1.00000000, Final PnL=-213.1889599999994053000000000
2025-07-16 00:25:19,306 - DEBUG - app.services.portfolio_calculator - Position calculation for EURNZD: Type=BUY, Entry=1.92063500, Current=1.954815, Quantity=0.10000000, Contract Size=100000.00000000, PnL=341.800000000000000000000000, PnL USD=203.2684600000000000000000000, Commission=1.00000000, Final PnL=202.2684600000000000000000000
2025-07-16 00:25:19,306 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=SELL, Entry=1.34376000, Current=1.34029, Quantity=0.25000000, Contract Size=0E-8, PnL=0E-24, PnL USD=0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:25:19,306 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=SELL, Entry=1.34361000, Current=1.34029, Quantity=0.25000000, Contract Size=0E-8, PnL=0E-24, PnL USD=0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:25:19,306 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=BUY, Entry=1.34379000, Current=1.34008, Quantity=0.25000000, Contract Size=0E-8, PnL=-0E-24, PnL USD=-0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:25:19,307 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=BUY, Entry=1.34378000, Current=1.34008, Quantity=0.25000000, Contract Size=0E-8, PnL=-0E-24, PnL USD=-0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:25:19,307 - DEBUG - app.services.portfolio_calculator - Position calculation for NZDJPY: Type=BUY, Entry=87.10150000, Current=88.4405, Quantity=0.01000000, Contract Size=100000.00000000, PnL=1339.000000000000000000000000, PnL USD=9.001862222431376767262533026, Commission=0.10000000, Final PnL=8.901862222431376767262533026
2025-07-16 00:25:19,308 - DEBUG - app.services.portfolio_calculator - Position calculation for USDCHF: Type=SELL, Entry=0.81771000, Current=0.80101, Quantity=0.15000000, Contract Size=100000.00000000, PnL=250.500000000000000000000000, PnL USD=312.7887520915016357415778039, Commission=1.50000000, Final PnL=311.2887520915016357415778039
2025-07-16 00:25:19,309 - DEBUG - app.services.portfolio_calculator - Position calculation for USDCHF: Type=BUY, Entry=0.81805000, Current=0.80069, Quantity=0.15000000, Contract Size=100000.00000000, PnL=-260.400000000000000000000000, PnL USD=-325.1504632520040955972329746, Commission=1.50000000, Final PnL=-326.6504632520040955972329746
2025-07-16 00:25:19,310 - DEBUG - app.services.portfolio_calculator - Position calculation for USDNOK: Type=BUY, Entry=10.04973000, Current=10.255700000000001, Quantity=0.10000000, Contract Size=100000.00000000, PnL=2059.700000000010000000000000, PnL USD=200.8189928338136791303076098, Commission=1.00000000, Final PnL=199.8189928338136791303076098
2025-07-16 00:25:19,311 - DEBUG - app.services.portfolio_calculator - Position calculation for USDNOK: Type=BUY, Entry=10.05023000, Current=10.255700000000001, Quantity=0.10000000, Contract Size=100000.00000000, PnL=2054.700000000010000000000000, PnL USD=200.3314970994013552381416663, Commission=1.00000000, Final PnL=199.3314970994013552381416663
2025-07-16 00:25:19,312 - DEBUG - app.services.portfolio_calculator - Position calculation for USDSGD: Type=SELL, Entry=1.28795000, Current=1.28438, Quantity=0.31000000, Contract Size=100000.00000000, PnL=110.670000000000000000000000, PnL USD=86.17615224687166629030625355, Commission=3.10000000, Final PnL=83.07615224687166629030625355
2025-07-16 00:25:19,312 - DEBUG - app.services.portfolio_calculator - Position calculation for USDTRY: Type=SELL, Entry=39.56087000, Current=40.25721, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-6963.400000000000000000000000, PnL USD=-172.9733865314556005828542869, Commission=1.00000000, Final PnL=-173.9733865314556005828542869
2025-07-16 00:25:19,632 - DEBUG - app.firebase_stream - Firebase listener triggered (28). Event Type: patch, Path: /. Timestamp: 1752650719.6324348
2025-07-16 00:25:19,632 - DEBUG - app.firebase_stream - Prepared batch update for 35 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4610000000', 'o': '88.4520000000'}, 'GBPAUD': {'b': '2.0538800000', 'o': '2.0537700000'}, 'BTCUSD': {'b': '118201.6700000000', 'o': '118201.6700000000'}, 'USDJPY': {'b': '148.7450
2025-07-16 00:25:19,633 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4610000000', 'o': '88.4520000000'}, 'GBPAUD': {'b': '2.0538800000', 'o': '2.0537700000'}, 'BTCUSD': {'b': '118201.6700000000', 'o': '118201.6700000000'}, 'USDJPY': {'b': '148.7450...
2025-07-16 00:25:19,633 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:25:19,810 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:19,823 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:20,232 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.89752000, Current=0.89471, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-2.810000000000000000000000, PnL USD=-2.049255048387214398751485892, Commission=0.10000000, Final PnL=-2.149255048387214398751485892
2025-07-16 00:25:20,276 - WARNING - app - User 12 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:25:20,318 - WARNING - app - User 13 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:25:20,844 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:20,848 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:21,876 - DEBUG - app.firebase_stream - Firebase listener triggered (29). Event Type: patch, Path: /. Timestamp: 1752650721.876383
2025-07-16 00:25:21,876 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:21,877 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0234800000', 'o': '13.0209000000'}, 'GBPAUD': {'b': '2.0539200000', 'o': '2.0538000000'}, 'BTCUSD': {'b': '118172.1000000000', 'o': '118172.0000000000'}, 'USDJPY': {'b': '148.7470
2025-07-16 00:25:21,878 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0234800000', 'o': '13.0209000000'}, 'GBPAUD': {'b': '2.0539200000', 'o': '2.0538000000'}, 'BTCUSD': {'b': '118172.1000000000', 'o': '118172.0000000000'}, 'USDJPY': {'b': '148.7470...
2025-07-16 00:25:21,878 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:25:21,884 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:22,921 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:22,923 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:23,929 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:23,933 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:24,236 - DEBUG - app.firebase_stream - Firebase listener triggered (30). Event Type: patch, Path: /. Timestamp: 1752650724.2366333
2025-07-16 00:25:24,237 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0259000000', 'o': '13.0233000000'}, 'NZDJPY': {'b': '88.4800000000', 'o': '88.4720000000'}, 'GBPAUD': {'b': '2.0539400000', 'o': '2.0538000000'}, 'USDJPY': {'b': '148.7480000000',
2025-07-16 00:25:24,237 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0259000000', 'o': '13.0233000000'}, 'NZDJPY': {'b': '88.4800000000', 'o': '88.4720000000'}, 'GBPAUD': {'b': '2.0539400000', 'o': '2.0538000000'}, 'USDJPY': {'b': '148.7480000000',...
2025-07-16 00:25:24,237 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:25:24,949 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:24,951 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:25,966 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:25,969 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:26,485 - DEBUG - app.firebase_stream - Firebase listener triggered (31). Event Type: patch, Path: /. Timestamp: 1752650726.485885
2025-07-16 00:25:26,486 - DEBUG - app.firebase_stream - Prepared batch update for 37 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0236000000', 'o': '13.0212000000'}, 'XAGUSD': {'b': '37.9230000000', 'o': '37.9180000000'}, 'NZDJPY': {'b': '88.4510000000', 'o': '88.4430000000'}, 'GBPAUD': {'b': '2.0541700000',
2025-07-16 00:25:26,487 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0236000000', 'o': '13.0212000000'}, 'XAGUSD': {'b': '37.9230000000', 'o': '37.9180000000'}, 'NZDJPY': {'b': '88.4510000000', 'o': '88.4430000000'}, 'GBPAUD': {'b': '2.0541700000',...
2025-07-16 00:25:26,490 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:25:26,982 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:26,985 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:28,003 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:28,007 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:28,857 - DEBUG - app.firebase_stream - Firebase listener triggered (32). Event Type: patch, Path: /. Timestamp: 1752650728.8579466
2025-07-16 00:25:28,858 - DEBUG - app.firebase_stream - Prepared batch update for 34 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0235000000', 'o': '13.0209000000'}, 'NZDJPY': {'b': '88.4550000000', 'o': '88.4440000000'}, 'GBPAUD': {'b': '2.0539300000', 'o': '2.0538200000'}, 'BTCUSD': {'b': '118168.700000000
2025-07-16 00:25:28,858 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0235000000', 'o': '13.0209000000'}, 'NZDJPY': {'b': '88.4550000000', 'o': '88.4440000000'}, 'GBPAUD': {'b': '2.0539300000', 'o': '2.0538200000'}, 'BTCUSD': {'b': '118168.700000000...
2025-07-16 00:25:28,859 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:25:29,010 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:29,011 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:30,022 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:30,025 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:31,032 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:31,069 - DEBUG - app.firebase_stream - Firebase listener triggered (33). Event Type: patch, Path: /. Timestamp: 1752650731.0698867
2025-07-16 00:25:31,070 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:31,071 - DEBUG - app.firebase_stream - Prepared batch update for 36 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9290000000', 'o': '37.9250000000'}, 'NZDJPY': {'b': '88.4520000000', 'o': '88.4440000000'}, 'GBPAUD': {'b': '2.0540200000', 'o': '2.0539000000'}, 'USDJPY': {'b': '148.7580000000',
2025-07-16 00:25:31,072 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9290000000', 'o': '37.9250000000'}, 'NZDJPY': {'b': '88.4520000000', 'o': '88.4440000000'}, 'GBPAUD': {'b': '2.0540200000', 'o': '2.0539000000'}, 'USDJPY': {'b': '148.7580000000',...
2025-07-16 00:25:31,073 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:25:32,089 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:32,094 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:33,106 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:33,110 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:33,463 - DEBUG - app.firebase_stream - Firebase listener triggered (34). Event Type: patch, Path: /. Timestamp: 1752650733.4632456
2025-07-16 00:25:33,463 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0249800000', 'o': '13.0226000000'}, 'XAGUSD': {'b': '37.9180000000', 'o': '37.9140000000'}, 'NZDJPY': {'b': '88.4520000000', 'o': '88.4410000000'}, 'GBPAUD': {'b': '2.0539700000',
2025-07-16 00:25:33,465 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0249800000', 'o': '13.0226000000'}, 'XAGUSD': {'b': '37.9180000000', 'o': '37.9140000000'}, 'NZDJPY': {'b': '88.4520000000', 'o': '88.4410000000'}, 'GBPAUD': {'b': '2.0539700000',...
2025-07-16 00:25:33,479 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:25:34,124 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:34,128 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:35,134 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:35,136 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:35,706 - DEBUG - app.firebase_stream - Firebase listener triggered (35). Event Type: patch, Path: /. Timestamp: 1752650735.7065578
2025-07-16 00:25:35,707 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0233600000', 'o': '13.0210000000'}, 'NZDJPY': {'b': '88.4530000000', 'o': '88.4420000000'}, 'GBPAUD': {'b': '2.0539500000', 'o': '2.0538500000'}, 'USDJPY': {'b': '148.7590000000',
2025-07-16 00:25:35,708 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0233600000', 'o': '13.0210000000'}, 'NZDJPY': {'b': '88.4530000000', 'o': '88.4420000000'}, 'GBPAUD': {'b': '2.0539500000', 'o': '2.0538500000'}, 'USDJPY': {'b': '148.7590000000',...
2025-07-16 00:25:35,709 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:25:36,145 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:36,149 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:37,165 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:37,169 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:38,064 - DEBUG - app.firebase_stream - Firebase listener triggered (36). Event Type: patch, Path: /. Timestamp: 1752650738.0639675
2025-07-16 00:25:38,064 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0234000000', 'o': '13.0208000000'}, 'NZDJPY': {'b': '88.4780000000', 'o': '88.4700000000'}, 'GBPAUD': {'b': '2.0541600000', 'o': '2.0540300000'}, 'BTCUSD': {'b': '118179.800000000
2025-07-16 00:25:38,065 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0234000000', 'o': '13.0208000000'}, 'NZDJPY': {'b': '88.4780000000', 'o': '88.4700000000'}, 'GBPAUD': {'b': '2.0541600000', 'o': '2.0540300000'}, 'BTCUSD': {'b': '118179.800000000...
2025-07-16 00:25:38,067 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:25:38,172 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:38,174 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:39,182 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:39,184 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:40,190 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:40,194 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:40,316 - DEBUG - app.firebase_stream - Firebase listener triggered (37). Event Type: patch, Path: /. Timestamp: 1752650740.3167903
2025-07-16 00:25:40,317 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4700000000', 'o': '88.4700000000'}, 'GBPAUD': {'b': '2.0540000000', 'o': '2.0538600000'}, 'BTCUSD': {'b': '118176.3200000000', 'o': '118176.3200000000'}, 'USDJPY': {'b': '148.7580
2025-07-16 00:25:40,318 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4700000000', 'o': '88.4700000000'}, 'GBPAUD': {'b': '2.0540000000', 'o': '2.0538600000'}, 'BTCUSD': {'b': '118176.3200000000', 'o': '118176.3200000000'}, 'USDJPY': {'b': '148.7580...
2025-07-16 00:25:40,321 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:25:41,210 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:41,215 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:42,230 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:42,235 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:42,669 - DEBUG - app.firebase_stream - Firebase listener triggered (38). Event Type: patch, Path: /. Timestamp: 1752650742.6692054
2025-07-16 00:25:42,669 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4540000000', 'o': '88.4490000000'}, 'GBPAUD': {'b': '2.0539800000', 'o': '2.0538300000'}, 'BTCUSD': {'b': '118179.8000000000', 'o': '118179.7000000000'}, 'USDJPY': {'b': '148.7620
2025-07-16 00:25:42,670 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4540000000', 'o': '88.4490000000'}, 'GBPAUD': {'b': '2.0539800000', 'o': '2.0538300000'}, 'BTCUSD': {'b': '118179.8000000000', 'o': '118179.7000000000'}, 'USDJPY': {'b': '148.7620...
2025-07-16 00:25:42,672 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:25:43,246 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:43,250 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:44,264 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:44,268 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:44,933 - DEBUG - app.firebase_stream - Firebase listener triggered (39). Event Type: patch, Path: /. Timestamp: 1752650744.9334486
2025-07-16 00:25:44,933 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0239000000', 'o': '13.0213000000'}, 'XAGUSD': {'b': '37.9220000000', 'o': '37.9180000000'}, 'NZDJPY': {'b': '88.4560000000', 'o': '88.4490000000'}, 'GBPAUD': {'b': '2.0539800000',
2025-07-16 00:25:44,934 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0239000000', 'o': '13.0213000000'}, 'XAGUSD': {'b': '37.9220000000', 'o': '37.9180000000'}, 'NZDJPY': {'b': '88.4560000000', 'o': '88.4490000000'}, 'GBPAUD': {'b': '2.0539800000',...
2025-07-16 00:25:44,935 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:25:45,283 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:45,286 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:46,303 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:46,307 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:47,207 - DEBUG - app.firebase_stream - Firebase listener triggered (40). Event Type: patch, Path: /. Timestamp: 1752650747.20707
2025-07-16 00:25:47,207 - DEBUG - app.firebase_stream - Prepared batch update for 34 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0243000000', 'o': '13.0217000000'}, 'NZDJPY': {'b': '88.4610000000', 'o': '88.4540000000'}, 'GBPAUD': {'b': '2.0539300000', 'o': '2.0537500000'}, 'BTCUSD': {'b': '118176.930000000
2025-07-16 00:25:47,208 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0243000000', 'o': '13.0217000000'}, 'NZDJPY': {'b': '88.4610000000', 'o': '88.4540000000'}, 'GBPAUD': {'b': '2.0539300000', 'o': '2.0537500000'}, 'BTCUSD': {'b': '118176.930000000...
2025-07-16 00:25:47,209 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:25:47,309 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:47,312 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:48,320 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:48,324 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:49,338 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:49,342 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:49,563 - DEBUG - app.firebase_stream - Firebase listener triggered (41). Event Type: patch, Path: /. Timestamp: 1752650749.5631058
2025-07-16 00:25:49,563 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0238400000', 'o': '13.0216000000'}, 'XAGUSD': {'b': '37.9220000000', 'o': '37.9160000000'}, 'NZDJPY': {'b': '88.4600000000', 'o': '88.4510000000'}, 'GBPAUD': {'b': '2.0539200000',
2025-07-16 00:25:49,565 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0238400000', 'o': '13.0216000000'}, 'XAGUSD': {'b': '37.9220000000', 'o': '37.9160000000'}, 'NZDJPY': {'b': '88.4600000000', 'o': '88.4510000000'}, 'GBPAUD': {'b': '2.0539200000',...
2025-07-16 00:25:49,566 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:25:49,830 - INFO - app.api.v1.endpoints.users - User ID 26 updated successfully by admin 5.
2025-07-16 00:25:50,348 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:50,351 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:51,361 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:51,366 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:52,186 - DEBUG - app.firebase_stream - Firebase listener triggered (42). Event Type: patch, Path: /. Timestamp: 1752650752.1868086
2025-07-16 00:25:52,187 - DEBUG - app.firebase_stream - Prepared batch update for 23 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0244000000', 'o': '13.0218000000'}, 'USDJPY': {'b': '148.7790000000', 'o': '148.7740000000'}, 'USDCNH': {'b': '7.1810700000', 'o': '7.1810700000'}, 'EURZAR': {'b': '20.8210300000'
2025-07-16 00:25:52,187 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0244000000', 'o': '13.0218000000'}, 'USDJPY': {'b': '148.7790000000', 'o': '148.7740000000'}, 'USDCNH': {'b': '7.1810700000', 'o': '7.1810700000'}, 'EURZAR': {'b': '20.8210300000'...
2025-07-16 00:25:52,188 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:25:52,374 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:52,377 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:53,386 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:53,390 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:54,392 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:54,395 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:54,566 - DEBUG - app.firebase_stream - Firebase listener triggered (43). Event Type: patch, Path: /. Timestamp: 1752650754.56631
2025-07-16 00:25:54,566 - DEBUG - app.firebase_stream - Prepared batch update for 34 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9250000000', 'o': '37.9170000000'}, 'NZDJPY': {'b': '88.4620000000', 'o': '88.4530000000'}, 'GBPAUD': {'b': '2.0538900000', 'o': '2.0537400000'}, 'USDJPY': {'b': '148.7470000000',
2025-07-16 00:25:54,567 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9250000000', 'o': '37.9170000000'}, 'NZDJPY': {'b': '88.4620000000', 'o': '88.4530000000'}, 'GBPAUD': {'b': '2.0538900000', 'o': '2.0537400000'}, 'USDJPY': {'b': '148.7470000000',...
2025-07-16 00:25:54,567 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:25:55,397 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:55,401 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:56,412 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:56,415 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:56,800 - DEBUG - app.firebase_stream - Firebase listener triggered (44). Event Type: patch, Path: /. Timestamp: 1752650756.8006058
2025-07-16 00:25:56,801 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0241900000', 'o': '13.0219000000'}, 'NZDJPY': {'b': '88.4610000000', 'o': '88.4540000000'}, 'GBPAUD': {'b': '2.0538900000', 'o': '2.0537600000'}, 'USDJPY': {'b': '148.7770000000',
2025-07-16 00:25:56,801 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0241900000', 'o': '13.0219000000'}, 'NZDJPY': {'b': '88.4610000000', 'o': '88.4540000000'}, 'GBPAUD': {'b': '2.0538900000', 'o': '2.0537600000'}, 'USDJPY': {'b': '148.7770000000',...
2025-07-16 00:25:56,802 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:25:57,430 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:57,433 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:58,449 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:58,453 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:59,145 - DEBUG - app.firebase_stream - Firebase listener triggered (45). Event Type: patch, Path: /. Timestamp: 1752650759.1459162
2025-07-16 00:25:59,146 - DEBUG - app.firebase_stream - Prepared batch update for 25 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0241900000', 'o': '13.0218000000'}, 'XAGUSD': {'b': '37.9220000000', 'o': '37.9170000000'}, 'NZDJPY': {'b': '88.4620000000', 'o': '88.4530000000'}, 'GBPAUD': {'b': '2.0539200000',
2025-07-16 00:25:59,146 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0241900000', 'o': '13.0218000000'}, 'XAGUSD': {'b': '37.9220000000', 'o': '37.9170000000'}, 'NZDJPY': {'b': '88.4620000000', 'o': '88.4530000000'}, 'GBPAUD': {'b': '2.0539200000',...
2025-07-16 00:25:59,147 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:25:59,470 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:59,475 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:26:00,478 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:26:00,482 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:26:01,416 - DEBUG - app.firebase_stream - Firebase listener triggered (46). Event Type: patch, Path: /. Timestamp: 1752650761.4166665
2025-07-16 00:26:01,417 - DEBUG - app.firebase_stream - Prepared batch update for 37 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9220000000', 'o': '37.9150000000'}, 'NZDJPY': {'b': '88.4520000000', 'o': '88.4450000000'}, 'GBPAUD': {'b': '2.0538300000', 'o': '2.0536900000'}, 'BTCUSD': {'b': '118168.700000000
2025-07-16 00:26:01,418 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9220000000', 'o': '37.9150000000'}, 'NZDJPY': {'b': '88.4520000000', 'o': '88.4450000000'}, 'GBPAUD': {'b': '2.0538300000', 'o': '2.0536900000'}, 'BTCUSD': {'b': '118168.700000000...
2025-07-16 00:26:01,419 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:26:01,489 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:26:01,495 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:26:02,519 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:26:02,522 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:26:03,527 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:26:03,530 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:26:03,661 - DEBUG - app.firebase_stream - Firebase listener triggered (47). Event Type: patch, Path: /. Timestamp: 1752650763.6613038
2025-07-16 00:26:03,661 - DEBUG - app.firebase_stream - Prepared batch update for 25 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0246300000', 'o': '13.0223000000'}, 'XAGUSD': {'b': '37.9220000000', 'o': '37.9180000000'}, 'NZDJPY': {'b': '88.4610000000', 'o': '88.4530000000'}, 'USDJPY': {'b': '148.7740000000
2025-07-16 00:26:03,662 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0246300000', 'o': '13.0223000000'}, 'XAGUSD': {'b': '37.9220000000', 'o': '37.9180000000'}, 'NZDJPY': {'b': '88.4610000000', 'o': '88.4530000000'}, 'USDJPY': {'b': '148.7740000000...
2025-07-16 00:26:03,664 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:26:04,535 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:26:04,539 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:26:05,544 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:26:05,548 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:26:06,020 - DEBUG - app.firebase_stream - Firebase listener triggered (48). Event Type: patch, Path: /. Timestamp: 1752650766.0205097
2025-07-16 00:26:06,021 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0242000000', 'o': '13.0216000000'}, 'XAGUSD': {'b': '37.9160000000', 'o': '37.9150000000'}, 'NZDJPY': {'b': '88.4610000000', 'o': '88.4520000000'}, 'GBPAUD': {'b': '2.0539800000',
2025-07-16 00:26:06,022 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0242000000', 'o': '13.0216000000'}, 'XAGUSD': {'b': '37.9160000000', 'o': '37.9150000000'}, 'NZDJPY': {'b': '88.4610000000', 'o': '88.4520000000'}, 'GBPAUD': {'b': '2.0539800000',...
2025-07-16 00:26:06,025 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:26:06,551 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:26:06,555 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:26:07,573 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:26:07,577 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:26:08,262 - DEBUG - app.firebase_stream - Firebase listener triggered (49). Event Type: patch, Path: /. Timestamp: 1752650768.2626586
2025-07-16 00:26:08,263 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0233600000', 'o': '13.0210000000'}, 'NZDJPY': {'b': '88.4620000000', 'o': '88.4530000000'}, 'GBPAUD': {'b': '2.0539700000', 'o': '2.0538300000'}, 'BTCUSD': {'b': '118207.250000000
2025-07-16 00:26:08,264 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0233600000', 'o': '13.0210000000'}, 'NZDJPY': {'b': '88.4620000000', 'o': '88.4530000000'}, 'GBPAUD': {'b': '2.0539700000', 'o': '2.0538300000'}, 'BTCUSD': {'b': '118207.250000000...
2025-07-16 00:26:08,267 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:26:08,595 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:26:08,598 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:26:09,601 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:26:09,605 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:26:10,622 - DEBUG - app.firebase_stream - Firebase listener triggered (50). Event Type: patch, Path: /. Timestamp: 1752650770.6222765
2025-07-16 00:26:10,622 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:26:10,623 - DEBUG - app.firebase_stream - Prepared batch update for 27 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9190000000', 'o': '37.9160000000'}, 'GBPAUD': {'b': '2.0538400000', 'o': '2.0537000000'}, 'BTCUSD': {'b': '118208.0000000000', 'o': '118207.9000000000'}, 'USDJPY': {'b': '148.7760
2025-07-16 00:26:10,625 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9190000000', 'o': '37.9160000000'}, 'GBPAUD': {'b': '2.0538400000', 'o': '2.0537000000'}, 'BTCUSD': {'b': '118208.0000000000', 'o': '118207.9000000000'}, 'USDJPY': {'b': '148.7760...
2025-07-16 00:26:10,625 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:26:10,627 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:26:11,664 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:26:11,668 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:26:12,671 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:26:12,673 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:26:12,880 - DEBUG - app.firebase_stream - Firebase listener triggered (51). Event Type: patch, Path: /. Timestamp: 1752650772.8802676
2025-07-16 00:26:12,880 - DEBUG - app.firebase_stream - Prepared batch update for 26 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0244700000', 'o': '13.0223000000'}, 'NZDJPY': {'b': '88.4590000000', 'o': '88.4510000000'}, 'GBPAUD': {'b': '2.0539200000', 'o': '2.0538100000'}, 'USDJPY': {'b': '148.7730000000',
2025-07-16 00:26:12,882 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0244700000', 'o': '13.0223000000'}, 'NZDJPY': {'b': '88.4590000000', 'o': '88.4510000000'}, 'GBPAUD': {'b': '2.0539200000', 'o': '2.0538100000'}, 'USDJPY': {'b': '148.7730000000',...
2025-07-16 00:26:12,882 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:26:13,690 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:26:13,694 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:26:14,708 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:26:14,712 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:26:15,129 - DEBUG - app.firebase_stream - Firebase listener triggered (52). Event Type: patch, Path: /. Timestamp: 1752650775.12969
2025-07-16 00:26:15,130 - DEBUG - app.firebase_stream - Prepared batch update for 35 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0248000000', 'o': '13.0222000000'}, 'XAGUSD': {'b': '37.9150000000', 'o': '37.9100000000'}, 'NZDJPY': {'b': '88.4590000000', 'o': '88.4490000000'}, 'GBPAUD': {'b': '2.0539200000',
2025-07-16 00:26:15,130 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0248000000', 'o': '13.0222000000'}, 'XAGUSD': {'b': '37.9150000000', 'o': '37.9100000000'}, 'NZDJPY': {'b': '88.4590000000', 'o': '88.4490000000'}, 'GBPAUD': {'b': '2.0539200000',...
2025-07-16 00:26:15,130 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:26:15,726 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:26:15,729 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:26:16,733 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:26:16,737 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:26:16,934 - WARNING - app - User 4 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:26:16,938 - WARNING - app - No user data found for user 5 (live). Skipping portfolio update.
2025-07-16 00:26:16,947 - WARNING - app - No group settings found for group string. Skipping portfolio update for user 8.
2025-07-16 00:26:16,976 - WARNING - app - User 9 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:26:17,013 - WARNING - app - User 10 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:26:17,047 - WARNING - app - User 11 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:26:17,079 - WARNING - app - User 12 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:26:17,106 - WARNING - app - User 13 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:26:17,484 - DEBUG - app.firebase_stream - Firebase listener triggered (53). Event Type: patch, Path: /. Timestamp: 1752650777.4843268
2025-07-16 00:26:17,485 - DEBUG - app.services.portfolio_calculator - Position calculation for BTCUSD: Type=BUY, Entry=118908.50000000, Current=118158.4, Quantity=0.40000000, Contract Size=1.00000000, PnL=-300.040000000000000000000000, PnL USD=-300.040000000000000000000000, Commission=235.57000000, Final PnL=-535.610000000000000000000000
2025-07-16 00:26:17,485 - WARNING - app.services.portfolio_calculator - MARGIN CALL ALERT: User has margin level 99.40229636209463711684405687% which is below threshold 100.0%
2025-07-16 00:26:17,485 - DEBUG - app.firebase_stream - Prepared batch update for 30 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9180000000', 'o': '37.9140000000'}, 'NZDJPY': {'b': '88.4540000000', 'o': '88.4450000000'}, 'GBPAUD': {'b': '2.0539000000', 'o': '2.0538000000'}, 'BTCUSD': {'b': '118214.900000000
2025-07-16 00:26:17,487 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9180000000', 'o': '37.9140000000'}, 'NZDJPY': {'b': '88.4540000000', 'o': '88.4450000000'}, 'GBPAUD': {'b': '2.0539000000', 'o': '2.0538000000'}, 'BTCUSD': {'b': '118214.900000000...
2025-07-16 00:26:17,487 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:26:17,609 - WARNING - app - User 16 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:26:17,675 - WARNING - app - User 17 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:26:17,711 - WARNING - app - User 18 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:26:17,740 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:26:17,744 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:26:17,751 - WARNING - app - User 19 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:26:17,785 - WARNING - app - User 20 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:26:17,814 - WARNING - app - User 21 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:26:17,853 - WARNING - app - User 22 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:26:17,888 - WARNING - app - User 23 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:26:17,905 - WARNING - app - User 25 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:26:18,284 - DEBUG - app.services.portfolio_calculator - Position calculation for XAGUSD: Type=BUY, Entry=41.09800000, Current=37.9015, Quantity=0.01000000, Contract Size=5000.00000000, PnL=-159.825000000000000000000000, PnL USD=-159.825000000000000000000000, Commission=0.10000000, Final PnL=-159.925000000000000000000000
2025-07-16 00:26:18,284 - DEBUG - app.services.portfolio_calculator - Position calculation for BTCUSD: Type=BUY, Entry=132091.90000000, Current=118164.8, Quantity=6.00000000, Contract Size=1.00000000, PnL=-83562.60000000000000000000000, PnL USD=-83562.60000000000000000000000, Commission=3661.62000000, Final PnL=-87224.22000000000000000000000
2025-07-16 00:26:18,284 - WARNING - app.services.portfolio_calculator - MARGIN CALL ALERT: User has margin level 66.19245371198735265246889312% which is below threshold 100.0%
2025-07-16 00:26:18,633 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=96.66800000, Current=97.01100000000001, Quantity=0.01000000, Contract Size=100000.00000000, PnL=343.0000000000100000000000000, PnL USD=2.305525868269175186357739644, Commission=0.10000000, Final PnL=2.205525868269175186357739644
2025-07-16 00:26:18,634 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=96.56000000, Current=97.118, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-558.000000000000000000000000, PnL USD=-3.750680567038373898489645299, Commission=0.10000000, Final PnL=-3.850680567038373898489645299
2025-07-16 00:26:18,635 - WARNING - app - User 2 has no group_name set. Skipping portfolio update.
2025-07-16 00:26:18,638 - WARNING - app - No group settings found for group string. Skipping portfolio update for user 3.
2025-07-16 00:26:18,645 - WARNING - app - User 4 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:26:18,645 - WARNING - app - User 5 has no group_name set. Skipping portfolio update.
2025-07-16 00:26:18,645 - WARNING - app - User 6 has no group_name set. Skipping portfolio update.
2025-07-16 00:26:18,946 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64743000, Current=0.6523100000000001, Quantity=0.10000000, Contract Size=100000.00000000, PnL=48.80000000000100000000000000, PnL USD=48.80000000000100000000000000, Commission=1.00000000, Final PnL=47.80000000000100000000000000
2025-07-16 00:26:18,946 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=SELL, Entry=0.64707000, Current=0.65261, Quantity=0.22000000, Contract Size=100000.00000000, PnL=-121.880000000000000000000000, PnL USD=-121.880000000000000000000000, Commission=2.20000000, Final PnL=-124.080000000000000000000000
2025-07-16 00:26:18,947 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:26:18,949 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFSGD: Type=BUY, Entry=1.57561500, Current=1.603175, Quantity=0.10000000, Contract Size=100000.00000000, PnL=275.600000000000000000000000, PnL USD=214.5799107733752734803833786, Commission=1.00000000, Final PnL=213.5799107733752734803833786
2025-07-16 00:26:18,950 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFSGD: Type=SELL, Entry=1.57505500, Current=1.6035949999999999, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-285.3999999999990000000000000, PnL USD=-222.2101107936178826973535663, Commission=1.00000000, Final PnL=-223.2101107936178826973535663
2025-07-16 00:26:18,951 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:26:18,952 - DEBUG - app.services.portfolio_calculator - Position calculation for CADJPY: Type=SELL, Entry=106.24150000, Current=108.5115, Quantity=0.15000000, Contract Size=100000.00000000, PnL=-34050.00000000000000000000000, PnL USD=-228.8721743864814179992337319, Commission=0E-8, Final PnL=-228.8721743864814179992337319
2025-07-16 00:26:18,952 - DEBUG - app.services.portfolio_calculator - Position calculation for CADJPY: Type=BUY, Entry=106.27050000, Current=108.4755, Quantity=0.15000000, Contract Size=100000.00000000, PnL=33075.00000000000000000000000, PnL USD=222.3185658688068399507975237, Commission=0E-8, Final PnL=222.3185658688068399507975237
2025-07-16 00:26:18,953 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=BUY, Entry=1.77481000, Current=1.78135, Quantity=0.22000000, Contract Size=100000.00000000, PnL=143.880000000000000000000000, PnL USD=93.87594480000000000000000000, Commission=2.20000000, Final PnL=91.67594480000000000000000000
2025-07-16 00:26:18,953 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=SELL, Entry=1.77439000, Current=1.78176, Quantity=0.21000000, Contract Size=100000.00000000, PnL=-154.770000000000000000000000, PnL USD=-100.9812342000000000000000000, Commission=2.10000000, Final PnL=-103.0812342000000000000000000
2025-07-16 00:26:18,953 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFJPY: Type=BUY, Entry=178.15500000, Current=185.705, Quantity=0.10000000, Contract Size=100000.00000000, PnL=75500.00000000000000000000000, PnL USD=507.4845570096724540071115054, Commission=1.00000000, Final PnL=506.4845570096724540071115054
2025-07-16 00:26:18,954 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFJPY: Type=SELL, Entry=178.09500000, Current=185.74499999999998, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-76499.99999999980000000000000, PnL USD=-514.2062067713886256242732216, Commission=1.00000000, Final PnL=-515.2062067713886256242732216
2025-07-16 00:26:18,954 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=BUY, Entry=1.77480000, Current=1.78135, Quantity=0.05000000, Contract Size=100000.00000000, PnL=32.750000000000000000000000, PnL USD=21.36806500000000000000000000, Commission=0.50000000, Final PnL=20.86806500000000000000000000
2025-07-16 00:26:18,955 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=SELL, Entry=1.77442000, Current=1.78176, Quantity=0.05000000, Contract Size=100000.00000000, PnL=-36.700000000000000000000000, PnL USD=-23.94528200000000000000000000, Commission=0.50000000, Final PnL=-24.44528200000000000000000000
2025-07-16 00:26:18,955 - DEBUG - app.services.portfolio_calculator - Position calculation for EURGBP: Type=SELL, Entry=0.85403000, Current=0.86764, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-136.100000000000000000000000, PnL USD=-182.3767220000000000000000000, Commission=1.00000000, Final PnL=-183.3767220000000000000000000
2025-07-16 00:26:18,956 - DEBUG - app.services.portfolio_calculator - Position calculation for EURJPY: Type=BUY, Entry=167.26050000, Current=172.91150000000002, Quantity=0.10000000, Contract Size=100000.00000000, PnL=56510.00000000020000000000000, PnL USD=379.8404280346581705013678557, Commission=1.00000000, Final PnL=378.8404280346581705013678557
2025-07-16 00:26:18,956 - DEBUG - app.services.portfolio_calculator - Position calculation for EURJPY: Type=SELL, Entry=167.23150000, Current=172.9405, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-57090.00000000000000000000000, PnL USD=-383.7389848964529854207416668, Commission=1.00000000, Final PnL=-384.7389848964529854207416668
2025-07-16 00:26:18,957 - DEBUG - app.services.portfolio_calculator - Position calculation for EURNZD: Type=SELL, Entry=1.91952500, Current=1.9552049999999999, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-356.7999999999990000000000000, PnL USD=-212.1461439999994054200000000, Commission=1.00000000, Final PnL=-213.1461439999994054200000000
2025-07-16 00:26:18,957 - DEBUG - app.services.portfolio_calculator - Position calculation for EURNZD: Type=BUY, Entry=1.92063500, Current=1.954885, Quantity=0.10000000, Contract Size=100000.00000000, PnL=342.500000000000000000000000, PnL USD=203.6436500000000000000000000, Commission=1.00000000, Final PnL=202.6436500000000000000000000
2025-07-16 00:26:18,957 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=SELL, Entry=1.34376000, Current=1.34012, Quantity=0.25000000, Contract Size=0E-8, PnL=0E-24, PnL USD=0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:26:18,957 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=SELL, Entry=1.34361000, Current=1.34012, Quantity=0.25000000, Contract Size=0E-8, PnL=0E-24, PnL USD=0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:26:18,957 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=BUY, Entry=1.34379000, Current=1.33991, Quantity=0.25000000, Contract Size=0E-8, PnL=-0E-24, PnL USD=-0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:26:18,957 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=BUY, Entry=1.34378000, Current=1.33991, Quantity=0.25000000, Contract Size=0E-8, PnL=-0E-24, PnL USD=-0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:26:18,958 - DEBUG - app.services.portfolio_calculator - Position calculation for NZDJPY: Type=BUY, Entry=87.10150000, Current=88.43249999999999, Quantity=0.01000000, Contract Size=100000.00000000, PnL=1330.999999999990000000000000, PnL USD=8.946515832845946509111196252, Commission=0.10000000, Final PnL=8.846515832845946509111196252
2025-07-16 00:26:18,959 - DEBUG - app.services.portfolio_calculator - Position calculation for USDCHF: Type=SELL, Entry=0.81771000, Current=0.80119, Quantity=0.15000000, Contract Size=100000.00000000, PnL=247.800000000000000000000000, PnL USD=309.3478477978627783880954759, Commission=1.50000000, Final PnL=307.8478477978627783880954759
2025-07-16 00:26:18,960 - DEBUG - app.services.portfolio_calculator - Position calculation for USDCHF: Type=BUY, Entry=0.81805000, Current=0.80087, Quantity=0.15000000, Contract Size=100000.00000000, PnL=-257.700000000000000000000000, PnL USD=-321.7067811844602017377409368, Commission=1.50000000, Final PnL=-323.2067811844602017377409368
2025-07-16 00:26:18,960 - DEBUG - app.services.portfolio_calculator - Position calculation for USDNOK: Type=BUY, Entry=10.04973000, Current=10.25765, Quantity=0.10000000, Contract Size=100000.00000000, PnL=2079.200000000000000000000000, PnL USD=202.6765548494888733573714434, Commission=1.00000000, Final PnL=201.6765548494888733573714434
2025-07-16 00:26:18,961 - DEBUG - app.services.portfolio_calculator - Position calculation for USDNOK: Type=BUY, Entry=10.05023000, Current=10.25765, Quantity=0.10000000, Contract Size=100000.00000000, PnL=2074.200000000000000000000000, PnL USD=202.1891641346719031925066602, Commission=1.00000000, Final PnL=201.1891641346719031925066602
2025-07-16 00:26:18,962 - DEBUG - app.services.portfolio_calculator - Position calculation for USDSGD: Type=SELL, Entry=1.28795000, Current=1.28452, Quantity=0.31000000, Contract Size=100000.00000000, PnL=106.330000000000000000000000, PnL USD=82.78767021964075772557752050, Commission=3.10000000, Final PnL=79.68767021964075772557752050
2025-07-16 00:26:18,963 - DEBUG - app.services.portfolio_calculator - Position calculation for USDTRY: Type=SELL, Entry=39.56087000, Current=40.25709, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-6962.200000000000000000000000, PnL USD=-172.9440936146661917175026219, Commission=1.00000000, Final PnL=-173.9440936146661917175026219
2025-07-16 00:26:19,652 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.89752000, Current=0.89461, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-2.910000000000000000000000, PnL USD=-2.122166797934716023453224818, Commission=0.10000000, Final PnL=-2.222166797934716023453224818
2025-07-16 00:26:19,694 - WARNING - app - User 12 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:26:19,732 - DEBUG - app.firebase_stream - Firebase listener triggered (54). Event Type: patch, Path: /. Timestamp: 1752650779.7321334
2025-07-16 00:26:19,735 - DEBUG - app.firebase_stream - Prepared batch update for 35 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0245300000', 'o': '13.0222000000'}, 'XAGUSD': {'b': '37.9180000000', 'o': '37.9100000000'}, 'NZDJPY': {'b': '88.4540000000', 'o': '88.4480000000'}, 'GBPAUD': {'b': '2.0539400000',
2025-07-16 00:26:19,736 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0245300000', 'o': '13.0222000000'}, 'XAGUSD': {'b': '37.9180000000', 'o': '37.9100000000'}, 'NZDJPY': {'b': '88.4540000000', 'o': '88.4480000000'}, 'GBPAUD': {'b': '2.0539400000',...
2025-07-16 00:26:19,736 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:26:19,806 - WARNING - app - User 13 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:26:19,954 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:26:19,960 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:26:20,969 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:26:20,973 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:26:21,986 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:26:21,991 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:26:22,088 - DEBUG - app.firebase_stream - Firebase listener triggered (55). Event Type: patch, Path: /. Timestamp: 1752650782.0881076
2025-07-16 00:26:22,088 - DEBUG - app.firebase_stream - Prepared batch update for 41 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0234000000', 'o': '13.0208000000'}, 'XAGUSD': {'b': '37.9190000000', 'o': '37.9100000000'}, 'NZDJPY': {'b': '88.4580000000', 'o': '88.4540000000'}, 'GBPAUD': {'b': '2.0538900000',
2025-07-16 00:26:22,089 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0234000000', 'o': '13.0208000000'}, 'XAGUSD': {'b': '37.9190000000', 'o': '37.9100000000'}, 'NZDJPY': {'b': '88.4580000000', 'o': '88.4540000000'}, 'GBPAUD': {'b': '2.0538900000',...
2025-07-16 00:26:22,091 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:26:23,005 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:26:23,013 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:26:24,024 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:26:24,029 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:26:24,300 - INFO - app - Application shutdown initiated
2025-07-16 00:26:24,301 - INFO - app - Scheduler shutdown completed
2025-07-16 00:26:24,447 - DEBUG - app.firebase_stream - Firebase listener triggered (56). Event Type: patch, Path: /. Timestamp: 1752650784.447804
2025-07-16 00:26:24,448 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0239100000', 'o': '13.0215000000'}, 'NZDJPY': {'b': '88.4590000000', 'o': '88.4500000000'}, 'GBPAUD': {'b': '2.0538400000', 'o': '2.0537400000'}, 'BTCUSD': {'b': '118224.800000000
2025-07-16 00:26:24,449 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0239100000', 'o': '13.0215000000'}, 'NZDJPY': {'b': '88.4590000000', 'o': '88.4500000000'}, 'GBPAUD': {'b': '2.0538400000', 'o': '2.0537400000'}, 'BTCUSD': {'b': '118224.800000000...
2025-07-16 00:26:24,451 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:26:25,191 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-07-16 00:26:26,680 - INFO - app.firebase_stream - Firebase listener closed.
2025-07-16 00:26:26,680 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-07-16 00:26:26,684 - INFO - app - Redis connection closed
2025-07-16 00:26:26,684 - INFO - app - Application shutdown completed
