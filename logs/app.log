2025-07-15 23:41:58,226 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-07-15 23:41:58,277 - INFO - app.core.config - .env file loaded successfully.
2025-07-15 23:41:58,293 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-07-15 23:41:58,294 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-07-15 23:41:59,126 - INFO - app - Application starting up - Trading system initialized
2025-07-15 23:41:59,126 - INFO - app - SL/TP Epsilon accuracy configured: 0.00001
2025-07-15 23:41:59,126 - INFO - app - Environment: DEVELOPMENT
2025-07-15 23:41:59,196 - INFO - app - Application startup initiated
2025-07-15 23:41:59,196 - INFO - app - Initializing core services...
2025-07-15 23:41:59,248 - INFO - app - Firebase initialized
2025-07-15 23:41:59,248 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-07-15 23:42:01,612 - INFO - app - Redis initialized
2025-07-15 23:42:01,621 - INFO - app - [SWAP] daily_swap_charge_job triggered
2025-07-15 23:42:01,624 - INFO - app - Scheduler initialized
2025-07-15 23:42:01,631 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-07-15 23:42:01,631 - DEBUG - app.firebase_stream - Successfully got running event loop in process_firebase_events task.
2025-07-15 23:42:01,632 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-07-15 23:42:02,577 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-07-15 23:42:02,578 - INFO - app - Starting stale cache cleanup task
2025-07-15 23:42:02,591 - DEBUG - app.firebase_stream - Firebase listener triggered (1). Event Type: put, Path: /. Timestamp: 1752648122.590762
2025-07-15 23:42:02,591 - DEBUG - app.firebase_stream - Prepared batch update for 48 symbols from root path for queue. Preview: {'AUDCAD': {'b': '0.8949500000', 'o': '0.8949300000'}, 'AUDCHF': {'b': '0.5225900000', 'o': '0.5225400000'}, 'AUDJPY': {'b': '97.0400000000', 'o': '97.0340000000'}, 'AUDNZD': {'b': '1.0000000000', 'o'
2025-07-15 23:42:02,591 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'AUDCAD': {'b': '0.8949500000', 'o': '0.8949300000'}, 'AUDCHF': {'b': '0.5225900000', 'o': '0.5225400000'}, 'AUDJPY': {'b': '97.0400000000', 'o': '97.0340000000'}, 'AUDNZD': {'b': '1.0000000000', 'o'...
2025-07-15 23:42:02,591 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type put at path /.
2025-07-15 23:42:03,188 - DEBUG - app.firebase_stream - Firebase listener triggered (2). Event Type: patch, Path: /. Timestamp: 1752648123.1886377
2025-07-15 23:42:03,188 - DEBUG - app.firebase_stream - Prepared batch update for 39 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0191000000', 'o': '13.0164000000'}, 'NZDJPY': {'b': '88.5250000000', 'o': '88.5160000000'}, 'GBPAUD': {'b': '2.0552500000', 'o': '2.0550800000'}, 'BTCUSD': {'b': '118244.530000000
2025-07-15 23:42:03,189 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0191000000', 'o': '13.0164000000'}, 'NZDJPY': {'b': '88.5250000000', 'o': '88.5160000000'}, 'GBPAUD': {'b': '2.0552500000', 'o': '2.0550800000'}, 'BTCUSD': {'b': '118244.530000000...
2025-07-15 23:42:03,189 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-15 23:42:05,566 - DEBUG - app.firebase_stream - Firebase listener triggered (3). Event Type: patch, Path: /. Timestamp: 1752648125.5664256
2025-07-15 23:42:05,566 - DEBUG - app.firebase_stream - Prepared batch update for 30 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0185000000', 'o': '13.0159000000'}, 'XAGUSD': {'b': '37.8890000000', 'o': '37.8830000000'}, 'NZDJPY': {'b': '88.5240000000', 'o': '88.5160000000'}, 'GBPAUD': {'b': '2.0552400000',
2025-07-15 23:42:05,567 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0185000000', 'o': '13.0159000000'}, 'XAGUSD': {'b': '37.8890000000', 'o': '37.8830000000'}, 'NZDJPY': {'b': '88.5240000000', 'o': '88.5160000000'}, 'GBPAUD': {'b': '2.0552400000',...
2025-07-15 23:42:05,567 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-15 23:42:06,659 - INFO - app - Cleaned up pending order stream for new trigger price format
2025-07-15 23:42:06,659 - INFO - app - Background tasks initialized
2025-07-15 23:42:07,405 - INFO - app - Service account JWT for 'barclays_service_provider' was generated and pushed to Firebase.
2025-07-15 23:42:07,406 - INFO - app - Application startup completed successfully
2025-07-15 23:42:07,406 - INFO - app - Starting cache validation task
2025-07-15 23:42:07,408 - INFO - app - Starting Barclays pending order margin checker task.
2025-07-15 23:42:07,409 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-15 23:42:07,411 - INFO - app - Starting auto-cutoff order monitoring task.
2025-07-15 23:42:07,442 - INFO - app - Validating cache for 31 users
2025-07-15 23:42:07,445 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-15 23:42:07,808 - DEBUG - app.firebase_stream - Firebase listener triggered (4). Event Type: patch, Path: /. Timestamp: 1752648127.80836
2025-07-15 23:42:07,808 - DEBUG - app.firebase_stream - Prepared batch update for 27 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.8900000000', 'o': '37.8800000000'}, 'NZDJPY': {'b': '88.5250000000', 'o': '88.5170000000'}, 'GBPAUD': {'b': '2.0552700000', 'o': '2.0551100000'}, 'BTCUSD': {'b': '118268.880000000
2025-07-15 23:42:07,808 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 2. Data preview: {'XAGUSD': {'b': '37.8900000000', 'o': '37.8800000000'}, 'NZDJPY': {'b': '88.5250000000', 'o': '88.5170000000'}, 'GBPAUD': {'b': '2.0552700000', 'o': '2.0551100000'}, 'BTCUSD': {'b': '118268.880000000...
2025-07-15 23:42:07,808 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-15 23:42:08,458 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-15 23:42:08,461 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-15 23:42:09,451 - INFO - app - Found 23 static orders cache entries to check
2025-07-15 23:42:09,477 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-15 23:42:09,480 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-15 23:42:10,095 - DEBUG - app.firebase_stream - Firebase listener triggered (5). Event Type: patch, Path: /. Timestamp: 1752648130.0957
2025-07-15 23:42:10,095 - DEBUG - app.firebase_stream - Prepared batch update for 34 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0187000000', 'o': '13.0161000000'}, 'XAGUSD': {'b': '37.8890000000', 'o': '37.8830000000'}, 'NZDJPY': {'b': '88.5280000000', 'o': '88.5190000000'}, 'BTCUSD': {'b': '118247.1700000
2025-07-15 23:42:10,096 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 2. Data preview: {'GBPSEK': {'b': '13.0187000000', 'o': '13.0161000000'}, 'XAGUSD': {'b': '37.8890000000', 'o': '37.8830000000'}, 'NZDJPY': {'b': '88.5280000000', 'o': '88.5190000000'}, 'BTCUSD': {'b': '118247.1700000...
2025-07-15 23:42:10,096 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-15 23:42:10,488 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-15 23:42:10,492 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-15 23:42:11,490 - WARNING - app - User 4: Missing balance/margin cache, refreshing...
2025-07-15 23:42:11,502 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-15 23:42:11,506 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-15 23:42:12,425 - DEBUG - app.firebase_stream - Firebase listener triggered (6). Event Type: patch, Path: /. Timestamp: 1752648132.4252253
2025-07-15 23:42:12,425 - DEBUG - app.firebase_stream - Prepared batch update for 35 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0185000000', 'o': '13.0158000000'}, 'NZDJPY': {'b': '88.5260000000', 'o': '88.5190000000'}, 'GBPAUD': {'b': '2.0552400000', 'o': '2.0551000000'}, 'USDJPY': {'b': '148.6910000000',
2025-07-15 23:42:12,425 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 3. Data preview: {'GBPSEK': {'b': '13.0185000000', 'o': '13.0158000000'}, 'NZDJPY': {'b': '88.5260000000', 'o': '88.5190000000'}, 'GBPAUD': {'b': '2.0552400000', 'o': '2.0551000000'}, 'USDJPY': {'b': '148.6910000000',...
2025-07-15 23:42:12,426 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-15 23:42:12,511 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-15 23:42:12,513 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-15 23:42:13,518 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-15 23:42:13,573 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-15 23:42:13,592 - INFO - app.api.v1.endpoints.users - Refresh token decoded. User ID from token payload: 14
2025-07-15 23:42:13,594 - INFO - app.api.v1.endpoints.users - Refresh token decoded. User ID from token payload: 14
2025-07-15 23:42:14,576 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-15 23:42:14,578 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-15 23:42:14,730 - DEBUG - app.firebase_stream - Firebase listener triggered (7). Event Type: patch, Path: /. Timestamp: 1752648134.7300253
2025-07-15 23:42:14,730 - DEBUG - app.firebase_stream - Prepared batch update for 40 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0191000000', 'o': '13.0164000000'}, 'XAGUSD': {'b': '37.8820000000', 'o': '37.8750000000'}, 'NZDJPY': {'b': '88.5250000000', 'o': '88.5170000000'}, 'GBPAUD': {'b': '2.0554100000',
2025-07-15 23:42:14,731 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 3. Data preview: {'GBPSEK': {'b': '13.0191000000', 'o': '13.0164000000'}, 'XAGUSD': {'b': '37.8820000000', 'o': '37.8750000000'}, 'NZDJPY': {'b': '88.5250000000', 'o': '88.5170000000'}, 'GBPAUD': {'b': '2.0554100000',...
2025-07-15 23:42:14,731 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-15 23:42:15,133 - INFO - app.api.v1.endpoints.users - Refresh token decoded. User ID from token payload: 14
2025-07-15 23:42:15,158 - INFO - app.api.v1.endpoints.users - Refresh token decoded. User ID from token payload: 14
2025-07-15 23:42:15,192 - INFO - app.api.v1.endpoints.users - Refresh token decoded. User ID from token payload: 14
2025-07-15 23:42:15,484 - INFO - app.api.v1.endpoints.users - Refresh token decoded. User ID from token payload: 14
2025-07-15 23:42:15,579 - WARNING - app - Found stale cache entry for user 2, will be refreshed on next access
2025-07-15 23:42:15,584 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-15 23:42:15,587 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-15 23:42:15,588 - DEBUG - app.api.v1.endpoints.users - Comparing Redis user_id (type: <class 'int'>, value: 14) with decoded user_id (type: <class 'str'>, value: 14)
2025-07-15 23:42:15,588 - INFO - app.api.v1.endpoints.users - Refresh token validated successfully for user ID: 14
2025-07-15 23:42:15,590 - DEBUG - app.api.v1.endpoints.users - Comparing Redis user_id (type: <class 'int'>, value: 14) with decoded user_id (type: <class 'str'>, value: 14)
2025-07-15 23:42:15,590 - INFO - app.api.v1.endpoints.users - Refresh token validated successfully for user ID: 14
2025-07-15 23:42:15,593 - DEBUG - app.api.v1.endpoints.users - Comparing Redis user_id (type: <class 'int'>, value: 14) with decoded user_id (type: <class 'str'>, value: 14)
2025-07-15 23:42:15,593 - INFO - app.api.v1.endpoints.users - Refresh token validated successfully for user ID: 14
2025-07-15 23:42:15,594 - DEBUG - app.api.v1.endpoints.users - Comparing Redis user_id (type: <class 'int'>, value: 14) with decoded user_id (type: <class 'str'>, value: 14)
2025-07-15 23:42:15,595 - INFO - app.api.v1.endpoints.users - Refresh token validated successfully for user ID: 14
2025-07-15 23:42:15,596 - DEBUG - app.api.v1.endpoints.users - Comparing Redis user_id (type: <class 'int'>, value: 14) with decoded user_id (type: <class 'str'>, value: 14)
2025-07-15 23:42:15,596 - INFO - app.api.v1.endpoints.users - Refresh token validated successfully for user ID: 14
2025-07-15 23:42:15,597 - DEBUG - app.api.v1.endpoints.users - Comparing Redis user_id (type: <class 'int'>, value: 14) with decoded user_id (type: <class 'str'>, value: 14)
2025-07-15 23:42:15,597 - INFO - app.api.v1.endpoints.users - Refresh token validated successfully for user ID: 14
2025-07-15 23:42:15,601 - WARNING - app - Found stale cache entry for user 3, will be refreshed on next access
2025-07-15 23:42:15,622 - INFO - app.api.v1.endpoints.users - New access and refresh tokens generated for user ID 14 using refresh token.
2025-07-15 23:42:15,626 - INFO - app.api.v1.endpoints.users - New access and refresh tokens generated for user ID 14 using refresh token.
2025-07-15 23:42:15,626 - INFO - app.api.v1.endpoints.users - New access and refresh tokens generated for user ID 14 using refresh token.
2025-07-15 23:42:15,629 - INFO - app.api.v1.endpoints.users - New access and refresh tokens generated for user ID 14 using refresh token.
2025-07-15 23:42:15,634 - WARNING - app - Found stale cache entry for user 17, will be refreshed on next access
2025-07-15 23:42:15,637 - INFO - app.api.v1.endpoints.users - New access and refresh tokens generated for user ID 14 using refresh token.
2025-07-15 23:42:15,645 - INFO - app.api.v1.endpoints.users - New access and refresh tokens generated for user ID 14 using refresh token.
2025-07-15 23:42:15,669 - WARNING - app - Found stale cache entry for user 18, will be refreshed on next access
2025-07-15 23:42:15,731 - WARNING - app - User 5: Missing balance/margin cache, refreshing...
2025-07-15 23:42:15,745 - WARNING - app - Found stale cache entry for user 23, will be refreshed on next access
2025-07-15 23:42:15,760 - WARNING - app - Found stale cache entry for user 19, will be refreshed on next access
2025-07-15 23:42:15,763 - WARNING - app - User 8: Missing balance/margin cache, refreshing...
2025-07-15 23:42:15,771 - WARNING - app - Found stale cache entry for user 8, will be refreshed on next access
2025-07-15 23:42:15,777 - WARNING - app - Found stale cache entry for user 5, will be refreshed on next access
2025-07-15 23:42:15,782 - WARNING - app - Found stale cache entry for user 24, will be refreshed on next access
2025-07-15 23:42:15,785 - WARNING - app - Found stale cache entry for user 13, will be refreshed on next access
2025-07-15 23:42:15,787 - WARNING - app - Found stale cache entry for user 16, will be refreshed on next access
2025-07-15 23:42:15,789 - WARNING - app - Found stale cache entry for user 25, will be refreshed on next access
2025-07-15 23:42:15,791 - WARNING - app - Found stale cache entry for user 12, will be refreshed on next access
2025-07-15 23:42:15,791 - WARNING - app - User 9: Missing balance/margin cache, refreshing...
2025-07-15 23:42:15,797 - WARNING - app - Found stale cache entry for user 21, will be refreshed on next access
2025-07-15 23:42:15,799 - WARNING - app - Found stale cache entry for user 22, will be refreshed on next access
2025-07-15 23:42:16,075 - INFO - app.api.v1.endpoints.favorites - Direct SQL query found 0 symbols for user 14
2025-07-15 23:42:16,076 - INFO - app.api.v1.endpoints.favorites - Symbols: []
2025-07-15 23:42:16,598 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-15 23:42:16,600 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-15 23:42:17,046 - DEBUG - app.firebase_stream - Firebase listener triggered (8). Event Type: patch, Path: /. Timestamp: 1752648137.0460258
2025-07-15 23:42:17,046 - DEBUG - app.firebase_stream - Prepared batch update for 34 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0196000000', 'o': '13.0170000000'}, 'XAGUSD': {'b': '37.8830000000', 'o': '37.8750000000'}, 'NZDJPY': {'b': '88.5280000000', 'o': '88.5190000000'}, 'GBPAUD': {'b': '2.0553800000',
2025-07-15 23:42:17,047 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0196000000', 'o': '13.0170000000'}, 'XAGUSD': {'b': '37.8830000000', 'o': '37.8750000000'}, 'NZDJPY': {'b': '88.5280000000', 'o': '88.5190000000'}, 'GBPAUD': {'b': '2.0553800000',...
2025-07-15 23:42:17,047 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-15 23:42:17,604 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-15 23:42:17,607 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-15 23:42:17,827 - WARNING - app - Found stale cache entry for user 6, will be refreshed on next access
2025-07-15 23:42:17,832 - WARNING - app - Found stale cache entry for user 20, will be refreshed on next access
2025-07-15 23:42:17,832 - INFO - app - Completed stale cache cleanup task
2025-07-15 23:42:17,850 - WARNING - app - User 10: Missing balance/margin cache, refreshing...
2025-07-15 23:42:17,907 - WARNING - app - User 11: Missing balance/margin cache, refreshing...
2025-07-15 23:42:17,949 - WARNING - app - User 12: Missing balance/margin cache, refreshing...
2025-07-15 23:42:18,611 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-15 23:42:18,613 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-15 23:42:19,362 - DEBUG - app.firebase_stream - Firebase listener triggered (9). Event Type: patch, Path: /. Timestamp: 1752648139.3622837
2025-07-15 23:42:19,362 - DEBUG - app.firebase_stream - Prepared batch update for 26 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0199000000', 'o': '13.0173000000'}, 'GBPAUD': {'b': '2.0554100000', 'o': '2.0552700000'}, 'USDJPY': {'b': '148.6850000000', 'o': '148.6840000000'}, 'USDCNH': {'b': '7.1813800000',
2025-07-15 23:42:19,363 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0199000000', 'o': '13.0173000000'}, 'GBPAUD': {'b': '2.0554100000', 'o': '2.0552700000'}, 'USDJPY': {'b': '148.6850000000', 'o': '148.6840000000'}, 'USDCNH': {'b': '7.1813800000',...
2025-07-15 23:42:19,363 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-15 23:42:19,621 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-15 23:42:19,641 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-15 23:42:20,121 - WARNING - app - User 13: Missing balance/margin cache, refreshing...
2025-07-15 23:42:20,296 - WARNING - app - User 16: Missing balance/margin cache, refreshing...
2025-07-15 23:42:20,656 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-15 23:42:20,658 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-15 23:42:21,675 - DEBUG - app.firebase_stream - Firebase listener triggered (10). Event Type: patch, Path: /. Timestamp: 1752648141.6753104
2025-07-15 23:42:21,675 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-15 23:42:21,675 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0189000000', 'o': '13.0163900000'}, 'NZDJPY': {'b': '88.5250000000', 'o': '88.5160000000'}, 'GBPAUD': {'b': '2.0553500000', 'o': '2.0552200000'}, 'USDJPY': {'b': '148.6870000000',
2025-07-15 23:42:21,677 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0189000000', 'o': '13.0163900000'}, 'NZDJPY': {'b': '88.5250000000', 'o': '88.5160000000'}, 'GBPAUD': {'b': '2.0553500000', 'o': '2.0552200000'}, 'USDJPY': {'b': '148.6870000000',...
2025-07-15 23:42:21,678 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-15 23:42:21,678 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-15 23:42:22,395 - WARNING - app - User 17: Missing balance/margin cache, refreshing...
2025-07-15 23:42:22,413 - INFO - app - Starting stale cache cleanup task
2025-07-15 23:42:22,431 - INFO - app - Found 23 static orders cache entries to check
2025-07-15 23:42:22,452 - WARNING - app - Found stale cache entry for user 2, will be refreshed on next access
2025-07-15 23:42:22,469 - WARNING - app - Found stale cache entry for user 3, will be refreshed on next access
2025-07-15 23:42:22,488 - WARNING - app - Found stale cache entry for user 17, will be refreshed on next access
2025-07-15 23:42:22,491 - WARNING - app - User 18: Missing balance/margin cache, refreshing...
2025-07-15 23:42:22,502 - WARNING - app - Found stale cache entry for user 18, will be refreshed on next access
2025-07-15 23:42:22,521 - WARNING - app - Found stale cache entry for user 23, will be refreshed on next access
2025-07-15 23:42:22,532 - WARNING - app - Found stale cache entry for user 19, will be refreshed on next access
2025-07-15 23:42:22,545 - WARNING - app - Found stale cache entry for user 8, will be refreshed on next access
2025-07-15 23:42:22,551 - WARNING - app - Found stale cache entry for user 5, will be refreshed on next access
2025-07-15 23:42:22,560 - WARNING - app - Found stale cache entry for user 24, will be refreshed on next access
2025-07-15 23:42:22,562 - WARNING - app - User 19: Missing balance/margin cache, refreshing...
2025-07-15 23:42:22,566 - WARNING - app - Found stale cache entry for user 13, will be refreshed on next access
2025-07-15 23:42:22,590 - WARNING - app - Found stale cache entry for user 16, will be refreshed on next access
2025-07-15 23:42:22,605 - WARNING - app - Found stale cache entry for user 25, will be refreshed on next access
2025-07-15 23:42:22,621 - WARNING - app - Found stale cache entry for user 12, will be refreshed on next access
2025-07-15 23:42:22,653 - WARNING - app - Found stale cache entry for user 21, will be refreshed on next access
2025-07-15 23:42:22,656 - WARNING - app - User 20: Missing balance/margin cache, refreshing...
2025-07-15 23:42:22,664 - WARNING - app - Found stale cache entry for user 22, will be refreshed on next access
2025-07-15 23:42:22,687 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-15 23:42:22,692 - WARNING - app - Found stale cache entry for user 6, will be refreshed on next access
2025-07-15 23:42:22,695 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-15 23:42:22,704 - WARNING - app - Found stale cache entry for user 20, will be refreshed on next access
2025-07-15 23:42:22,705 - INFO - app - Completed stale cache cleanup task
2025-07-15 23:42:23,720 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-15 23:42:23,725 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-15 23:42:24,006 - DEBUG - app.firebase_stream - Firebase listener triggered (11). Event Type: patch, Path: /. Timestamp: 1752648144.0067754
2025-07-15 23:42:24,007 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0179000000', 'o': '13.0153000000'}, 'XAGUSD': {'b': '37.8840000000', 'o': '37.8780000000'}, 'GBPAUD': {'b': '2.0553500000', 'o': '2.0552800000'}, 'USDJPY': {'b': '148.6820000000',
2025-07-15 23:42:24,008 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0179000000', 'o': '13.0153000000'}, 'XAGUSD': {'b': '37.8840000000', 'o': '37.8780000000'}, 'GBPAUD': {'b': '2.0553500000', 'o': '2.0552800000'}, 'USDJPY': {'b': '148.6820000000',...
2025-07-15 23:42:24,008 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-15 23:42:24,728 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-15 23:42:24,731 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-15 23:42:24,746 - WARNING - app - User 21: Missing balance/margin cache, refreshing...
2025-07-15 23:42:24,841 - INFO - app.api.v1.endpoints.favorites - Direct SQL query found 0 symbols for user 14
2025-07-15 23:42:24,841 - INFO - app.api.v1.endpoints.favorites - Symbols: []
2025-07-15 23:42:25,735 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-15 23:42:25,738 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-15 23:42:26,348 - DEBUG - app.firebase_stream - Firebase listener triggered (12). Event Type: patch, Path: /. Timestamp: 1752648146.3487616
2025-07-15 23:42:26,349 - DEBUG - app.firebase_stream - Prepared batch update for 38 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0178000000', 'o': '13.0152000000'}, 'NZDJPY': {'b': '88.5310000000', 'o': '88.5280000000'}, 'GBPAUD': {'b': '2.0552500000', 'o': '2.0552100000'}, 'BTCUSD': {'b': '118248.520000000
2025-07-15 23:42:26,349 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0178000000', 'o': '13.0152000000'}, 'NZDJPY': {'b': '88.5310000000', 'o': '88.5280000000'}, 'GBPAUD': {'b': '2.0552500000', 'o': '2.0552100000'}, 'BTCUSD': {'b': '118248.520000000...
2025-07-15 23:42:26,349 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-15 23:42:26,743 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-15 23:42:26,745 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-15 23:42:26,823 - WARNING - app - User 22: Missing balance/margin cache, refreshing...
2025-07-15 23:42:26,854 - WARNING - app - User 23: Missing balance/margin cache, refreshing...
2025-07-15 23:42:26,869 - WARNING - app - User 24: Missing balance/margin cache, refreshing...
2025-07-15 23:42:26,912 - WARNING - app - User 25: Missing balance/margin cache, refreshing...
2025-07-15 23:42:26,950 - WARNING - app - User 26: Missing balance/margin cache, refreshing...
2025-07-15 23:42:26,996 - WARNING - app - User 1: Missing balance/margin cache, refreshing...
2025-07-15 23:42:27,069 - WARNING - app - User 2: Missing balance/margin cache, refreshing...
2025-07-15 23:42:27,113 - WARNING - app - User 3: Missing balance/margin cache, refreshing...
2025-07-15 23:42:27,156 - WARNING - app - User 5: Missing balance/margin cache, refreshing...
2025-07-15 23:42:27,212 - WARNING - app - User 6: Missing balance/margin cache, refreshing...
2025-07-15 23:42:27,266 - INFO - app - Cache validation completed
2025-07-15 23:42:27,755 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-15 23:42:27,758 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-15 23:42:28,458 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-07-15 23:42:28,460 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-07-15 23:42:28,473 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-07-15 23:42:28,490 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-07-15 23:42:28,503 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-07-15 23:42:28,511 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-07-15 23:42:28,622 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-07-15 23:42:28,698 - DEBUG - app.firebase_stream - Firebase listener triggered (13). Event Type: patch, Path: /. Timestamp: 1752648148.698132
2025-07-15 23:42:28,698 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.5370000000', 'o': '88.5300000000'}, 'GBPAUD': {'b': '2.0552800000', 'o': '2.0551900000'}, 'BTCUSD': {'b': '118250.0000000000', 'o': '118249.9000000000'}, 'USDJPY': {'b': '148.6840
2025-07-15 23:42:28,698 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.5370000000', 'o': '88.5300000000'}, 'GBPAUD': {'b': '2.0552800000', 'o': '2.0551900000'}, 'BTCUSD': {'b': '118250.0000000000', 'o': '118249.9000000000'}, 'USDJPY': {'b': '148.6840...
2025-07-15 23:42:28,698 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-15 23:42:28,762 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-15 23:42:28,765 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-15 23:42:28,858 - INFO - app.core.config - .env file loaded successfully.
2025-07-15 23:42:28,863 - INFO - app.core.config - .env file loaded successfully.
2025-07-15 23:42:28,864 - INFO - app.core.config - .env file loaded successfully.
2025-07-15 23:42:28,864 - INFO - app.core.config - .env file loaded successfully.
2025-07-15 23:42:28,865 - INFO - app.core.config - .env file loaded successfully.
2025-07-15 23:42:28,868 - INFO - app.core.config - .env file loaded successfully.
2025-07-15 23:42:28,870 - INFO - app.core.config - .env file loaded successfully.
2025-07-15 23:42:28,877 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-07-15 23:42:28,877 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-07-15 23:42:28,881 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-07-15 23:42:28,881 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-07-15 23:42:28,882 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-07-15 23:42:28,882 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-07-15 23:42:28,890 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-07-15 23:42:28,890 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-07-15 23:42:28,890 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-07-15 23:42:28,891 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-07-15 23:42:28,892 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-07-15 23:42:28,892 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-07-15 23:42:28,893 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-07-15 23:42:28,893 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-07-15 23:42:29,766 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-15 23:42:29,769 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-15 23:42:30,776 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-15 23:42:30,778 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-15 23:42:31,098 - DEBUG - app.firebase_stream - Firebase listener triggered (14). Event Type: patch, Path: /. Timestamp: 1752648151.0982842
2025-07-15 23:42:31,098 - DEBUG - app.firebase_stream - Prepared batch update for 21 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0194000000', 'o': '13.0168000000'}, 'XAGUSD': {'b': '37.8850000000', 'o': '37.8780000000'}, 'NZDJPY': {'b': '88.5380000000', 'o': '88.5300000000'}, 'USDJPY': {'b': '148.6850000000
2025-07-15 23:42:31,098 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0194000000', 'o': '13.0168000000'}, 'XAGUSD': {'b': '37.8850000000', 'o': '37.8780000000'}, 'NZDJPY': {'b': '88.5380000000', 'o': '88.5300000000'}, 'USDJPY': {'b': '148.6850000000...
2025-07-15 23:42:31,098 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-15 23:42:31,784 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-15 23:42:31,787 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-15 23:42:32,789 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-15 23:42:32,792 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-15 23:42:33,535 - DEBUG - app.firebase_stream - Firebase listener triggered (15). Event Type: patch, Path: /. Timestamp: 1752648153.535151
2025-07-15 23:42:33,535 - DEBUG - app.firebase_stream - Prepared batch update for 12 symbols from root path for queue. Preview: {'GBPAUD': {'b': '2.0552800000', 'o': '2.0551200000'}, 'EURNZD': {'b': '1.9526800000', 'o': '1.9525000000'}, 'SGDJPY': {'b': '115.8050000000', 'o': '115.7850000000'}, 'USDCHF': {'b': '0.8007500000', '
2025-07-15 23:42:33,535 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPAUD': {'b': '2.0552800000', 'o': '2.0551200000'}, 'EURNZD': {'b': '1.9526800000', 'o': '1.9525000000'}, 'SGDJPY': {'b': '115.8050000000', 'o': '115.7850000000'}, 'USDCHF': {'b': '0.8007500000', '...
2025-07-15 23:42:33,536 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-15 23:42:33,796 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-15 23:42:33,799 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-15 23:42:34,820 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-15 23:42:34,823 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-15 23:42:35,831 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-15 23:42:35,833 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-15 23:42:35,966 - DEBUG - app.firebase_stream - Firebase listener triggered (16). Event Type: patch, Path: /. Timestamp: 1752648155.966422
2025-07-15 23:42:35,966 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0190000000', 'o': '13.0164000000'}, 'XAGUSD': {'b': '37.8930000000', 'o': '37.8830000000'}, 'NZDJPY': {'b': '88.5380000000', 'o': '88.5310000000'}, 'GBPAUD': {'b': '2.0552600000',
2025-07-15 23:42:35,966 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0190000000', 'o': '13.0164000000'}, 'XAGUSD': {'b': '37.8930000000', 'o': '37.8830000000'}, 'NZDJPY': {'b': '88.5380000000', 'o': '88.5310000000'}, 'GBPAUD': {'b': '2.0552600000',...
2025-07-15 23:42:35,966 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-15 23:42:36,837 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-15 23:42:36,839 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-15 23:42:37,845 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-15 23:42:37,847 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-15 23:42:38,221 - DEBUG - app.firebase_stream - Firebase listener triggered (17). Event Type: patch, Path: /. Timestamp: 1752648158.2215507
2025-07-15 23:42:38,222 - DEBUG - app.firebase_stream - Prepared batch update for 37 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0188000000', 'o': '13.0160000000'}, 'XAGUSD': {'b': '37.8830000000', 'o': '37.8750000000'}, 'NZDJPY': {'b': '88.5350000000', 'o': '88.5280000000'}, 'GBPAUD': {'b': '2.0552400000',
2025-07-15 23:42:38,222 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0188000000', 'o': '13.0160000000'}, 'XAGUSD': {'b': '37.8830000000', 'o': '37.8750000000'}, 'NZDJPY': {'b': '88.5350000000', 'o': '88.5280000000'}, 'GBPAUD': {'b': '2.0552400000',...
2025-07-15 23:42:38,223 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-15 23:42:38,850 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-15 23:42:38,852 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-15 23:42:39,861 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-15 23:42:39,863 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-15 23:42:40,582 - DEBUG - app.firebase_stream - Firebase listener triggered (18). Event Type: patch, Path: /. Timestamp: 1752648160.5820904
2025-07-15 23:42:40,582 - DEBUG - app.firebase_stream - Prepared batch update for 37 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0182000000', 'o': '13.0161100000'}, 'XAGUSD': {'b': '37.8940000000', 'o': '37.8850000000'}, 'NZDJPY': {'b': '88.5400000000', 'o': '88.5340000000'}, 'GBPAUD': {'b': '2.0552900000',
2025-07-15 23:42:40,582 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0182000000', 'o': '13.0161100000'}, 'XAGUSD': {'b': '37.8940000000', 'o': '37.8850000000'}, 'NZDJPY': {'b': '88.5400000000', 'o': '88.5340000000'}, 'GBPAUD': {'b': '2.0552900000',...
2025-07-15 23:42:40,583 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-15 23:42:40,878 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-15 23:42:40,881 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-15 23:42:41,891 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-15 23:42:41,893 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-15 23:42:42,837 - DEBUG - app.firebase_stream - Firebase listener triggered (19). Event Type: patch, Path: /. Timestamp: 1752648162.8377283
2025-07-15 23:42:42,838 - DEBUG - app.firebase_stream - Prepared batch update for 37 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0179000000', 'o': '13.0153000000'}, 'NZDJPY': {'b': '88.5450000000', 'o': '88.5380000000'}, 'GBPAUD': {'b': '2.0551200000', 'o': '2.0551000000'}, 'USDJPY': {'b': '148.6810000000',
2025-07-15 23:42:42,838 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0179000000', 'o': '13.0153000000'}, 'NZDJPY': {'b': '88.5450000000', 'o': '88.5380000000'}, 'GBPAUD': {'b': '2.0551200000', 'o': '2.0551000000'}, 'USDJPY': {'b': '148.6810000000',...
2025-07-15 23:42:42,838 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-15 23:42:42,895 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-15 23:42:42,897 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-15 23:42:43,899 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-15 23:42:43,902 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-15 23:42:44,909 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-15 23:42:44,910 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-15 23:42:45,189 - DEBUG - app.firebase_stream - Firebase listener triggered (20). Event Type: patch, Path: /. Timestamp: 1752648165.1894405
2025-07-15 23:42:45,189 - DEBUG - app.firebase_stream - Prepared batch update for 36 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0189000000', 'o': '13.0163000000'}, 'XAGUSD': {'b': '37.8980000000', 'o': '37.8930000000'}, 'NZDJPY': {'b': '88.5480000000', 'o': '88.5390000000'}, 'GBPAUD': {'b': '2.0551100000',
2025-07-15 23:42:45,190 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0189000000', 'o': '13.0163000000'}, 'XAGUSD': {'b': '37.8980000000', 'o': '37.8930000000'}, 'NZDJPY': {'b': '88.5480000000', 'o': '88.5390000000'}, 'GBPAUD': {'b': '2.0551100000',...
2025-07-15 23:42:45,190 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-15 23:42:45,920 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-15 23:42:45,923 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-15 23:42:46,927 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-15 23:42:46,929 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-15 23:42:47,542 - DEBUG - app.firebase_stream - Firebase listener triggered (21). Event Type: patch, Path: /. Timestamp: 1752648167.542542
2025-07-15 23:42:47,543 - DEBUG - app.firebase_stream - Prepared batch update for 39 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0173000000', 'o': '13.0147000000'}, 'XAGUSD': {'b': '37.8980000000', 'o': '37.8900000000'}, 'NZDJPY': {'b': '88.5420000000', 'o': '88.5360000000'}, 'GBPAUD': {'b': '2.0551200000',
2025-07-15 23:42:47,543 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0173000000', 'o': '13.0147000000'}, 'XAGUSD': {'b': '37.8980000000', 'o': '37.8900000000'}, 'NZDJPY': {'b': '88.5420000000', 'o': '88.5360000000'}, 'GBPAUD': {'b': '2.0551200000',...
2025-07-15 23:42:47,544 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-15 23:42:47,939 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-15 23:42:47,941 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-15 23:42:48,949 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-15 23:42:48,952 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-15 23:42:49,801 - DEBUG - app.firebase_stream - Firebase listener triggered (22). Event Type: patch, Path: /. Timestamp: 1752648169.801934
2025-07-15 23:42:49,802 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.5450000000', 'o': '88.5360000000'}, 'GBPAUD': {'b': '2.0552200000', 'o': '2.0550800000'}, 'BTCUSD': {'b': '118229.5700000000', 'o': '118229.5700000000'}, 'USDJPY': {'b': '148.6890
2025-07-15 23:42:49,802 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.5450000000', 'o': '88.5360000000'}, 'GBPAUD': {'b': '2.0552200000', 'o': '2.0550800000'}, 'BTCUSD': {'b': '118229.5700000000', 'o': '118229.5700000000'}, 'USDJPY': {'b': '148.6890...
2025-07-15 23:42:49,802 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-15 23:42:49,954 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-15 23:42:49,957 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-15 23:42:50,969 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-15 23:42:50,971 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-15 23:42:51,977 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-15 23:42:51,978 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-15 23:42:52,158 - DEBUG - app.firebase_stream - Firebase listener triggered (23). Event Type: patch, Path: /. Timestamp: 1752648172.1584647
2025-07-15 23:42:52,158 - DEBUG - app.firebase_stream - Prepared batch update for 37 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0178000000', 'o': '13.0153600000'}, 'XAGUSD': {'b': '37.8940000000', 'o': '37.8880000000'}, 'NZDJPY': {'b': '88.5420000000', 'o': '88.5330000000'}, 'GBPAUD': {'b': '2.0552500000',
2025-07-15 23:42:52,159 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0178000000', 'o': '13.0153600000'}, 'XAGUSD': {'b': '37.8940000000', 'o': '37.8880000000'}, 'NZDJPY': {'b': '88.5420000000', 'o': '88.5330000000'}, 'GBPAUD': {'b': '2.0552500000',...
2025-07-15 23:42:52,159 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-15 23:42:52,984 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-15 23:42:52,987 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-15 23:42:54,003 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-15 23:42:54,007 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-15 23:42:54,398 - DEBUG - app.firebase_stream - Firebase listener triggered (24). Event Type: patch, Path: /. Timestamp: 1752648174.39872
2025-07-15 23:42:54,399 - DEBUG - app.firebase_stream - Prepared batch update for 14 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.5420000000', 'o': '88.5370000000'}, 'GBPAUD': {'b': '2.0553800000', 'o': '2.0552800000'}, 'USDJPY': {'b': '148.6960000000', 'o': '148.6950000000'}, 'EURNZD': {'b': '1.9524800000',
2025-07-15 23:42:54,399 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.5420000000', 'o': '88.5370000000'}, 'GBPAUD': {'b': '2.0553800000', 'o': '2.0552800000'}, 'USDJPY': {'b': '148.6960000000', 'o': '148.6950000000'}, 'EURNZD': {'b': '1.9524800000',...
2025-07-15 23:42:54,399 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-15 23:42:55,024 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-15 23:42:55,026 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-15 23:42:56,029 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-15 23:42:56,032 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-15 23:42:56,755 - DEBUG - app.firebase_stream - Firebase listener triggered (25). Event Type: patch, Path: /. Timestamp: 1752648176.7554905
2025-07-15 23:42:56,755 - DEBUG - app.firebase_stream - Prepared batch update for 12 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.8840000000', 'o': '37.8780000000'}, 'USDJPY': {'b': '148.6990000000', 'o': '148.6940000000'}, 'USDCNH': {'b': '7.1810900000', 'o': '7.1810900000'}, 'AUDJPY': {'b': '97.0620000000'
2025-07-15 23:42:56,756 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.8840000000', 'o': '37.8780000000'}, 'USDJPY': {'b': '148.6990000000', 'o': '148.6940000000'}, 'USDCNH': {'b': '7.1810900000', 'o': '7.1810900000'}, 'AUDJPY': {'b': '97.0620000000'...
2025-07-15 23:42:56,756 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-15 23:42:57,035 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-15 23:42:57,038 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-15 23:42:58,053 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-15 23:42:58,055 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-15 23:42:59,071 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-15 23:42:59,074 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-15 23:42:59,113 - DEBUG - app.firebase_stream - Firebase listener triggered (26). Event Type: patch, Path: /. Timestamp: 1752648179.1134434
2025-07-15 23:42:59,113 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0174000000', 'o': '13.0148500000'}, 'XAGUSD': {'b': '37.8930000000', 'o': '37.8850000000'}, 'NZDJPY': {'b': '88.5430000000', 'o': '88.5370000000'}, 'GBPAUD': {'b': '2.0552700000',
2025-07-15 23:42:59,113 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0174000000', 'o': '13.0148500000'}, 'XAGUSD': {'b': '37.8930000000', 'o': '37.8850000000'}, 'NZDJPY': {'b': '88.5430000000', 'o': '88.5370000000'}, 'GBPAUD': {'b': '2.0552700000',...
2025-07-15 23:42:59,114 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-15 23:43:00,079 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-15 23:43:00,083 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-15 23:43:01,087 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-15 23:43:01,088 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-15 23:43:01,476 - DEBUG - app.firebase_stream - Firebase listener triggered (27). Event Type: patch, Path: /. Timestamp: 1752648181.476471
2025-07-15 23:43:01,476 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0181000000', 'o': '13.0155000000'}, 'XAGUSD': {'b': '37.8940000000', 'o': '37.8850000000'}, 'NZDJPY': {'b': '88.5430000000', 'o': '88.5340000000'}, 'GBPAUD': {'b': '2.0552900000',
2025-07-15 23:43:01,477 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0181000000', 'o': '13.0155000000'}, 'XAGUSD': {'b': '37.8940000000', 'o': '37.8850000000'}, 'NZDJPY': {'b': '88.5430000000', 'o': '88.5340000000'}, 'GBPAUD': {'b': '2.0552900000',...
2025-07-15 23:43:01,477 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-15 23:43:01,749 - WARNING - app - User 4 has no open or pending orders. Skipping portfolio update.
2025-07-15 23:43:01,753 - WARNING - app - No user data found for user 5 (live). Skipping portfolio update.
2025-07-15 23:43:01,760 - WARNING - app - No group settings found for group string. Skipping portfolio update for user 8.
2025-07-15 23:43:01,771 - WARNING - app - User 9 has no open or pending orders. Skipping portfolio update.
2025-07-15 23:43:01,779 - WARNING - app - User 10 has no open or pending orders. Skipping portfolio update.
2025-07-15 23:43:01,788 - WARNING - app - User 11 has no open or pending orders. Skipping portfolio update.
2025-07-15 23:43:01,796 - WARNING - app - User 12 has no open or pending orders. Skipping portfolio update.
2025-07-15 23:43:01,804 - WARNING - app - User 13 has no open or pending orders. Skipping portfolio update.
2025-07-15 23:43:02,179 - DEBUG - app.services.portfolio_calculator - Position calculation for BTCUSD: Type=BUY, Entry=118908.50000000, Current=118198.52, Quantity=0.40000000, Contract Size=1.00000000, PnL=-283.992000000000000000000000, PnL USD=-283.992000000000000000000000, Commission=235.57000000, Final PnL=-519.562000000000000000000000
2025-07-15 23:43:02,179 - WARNING - app.services.portfolio_calculator - MARGIN CALL ALERT: User has margin level 99.57260793846369364292513953% which is below threshold 100.0%
2025-07-15 23:43:02,183 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-15 23:43:02,192 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-15 23:43:02,227 - WARNING - app - User 16 has no open or pending orders. Skipping portfolio update.
2025-07-15 23:43:02,250 - WARNING - app - User 17 has no open or pending orders. Skipping portfolio update.
2025-07-15 23:43:02,275 - WARNING - app - User 18 has no open or pending orders. Skipping portfolio update.
2025-07-15 23:43:02,283 - INFO - app - Application shutdown initiated
2025-07-15 23:43:02,284 - INFO - app - Scheduler shutdown completed
2025-07-15 23:43:02,718 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-07-15 23:43:03,730 - INFO - app.firebase_stream - Firebase listener closed.
2025-07-15 23:43:03,730 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-07-15 23:43:03,734 - INFO - app - Redis connection closed
2025-07-15 23:43:03,734 - INFO - app - Application shutdown completed
2025-07-16 00:07:59,603 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-07-16 00:07:59,634 - INFO - app.core.config - .env file loaded successfully.
2025-07-16 00:07:59,645 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-07-16 00:07:59,645 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-07-16 00:07:59,939 - INFO - app - Application starting up - Trading system initialized
2025-07-16 00:07:59,939 - INFO - app - SL/TP Epsilon accuracy configured: 0.00001
2025-07-16 00:07:59,939 - INFO - app - Environment: DEVELOPMENT
2025-07-16 00:07:59,988 - INFO - app - Application startup initiated
2025-07-16 00:07:59,989 - INFO - app - Initializing core services...
2025-07-16 00:08:00,027 - INFO - app - Firebase initialized
2025-07-16 00:08:00,027 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-07-16 00:08:02,094 - INFO - app - Redis initialized
2025-07-16 00:08:02,099 - INFO - app - [SWAP] daily_swap_charge_job triggered
2025-07-16 00:08:02,101 - INFO - app - Scheduler initialized
2025-07-16 00:08:02,103 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-07-16 00:08:02,103 - DEBUG - app.firebase_stream - Successfully got running event loop in process_firebase_events task.
2025-07-16 00:08:02,104 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-07-16 00:08:03,241 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-07-16 00:08:03,260 - DEBUG - app.firebase_stream - Firebase listener triggered (1). Event Type: put, Path: /. Timestamp: 1752649683.2606661
2025-07-16 00:08:03,260 - DEBUG - app.firebase_stream - Prepared batch update for 48 symbols from root path for queue. Preview: {'AUDCAD': {'b': '0.8946500000', 'o': '0.8946200000'}, 'AUDCHF': {'b': '0.5223400000', 'o': '0.5222900000'}, 'AUDJPY': {'b': '96.9880000000', 'o': '96.9820000000'}, 'AUDNZD': {'b': '1.0000000000', 'o'
2025-07-16 00:08:03,261 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'AUDCAD': {'b': '0.8946500000', 'o': '0.8946200000'}, 'AUDCHF': {'b': '0.5223400000', 'o': '0.5222900000'}, 'AUDJPY': {'b': '96.9880000000', 'o': '96.9820000000'}, 'AUDNZD': {'b': '1.0000000000', 'o'...
2025-07-16 00:08:03,261 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type put at path /.
2025-07-16 00:08:03,262 - INFO - app - Starting stale cache cleanup task
2025-07-16 00:08:03,761 - DEBUG - app.firebase_stream - Firebase listener triggered (2). Event Type: patch, Path: /. Timestamp: 1752649683.7610588
2025-07-16 00:08:03,761 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0180000000', 'o': '13.0154000000'}, 'XAGUSD': {'b': '37.8820000000', 'o': '37.8770000000'}, 'NZDJPY': {'b': '88.4280000000', 'o': '88.4190000000'}, 'GBPAUD': {'b': '2.0547500000',
2025-07-16 00:08:03,761 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0180000000', 'o': '13.0154000000'}, 'XAGUSD': {'b': '37.8820000000', 'o': '37.8770000000'}, 'NZDJPY': {'b': '88.4280000000', 'o': '88.4190000000'}, 'GBPAUD': {'b': '2.0547500000',...
2025-07-16 00:08:03,761 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:08:06,009 - DEBUG - app.firebase_stream - Firebase listener triggered (3). Event Type: patch, Path: /. Timestamp: 1752649686.009141
2025-07-16 00:08:06,009 - DEBUG - app.firebase_stream - Prepared batch update for 30 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.8830000000', 'o': '37.8780000000'}, 'NZDJPY': {'b': '88.4270000000', 'o': '88.4190000000'}, 'GBPAUD': {'b': '2.0546500000', 'o': '2.0545100000'}, 'USDJPY': {'b': '148.6440000000',
2025-07-16 00:08:06,009 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'XAGUSD': {'b': '37.8830000000', 'o': '37.8780000000'}, 'NZDJPY': {'b': '88.4270000000', 'o': '88.4190000000'}, 'GBPAUD': {'b': '2.0546500000', 'o': '2.0545100000'}, 'USDJPY': {'b': '148.6440000000',...
2025-07-16 00:08:06,009 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:08:07,327 - INFO - app - Cleaned up pending order stream for new trigger price format
2025-07-16 00:08:07,327 - INFO - app - Background tasks initialized
2025-07-16 00:08:08,046 - INFO - app - Service account JWT for 'barclays_service_provider' was generated and pushed to Firebase.
2025-07-16 00:08:08,046 - INFO - app - Application startup completed successfully
2025-07-16 00:08:08,046 - INFO - app - Starting cache validation task
2025-07-16 00:08:08,049 - INFO - app - Starting Barclays pending order margin checker task.
2025-07-16 00:08:08,049 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:08:08,051 - INFO - app - Starting auto-cutoff order monitoring task.
2025-07-16 00:08:08,067 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:08:08,073 - INFO - app - Validating cache for 31 users
2025-07-16 00:08:08,296 - DEBUG - app.firebase_stream - Firebase listener triggered (4). Event Type: patch, Path: /. Timestamp: 1752649688.2966084
2025-07-16 00:08:08,296 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4240000000', 'o': '88.4190000000'}, 'GBPAUD': {'b': '2.0546800000', 'o': '2.0545200000'}, 'USDJPY': {'b': '148.6470000000', 'o': '148.6430000000'}, 'CADCHF': {'b': '0.5838800000',
2025-07-16 00:08:08,297 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 2. Data preview: {'NZDJPY': {'b': '88.4240000000', 'o': '88.4190000000'}, 'GBPAUD': {'b': '2.0546800000', 'o': '2.0545200000'}, 'USDJPY': {'b': '148.6470000000', 'o': '148.6430000000'}, 'CADCHF': {'b': '0.5838800000',...
2025-07-16 00:08:08,297 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:08:09,080 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:08:09,083 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:08:09,371 - INFO - app - Found 23 static orders cache entries to check
2025-07-16 00:08:10,086 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:08:10,088 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:08:10,620 - DEBUG - app.firebase_stream - Firebase listener triggered (5). Event Type: patch, Path: /. Timestamp: 1752649690.6200607
2025-07-16 00:08:10,620 - DEBUG - app.firebase_stream - Prepared batch update for 34 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0179000000', 'o': '13.0153000000'}, 'XAGUSD': {'b': '37.8850000000', 'o': '37.8800000000'}, 'NZDJPY': {'b': '88.4230000000', 'o': '88.4140000000'}, 'GBPAUD': {'b': '2.0546800000',
2025-07-16 00:08:10,620 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 3. Data preview: {'GBPSEK': {'b': '13.0179000000', 'o': '13.0153000000'}, 'XAGUSD': {'b': '37.8850000000', 'o': '37.8800000000'}, 'NZDJPY': {'b': '88.4230000000', 'o': '88.4140000000'}, 'GBPAUD': {'b': '2.0546800000',...
2025-07-16 00:08:10,621 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:08:11,096 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:08:11,099 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:08:11,408 - WARNING - app - User 4: Missing balance/margin cache, refreshing...
2025-07-16 00:08:12,114 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:08:12,118 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:08:13,121 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:08:13,123 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:08:13,172 - DEBUG - app.firebase_stream - Firebase listener triggered (6). Event Type: patch, Path: /. Timestamp: 1752649693.172233
2025-07-16 00:08:13,172 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0177000000', 'o': '13.0151000000'}, 'XAGUSD': {'b': '37.8860000000', 'o': '37.8800000000'}, 'GBPAUD': {'b': '2.0547300000', 'o': '2.0546000000'}, 'USDJPY': {'b': '148.6470000000',
2025-07-16 00:08:13,172 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 3. Data preview: {'GBPSEK': {'b': '13.0177000000', 'o': '13.0151000000'}, 'XAGUSD': {'b': '37.8860000000', 'o': '37.8800000000'}, 'GBPAUD': {'b': '2.0547300000', 'o': '2.0546000000'}, 'USDJPY': {'b': '148.6470000000',...
2025-07-16 00:08:13,172 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:08:14,127 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:08:14,139 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:08:15,147 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:08:15,151 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:08:15,233 - DEBUG - app.firebase_stream - Firebase listener triggered (7). Event Type: patch, Path: /. Timestamp: 1752649695.2339323
2025-07-16 00:08:15,234 - DEBUG - app.firebase_stream - Prepared batch update for 40 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0181000000', 'o': '13.0156100000'}, 'XAGUSD': {'b': '37.8850000000', 'o': '37.8790000000'}, 'NZDJPY': {'b': '88.4330000000', 'o': '88.4250000000'}, 'GBPAUD': {'b': '2.0545900000',
2025-07-16 00:08:15,234 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 3. Data preview: {'GBPSEK': {'b': '13.0181000000', 'o': '13.0156100000'}, 'XAGUSD': {'b': '37.8850000000', 'o': '37.8790000000'}, 'NZDJPY': {'b': '88.4330000000', 'o': '88.4250000000'}, 'GBPAUD': {'b': '2.0545900000',...
2025-07-16 00:08:15,234 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:08:15,458 - WARNING - app - Found stale cache entry for user 2, will be refreshed on next access
2025-07-16 00:08:15,466 - WARNING - app - Found stale cache entry for user 3, will be refreshed on next access
2025-07-16 00:08:15,476 - WARNING - app - Found stale cache entry for user 17, will be refreshed on next access
2025-07-16 00:08:16,155 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:08:16,158 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:08:17,170 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:08:17,174 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:08:17,504 - WARNING - app - Found stale cache entry for user 18, will be refreshed on next access
2025-07-16 00:08:17,525 - DEBUG - app.firebase_stream - Firebase listener triggered (8). Event Type: patch, Path: /. Timestamp: 1752649697.5251853
2025-07-16 00:08:17,526 - DEBUG - app.firebase_stream - Prepared batch update for 30 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0180000000', 'o': '13.0156100000'}, 'NZDJPY': {'b': '88.4290000000', 'o': '88.4210000000'}, 'GBPAUD': {'b': '2.0545800000', 'o': '2.0544100000'}, 'BTCUSD': {'b': '118132.400000000
2025-07-16 00:08:17,527 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0180000000', 'o': '13.0156100000'}, 'NZDJPY': {'b': '88.4290000000', 'o': '88.4210000000'}, 'GBPAUD': {'b': '2.0545800000', 'o': '2.0544100000'}, 'BTCUSD': {'b': '118132.400000000...
2025-07-16 00:08:17,527 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:08:17,534 - WARNING - app - User 5: Missing balance/margin cache, refreshing...
2025-07-16 00:08:17,543 - WARNING - app - Found stale cache entry for user 23, will be refreshed on next access
2025-07-16 00:08:17,553 - WARNING - app - Found stale cache entry for user 19, will be refreshed on next access
2025-07-16 00:08:17,554 - WARNING - app - User 8: Missing balance/margin cache, refreshing...
2025-07-16 00:08:17,563 - WARNING - app - Found stale cache entry for user 8, will be refreshed on next access
2025-07-16 00:08:17,579 - WARNING - app - Found stale cache entry for user 5, will be refreshed on next access
2025-07-16 00:08:17,586 - WARNING - app - Found stale cache entry for user 24, will be refreshed on next access
2025-07-16 00:08:17,594 - WARNING - app - Found stale cache entry for user 13, will be refreshed on next access
2025-07-16 00:08:17,604 - WARNING - app - Found stale cache entry for user 16, will be refreshed on next access
2025-07-16 00:08:17,609 - WARNING - app - Found stale cache entry for user 25, will be refreshed on next access
2025-07-16 00:08:17,616 - WARNING - app - User 9: Missing balance/margin cache, refreshing...
2025-07-16 00:08:17,619 - WARNING - app - Found stale cache entry for user 12, will be refreshed on next access
2025-07-16 00:08:17,638 - WARNING - app - Found stale cache entry for user 21, will be refreshed on next access
2025-07-16 00:08:17,642 - WARNING - app - Found stale cache entry for user 22, will be refreshed on next access
2025-07-16 00:08:17,649 - WARNING - app - Found stale cache entry for user 6, will be refreshed on next access
2025-07-16 00:08:18,178 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:08:18,181 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:08:19,190 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:08:19,192 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:08:19,678 - WARNING - app - User 10: Missing balance/margin cache, refreshing...
2025-07-16 00:08:19,679 - WARNING - app - Found stale cache entry for user 20, will be refreshed on next access
2025-07-16 00:08:19,679 - INFO - app - Completed stale cache cleanup task
2025-07-16 00:08:19,761 - WARNING - app - User 11: Missing balance/margin cache, refreshing...
2025-07-16 00:08:19,841 - DEBUG - app.firebase_stream - Firebase listener triggered (9). Event Type: patch, Path: /. Timestamp: 1752649699.8414822
2025-07-16 00:08:19,842 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.8860000000', 'o': '37.8820000000'}, 'NZDJPY': {'b': '88.4330000000', 'o': '88.4250000000'}, 'USDJPY': {'b': '148.6470000000', 'o': '148.6430000000'}, 'USDCNH': {'b': '7.1810200000
2025-07-16 00:08:19,844 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.8860000000', 'o': '37.8820000000'}, 'NZDJPY': {'b': '88.4330000000', 'o': '88.4250000000'}, 'USDJPY': {'b': '148.6470000000', 'o': '148.6430000000'}, 'USDCNH': {'b': '7.1810200000...
2025-07-16 00:08:19,844 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:08:20,196 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:08:20,199 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:08:21,203 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:08:21,205 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:08:21,877 - WARNING - app - User 12: Missing balance/margin cache, refreshing...
2025-07-16 00:08:21,927 - WARNING - app - User 13: Missing balance/margin cache, refreshing...
2025-07-16 00:08:21,960 - WARNING - app - User 14: Missing balance/margin cache, refreshing...
2025-07-16 00:08:22,127 - DEBUG - app.firebase_stream - Firebase listener triggered (10). Event Type: patch, Path: /. Timestamp: 1752649702.1277564
2025-07-16 00:08:22,128 - DEBUG - app.firebase_stream - Prepared batch update for 25 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0182000000', 'o': '13.0156100000'}, 'XAGUSD': {'b': '37.8860000000', 'o': '37.8810000000'}, 'NZDJPY': {'b': '88.4310000000', 'o': '88.4260000000'}, 'USDJPY': {'b': '148.6460000000
2025-07-16 00:08:22,128 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0182000000', 'o': '13.0156100000'}, 'XAGUSD': {'b': '37.8860000000', 'o': '37.8810000000'}, 'NZDJPY': {'b': '88.4310000000', 'o': '88.4260000000'}, 'USDJPY': {'b': '148.6460000000...
2025-07-16 00:08:22,128 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:08:22,213 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:08:22,215 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:08:23,060 - INFO - app - Starting stale cache cleanup task
2025-07-16 00:08:23,219 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:08:23,221 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:08:24,012 - INFO - app - Found 23 static orders cache entries to check
2025-07-16 00:08:24,021 - WARNING - app - Found stale cache entry for user 2, will be refreshed on next access
2025-07-16 00:08:24,036 - WARNING - app - Found stale cache entry for user 3, will be refreshed on next access
2025-07-16 00:08:24,037 - WARNING - app - User 16: Missing balance/margin cache, refreshing...
2025-07-16 00:08:24,052 - WARNING - app - Found stale cache entry for user 17, will be refreshed on next access
2025-07-16 00:08:24,056 - WARNING - app - Found stale cache entry for user 18, will be refreshed on next access
2025-07-16 00:08:24,064 - WARNING - app - Found stale cache entry for user 23, will be refreshed on next access
2025-07-16 00:08:24,066 - WARNING - app - Found stale cache entry for user 19, will be refreshed on next access
2025-07-16 00:08:24,070 - WARNING - app - Found stale cache entry for user 8, will be refreshed on next access
2025-07-16 00:08:24,072 - WARNING - app - Found stale cache entry for user 5, will be refreshed on next access
2025-07-16 00:08:24,073 - WARNING - app - User 17: Missing balance/margin cache, refreshing...
2025-07-16 00:08:24,074 - WARNING - app - Found stale cache entry for user 24, will be refreshed on next access
2025-07-16 00:08:24,077 - WARNING - app - Found stale cache entry for user 13, will be refreshed on next access
2025-07-16 00:08:24,078 - WARNING - app - Found stale cache entry for user 16, will be refreshed on next access
2025-07-16 00:08:24,082 - WARNING - app - Found stale cache entry for user 25, will be refreshed on next access
2025-07-16 00:08:24,086 - WARNING - app - Found stale cache entry for user 12, will be refreshed on next access
2025-07-16 00:08:24,236 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:08:24,239 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:08:24,448 - DEBUG - app.firebase_stream - Firebase listener triggered (11). Event Type: patch, Path: /. Timestamp: 1752649704.448028
2025-07-16 00:08:24,448 - DEBUG - app.firebase_stream - Prepared batch update for 36 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0183000000', 'o': '13.0157000000'}, 'XAGUSD': {'b': '37.8790000000', 'o': '37.8750000000'}, 'NZDJPY': {'b': '88.4300000000', 'o': '88.4210000000'}, 'GBPAUD': {'b': '2.0546100000',
2025-07-16 00:08:24,449 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0183000000', 'o': '13.0157000000'}, 'XAGUSD': {'b': '37.8790000000', 'o': '37.8750000000'}, 'NZDJPY': {'b': '88.4300000000', 'o': '88.4210000000'}, 'GBPAUD': {'b': '2.0546100000',...
2025-07-16 00:08:24,449 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:08:25,244 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:08:25,248 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:08:26,138 - WARNING - app - Found stale cache entry for user 21, will be refreshed on next access
2025-07-16 00:08:26,149 - WARNING - app - Found stale cache entry for user 22, will be refreshed on next access
2025-07-16 00:08:26,151 - WARNING - app - User 18: Missing balance/margin cache, refreshing...
2025-07-16 00:08:26,182 - WARNING - app - Found stale cache entry for user 6, will be refreshed on next access
2025-07-16 00:08:26,195 - WARNING - app - Found stale cache entry for user 20, will be refreshed on next access
2025-07-16 00:08:26,195 - INFO - app - Completed stale cache cleanup task
2025-07-16 00:08:26,223 - WARNING - app - User 19: Missing balance/margin cache, refreshing...
2025-07-16 00:08:26,255 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:08:26,267 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:08:26,268 - WARNING - app - User 20: Missing balance/margin cache, refreshing...
2025-07-16 00:08:26,304 - WARNING - app - User 21: Missing balance/margin cache, refreshing...
2025-07-16 00:08:26,334 - WARNING - app - User 22: Missing balance/margin cache, refreshing...
2025-07-16 00:08:26,349 - WARNING - app - User 23: Missing balance/margin cache, refreshing...
2025-07-16 00:08:26,359 - WARNING - app - User 24: Missing balance/margin cache, refreshing...
2025-07-16 00:08:26,401 - WARNING - app - User 25: Missing balance/margin cache, refreshing...
2025-07-16 00:08:26,432 - WARNING - app - User 26: Missing balance/margin cache, refreshing...
2025-07-16 00:08:26,468 - WARNING - app - User 1: Missing balance/margin cache, refreshing...
2025-07-16 00:08:26,523 - WARNING - app - User 2: Missing balance/margin cache, refreshing...
2025-07-16 00:08:26,552 - WARNING - app - User 3: Missing balance/margin cache, refreshing...
2025-07-16 00:08:26,589 - WARNING - app - User 5: Missing balance/margin cache, refreshing...
2025-07-16 00:08:26,620 - WARNING - app - User 6: Missing balance/margin cache, refreshing...
2025-07-16 00:08:26,653 - INFO - app - Cache validation completed
2025-07-16 00:08:26,825 - DEBUG - app.firebase_stream - Firebase listener triggered (12). Event Type: patch, Path: /. Timestamp: 1752649706.8254988
2025-07-16 00:08:26,826 - DEBUG - app.firebase_stream - Prepared batch update for 38 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0226000000', 'o': '13.0202800000'}, 'GBPAUD': {'b': '2.0545600000', 'o': '2.0544400000'}, 'BTCUSD': {'b': '118121.5800000000', 'o': '118121.5800000000'}, 'USDJPY': {'b': '148.6460
2025-07-16 00:08:26,827 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0226000000', 'o': '13.0202800000'}, 'GBPAUD': {'b': '2.0545600000', 'o': '2.0544400000'}, 'BTCUSD': {'b': '118121.5800000000', 'o': '118121.5800000000'}, 'USDJPY': {'b': '148.6460...
2025-07-16 00:08:26,828 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:08:27,285 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:08:27,288 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:08:27,894 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-07-16 00:08:27,935 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-07-16 00:08:27,964 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-07-16 00:08:27,972 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-07-16 00:08:27,999 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-07-16 00:08:28,008 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-07-16 00:08:28,139 - INFO - app.core.config - .env file loaded successfully.
2025-07-16 00:08:28,163 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-07-16 00:08:28,163 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-07-16 00:08:28,168 - INFO - app.core.config - .env file loaded successfully.
2025-07-16 00:08:28,181 - INFO - app.core.config - .env file loaded successfully.
2025-07-16 00:08:28,190 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-07-16 00:08:28,190 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-07-16 00:08:28,201 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-07-16 00:08:28,201 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-07-16 00:08:28,212 - INFO - app.core.config - .env file loaded successfully.
2025-07-16 00:08:28,227 - INFO - app.core.config - .env file loaded successfully.
2025-07-16 00:08:28,229 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-07-16 00:08:28,229 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-07-16 00:08:28,241 - INFO - app.core.config - .env file loaded successfully.
2025-07-16 00:08:28,243 - INFO - app.core.config - .env file loaded successfully.
2025-07-16 00:08:28,247 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-07-16 00:08:28,247 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-07-16 00:08:28,256 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-07-16 00:08:28,256 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-07-16 00:08:28,257 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-07-16 00:08:28,259 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-07-16 00:08:28,291 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:08:28,293 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:08:29,065 - DEBUG - app.firebase_stream - Firebase listener triggered (13). Event Type: patch, Path: /. Timestamp: 1752649709.0649798
2025-07-16 00:08:29,065 - DEBUG - app.firebase_stream - Prepared batch update for 35 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0229000000', 'o': '13.0203000000'}, 'XAGUSD': {'b': '37.8760000000', 'o': '37.8730000000'}, 'GBPAUD': {'b': '2.0545700000', 'o': '2.0544000000'}, 'BTCUSD': {'b': '118108.200000000
2025-07-16 00:08:29,066 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0229000000', 'o': '13.0203000000'}, 'XAGUSD': {'b': '37.8760000000', 'o': '37.8730000000'}, 'GBPAUD': {'b': '2.0545700000', 'o': '2.0544000000'}, 'BTCUSD': {'b': '118108.200000000...
2025-07-16 00:08:29,067 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:08:29,295 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:08:29,298 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:08:30,300 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:08:30,303 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:08:31,315 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:08:31,319 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:08:31,413 - DEBUG - app.firebase_stream - Firebase listener triggered (14). Event Type: patch, Path: /. Timestamp: 1752649711.413239
2025-07-16 00:08:31,414 - DEBUG - app.firebase_stream - Prepared batch update for 24 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0230000000', 'o': '13.0204000000'}, 'GBPAUD': {'b': '2.0545700000', 'o': '2.0544100000'}, 'BTCUSD': {'b': '118123.8000000000', 'o': '118123.7000000000'}, 'USDCNH': {'b': '7.181020
2025-07-16 00:08:31,415 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0230000000', 'o': '13.0204000000'}, 'GBPAUD': {'b': '2.0545700000', 'o': '2.0544100000'}, 'BTCUSD': {'b': '118123.8000000000', 'o': '118123.7000000000'}, 'USDCNH': {'b': '7.181020...
2025-07-16 00:08:31,424 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:08:32,335 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:08:32,338 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:08:33,343 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:08:33,347 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:08:33,680 - DEBUG - app.firebase_stream - Firebase listener triggered (15). Event Type: patch, Path: /. Timestamp: 1752649713.6808789
2025-07-16 00:08:33,681 - DEBUG - app.firebase_stream - Prepared batch update for 35 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0180000000', 'o': '13.0154000000'}, 'XAGUSD': {'b': '37.8710000000', 'o': '37.8660000000'}, 'NZDJPY': {'b': '88.4260000000', 'o': '88.4200000000'}, 'GBPAUD': {'b': '2.0546400000',
2025-07-16 00:08:33,682 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0180000000', 'o': '13.0154000000'}, 'XAGUSD': {'b': '37.8710000000', 'o': '37.8660000000'}, 'NZDJPY': {'b': '88.4260000000', 'o': '88.4200000000'}, 'GBPAUD': {'b': '2.0546400000',...
2025-07-16 00:08:33,684 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:08:34,350 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:08:34,355 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:08:35,368 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:08:35,372 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:08:36,038 - DEBUG - app.firebase_stream - Firebase listener triggered (16). Event Type: patch, Path: /. Timestamp: 1752649716.0381799
2025-07-16 00:08:36,038 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4260000000', 'o': '88.4210000000'}, 'GBPAUD': {'b': '2.0545200000', 'o': '2.0544000000'}, 'BTCUSD': {'b': '118123.8000000000', 'o': '118123.7000000000'}, 'USDJPY': {'b': '148.6490
2025-07-16 00:08:36,039 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4260000000', 'o': '88.4210000000'}, 'GBPAUD': {'b': '2.0545200000', 'o': '2.0544000000'}, 'BTCUSD': {'b': '118123.8000000000', 'o': '118123.7000000000'}, 'USDJPY': {'b': '148.6490...
2025-07-16 00:08:36,039 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:08:36,383 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:08:36,388 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:08:37,393 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:08:37,395 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:08:38,373 - DEBUG - app.firebase_stream - Firebase listener triggered (17). Event Type: patch, Path: /. Timestamp: 1752649718.3736708
2025-07-16 00:08:38,374 - DEBUG - app.firebase_stream - Prepared batch update for 36 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0233000000', 'o': '13.0207000000'}, 'NZDJPY': {'b': '88.4330000000', 'o': '88.4260000000'}, 'GBPAUD': {'b': '2.0545700000', 'o': '2.0544200000'}, 'USDJPY': {'b': '148.6470000000',
2025-07-16 00:08:38,374 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0233000000', 'o': '13.0207000000'}, 'NZDJPY': {'b': '88.4330000000', 'o': '88.4260000000'}, 'GBPAUD': {'b': '2.0545700000', 'o': '2.0544200000'}, 'USDJPY': {'b': '148.6470000000',...
2025-07-16 00:08:38,375 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:08:38,405 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:08:38,415 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:08:39,429 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:08:39,431 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:08:40,435 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:08:40,437 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:08:40,638 - DEBUG - app.firebase_stream - Firebase listener triggered (18). Event Type: patch, Path: /. Timestamp: 1752649720.638507
2025-07-16 00:08:40,639 - DEBUG - app.firebase_stream - Prepared batch update for 34 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0232000000', 'o': '13.0207200000'}, 'XAGUSD': {'b': '37.8730000000', 'o': '37.8700000000'}, 'NZDJPY': {'b': '88.4340000000', 'o': '88.4260000000'}, 'GBPAUD': {'b': '2.0544700000',
2025-07-16 00:08:40,639 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0232000000', 'o': '13.0207200000'}, 'XAGUSD': {'b': '37.8730000000', 'o': '37.8700000000'}, 'NZDJPY': {'b': '88.4340000000', 'o': '88.4260000000'}, 'GBPAUD': {'b': '2.0544700000',...
2025-07-16 00:08:40,640 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:08:41,438 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:08:41,442 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:08:42,451 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:08:42,456 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:08:42,995 - DEBUG - app.firebase_stream - Firebase listener triggered (19). Event Type: patch, Path: /. Timestamp: 1752649722.9954708
2025-07-16 00:08:42,996 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0177000000', 'o': '13.0151000000'}, 'XAGUSD': {'b': '37.8860000000', 'o': '37.8800000000'}, 'NZDJPY': {'b': '88.4360000000', 'o': '88.4290000000'}, 'GBPAUD': {'b': '2.0544700000',
2025-07-16 00:08:42,998 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0177000000', 'o': '13.0151000000'}, 'XAGUSD': {'b': '37.8860000000', 'o': '37.8800000000'}, 'NZDJPY': {'b': '88.4360000000', 'o': '88.4290000000'}, 'GBPAUD': {'b': '2.0544700000',...
2025-07-16 00:08:43,001 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:08:43,459 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:08:43,463 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:08:44,479 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:08:44,483 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:08:45,255 - DEBUG - app.firebase_stream - Firebase listener triggered (20). Event Type: patch, Path: /. Timestamp: 1752649725.2558906
2025-07-16 00:08:45,256 - DEBUG - app.firebase_stream - Prepared batch update for 36 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0237000000', 'o': '13.0211000000'}, 'XAGUSD': {'b': '37.8750000000', 'o': '37.8700000000'}, 'NZDJPY': {'b': '88.4360000000', 'o': '88.4280000000'}, 'GBPAUD': {'b': '2.0545700000',
2025-07-16 00:08:45,256 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0237000000', 'o': '13.0211000000'}, 'XAGUSD': {'b': '37.8750000000', 'o': '37.8700000000'}, 'NZDJPY': {'b': '88.4360000000', 'o': '88.4280000000'}, 'GBPAUD': {'b': '2.0545700000',...
2025-07-16 00:08:45,257 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:08:45,492 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:08:45,495 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:08:46,497 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:08:46,500 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:08:47,503 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:08:47,506 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:08:47,597 - DEBUG - app.firebase_stream - Firebase listener triggered (21). Event Type: patch, Path: /. Timestamp: 1752649727.5978642
2025-07-16 00:08:47,598 - DEBUG - app.firebase_stream - Prepared batch update for 35 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0222000000', 'o': '13.0196000000'}, 'XAGUSD': {'b': '37.8860000000', 'o': '37.8820000000'}, 'NZDJPY': {'b': '88.4360000000', 'o': '88.4290000000'}, 'GBPAUD': {'b': '2.0545400000',
2025-07-16 00:08:47,599 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0222000000', 'o': '13.0196000000'}, 'XAGUSD': {'b': '37.8860000000', 'o': '37.8820000000'}, 'NZDJPY': {'b': '88.4360000000', 'o': '88.4290000000'}, 'GBPAUD': {'b': '2.0545400000',...
2025-07-16 00:08:47,599 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:08:48,514 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:08:48,518 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:08:49,520 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:08:49,522 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:08:49,837 - DEBUG - app.firebase_stream - Firebase listener triggered (22). Event Type: patch, Path: /. Timestamp: 1752649729.8371704
2025-07-16 00:08:49,837 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.8750000000', 'o': '37.8700000000'}, 'NZDJPY': {'b': '88.4350000000', 'o': '88.4270000000'}, 'GBPAUD': {'b': '2.0545600000', 'o': '2.0544300000'}, 'USDJPY': {'b': '148.6480000000',
2025-07-16 00:08:49,838 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.8750000000', 'o': '37.8700000000'}, 'NZDJPY': {'b': '88.4350000000', 'o': '88.4270000000'}, 'GBPAUD': {'b': '2.0545600000', 'o': '2.0544300000'}, 'USDJPY': {'b': '148.6480000000',...
2025-07-16 00:08:49,840 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:08:50,524 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:08:50,528 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:08:51,531 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:08:51,534 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:08:52,209 - DEBUG - app.firebase_stream - Firebase listener triggered (23). Event Type: patch, Path: /. Timestamp: 1752649732.2098732
2025-07-16 00:08:52,210 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4370000000', 'o': '88.4280000000'}, 'GBPAUD': {'b': '2.0546100000', 'o': '2.0545900000'}, 'USDJPY': {'b': '148.6450000000', 'o': '148.6420000000'}, 'USDCNH': {'b': '7.1806500000',
2025-07-16 00:08:52,210 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4370000000', 'o': '88.4280000000'}, 'GBPAUD': {'b': '2.0546100000', 'o': '2.0545900000'}, 'USDJPY': {'b': '148.6450000000', 'o': '148.6420000000'}, 'USDCNH': {'b': '7.1806500000',...
2025-07-16 00:08:52,210 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:08:52,537 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:08:52,541 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:08:53,559 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:08:53,564 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:08:54,460 - DEBUG - app.firebase_stream - Firebase listener triggered (24). Event Type: patch, Path: /. Timestamp: 1752649734.460733
2025-07-16 00:08:54,461 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0235000000', 'o': '13.0209000000'}, 'NZDJPY': {'b': '88.4390000000', 'o': '88.4320000000'}, 'GBPAUD': {'b': '2.0547100000', 'o': '2.0545700000'}, 'USDJPY': {'b': '148.6450000000',
2025-07-16 00:08:54,461 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0235000000', 'o': '13.0209000000'}, 'NZDJPY': {'b': '88.4390000000', 'o': '88.4320000000'}, 'GBPAUD': {'b': '2.0547100000', 'o': '2.0545700000'}, 'USDJPY': {'b': '148.6450000000',...
2025-07-16 00:08:54,462 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:08:54,566 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:08:54,570 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:08:55,581 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:08:55,584 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:08:56,587 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:08:56,595 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:08:56,748 - DEBUG - app.firebase_stream - Firebase listener triggered (25). Event Type: patch, Path: /. Timestamp: 1752649736.7486682
2025-07-16 00:08:56,749 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0234000000', 'o': '13.0208000000'}, 'NZDJPY': {'b': '88.4390000000', 'o': '88.4310000000'}, 'GBPAUD': {'b': '2.0545600000', 'o': '2.0544200000'}, 'BTCUSD': {'b': '118124.100000000
2025-07-16 00:08:56,749 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0234000000', 'o': '13.0208000000'}, 'NZDJPY': {'b': '88.4390000000', 'o': '88.4310000000'}, 'GBPAUD': {'b': '2.0545600000', 'o': '2.0544200000'}, 'BTCUSD': {'b': '118124.100000000...
2025-07-16 00:08:56,750 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:08:57,609 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:08:57,613 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:08:58,615 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:08:58,619 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:08:59,036 - DEBUG - app.firebase_stream - Firebase listener triggered (26). Event Type: patch, Path: /. Timestamp: 1752649739.0365977
2025-07-16 00:08:59,037 - DEBUG - app.firebase_stream - Prepared batch update for 26 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0229000000', 'o': '13.0203000000'}, 'XAGUSD': {'b': '37.8810000000', 'o': '37.8760000000'}, 'GBPAUD': {'b': '2.0546900000', 'o': '2.0545400000'}, 'USDCNH': {'b': '7.1805200000', '
2025-07-16 00:08:59,048 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0229000000', 'o': '13.0203000000'}, 'XAGUSD': {'b': '37.8810000000', 'o': '37.8760000000'}, 'GBPAUD': {'b': '2.0546900000', 'o': '2.0545400000'}, 'USDCNH': {'b': '7.1805200000', '...
2025-07-16 00:08:59,049 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:08:59,629 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:08:59,633 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:00,641 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:00,645 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:01,406 - DEBUG - app.firebase_stream - Firebase listener triggered (27). Event Type: patch, Path: /. Timestamp: 1752649741.4062035
2025-07-16 00:09:01,407 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.8820000000', 'o': '37.8760000000'}, 'NZDJPY': {'b': '88.4390000000', 'o': '88.4320000000'}, 'GBPAUD': {'b': '2.0547000000', 'o': '2.0545400000'}, 'BTCUSD': {'b': '118077.600000000
2025-07-16 00:09:01,412 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.8820000000', 'o': '37.8760000000'}, 'NZDJPY': {'b': '88.4390000000', 'o': '88.4320000000'}, 'GBPAUD': {'b': '2.0547000000', 'o': '2.0545400000'}, 'BTCUSD': {'b': '118077.600000000...
2025-07-16 00:09:01,412 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:09:01,650 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:01,653 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:02,170 - WARNING - app - User 4 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:09:02,176 - WARNING - app - No user data found for user 5 (live). Skipping portfolio update.
2025-07-16 00:09:02,188 - WARNING - app - No group settings found for group string. Skipping portfolio update for user 8.
2025-07-16 00:09:02,224 - WARNING - app - User 9 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:09:02,254 - WARNING - app - User 10 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:09:02,276 - WARNING - app - User 11 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:09:02,297 - WARNING - app - User 12 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:09:02,318 - WARNING - app - User 13 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:09:02,727 - DEBUG - app.services.portfolio_calculator - Position calculation for BTCUSD: Type=BUY, Entry=118908.50000000, Current=118027.5, Quantity=0.40000000, Contract Size=1.00000000, PnL=-352.400000000000000000000000, PnL USD=-352.400000000000000000000000, Commission=235.57000000, Final PnL=-587.970000000000000000000000
2025-07-16 00:09:02,727 - WARNING - app.services.portfolio_calculator - MARGIN CALL ALERT: User has margin level 98.84661876122949506141001599% which is below threshold 100.0%
2025-07-16 00:09:02,728 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:02,731 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:02,760 - WARNING - app - User 16 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:09:02,787 - WARNING - app - User 17 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:09:02,809 - WARNING - app - User 18 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:09:02,830 - WARNING - app - User 19 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:09:02,849 - WARNING - app - User 20 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:09:02,873 - WARNING - app - User 21 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:09:02,888 - WARNING - app - User 22 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:09:02,906 - WARNING - app - User 23 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:09:02,924 - WARNING - app - User 24 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:09:02,938 - WARNING - app - User 25 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:09:03,339 - DEBUG - app.services.portfolio_calculator - Position calculation for XAGUSD: Type=BUY, Entry=41.09800000, Current=37.863499999999995, Quantity=0.01000000, Contract Size=5000.00000000, PnL=-161.7250000000002500000000000, PnL USD=-161.7250000000002500000000000, Commission=0.10000000, Final PnL=-161.8250000000002500000000000
2025-07-16 00:09:03,339 - DEBUG - app.services.portfolio_calculator - Position calculation for BTCUSD: Type=BUY, Entry=132091.90000000, Current=118027.5, Quantity=6.00000000, Contract Size=1.00000000, PnL=-84386.40000000000000000000000, PnL USD=-84386.40000000000000000000000, Commission=3661.62000000, Final PnL=-88048.02000000000000000000000
2025-07-16 00:09:03,339 - WARNING - app.services.portfolio_calculator - MARGIN CALL ALERT: User has margin level 65.62877621088433453047957917% which is below threshold 100.0%
2025-07-16 00:09:03,670 - DEBUG - app.firebase_stream - Firebase listener triggered (28). Event Type: patch, Path: /. Timestamp: 1752649743.6699922
2025-07-16 00:09:03,670 - DEBUG - app.firebase_stream - Prepared batch update for 26 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4320000000', 'o': '88.4250000000'}, 'GBPAUD': {'b': '2.0545200000', 'o': '2.0544000000'}, 'BTCUSD': {'b': '118087.5200000000', 'o': '118087.5200000000'}, 'USDJPY': {'b': '148.6340
2025-07-16 00:09:03,671 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4320000000', 'o': '88.4250000000'}, 'GBPAUD': {'b': '2.0545200000', 'o': '2.0544000000'}, 'BTCUSD': {'b': '118087.5200000000', 'o': '118087.5200000000'}, 'USDJPY': {'b': '148.6340...
2025-07-16 00:09:03,671 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:09:03,702 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=96.66800000, Current=96.946, Quantity=0.01000000, Contract Size=100000.00000000, PnL=278.000000000000000000000000, PnL USD=1.870366134262685522827885948, Commission=0.10000000, Final PnL=1.770366134262685522827885948
2025-07-16 00:09:03,706 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=96.56000000, Current=97.05199999999999, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-491.9999999999900000000000000, PnL USD=-3.310144381500800624352436186, Commission=0.10000000, Final PnL=-3.410144381500800624352436186
2025-07-16 00:09:03,730 - WARNING - app - User 2 has no group_name set. Skipping portfolio update.
2025-07-16 00:09:03,739 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:03,747 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:03,777 - WARNING - app - No group settings found for group string. Skipping portfolio update for user 3.
2025-07-16 00:09:03,825 - WARNING - app - User 4 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:09:03,826 - WARNING - app - User 5 has no group_name set. Skipping portfolio update.
2025-07-16 00:09:03,826 - WARNING - app - User 6 has no group_name set. Skipping portfolio update.
2025-07-16 00:09:04,264 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64743000, Current=0.65242, Quantity=0.10000000, Contract Size=100000.00000000, PnL=49.900000000000000000000000, PnL USD=49.900000000000000000000000, Commission=1.00000000, Final PnL=48.900000000000000000000000
2025-07-16 00:09:04,265 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=SELL, Entry=0.64707000, Current=0.65272, Quantity=0.22000000, Contract Size=100000.00000000, PnL=-124.300000000000000000000000, PnL USD=-124.300000000000000000000000, Commission=2.20000000, Final PnL=-126.500000000000000000000000
2025-07-16 00:09:04,266 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFSGD: Type=BUY, Entry=1.57561500, Current=1.603865, Quantity=0.10000000, Contract Size=100000.00000000, PnL=282.500000000000000000000000, PnL USD=220.0001557523226565116152295, Commission=1.00000000, Final PnL=219.0001557523226565116152295
2025-07-16 00:09:04,268 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFSGD: Type=SELL, Entry=1.57505500, Current=1.604345, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-292.900000000000000000000000, PnL USD=-228.0992765304612605035472591, Commission=1.00000000, Final PnL=-229.0992765304612605035472591
2025-07-16 00:09:04,269 - DEBUG - app.services.portfolio_calculator - Position calculation for CADJPY: Type=SELL, Entry=106.24150000, Current=108.4255, Quantity=0.15000000, Contract Size=100000.00000000, PnL=-32760.00000000000000000000000, PnL USD=-220.4071746706675457836026750, Commission=0E-8, Final PnL=-220.4071746706675457836026750
2025-07-16 00:09:04,270 - DEBUG - app.services.portfolio_calculator - Position calculation for CADJPY: Type=BUY, Entry=106.27050000, Current=108.3945, Quantity=0.15000000, Contract Size=100000.00000000, PnL=31860.00000000000000000000000, PnL USD=214.3520325093854703499872169, Commission=0E-8, Final PnL=214.3520325093854703499872169
2025-07-16 00:09:04,270 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=BUY, Entry=1.77481000, Current=1.78148, Quantity=0.22000000, Contract Size=100000.00000000, PnL=146.740000000000000000000000, PnL USD=95.75812180000000000000000000, Commission=2.20000000, Final PnL=93.55812180000000000000000000
2025-07-16 00:09:04,270 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=SELL, Entry=1.77439000, Current=1.7818900000000002, Quantity=0.21000000, Contract Size=100000.00000000, PnL=-157.5000000000042000000000000, PnL USD=-102.7797750000027407940000000, Commission=2.10000000, Final PnL=-104.8797750000027407940000000
2025-07-16 00:09:04,272 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFJPY: Type=BUY, Entry=178.15500000, Current=185.655, Quantity=0.10000000, Contract Size=100000.00000000, PnL=75000.00000000000000000000000, PnL USD=504.5951801068396194679548421, Commission=1.00000000, Final PnL=503.5951801068396194679548421
2025-07-16 00:09:04,273 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFJPY: Type=SELL, Entry=178.09500000, Current=185.70499999999998, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-76099.99999999980000000000000, PnL USD=-511.9959094150719216330045615, Commission=1.00000000, Final PnL=-512.9959094150719216330045615
2025-07-16 00:09:04,274 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=BUY, Entry=1.77480000, Current=1.78148, Quantity=0.05000000, Contract Size=100000.00000000, PnL=33.400000000000000000000000, PnL USD=21.79583800000000000000000000, Commission=0.50000000, Final PnL=21.29583800000000000000000000
2025-07-16 00:09:04,274 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=SELL, Entry=1.77442000, Current=1.7818900000000002, Quantity=0.05000000, Contract Size=100000.00000000, PnL=-37.35000000000100000000000000, PnL USD=-24.37348950000065257000000000, Commission=0.50000000, Final PnL=-24.87348950000065257000000000
2025-07-16 00:09:04,274 - DEBUG - app.services.portfolio_calculator - Position calculation for EURGBP: Type=SELL, Entry=0.85403000, Current=0.8673, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-132.700000000000000000000000, PnL USD=-177.9241600000000000000000000, Commission=1.00000000, Final PnL=-178.9241600000000000000000000
2025-07-16 00:09:04,275 - DEBUG - app.services.portfolio_calculator - Position calculation for EURJPY: Type=BUY, Entry=167.26050000, Current=172.8005, Quantity=0.10000000, Contract Size=100000.00000000, PnL=55400.00000000000000000000000, PnL USD=372.7276397055855322469959767, Commission=1.00000000, Final PnL=371.7276397055855322469959767
2025-07-16 00:09:04,276 - DEBUG - app.services.portfolio_calculator - Position calculation for EURJPY: Type=SELL, Entry=167.23150000, Current=172.82549999999998, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-55939.99999999980000000000000, PnL USD=-376.3607250023534319200183000, Commission=1.00000000, Final PnL=-377.3607250023534319200183000
2025-07-16 00:09:04,276 - DEBUG - app.services.portfolio_calculator - Position calculation for EURNZD: Type=SELL, Entry=1.91952500, Current=1.954385, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-348.600000000000000000000000, PnL USD=-207.4065420000000000000000000, Commission=1.00000000, Final PnL=-208.4065420000000000000000000
2025-07-16 00:09:04,277 - DEBUG - app.services.portfolio_calculator - Position calculation for EURNZD: Type=BUY, Entry=1.92063500, Current=1.953975, Quantity=0.10000000, Contract Size=100000.00000000, PnL=333.400000000000000000000000, PnL USD=198.3629980000000000000000000, Commission=1.00000000, Final PnL=197.3629980000000000000000000
2025-07-16 00:09:04,277 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=SELL, Entry=1.34376000, Current=1.3409, Quantity=0.25000000, Contract Size=0E-8, PnL=0E-24, PnL USD=0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:09:04,277 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=SELL, Entry=1.34361000, Current=1.3409, Quantity=0.25000000, Contract Size=0E-8, PnL=0E-24, PnL USD=0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:09:04,277 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=BUY, Entry=1.34379000, Current=1.34069, Quantity=0.25000000, Contract Size=0E-8, PnL=-0E-24, PnL USD=-0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:09:04,277 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=BUY, Entry=1.34378000, Current=1.34069, Quantity=0.25000000, Contract Size=0E-8, PnL=-0E-24, PnL USD=-0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:09:04,278 - DEBUG - app.services.portfolio_calculator - Position calculation for NZDJPY: Type=BUY, Entry=87.10150000, Current=88.4195, Quantity=0.01000000, Contract Size=100000.00000000, PnL=1318.000000000000000000000000, PnL USD=8.867419298410861579450193092, Commission=0.10000000, Final PnL=8.767419298410861579450193092
2025-07-16 00:09:04,280 - DEBUG - app.services.portfolio_calculator - Position calculation for USDCHF: Type=SELL, Entry=0.81771000, Current=0.80057, Quantity=0.15000000, Contract Size=100000.00000000, PnL=257.100000000000000000000000, PnL USD=321.2063666575048099747632493, Commission=1.50000000, Final PnL=319.7063666575048099747632493
2025-07-16 00:09:04,281 - DEBUG - app.services.portfolio_calculator - Position calculation for USDCHF: Type=BUY, Entry=0.81805000, Current=0.80026, Quantity=0.15000000, Contract Size=100000.00000000, PnL=-266.850000000000000000000000, PnL USD=-333.3874715774218535268983784, Commission=1.50000000, Final PnL=-334.8874715774218535268983784
2025-07-16 00:09:04,283 - DEBUG - app.services.portfolio_calculator - Position calculation for USDNOK: Type=BUY, Entry=10.04973000, Current=10.24564, Quantity=0.10000000, Contract Size=100000.00000000, PnL=1959.100000000000000000000000, PnL USD=191.1816943356897218004317226, Commission=1.00000000, Final PnL=190.1816943356897218004317226
2025-07-16 00:09:04,284 - DEBUG - app.services.portfolio_calculator - Position calculation for USDNOK: Type=BUY, Entry=10.05023000, Current=10.24564, Quantity=0.10000000, Contract Size=100000.00000000, PnL=1954.100000000000000000000000, PnL USD=190.6937618811552679139521358, Commission=1.00000000, Final PnL=189.6937618811552679139521358
2025-07-16 00:09:04,285 - DEBUG - app.services.portfolio_calculator - Position calculation for USDSGD: Type=SELL, Entry=1.28795000, Current=1.2842500000000001, Quantity=0.31000000, Contract Size=100000.00000000, PnL=114.6999999999969000000000000, PnL USD=89.32395704350699717309534378, Commission=3.10000000, Final PnL=86.22395704350699717309534378
2025-07-16 00:09:04,287 - DEBUG - app.services.portfolio_calculator - Position calculation for USDTRY: Type=SELL, Entry=39.56087000, Current=40.25183, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-6909.600000000000000000000000, PnL USD=-171.6589349424660842181153640, Commission=1.00000000, Final PnL=-172.6589349424660842181153640
2025-07-16 00:09:04,758 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:04,760 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:05,066 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.89752000, Current=0.89473, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-2.790000000000000000000000, PnL USD=-2.034773476472475859855888445, Commission=0.10000000, Final PnL=-2.134773476472475859855888445
2025-07-16 00:09:05,098 - WARNING - app - User 12 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:09:05,122 - WARNING - app - User 13 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:09:05,764 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:05,766 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:06,028 - DEBUG - app.firebase_stream - Firebase listener triggered (29). Event Type: patch, Path: /. Timestamp: 1752649746.0288067
2025-07-16 00:09:06,029 - DEBUG - app.firebase_stream - Prepared batch update for 38 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0234000000', 'o': '13.0208000000'}, 'XAGUSD': {'b': '37.8780000000', 'o': '37.8720000000'}, 'NZDJPY': {'b': '88.4340000000', 'o': '88.4270000000'}, 'GBPAUD': {'b': '2.0547300000',
2025-07-16 00:09:06,029 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0234000000', 'o': '13.0208000000'}, 'XAGUSD': {'b': '37.8780000000', 'o': '37.8720000000'}, 'NZDJPY': {'b': '88.4340000000', 'o': '88.4270000000'}, 'GBPAUD': {'b': '2.0547300000',...
2025-07-16 00:09:06,030 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:09:06,772 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:06,776 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:07,788 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:07,793 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:08,285 - DEBUG - app.firebase_stream - Firebase listener triggered (30). Event Type: patch, Path: /. Timestamp: 1752649748.285775
2025-07-16 00:09:08,286 - DEBUG - app.firebase_stream - Prepared batch update for 30 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0235000000', 'o': '13.0209000000'}, 'XAGUSD': {'b': '37.8760000000', 'o': '37.8710000000'}, 'NZDJPY': {'b': '88.4340000000', 'o': '88.4290000000'}, 'GBPAUD': {'b': '2.0547900000',
2025-07-16 00:09:08,287 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0235000000', 'o': '13.0209000000'}, 'XAGUSD': {'b': '37.8760000000', 'o': '37.8710000000'}, 'NZDJPY': {'b': '88.4340000000', 'o': '88.4290000000'}, 'GBPAUD': {'b': '2.0547900000',...
2025-07-16 00:09:08,293 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:09:08,799 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:08,803 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:09,813 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:09,817 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:10,643 - DEBUG - app.firebase_stream - Firebase listener triggered (31). Event Type: patch, Path: /. Timestamp: 1752649750.6432965
2025-07-16 00:09:10,643 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.8770000000', 'o': '37.8710000000'}, 'NZDJPY': {'b': '88.4350000000', 'o': '88.4280000000'}, 'GBPAUD': {'b': '2.0547900000', 'o': '2.0546300000'}, 'BTCUSD': {'b': '118087.900000000
2025-07-16 00:09:10,644 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.8770000000', 'o': '37.8710000000'}, 'NZDJPY': {'b': '88.4350000000', 'o': '88.4280000000'}, 'GBPAUD': {'b': '2.0547900000', 'o': '2.0546300000'}, 'BTCUSD': {'b': '118087.900000000...
2025-07-16 00:09:10,645 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:09:10,828 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:10,833 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:11,842 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:11,844 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:12,849 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:12,876 - DEBUG - app.firebase_stream - Firebase listener triggered (32). Event Type: patch, Path: /. Timestamp: 1752649752.8763747
2025-07-16 00:09:12,877 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:12,877 - DEBUG - app.firebase_stream - Prepared batch update for 34 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0233000000', 'o': '13.0207000000'}, 'XAGUSD': {'b': '37.8780000000', 'o': '37.8720000000'}, 'NZDJPY': {'b': '88.4360000000', 'o': '88.4290000000'}, 'GBPAUD': {'b': '2.0547500000',
2025-07-16 00:09:12,880 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0233000000', 'o': '13.0207000000'}, 'XAGUSD': {'b': '37.8780000000', 'o': '37.8720000000'}, 'NZDJPY': {'b': '88.4360000000', 'o': '88.4290000000'}, 'GBPAUD': {'b': '2.0547500000',...
2025-07-16 00:09:12,880 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:09:13,899 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:13,901 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:14,911 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:14,914 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:15,229 - DEBUG - app.firebase_stream - Firebase listener triggered (33). Event Type: patch, Path: /. Timestamp: 1752649755.2294924
2025-07-16 00:09:15,229 - DEBUG - app.firebase_stream - Prepared batch update for 26 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.8790000000', 'o': '37.8740000000'}, 'GBPAUD': {'b': '2.0547500000', 'o': '2.0546300000'}, 'BTCUSD': {'b': '118081.9000000000', 'o': '118081.8000000000'}, 'USDCNH': {'b': '7.180460
2025-07-16 00:09:15,230 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.8790000000', 'o': '37.8740000000'}, 'GBPAUD': {'b': '2.0547500000', 'o': '2.0546300000'}, 'BTCUSD': {'b': '118081.9000000000', 'o': '118081.8000000000'}, 'USDCNH': {'b': '7.180460...
2025-07-16 00:09:15,230 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:09:15,928 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:15,931 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:16,937 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:16,940 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:17,595 - DEBUG - app.firebase_stream - Firebase listener triggered (34). Event Type: patch, Path: /. Timestamp: 1752649757.5956998
2025-07-16 00:09:17,596 - DEBUG - app.firebase_stream - Prepared batch update for 21 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0234000000', 'o': '13.0208000000'}, 'XAGUSD': {'b': '37.8780000000', 'o': '37.8730000000'}, 'USDJPY': {'b': '148.6450000000', 'o': '148.6420000000'}, 'USDCNH': {'b': '7.1804500000
2025-07-16 00:09:17,596 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0234000000', 'o': '13.0208000000'}, 'XAGUSD': {'b': '37.8780000000', 'o': '37.8730000000'}, 'USDJPY': {'b': '148.6450000000', 'o': '148.6420000000'}, 'USDCNH': {'b': '7.1804500000...
2025-07-16 00:09:17,597 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:09:17,958 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:17,962 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:18,965 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:18,969 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:19,857 - DEBUG - app.firebase_stream - Firebase listener triggered (35). Event Type: patch, Path: /. Timestamp: 1752649759.8576725
2025-07-16 00:09:19,858 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.8750000000', 'o': '37.8700000000'}, 'NZDJPY': {'b': '88.4360000000', 'o': '88.4300000000'}, 'GBPAUD': {'b': '2.0547500000', 'o': '2.0546200000'}, 'USDJPY': {'b': '148.6360000000',
2025-07-16 00:09:19,859 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.8750000000', 'o': '37.8700000000'}, 'NZDJPY': {'b': '88.4360000000', 'o': '88.4300000000'}, 'GBPAUD': {'b': '2.0547500000', 'o': '2.0546200000'}, 'USDJPY': {'b': '148.6360000000',...
2025-07-16 00:09:19,859 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:09:19,971 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:19,975 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:20,978 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:20,980 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:21,985 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:21,990 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:22,108 - DEBUG - app.firebase_stream - Firebase listener triggered (36). Event Type: patch, Path: /. Timestamp: 1752649762.108863
2025-07-16 00:09:22,109 - DEBUG - app.firebase_stream - Prepared batch update for 30 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.8790000000', 'o': '37.8730000000'}, 'NZDJPY': {'b': '88.4360000000', 'o': '88.4330000000'}, 'USDJPY': {'b': '148.6450000000', 'o': '148.6420000000'}, 'CADCHF': {'b': '0.5838100000
2025-07-16 00:09:22,109 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'XAGUSD': {'b': '37.8790000000', 'o': '37.8730000000'}, 'NZDJPY': {'b': '88.4360000000', 'o': '88.4330000000'}, 'USDJPY': {'b': '148.6450000000', 'o': '148.6420000000'}, 'CADCHF': {'b': '0.5838100000...
2025-07-16 00:09:22,110 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:09:23,006 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:23,009 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:24,013 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:24,016 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:24,418 - DEBUG - app.firebase_stream - Firebase listener triggered (37). Event Type: patch, Path: /. Timestamp: 1752649764.418683
2025-07-16 00:09:24,419 - DEBUG - app.firebase_stream - Prepared batch update for 27 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4400000000', 'o': '88.4350000000'}, 'GBPAUD': {'b': '2.0547700000', 'o': '2.0546200000'}, 'USDJPY': {'b': '148.6450000000', 'o': '148.6410000000'}, 'USDCNH': {'b': '7.1804500000',
2025-07-16 00:09:24,420 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4400000000', 'o': '88.4350000000'}, 'GBPAUD': {'b': '2.0547700000', 'o': '2.0546200000'}, 'USDJPY': {'b': '148.6450000000', 'o': '148.6410000000'}, 'USDCNH': {'b': '7.1804500000',...
2025-07-16 00:09:24,420 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:09:25,027 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:25,030 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:26,033 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:26,036 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:26,712 - DEBUG - app.firebase_stream - Firebase listener triggered (38). Event Type: patch, Path: /. Timestamp: 1752649766.7126343
2025-07-16 00:09:26,713 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0233000000', 'o': '13.0207000000'}, 'NZDJPY': {'b': '88.4400000000', 'o': '88.4390000000'}, 'GBPAUD': {'b': '2.0547900000', 'o': '2.0547600000'}, 'BTCUSD': {'b': '118124.100000000
2025-07-16 00:09:26,713 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0233000000', 'o': '13.0207000000'}, 'NZDJPY': {'b': '88.4400000000', 'o': '88.4390000000'}, 'GBPAUD': {'b': '2.0547900000', 'o': '2.0547600000'}, 'BTCUSD': {'b': '118124.100000000...
2025-07-16 00:09:26,713 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:09:27,039 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:27,042 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:28,044 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:28,046 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:29,006 - DEBUG - app.firebase_stream - Firebase listener triggered (39). Event Type: patch, Path: /. Timestamp: 1752649769.006115
2025-07-16 00:09:29,006 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0240300000', 'o': '13.0217000000'}, 'NZDJPY': {'b': '88.4470000000', 'o': '88.4410000000'}, 'GBPAUD': {'b': '2.0549200000', 'o': '2.0547600000'}, 'USDJPY': {'b': '148.6570000000',
2025-07-16 00:09:29,007 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0240300000', 'o': '13.0217000000'}, 'NZDJPY': {'b': '88.4470000000', 'o': '88.4410000000'}, 'GBPAUD': {'b': '2.0549200000', 'o': '2.0547600000'}, 'USDJPY': {'b': '148.6570000000',...
2025-07-16 00:09:29,008 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:09:29,053 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:29,059 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:30,074 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:30,079 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:31,085 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:31,087 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:31,296 - DEBUG - app.firebase_stream - Firebase listener triggered (40). Event Type: patch, Path: /. Timestamp: 1752649771.296573
2025-07-16 00:09:31,297 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0240300000', 'o': '13.0215000000'}, 'XAGUSD': {'b': '37.8820000000', 'o': '37.8760000000'}, 'NZDJPY': {'b': '88.4480000000', 'o': '88.4430000000'}, 'GBPAUD': {'b': '2.0549100000',
2025-07-16 00:09:31,297 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0240300000', 'o': '13.0215000000'}, 'XAGUSD': {'b': '37.8820000000', 'o': '37.8760000000'}, 'NZDJPY': {'b': '88.4480000000', 'o': '88.4430000000'}, 'GBPAUD': {'b': '2.0549100000',...
2025-07-16 00:09:31,297 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:09:32,093 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:32,097 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:33,113 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:33,117 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:33,587 - DEBUG - app.firebase_stream - Firebase listener triggered (41). Event Type: patch, Path: /. Timestamp: 1752649773.587178
2025-07-16 00:09:33,587 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0237300000', 'o': '13.0215000000'}, 'XAGUSD': {'b': '37.8770000000', 'o': '37.8720000000'}, 'NZDJPY': {'b': '88.4500000000', 'o': '88.4410000000'}, 'GBPAUD': {'b': '2.0547000000',
2025-07-16 00:09:33,588 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0237300000', 'o': '13.0215000000'}, 'XAGUSD': {'b': '37.8770000000', 'o': '37.8720000000'}, 'NZDJPY': {'b': '88.4500000000', 'o': '88.4410000000'}, 'GBPAUD': {'b': '2.0547000000',...
2025-07-16 00:09:33,588 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:09:34,130 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:34,135 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:35,137 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:35,140 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:35,940 - DEBUG - app.firebase_stream - Firebase listener triggered (42). Event Type: patch, Path: /. Timestamp: 1752649775.9400995
2025-07-16 00:09:35,940 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0240100000', 'o': '13.0217000000'}, 'GBPAUD': {'b': '2.0550000000', 'o': '2.0548100000'}, 'BTCUSD': {'b': '118089.1800000000', 'o': '118089.1800000000'}, 'USDJPY': {'b': '148.6660
2025-07-16 00:09:35,941 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0240100000', 'o': '13.0217000000'}, 'GBPAUD': {'b': '2.0550000000', 'o': '2.0548100000'}, 'BTCUSD': {'b': '118089.1800000000', 'o': '118089.1800000000'}, 'USDJPY': {'b': '148.6660...
2025-07-16 00:09:35,941 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:09:36,142 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:36,145 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:37,153 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:37,158 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:38,164 - DEBUG - app.firebase_stream - Firebase listener triggered (43). Event Type: patch, Path: /. Timestamp: 1752649778.1648984
2025-07-16 00:09:38,165 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4450000000', 'o': '88.4390000000'}, 'GBPAUD': {'b': '2.0549800000', 'o': '2.0548600000'}, 'BTCUSD': {'b': '118089.9000000000', 'o': '118089.8000000000'}, 'USDJPY': {'b': '148.6330
2025-07-16 00:09:38,166 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:38,167 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4450000000', 'o': '88.4390000000'}, 'GBPAUD': {'b': '2.0549800000', 'o': '2.0548600000'}, 'BTCUSD': {'b': '118089.9000000000', 'o': '118089.8000000000'}, 'USDJPY': {'b': '148.6330...
2025-07-16 00:09:38,172 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:09:38,187 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:39,204 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:39,208 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:40,211 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:40,213 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:40,551 - DEBUG - app.firebase_stream - Firebase listener triggered (44). Event Type: patch, Path: /. Timestamp: 1752649780.5512671
2025-07-16 00:09:40,551 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.8790000000', 'o': '37.8750000000'}, 'NZDJPY': {'b': '88.4450000000', 'o': '88.4360000000'}, 'GBPAUD': {'b': '2.0550200000', 'o': '2.0548600000'}, 'USDJPY': {'b': '148.6600000000',
2025-07-16 00:09:40,552 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.8790000000', 'o': '37.8750000000'}, 'NZDJPY': {'b': '88.4450000000', 'o': '88.4360000000'}, 'GBPAUD': {'b': '2.0550200000', 'o': '2.0548600000'}, 'USDJPY': {'b': '148.6600000000',...
2025-07-16 00:09:40,553 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:09:41,218 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:41,221 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:42,226 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:42,229 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:42,807 - DEBUG - app.firebase_stream - Firebase listener triggered (45). Event Type: patch, Path: /. Timestamp: 1752649782.807839
2025-07-16 00:09:42,808 - DEBUG - app.firebase_stream - Prepared batch update for 25 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.8790000000', 'o': '37.8730000000'}, 'NZDJPY': {'b': '88.4460000000', 'o': '88.4380000000'}, 'GBPAUD': {'b': '2.0550200000', 'o': '2.0548500000'}, 'USDCNH': {'b': '7.1805300000', '
2025-07-16 00:09:42,809 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.8790000000', 'o': '37.8730000000'}, 'NZDJPY': {'b': '88.4460000000', 'o': '88.4380000000'}, 'GBPAUD': {'b': '2.0550200000', 'o': '2.0548500000'}, 'USDCNH': {'b': '7.1805300000', '...
2025-07-16 00:09:42,809 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:09:43,234 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:43,238 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:44,252 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:44,257 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:45,102 - DEBUG - app.firebase_stream - Firebase listener triggered (46). Event Type: patch, Path: /. Timestamp: 1752649785.1026185
2025-07-16 00:09:45,103 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0239800000', 'o': '13.0216000000'}, 'XAGUSD': {'b': '37.8790000000', 'o': '37.8740000000'}, 'NZDJPY': {'b': '88.4460000000', 'o': '88.4370000000'}, 'GBPAUD': {'b': '2.0549900000',
2025-07-16 00:09:45,104 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0239800000', 'o': '13.0216000000'}, 'XAGUSD': {'b': '37.8790000000', 'o': '37.8740000000'}, 'NZDJPY': {'b': '88.4460000000', 'o': '88.4370000000'}, 'GBPAUD': {'b': '2.0549900000',...
2025-07-16 00:09:45,105 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:09:45,259 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:45,263 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:46,266 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:46,270 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:47,284 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:47,289 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:47,398 - DEBUG - app.firebase_stream - Firebase listener triggered (47). Event Type: patch, Path: /. Timestamp: 1752649787.3988092
2025-07-16 00:09:47,399 - DEBUG - app.firebase_stream - Prepared batch update for 34 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.8800000000', 'o': '37.8740000000'}, 'NZDJPY': {'b': '88.4440000000', 'o': '88.4350000000'}, 'GBPAUD': {'b': '2.0550000000', 'o': '2.0548400000'}, 'USDJPY': {'b': '148.6560000000',
2025-07-16 00:09:47,400 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.8800000000', 'o': '37.8740000000'}, 'NZDJPY': {'b': '88.4440000000', 'o': '88.4350000000'}, 'GBPAUD': {'b': '2.0550000000', 'o': '2.0548400000'}, 'USDJPY': {'b': '148.6560000000',...
2025-07-16 00:09:47,412 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:09:48,302 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:48,305 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:49,309 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:49,313 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:49,708 - DEBUG - app.firebase_stream - Firebase listener triggered (48). Event Type: patch, Path: /. Timestamp: 1752649789.708636
2025-07-16 00:09:49,709 - DEBUG - app.firebase_stream - Prepared batch update for 37 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0234300000', 'o': '13.0211000000'}, 'XAGUSD': {'b': '37.8780000000', 'o': '37.8720000000'}, 'NZDJPY': {'b': '88.4360000000', 'o': '88.4340000000'}, 'GBPAUD': {'b': '2.0549600000',
2025-07-16 00:09:49,709 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0234300000', 'o': '13.0211000000'}, 'XAGUSD': {'b': '37.8780000000', 'o': '37.8720000000'}, 'NZDJPY': {'b': '88.4360000000', 'o': '88.4340000000'}, 'GBPAUD': {'b': '2.0549600000',...
2025-07-16 00:09:49,710 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:09:50,317 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:50,321 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:51,324 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:51,327 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:52,118 - DEBUG - app.firebase_stream - Firebase listener triggered (49). Event Type: patch, Path: /. Timestamp: 1752649792.1181347
2025-07-16 00:09:52,118 - DEBUG - app.firebase_stream - Prepared batch update for 35 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.8770000000', 'o': '37.8720000000'}, 'NZDJPY': {'b': '88.4340000000', 'o': '88.4260000000'}, 'GBPAUD': {'b': '2.0549400000', 'o': '2.0548100000'}, 'BTCUSD': {'b': '118118.500000000
2025-07-16 00:09:52,119 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.8770000000', 'o': '37.8720000000'}, 'NZDJPY': {'b': '88.4340000000', 'o': '88.4260000000'}, 'GBPAUD': {'b': '2.0549400000', 'o': '2.0548100000'}, 'BTCUSD': {'b': '118118.500000000...
2025-07-16 00:09:52,119 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:09:52,339 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:52,343 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:53,352 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:53,354 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:54,313 - DEBUG - app.firebase_stream - Firebase listener triggered (50). Event Type: patch, Path: /. Timestamp: 1752649794.3131344
2025-07-16 00:09:54,313 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0237000000', 'o': '13.0211000000'}, 'XAGUSD': {'b': '37.8780000000', 'o': '37.8730000000'}, 'NZDJPY': {'b': '88.4350000000', 'o': '88.4260000000'}, 'GBPAUD': {'b': '2.0549600000',
2025-07-16 00:09:54,314 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0237000000', 'o': '13.0211000000'}, 'XAGUSD': {'b': '37.8780000000', 'o': '37.8730000000'}, 'NZDJPY': {'b': '88.4350000000', 'o': '88.4260000000'}, 'GBPAUD': {'b': '2.0549600000',...
2025-07-16 00:09:54,316 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:09:54,361 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:54,371 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:55,397 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:55,400 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:56,410 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:56,414 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:56,630 - DEBUG - app.firebase_stream - Firebase listener triggered (51). Event Type: patch, Path: /. Timestamp: 1752649796.6306713
2025-07-16 00:09:56,631 - DEBUG - app.firebase_stream - Prepared batch update for 27 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.8790000000', 'o': '37.8740000000'}, 'NZDJPY': {'b': '88.4360000000', 'o': '88.4270000000'}, 'GBPAUD': {'b': '2.0549600000', 'o': '2.0548000000'}, 'BTCUSD': {'b': '118094.700000000
2025-07-16 00:09:56,632 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.8790000000', 'o': '37.8740000000'}, 'NZDJPY': {'b': '88.4360000000', 'o': '88.4270000000'}, 'GBPAUD': {'b': '2.0549600000', 'o': '2.0548000000'}, 'BTCUSD': {'b': '118094.700000000...
2025-07-16 00:09:56,633 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:09:57,425 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:57,429 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:58,435 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:58,443 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:09:58,975 - DEBUG - app.firebase_stream - Firebase listener triggered (52). Event Type: patch, Path: /. Timestamp: 1752649798.975522
2025-07-16 00:09:58,976 - DEBUG - app.firebase_stream - Prepared batch update for 40 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0240000000', 'o': '13.0215000000'}, 'XAGUSD': {'b': '37.8790000000', 'o': '37.8730000000'}, 'NZDJPY': {'b': '88.4350000000', 'o': '88.4290000000'}, 'GBPAUD': {'b': '2.0549900000',
2025-07-16 00:09:58,977 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0240000000', 'o': '13.0215000000'}, 'XAGUSD': {'b': '37.8790000000', 'o': '37.8730000000'}, 'NZDJPY': {'b': '88.4350000000', 'o': '88.4290000000'}, 'GBPAUD': {'b': '2.0549900000',...
2025-07-16 00:09:58,978 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:09:59,460 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:09:59,464 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:00,481 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:00,485 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:01,332 - DEBUG - app.firebase_stream - Firebase listener triggered (53). Event Type: patch, Path: /. Timestamp: 1752649801.3326552
2025-07-16 00:10:01,333 - DEBUG - app.firebase_stream - Prepared batch update for 35 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.8790000000', 'o': '37.8740000000'}, 'NZDJPY': {'b': '88.4480000000', 'o': '88.4430000000'}, 'GBPAUD': {'b': '2.0549700000', 'o': '2.0548300000'}, 'BTCUSD': {'b': '118123.540000000
2025-07-16 00:10:01,334 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.8790000000', 'o': '37.8740000000'}, 'NZDJPY': {'b': '88.4480000000', 'o': '88.4430000000'}, 'GBPAUD': {'b': '2.0549700000', 'o': '2.0548300000'}, 'BTCUSD': {'b': '118123.540000000...
2025-07-16 00:10:01,338 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:10:01,487 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:01,490 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:02,149 - WARNING - app - User 4 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:10:02,153 - WARNING - app - No user data found for user 5 (live). Skipping portfolio update.
2025-07-16 00:10:02,163 - WARNING - app - No group settings found for group string. Skipping portfolio update for user 8.
2025-07-16 00:10:02,190 - WARNING - app - User 9 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:10:02,216 - WARNING - app - User 10 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:10:02,242 - WARNING - app - User 11 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:10:02,262 - WARNING - app - User 12 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:10:02,282 - WARNING - app - User 13 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:10:02,632 - DEBUG - app.services.portfolio_calculator - Position calculation for BTCUSD: Type=BUY, Entry=118908.50000000, Current=118073.54, Quantity=0.40000000, Contract Size=1.00000000, PnL=-333.984000000000000000000000, PnL USD=-333.984000000000000000000000, Commission=235.57000000, Final PnL=-569.554000000000000000000000
2025-07-16 00:10:02,632 - WARNING - app.services.portfolio_calculator - MARGIN CALL ALERT: User has margin level 99.04206105873775434507833717% which is below threshold 100.0%
2025-07-16 00:10:02,633 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:02,637 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:02,663 - WARNING - app - User 16 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:10:02,686 - WARNING - app - User 17 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:10:02,707 - WARNING - app - User 18 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:10:02,730 - WARNING - app - User 19 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:10:02,754 - WARNING - app - User 20 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:10:02,782 - WARNING - app - User 21 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:10:02,806 - WARNING - app - User 22 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:10:02,826 - WARNING - app - User 23 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:10:02,848 - WARNING - app - User 24 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:10:02,872 - WARNING - app - User 25 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:10:03,255 - DEBUG - app.services.portfolio_calculator - Position calculation for XAGUSD: Type=BUY, Entry=41.09800000, Current=37.8615, Quantity=0.01000000, Contract Size=5000.00000000, PnL=-161.825000000000000000000000, PnL USD=-161.825000000000000000000000, Commission=0.10000000, Final PnL=-161.925000000000000000000000
2025-07-16 00:10:03,256 - DEBUG - app.services.portfolio_calculator - Position calculation for BTCUSD: Type=BUY, Entry=132091.90000000, Current=118073.54, Quantity=6.00000000, Contract Size=1.00000000, PnL=-84110.16000000000000000000000, PnL USD=-84110.16000000000000000000000, Commission=3661.62000000, Final PnL=-87771.78000000000000000000000
2025-07-16 00:10:03,256 - WARNING - app.services.portfolio_calculator - MARGIN CALL ALERT: User has margin level 65.81728766196170829576677992% which is below threshold 100.0%
2025-07-16 00:10:03,588 - DEBUG - app.firebase_stream - Firebase listener triggered (54). Event Type: patch, Path: /. Timestamp: 1752649803.588824
2025-07-16 00:10:03,589 - DEBUG - app.firebase_stream - Prepared batch update for 37 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0237300000', 'o': '13.0215000000'}, 'XAGUSD': {'b': '37.8750000000', 'o': '37.8690000000'}, 'NZDJPY': {'b': '88.4350000000', 'o': '88.4290000000'}, 'GBPAUD': {'b': '2.0549700000',
2025-07-16 00:10:03,589 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0237300000', 'o': '13.0215000000'}, 'XAGUSD': {'b': '37.8750000000', 'o': '37.8690000000'}, 'NZDJPY': {'b': '88.4350000000', 'o': '88.4290000000'}, 'GBPAUD': {'b': '2.0549700000',...
2025-07-16 00:10:03,589 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:10:03,656 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:03,657 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=96.66800000, Current=96.95100000000001, Quantity=0.01000000, Contract Size=100000.00000000, PnL=283.0000000000100000000000000, PnL USD=1.903724034011476159724464536, Commission=0.10000000, Final PnL=1.803724034011476159724464536
2025-07-16 00:10:03,659 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=96.56000000, Current=97.057, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-497.000000000000000000000000, PnL USD=-3.343289204606608545904638898, Commission=0.10000000, Final PnL=-3.443289204606608545904638898
2025-07-16 00:10:03,665 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:03,669 - WARNING - app - User 2 has no group_name set. Skipping portfolio update.
2025-07-16 00:10:03,740 - WARNING - app - No group settings found for group string. Skipping portfolio update for user 3.
2025-07-16 00:10:03,793 - WARNING - app - User 4 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:10:03,795 - WARNING - app - User 5 has no group_name set. Skipping portfolio update.
2025-07-16 00:10:03,796 - WARNING - app - User 6 has no group_name set. Skipping portfolio update.
2025-07-16 00:10:04,268 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64743000, Current=0.65239, Quantity=0.10000000, Contract Size=100000.00000000, PnL=49.600000000000000000000000, PnL USD=49.600000000000000000000000, Commission=1.00000000, Final PnL=48.600000000000000000000000
2025-07-16 00:10:04,268 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=SELL, Entry=0.64707000, Current=0.65271, Quantity=0.22000000, Contract Size=100000.00000000, PnL=-124.080000000000000000000000, PnL USD=-124.080000000000000000000000, Commission=2.20000000, Final PnL=-126.280000000000000000000000
2025-07-16 00:10:04,270 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFSGD: Type=BUY, Entry=1.57561500, Current=1.603995, Quantity=0.10000000, Contract Size=100000.00000000, PnL=283.800000000000000000000000, PnL USD=221.0056614205726834510524635, Commission=1.00000000, Final PnL=220.0056614205726834510524635
2025-07-16 00:10:04,270 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFSGD: Type=SELL, Entry=1.57505500, Current=1.604465, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-294.100000000000000000000000, PnL USD=-229.0266561796702826037862210, Commission=1.00000000, Final PnL=-230.0266561796702826037862210
2025-07-16 00:10:04,271 - DEBUG - app.services.portfolio_calculator - Position calculation for CADJPY: Type=SELL, Entry=106.24150000, Current=108.43350000000001, Quantity=0.15000000, Contract Size=100000.00000000, PnL=-32880.00000000015000000000000, PnL USD=-221.1817888278989748143364546, Commission=0E-8, Final PnL=-221.1817888278989748143364546
2025-07-16 00:10:04,272 - DEBUG - app.services.portfolio_calculator - Position calculation for CADJPY: Type=BUY, Entry=106.27050000, Current=108.4005, Quantity=0.15000000, Contract Size=100000.00000000, PnL=31950.00000000000000000000000, PnL USD=214.9257345818534065224410720, Commission=0E-8, Final PnL=214.9257345818534065224410720
2025-07-16 00:10:04,272 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=BUY, Entry=1.77481000, Current=1.78141, Quantity=0.22000000, Contract Size=100000.00000000, PnL=145.200000000000000000000000, PnL USD=94.75026000000000000000000000, Commission=2.20000000, Final PnL=92.55026000000000000000000000
2025-07-16 00:10:04,273 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=SELL, Entry=1.77439000, Current=1.7818, Quantity=0.21000000, Contract Size=100000.00000000, PnL=-155.610000000000000000000000, PnL USD=-101.5433055000000000000000000, Commission=2.10000000, Final PnL=-103.6433055000000000000000000
2025-07-16 00:10:04,273 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFJPY: Type=BUY, Entry=178.15500000, Current=185.685, Quantity=0.10000000, Contract Size=100000.00000000, PnL=75300.00000000000000000000000, PnL USD=506.5385857281239909589925735, Commission=1.00000000, Final PnL=505.5385857281239909589925735
2025-07-16 00:10:04,274 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFJPY: Type=SELL, Entry=178.09500000, Current=185.73499999999999, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-76399.99999999990000000000000, PnL USD=-513.9382197825846249058228393, Commission=1.00000000, Final PnL=-514.9382197825846249058228393
2025-07-16 00:10:04,275 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=BUY, Entry=1.77480000, Current=1.78141, Quantity=0.05000000, Contract Size=100000.00000000, PnL=33.050000000000000000000000, PnL USD=21.56677750000000000000000000, Commission=0.50000000, Final PnL=21.06677750000000000000000000
2025-07-16 00:10:04,275 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=SELL, Entry=1.77442000, Current=1.7818, Quantity=0.05000000, Contract Size=100000.00000000, PnL=-36.900000000000000000000000, PnL USD=-24.07909500000000000000000000, Commission=0.50000000, Final PnL=-24.57909500000000000000000000
2025-07-16 00:10:04,275 - DEBUG - app.services.portfolio_calculator - Position calculation for EURGBP: Type=SELL, Entry=0.85403000, Current=0.86726, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-132.300000000000000000000000, PnL USD=-177.4050390000000000000000000, Commission=1.00000000, Final PnL=-178.4050390000000000000000000
2025-07-16 00:10:04,276 - DEBUG - app.services.portfolio_calculator - Position calculation for EURJPY: Type=BUY, Entry=167.26050000, Current=172.8255, Quantity=0.10000000, Contract Size=100000.00000000, PnL=55650.00000000000000000000000, PnL USD=374.3542137552470132386180174, Commission=1.00000000, Final PnL=373.3542137552470132386180174
2025-07-16 00:10:04,277 - DEBUG - app.services.portfolio_calculator - Position calculation for EURJPY: Type=SELL, Entry=167.23150000, Current=172.85549999999998, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-56239.99999999980000000000000, PnL USD=-378.3231083844567323216015499, Commission=1.00000000, Final PnL=-379.3231083844567323216015499
2025-07-16 00:10:04,278 - DEBUG - app.services.portfolio_calculator - Position calculation for EURNZD: Type=SELL, Entry=1.91952500, Current=1.9546649999999999, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-351.3999999999990000000000000, PnL USD=-209.0443459999994051100000000, Commission=1.00000000, Final PnL=-210.0443459999994051100000000
2025-07-16 00:10:04,278 - DEBUG - app.services.portfolio_calculator - Position calculation for EURNZD: Type=BUY, Entry=1.92063500, Current=1.954255, Quantity=0.10000000, Contract Size=100000.00000000, PnL=336.200000000000000000000000, PnL USD=200.0020180000000000000000000, Commission=1.00000000, Final PnL=199.0020180000000000000000000
2025-07-16 00:10:04,278 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=SELL, Entry=1.34376000, Current=1.3411, Quantity=0.25000000, Contract Size=0E-8, PnL=0E-24, PnL USD=0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:10:04,278 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=SELL, Entry=1.34361000, Current=1.3411, Quantity=0.25000000, Contract Size=0E-8, PnL=0E-24, PnL USD=0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:10:04,278 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=BUY, Entry=1.34379000, Current=1.34089, Quantity=0.25000000, Contract Size=0E-8, PnL=-0E-24, PnL USD=-0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:10:04,278 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=BUY, Entry=1.34378000, Current=1.34089, Quantity=0.25000000, Contract Size=0E-8, PnL=-0E-24, PnL USD=-0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:10:04,280 - DEBUG - app.services.portfolio_calculator - Position calculation for NZDJPY: Type=BUY, Entry=87.10150000, Current=88.4305, Quantity=0.01000000, Contract Size=100000.00000000, PnL=1329.000000000000000000000000, PnL USD=8.940103325799160477881821117, Commission=0.10000000, Final PnL=8.840103325799160477881821117
2025-07-16 00:10:04,281 - DEBUG - app.services.portfolio_calculator - Position calculation for USDCHF: Type=SELL, Entry=0.81771000, Current=0.80059, Quantity=0.15000000, Contract Size=100000.00000000, PnL=256.800000000000000000000000, PnL USD=320.8195390093072646636267100, Commission=1.50000000, Final PnL=319.3195390093072646636267100
2025-07-16 00:10:04,282 - DEBUG - app.services.portfolio_calculator - Position calculation for USDCHF: Type=BUY, Entry=0.81805000, Current=0.80027, Quantity=0.15000000, Contract Size=100000.00000000, PnL=-266.700000000000000000000000, PnL USD=-333.1875819851333624836029733, Commission=1.50000000, Final PnL=-334.6875819851333624836029733
2025-07-16 00:10:04,283 - DEBUG - app.services.portfolio_calculator - Position calculation for USDNOK: Type=BUY, Entry=10.04973000, Current=10.24849, Quantity=0.10000000, Contract Size=100000.00000000, PnL=1987.600000000000000000000000, PnL USD=193.8857131708839768226778781, Commission=1.00000000, Final PnL=192.8857131708839768226778781
2025-07-16 00:10:04,285 - DEBUG - app.services.portfolio_calculator - Position calculation for USDNOK: Type=BUY, Entry=10.05023000, Current=10.24849, Quantity=0.10000000, Contract Size=100000.00000000, PnL=1982.600000000000000000000000, PnL USD=193.3979749107438983943656476, Commission=1.00000000, Final PnL=192.3979749107438983943656476
2025-07-16 00:10:04,286 - DEBUG - app.services.portfolio_calculator - Position calculation for USDSGD: Type=SELL, Entry=1.28795000, Current=1.2842300000000002, Quantity=0.31000000, Contract Size=100000.00000000, PnL=115.3199999999938000000000000, PnL USD=89.80399180767819457531558331, Commission=3.10000000, Final PnL=86.70399180767819457531558331
2025-07-16 00:10:04,287 - DEBUG - app.services.portfolio_calculator - Position calculation for USDTRY: Type=SELL, Entry=39.56087000, Current=40.25222, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-6913.500000000000000000000000, PnL USD=-171.7551420336891990896368808, Commission=1.00000000, Final PnL=-172.7551420336891990896368808
2025-07-16 00:10:04,781 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:04,786 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:05,191 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.89752000, Current=0.8947, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-2.820000000000000000000000, PnL USD=-2.056547770979339716896508974, Commission=0.10000000, Final PnL=-2.156547770979339716896508974
2025-07-16 00:10:05,227 - WARNING - app - User 12 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:10:05,248 - WARNING - app - User 13 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:10:05,794 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:05,796 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:05,932 - DEBUG - app.firebase_stream - Firebase listener triggered (55). Event Type: patch, Path: /. Timestamp: 1752649805.9322572
2025-07-16 00:10:05,932 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0243000000', 'o': '13.0217000000'}, 'XAGUSD': {'b': '37.8750000000', 'o': '37.8700000000'}, 'NZDJPY': {'b': '88.4350000000', 'o': '88.4270000000'}, 'GBPAUD': {'b': '2.0549600000',
2025-07-16 00:10:05,933 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0243000000', 'o': '13.0217000000'}, 'XAGUSD': {'b': '37.8750000000', 'o': '37.8700000000'}, 'NZDJPY': {'b': '88.4350000000', 'o': '88.4270000000'}, 'GBPAUD': {'b': '2.0549600000',...
2025-07-16 00:10:05,933 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:10:06,799 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:06,802 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:07,813 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:07,816 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:08,288 - DEBUG - app.firebase_stream - Firebase listener triggered (56). Event Type: patch, Path: /. Timestamp: 1752649808.288
2025-07-16 00:10:08,288 - DEBUG - app.firebase_stream - Prepared batch update for 30 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.8770000000', 'o': '37.8720000000'}, 'NZDJPY': {'b': '88.4350000000', 'o': '88.4260000000'}, 'GBPAUD': {'b': '2.0549400000', 'o': '2.0548000000'}, 'BTCUSD': {'b': '118124.000000000
2025-07-16 00:10:08,289 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.8770000000', 'o': '37.8720000000'}, 'NZDJPY': {'b': '88.4350000000', 'o': '88.4260000000'}, 'GBPAUD': {'b': '2.0549400000', 'o': '2.0548000000'}, 'BTCUSD': {'b': '118124.000000000...
2025-07-16 00:10:08,298 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:10:08,825 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:08,830 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:09,845 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:09,849 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:10,538 - DEBUG - app.firebase_stream - Firebase listener triggered (57). Event Type: patch, Path: /. Timestamp: 1752649810.5385573
2025-07-16 00:10:10,539 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.8790000000', 'o': '37.8740000000'}, 'NZDJPY': {'b': '88.4350000000', 'o': '88.4290000000'}, 'GBPAUD': {'b': '2.0549400000', 'o': '2.0548100000'}, 'USDJPY': {'b': '148.6540000000',
2025-07-16 00:10:10,540 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.8790000000', 'o': '37.8740000000'}, 'NZDJPY': {'b': '88.4350000000', 'o': '88.4290000000'}, 'GBPAUD': {'b': '2.0549400000', 'o': '2.0548100000'}, 'USDJPY': {'b': '148.6540000000',...
2025-07-16 00:10:10,545 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:10:10,863 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:10,867 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:11,882 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:11,891 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:12,904 - DEBUG - app.firebase_stream - Firebase listener triggered (58). Event Type: patch, Path: /. Timestamp: 1752649812.9049346
2025-07-16 00:10:12,905 - DEBUG - app.firebase_stream - Prepared batch update for 39 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0242000000', 'o': '13.0216000000'}, 'XAGUSD': {'b': '37.8760000000', 'o': '37.8720000000'}, 'NZDJPY': {'b': '88.4320000000', 'o': '88.4240000000'}, 'GBPAUD': {'b': '2.0549500000',
2025-07-16 00:10:12,906 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:12,907 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0242000000', 'o': '13.0216000000'}, 'XAGUSD': {'b': '37.8760000000', 'o': '37.8720000000'}, 'NZDJPY': {'b': '88.4320000000', 'o': '88.4240000000'}, 'GBPAUD': {'b': '2.0549500000',...
2025-07-16 00:10:12,908 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:10:12,920 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:13,949 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:13,953 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:14,966 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:14,969 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:15,150 - DEBUG - app.firebase_stream - Firebase listener triggered (59). Event Type: patch, Path: /. Timestamp: 1752649815.1500044
2025-07-16 00:10:15,150 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0239800000', 'o': '13.0216000000'}, 'GBPAUD': {'b': '2.0549600000', 'o': '2.0548200000'}, 'BTCUSD': {'b': '118089.9000000000', 'o': '118089.8000000000'}, 'USDJPY': {'b': '148.6540
2025-07-16 00:10:15,150 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0239800000', 'o': '13.0216000000'}, 'GBPAUD': {'b': '2.0549600000', 'o': '2.0548200000'}, 'BTCUSD': {'b': '118089.9000000000', 'o': '118089.8000000000'}, 'USDJPY': {'b': '148.6540...
2025-07-16 00:10:15,151 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:10:15,985 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:15,988 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:17,004 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:17,007 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:17,517 - DEBUG - app.firebase_stream - Firebase listener triggered (60). Event Type: patch, Path: /. Timestamp: 1752649817.5174584
2025-07-16 00:10:17,517 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0240000000', 'o': '13.0215800000'}, 'XAGUSD': {'b': '37.8750000000', 'o': '37.8700000000'}, 'NZDJPY': {'b': '88.4220000000', 'o': '88.4220000000'}, 'GBPAUD': {'b': '2.0549500000',
2025-07-16 00:10:17,518 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0240000000', 'o': '13.0215800000'}, 'XAGUSD': {'b': '37.8750000000', 'o': '37.8700000000'}, 'NZDJPY': {'b': '88.4220000000', 'o': '88.4220000000'}, 'GBPAUD': {'b': '2.0549500000',...
2025-07-16 00:10:17,528 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:10:18,022 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:18,024 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:19,034 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:19,039 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:19,733 - DEBUG - app.firebase_stream - Firebase listener triggered (61). Event Type: patch, Path: /. Timestamp: 1752649819.7337596
2025-07-16 00:10:19,734 - DEBUG - app.firebase_stream - Prepared batch update for 30 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0245700000', 'o': '13.0220000000'}, 'NZDJPY': {'b': '88.4360000000', 'o': '88.4340000000'}, 'GBPAUD': {'b': '2.0549500000', 'o': '2.0548200000'}, 'USDJPY': {'b': '148.6550000000',
2025-07-16 00:10:19,735 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0245700000', 'o': '13.0220000000'}, 'NZDJPY': {'b': '88.4360000000', 'o': '88.4340000000'}, 'GBPAUD': {'b': '2.0549500000', 'o': '2.0548200000'}, 'USDJPY': {'b': '148.6550000000',...
2025-07-16 00:10:19,737 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:10:20,055 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:20,060 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:21,075 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:21,077 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:22,083 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:22,097 - DEBUG - app.firebase_stream - Firebase listener triggered (62). Event Type: patch, Path: /. Timestamp: 1752649822.097099
2025-07-16 00:10:22,097 - DEBUG - app.firebase_stream - Prepared batch update for 22 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.8740000000', 'o': '37.8700000000'}, 'NZDJPY': {'b': '88.4340000000', 'o': '88.4260000000'}, 'USDJPY': {'b': '148.6550000000', 'o': '148.6520000000'}, 'USDCNH': {'b': '7.1806500000
2025-07-16 00:10:22,098 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:22,098 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.8740000000', 'o': '37.8700000000'}, 'NZDJPY': {'b': '88.4340000000', 'o': '88.4260000000'}, 'USDJPY': {'b': '148.6550000000', 'o': '148.6520000000'}, 'USDCNH': {'b': '7.1806500000...
2025-07-16 00:10:22,099 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:10:23,106 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:23,108 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:24,111 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:24,115 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:24,353 - DEBUG - app.firebase_stream - Firebase listener triggered (63). Event Type: patch, Path: /. Timestamp: 1752649824.3534212
2025-07-16 00:10:24,353 - DEBUG - app.firebase_stream - Prepared batch update for 26 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.8740000000', 'o': '37.8690000000'}, 'NZDJPY': {'b': '88.4290000000', 'o': '88.4230000000'}, 'GBPAUD': {'b': '2.0549600000', 'o': '2.0548100000'}, 'USDJPY': {'b': '148.6550000000',
2025-07-16 00:10:24,354 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.8740000000', 'o': '37.8690000000'}, 'NZDJPY': {'b': '88.4290000000', 'o': '88.4230000000'}, 'GBPAUD': {'b': '2.0549600000', 'o': '2.0548100000'}, 'USDJPY': {'b': '148.6550000000',...
2025-07-16 00:10:24,354 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:10:25,118 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:25,122 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:26,126 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:26,131 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:26,605 - DEBUG - app.firebase_stream - Firebase listener triggered (64). Event Type: patch, Path: /. Timestamp: 1752649826.605242
2025-07-16 00:10:26,605 - DEBUG - app.firebase_stream - Prepared batch update for 26 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0247000000', 'o': '13.0221000000'}, 'NZDJPY': {'b': '88.4360000000', 'o': '88.4270000000'}, 'GBPAUD': {'b': '2.0549400000', 'o': '2.0548200000'}, 'BTCUSD': {'b': '118109.880000000
2025-07-16 00:10:26,606 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0247000000', 'o': '13.0221000000'}, 'NZDJPY': {'b': '88.4360000000', 'o': '88.4270000000'}, 'GBPAUD': {'b': '2.0549400000', 'o': '2.0548200000'}, 'BTCUSD': {'b': '118109.880000000...
2025-07-16 00:10:26,606 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:10:27,135 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:27,141 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:28,149 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:28,152 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:28,888 - DEBUG - app.firebase_stream - Firebase listener triggered (65). Event Type: patch, Path: /. Timestamp: 1752649828.8881388
2025-07-16 00:10:28,888 - DEBUG - app.firebase_stream - Prepared batch update for 24 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4300000000', 'o': '88.4240000000'}, 'GBPAUD': {'b': '2.0549600000', 'o': '2.0548100000'}, 'BTCUSD': {'b': '118112.3300000000', 'o': '118112.3300000000'}, 'USDCNH': {'b': '7.180660
2025-07-16 00:10:28,888 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4300000000', 'o': '88.4240000000'}, 'GBPAUD': {'b': '2.0549600000', 'o': '2.0548100000'}, 'BTCUSD': {'b': '118112.3300000000', 'o': '118112.3300000000'}, 'USDCNH': {'b': '7.180660...
2025-07-16 00:10:28,889 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:10:29,159 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:29,164 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:30,181 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:30,184 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:31,188 - DEBUG - app.firebase_stream - Firebase listener triggered (66). Event Type: patch, Path: /. Timestamp: 1752649831.1886973
2025-07-16 00:10:31,189 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0240000000', 'o': '13.0215000000'}, 'XAGUSD': {'b': '37.8740000000', 'o': '37.8680000000'}, 'NZDJPY': {'b': '88.4310000000', 'o': '88.4240000000'}, 'GBPAUD': {'b': '2.0549900000',
2025-07-16 00:10:31,189 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0240000000', 'o': '13.0215000000'}, 'XAGUSD': {'b': '37.8740000000', 'o': '37.8680000000'}, 'NZDJPY': {'b': '88.4310000000', 'o': '88.4240000000'}, 'GBPAUD': {'b': '2.0549900000',...
2025-07-16 00:10:31,189 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:10:31,190 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:31,217 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:32,242 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:32,246 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:33,249 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:33,252 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:33,553 - DEBUG - app.firebase_stream - Firebase listener triggered (67). Event Type: patch, Path: /. Timestamp: 1752649833.5530088
2025-07-16 00:10:33,554 - DEBUG - app.firebase_stream - Prepared batch update for 27 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0247900000', 'o': '13.0222000000'}, 'NZDJPY': {'b': '88.4290000000', 'o': '88.4230000000'}, 'GBPAUD': {'b': '2.0549900000', 'o': '2.0548200000'}, 'BTCUSD': {'b': '118090.300000000
2025-07-16 00:10:33,555 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0247900000', 'o': '13.0222000000'}, 'NZDJPY': {'b': '88.4290000000', 'o': '88.4230000000'}, 'GBPAUD': {'b': '2.0549900000', 'o': '2.0548200000'}, 'BTCUSD': {'b': '118090.300000000...
2025-07-16 00:10:33,555 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:10:34,269 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:34,274 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:35,292 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:35,296 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:35,930 - DEBUG - app.firebase_stream - Firebase listener triggered (68). Event Type: patch, Path: /. Timestamp: 1752649835.9300213
2025-07-16 00:10:35,930 - DEBUG - app.firebase_stream - Prepared batch update for 24 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.8730000000', 'o': '37.8680000000'}, 'NZDJPY': {'b': '88.4300000000', 'o': '88.4220000000'}, 'USDJPY': {'b': '148.6540000000', 'o': '148.6500000000'}, 'USDCNH': {'b': '7.1805900000
2025-07-16 00:10:35,931 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.8730000000', 'o': '37.8680000000'}, 'NZDJPY': {'b': '88.4300000000', 'o': '88.4220000000'}, 'USDJPY': {'b': '148.6540000000', 'o': '148.6500000000'}, 'USDCNH': {'b': '7.1805900000...
2025-07-16 00:10:35,933 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:10:36,301 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:36,305 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:37,315 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:37,319 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:38,151 - DEBUG - app.firebase_stream - Firebase listener triggered (69). Event Type: patch, Path: /. Timestamp: 1752649838.1518188
2025-07-16 00:10:38,152 - DEBUG - app.firebase_stream - Prepared batch update for 30 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0247000000', 'o': '13.0221000000'}, 'XAGUSD': {'b': '37.8750000000', 'o': '37.8700000000'}, 'NZDJPY': {'b': '88.4270000000', 'o': '88.4200000000'}, 'GBPAUD': {'b': '2.0549600000',
2025-07-16 00:10:38,153 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0247000000', 'o': '13.0221000000'}, 'XAGUSD': {'b': '37.8750000000', 'o': '37.8700000000'}, 'NZDJPY': {'b': '88.4270000000', 'o': '88.4200000000'}, 'GBPAUD': {'b': '2.0549600000',...
2025-07-16 00:10:38,153 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:10:38,321 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:38,327 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:39,343 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:39,347 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:40,355 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:40,361 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:40,470 - DEBUG - app.firebase_stream - Firebase listener triggered (70). Event Type: patch, Path: /. Timestamp: 1752649840.4707217
2025-07-16 00:10:40,471 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.8730000000', 'o': '37.8690000000'}, 'NZDJPY': {'b': '88.4270000000', 'o': '88.4190000000'}, 'GBPAUD': {'b': '2.0550200000', 'o': '2.0548800000'}, 'USDCNH': {'b': '7.1806400000', '
2025-07-16 00:10:40,471 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.8730000000', 'o': '37.8690000000'}, 'NZDJPY': {'b': '88.4270000000', 'o': '88.4190000000'}, 'GBPAUD': {'b': '2.0550200000', 'o': '2.0548800000'}, 'USDCNH': {'b': '7.1806400000', '...
2025-07-16 00:10:40,472 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:10:41,365 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:41,368 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:42,371 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:42,375 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:42,783 - DEBUG - app.firebase_stream - Firebase listener triggered (71). Event Type: patch, Path: /. Timestamp: 1752649842.7834287
2025-07-16 00:10:42,784 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0244000000', 'o': '13.0218000000'}, 'NZDJPY': {'b': '88.4350000000', 'o': '88.4290000000'}, 'GBPAUD': {'b': '2.0550400000', 'o': '2.0548700000'}, 'BTCUSD': {'b': '118082.980000000
2025-07-16 00:10:42,784 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0244000000', 'o': '13.0218000000'}, 'NZDJPY': {'b': '88.4350000000', 'o': '88.4290000000'}, 'GBPAUD': {'b': '2.0550400000', 'o': '2.0548700000'}, 'BTCUSD': {'b': '118082.980000000...
2025-07-16 00:10:42,784 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:10:43,383 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:43,386 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:44,402 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:44,406 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:45,074 - DEBUG - app.firebase_stream - Firebase listener triggered (72). Event Type: patch, Path: /. Timestamp: 1752649845.0748448
2025-07-16 00:10:45,075 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.8740000000', 'o': '37.8690000000'}, 'NZDJPY': {'b': '88.4240000000', 'o': '88.4190000000'}, 'GBPAUD': {'b': '2.0550400000', 'o': '2.0548800000'}, 'BTCUSD': {'b': '118082.300000000
2025-07-16 00:10:45,075 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.8740000000', 'o': '37.8690000000'}, 'NZDJPY': {'b': '88.4240000000', 'o': '88.4190000000'}, 'GBPAUD': {'b': '2.0550400000', 'o': '2.0548800000'}, 'BTCUSD': {'b': '118082.300000000...
2025-07-16 00:10:45,076 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:10:45,409 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:45,413 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:46,425 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:46,428 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:47,401 - DEBUG - app.firebase_stream - Firebase listener triggered (73). Event Type: patch, Path: /. Timestamp: 1752649847.4011564
2025-07-16 00:10:47,401 - DEBUG - app.firebase_stream - Prepared batch update for 30 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.8760000000', 'o': '37.8720000000'}, 'NZDJPY': {'b': '88.4240000000', 'o': '88.4170000000'}, 'GBPAUD': {'b': '2.0550000000', 'o': '2.0548600000'}, 'USDJPY': {'b': '148.6580000000',
2025-07-16 00:10:47,401 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.8760000000', 'o': '37.8720000000'}, 'NZDJPY': {'b': '88.4240000000', 'o': '88.4170000000'}, 'GBPAUD': {'b': '2.0550000000', 'o': '2.0548600000'}, 'USDJPY': {'b': '148.6580000000',...
2025-07-16 00:10:47,402 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:10:47,433 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:47,440 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:48,466 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:48,471 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:49,482 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:49,487 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:49,712 - DEBUG - app.firebase_stream - Firebase listener triggered (74). Event Type: patch, Path: /. Timestamp: 1752649849.7128253
2025-07-16 00:10:49,713 - DEBUG - app.firebase_stream - Prepared batch update for 38 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0244000000', 'o': '13.0220400000'}, 'XAGUSD': {'b': '37.8720000000', 'o': '37.8640000000'}, 'NZDJPY': {'b': '88.4260000000', 'o': '88.4180000000'}, 'GBPAUD': {'b': '2.0549900000',
2025-07-16 00:10:49,714 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0244000000', 'o': '13.0220400000'}, 'XAGUSD': {'b': '37.8720000000', 'o': '37.8640000000'}, 'NZDJPY': {'b': '88.4260000000', 'o': '88.4180000000'}, 'GBPAUD': {'b': '2.0549900000',...
2025-07-16 00:10:49,716 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:10:50,494 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:50,498 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:51,509 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:51,513 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:52,028 - DEBUG - app.firebase_stream - Firebase listener triggered (75). Event Type: patch, Path: /. Timestamp: 1752649852.0279963
2025-07-16 00:10:52,028 - DEBUG - app.firebase_stream - Prepared batch update for 34 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0247000000', 'o': '13.0221000000'}, 'XAGUSD': {'b': '37.8750000000', 'o': '37.8700000000'}, 'NZDJPY': {'b': '88.4260000000', 'o': '88.4190000000'}, 'GBPAUD': {'b': '2.0550400000',
2025-07-16 00:10:52,029 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0247000000', 'o': '13.0221000000'}, 'XAGUSD': {'b': '37.8750000000', 'o': '37.8700000000'}, 'NZDJPY': {'b': '88.4260000000', 'o': '88.4190000000'}, 'GBPAUD': {'b': '2.0550400000',...
2025-07-16 00:10:52,030 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:10:52,516 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:52,521 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:53,533 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:53,538 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:54,376 - DEBUG - app.firebase_stream - Firebase listener triggered (76). Event Type: patch, Path: /. Timestamp: 1752649854.376666
2025-07-16 00:10:54,377 - DEBUG - app.firebase_stream - Prepared batch update for 30 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.8700000000', 'o': '37.8650000000'}, 'GBPAUD': {'b': '2.0550400000', 'o': '2.0549200000'}, 'BTCUSD': {'b': '118073.6700000000', 'o': '118073.6700000000'}, 'USDJPY': {'b': '148.6550
2025-07-16 00:10:54,377 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.8700000000', 'o': '37.8650000000'}, 'GBPAUD': {'b': '2.0550400000', 'o': '2.0549200000'}, 'BTCUSD': {'b': '118073.6700000000', 'o': '118073.6700000000'}, 'USDJPY': {'b': '148.6550...
2025-07-16 00:10:54,378 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:10:54,539 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:54,541 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:55,544 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:55,549 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:56,555 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:56,560 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:56,719 - DEBUG - app.firebase_stream - Firebase listener triggered (77). Event Type: patch, Path: /. Timestamp: 1752649856.7198353
2025-07-16 00:10:56,720 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0249000000', 'o': '13.0223100000'}, 'NZDJPY': {'b': '88.4260000000', 'o': '88.4240000000'}, 'GBPAUD': {'b': '2.0548600000', 'o': '2.0549200000'}, 'USDJPY': {'b': '148.6540000000',
2025-07-16 00:10:56,730 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0249000000', 'o': '13.0223100000'}, 'NZDJPY': {'b': '88.4260000000', 'o': '88.4240000000'}, 'GBPAUD': {'b': '2.0548600000', 'o': '2.0549200000'}, 'USDJPY': {'b': '148.6540000000',...
2025-07-16 00:10:56,730 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:10:57,563 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:57,568 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:58,582 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:58,586 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:10:58,974 - DEBUG - app.firebase_stream - Firebase listener triggered (78). Event Type: patch, Path: /. Timestamp: 1752649858.9744966
2025-07-16 00:10:58,975 - DEBUG - app.firebase_stream - Prepared batch update for 30 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0250000000', 'o': '13.0224000000'}, 'XAGUSD': {'b': '37.8740000000', 'o': '37.8690000000'}, 'NZDJPY': {'b': '88.4310000000', 'o': '88.4240000000'}, 'GBPAUD': {'b': '2.0548300000',
2025-07-16 00:10:58,976 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0250000000', 'o': '13.0224000000'}, 'XAGUSD': {'b': '37.8740000000', 'o': '37.8690000000'}, 'NZDJPY': {'b': '88.4310000000', 'o': '88.4240000000'}, 'GBPAUD': {'b': '2.0548300000',...
2025-07-16 00:10:58,976 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:10:59,593 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:10:59,598 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:00,603 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:00,605 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:01,228 - DEBUG - app.firebase_stream - Firebase listener triggered (79). Event Type: patch, Path: /. Timestamp: 1752649861.2279146
2025-07-16 00:11:01,228 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.8700000000', 'o': '37.8650000000'}, 'NZDJPY': {'b': '88.4330000000', 'o': '88.4240000000'}, 'GBPAUD': {'b': '2.0549800000', 'o': '2.0548200000'}, 'BTCUSD': {'b': '118071.700000000
2025-07-16 00:11:01,228 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.8700000000', 'o': '37.8650000000'}, 'NZDJPY': {'b': '88.4330000000', 'o': '88.4240000000'}, 'GBPAUD': {'b': '2.0549800000', 'o': '2.0548200000'}, 'BTCUSD': {'b': '118071.700000000...
2025-07-16 00:11:01,228 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:11:01,607 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:01,609 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:02,138 - WARNING - app - User 4 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:11:02,141 - WARNING - app - No user data found for user 5 (live). Skipping portfolio update.
2025-07-16 00:11:02,146 - WARNING - app - No group settings found for group string. Skipping portfolio update for user 8.
2025-07-16 00:11:02,164 - WARNING - app - User 9 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:11:02,182 - WARNING - app - User 10 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:11:02,213 - WARNING - app - User 11 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:11:02,244 - WARNING - app - User 12 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:11:02,269 - WARNING - app - User 13 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:11:02,633 - DEBUG - app.services.portfolio_calculator - Position calculation for BTCUSD: Type=BUY, Entry=118908.50000000, Current=118021.6, Quantity=0.40000000, Contract Size=1.00000000, PnL=-354.760000000000000000000000, PnL USD=-354.760000000000000000000000, Commission=235.57000000, Final PnL=-590.330000000000000000000000
2025-07-16 00:11:02,633 - WARNING - app.services.portfolio_calculator - MARGIN CALL ALERT: User has margin level 98.82157294117522204286868031% which is below threshold 100.0%
2025-07-16 00:11:02,634 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:02,635 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:02,654 - WARNING - app - User 16 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:11:02,690 - WARNING - app - User 17 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:11:02,719 - WARNING - app - User 18 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:11:02,744 - WARNING - app - User 19 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:11:02,769 - WARNING - app - User 20 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:11:02,792 - WARNING - app - User 21 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:11:02,818 - WARNING - app - User 22 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:11:02,843 - WARNING - app - User 23 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:11:02,870 - WARNING - app - User 24 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:11:02,898 - WARNING - app - User 25 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:11:03,357 - DEBUG - app.services.portfolio_calculator - Position calculation for XAGUSD: Type=BUY, Entry=41.09800000, Current=37.8525, Quantity=0.01000000, Contract Size=5000.00000000, PnL=-162.275000000000000000000000, PnL USD=-162.275000000000000000000000, Commission=0.10000000, Final PnL=-162.375000000000000000000000
2025-07-16 00:11:03,357 - DEBUG - app.services.portfolio_calculator - Position calculation for BTCUSD: Type=BUY, Entry=132091.90000000, Current=118021.6, Quantity=6.00000000, Contract Size=1.00000000, PnL=-84421.80000000000000000000000, PnL USD=-84421.80000000000000000000000, Commission=3661.62000000, Final PnL=-88083.42000000000000000000000
2025-07-16 00:11:03,358 - WARNING - app.services.portfolio_calculator - MARGIN CALL ALERT: User has margin level 65.60423436013387630784341849% which is below threshold 100.0%
2025-07-16 00:11:03,580 - DEBUG - app.firebase_stream - Firebase listener triggered (80). Event Type: patch, Path: /. Timestamp: 1752649863.5805779
2025-07-16 00:11:03,581 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0251000000', 'o': '13.0225000000'}, 'XAGUSD': {'b': '37.8710000000', 'o': '37.8660000000'}, 'NZDJPY': {'b': '88.4200000000', 'o': '88.4200000000'}, 'GBPAUD': {'b': '2.0549800000',
2025-07-16 00:11:03,581 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0251000000', 'o': '13.0225000000'}, 'XAGUSD': {'b': '37.8710000000', 'o': '37.8660000000'}, 'NZDJPY': {'b': '88.4200000000', 'o': '88.4200000000'}, 'GBPAUD': {'b': '2.0549800000',...
2025-07-16 00:11:03,581 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:11:03,762 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:03,764 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=96.66800000, Current=96.952, Quantity=0.01000000, Contract Size=100000.00000000, PnL=284.000000000000000000000000, PnL USD=1.910579497598320842807744574, Commission=0.10000000, Final PnL=1.810579497598320842807744574
2025-07-16 00:11:03,769 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=96.56000000, Current=97.05799999999999, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-497.9999999999900000000000000, PnL USD=-3.350241513394171387053805686, Commission=0.10000000, Final PnL=-3.450241513394171387053805686
2025-07-16 00:11:03,772 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:03,786 - WARNING - app - User 2 has no group_name set. Skipping portfolio update.
2025-07-16 00:11:03,842 - WARNING - app - No group settings found for group string. Skipping portfolio update for user 3.
2025-07-16 00:11:03,874 - WARNING - app - User 4 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:11:03,875 - WARNING - app - User 5 has no group_name set. Skipping portfolio update.
2025-07-16 00:11:03,876 - WARNING - app - User 6 has no group_name set. Skipping portfolio update.
2025-07-16 00:11:04,375 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64743000, Current=0.6523800000000001, Quantity=0.10000000, Contract Size=100000.00000000, PnL=49.50000000000100000000000000, PnL USD=49.50000000000100000000000000, Commission=1.00000000, Final PnL=48.50000000000100000000000000
2025-07-16 00:11:04,375 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=SELL, Entry=0.64707000, Current=0.65268, Quantity=0.22000000, Contract Size=100000.00000000, PnL=-123.420000000000000000000000, PnL USD=-123.420000000000000000000000, Commission=2.20000000, Final PnL=-125.620000000000000000000000
2025-07-16 00:11:04,376 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFSGD: Type=BUY, Entry=1.57561500, Current=1.6039750000000002, Quantity=0.10000000, Contract Size=100000.00000000, PnL=283.6000000000020000000000000, PnL USD=220.8499139495238021072632833, Commission=1.00000000, Final PnL=219.8499139495238021072632833
2025-07-16 00:11:04,378 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFSGD: Type=SELL, Entry=1.57505500, Current=1.604425, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-293.700000000000000000000000, PnL USD=-228.7151612375694049667868518, Commission=1.00000000, Final PnL=-229.7151612375694049667868518
2025-07-16 00:11:04,379 - DEBUG - app.services.portfolio_calculator - Position calculation for CADJPY: Type=SELL, Entry=106.24150000, Current=108.4295, Quantity=0.15000000, Contract Size=100000.00000000, PnL=-32820.00000000000000000000000, PnL USD=-220.7930250393552466934865385, Commission=0E-8, Final PnL=-220.7930250393552466934865385
2025-07-16 00:11:04,380 - DEBUG - app.services.portfolio_calculator - Position calculation for CADJPY: Type=BUY, Entry=106.27050000, Current=108.3965, Quantity=0.15000000, Contract Size=100000.00000000, PnL=31890.00000000000000000000000, PnL USD=214.5365499239804636518977975, Commission=0E-8, Final PnL=214.5365499239804636518977975
2025-07-16 00:11:04,380 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=BUY, Entry=1.77481000, Current=1.7814999999999999, Quantity=0.22000000, Contract Size=100000.00000000, PnL=147.1799999999978000000000000, PnL USD=96.04378079999856436800000000, Commission=2.20000000, Final PnL=93.84378079999856436800000000
2025-07-16 00:11:04,380 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=SELL, Entry=1.77439000, Current=1.78191, Quantity=0.21000000, Contract Size=100000.00000000, PnL=-157.920000000000000000000000, PnL USD=-103.0522752000000000000000000, Commission=2.10000000, Final PnL=-105.1522752000000000000000000
2025-07-16 00:11:04,381 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFJPY: Type=BUY, Entry=178.15500000, Current=185.685, Quantity=0.10000000, Contract Size=100000.00000000, PnL=75300.00000000000000000000000, PnL USD=506.5726625674421107867012903, Commission=1.00000000, Final PnL=505.5726625674421107867012903
2025-07-16 00:11:04,382 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFJPY: Type=SELL, Entry=178.09500000, Current=185.725, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-76300.00000000000000000000000, PnL USD=-513.3000551646192968529257430, Commission=1.00000000, Final PnL=-514.3000551646192968529257430
2025-07-16 00:11:04,382 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=BUY, Entry=1.77480000, Current=1.7814999999999999, Quantity=0.05000000, Contract Size=100000.00000000, PnL=33.49999999999950000000000000, PnL USD=21.86075999999967372000000000, Commission=0.50000000, Final PnL=21.36075999999967372000000000
2025-07-16 00:11:04,382 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=SELL, Entry=1.77442000, Current=1.78191, Quantity=0.05000000, Contract Size=100000.00000000, PnL=-37.450000000000000000000000, PnL USD=-24.43837200000000000000000000, Commission=0.50000000, Final PnL=-24.93837200000000000000000000
2025-07-16 00:11:04,382 - DEBUG - app.services.portfolio_calculator - Position calculation for EURGBP: Type=SELL, Entry=0.85403000, Current=0.86726, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-132.300000000000000000000000, PnL USD=-177.4023930000000000000000000, Commission=1.00000000, Final PnL=-178.4023930000000000000000000
2025-07-16 00:11:04,383 - DEBUG - app.services.portfolio_calculator - Position calculation for EURJPY: Type=BUY, Entry=167.26050000, Current=172.8205, Quantity=0.10000000, Contract Size=100000.00000000, PnL=55600.00000000000000000000000, PnL USD=374.0430284030515452820795716, Commission=1.00000000, Final PnL=373.0430284030515452820795716
2025-07-16 00:11:04,383 - DEBUG - app.services.portfolio_calculator - Position calculation for EURJPY: Type=SELL, Entry=167.23150000, Current=172.84949999999998, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-56179.99999999980000000000000, PnL USD=-377.9449161094129677219703187, Commission=1.00000000, Final PnL=-378.9449161094129677219703187
2025-07-16 00:11:04,383 - DEBUG - app.services.portfolio_calculator - Position calculation for EURNZD: Type=SELL, Entry=1.91952500, Current=1.954775, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-352.500000000000000000000000, PnL USD=-209.6811000000000000000000000, Commission=1.00000000, Final PnL=-210.6811000000000000000000000
2025-07-16 00:11:04,384 - DEBUG - app.services.portfolio_calculator - Position calculation for EURNZD: Type=BUY, Entry=1.92063500, Current=1.954315, Quantity=0.10000000, Contract Size=100000.00000000, PnL=336.800000000000000000000000, PnL USD=200.3421120000000000000000000, Commission=1.00000000, Final PnL=199.3421120000000000000000000
2025-07-16 00:11:04,384 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=SELL, Entry=1.34376000, Current=1.34101, Quantity=0.25000000, Contract Size=0E-8, PnL=0E-24, PnL USD=0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:11:04,384 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=SELL, Entry=1.34361000, Current=1.34101, Quantity=0.25000000, Contract Size=0E-8, PnL=0E-24, PnL USD=0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:11:04,384 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=BUY, Entry=1.34379000, Current=1.3408, Quantity=0.25000000, Contract Size=0E-8, PnL=-0E-24, PnL USD=-0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:11:04,384 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=BUY, Entry=1.34378000, Current=1.3408, Quantity=0.25000000, Contract Size=0E-8, PnL=-0E-24, PnL USD=-0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:11:04,385 - DEBUG - app.services.portfolio_calculator - Position calculation for NZDJPY: Type=BUY, Entry=87.10150000, Current=88.4115, Quantity=0.01000000, Contract Size=100000.00000000, PnL=1310.000000000000000000000000, PnL USD=8.812884302302113746754033072, Commission=0.10000000, Final PnL=8.712884302302113746754033072
2025-07-16 00:11:04,386 - DEBUG - app.services.portfolio_calculator - Position calculation for USDCHF: Type=SELL, Entry=0.81771000, Current=0.8006099999999999, Quantity=0.15000000, Contract Size=100000.00000000, PnL=256.5000000000015000000000000, PnL USD=320.4327403557884019588247052, Commission=1.50000000, Final PnL=318.9327403557884019588247052
2025-07-16 00:11:04,386 - DEBUG - app.services.portfolio_calculator - Position calculation for USDCHF: Type=BUY, Entry=0.81805000, Current=0.80028, Quantity=0.15000000, Contract Size=100000.00000000, PnL=-266.550000000000000000000000, PnL USD=-332.9877073755746552068758745, Commission=1.50000000, Final PnL=-334.4877073755746552068758745
2025-07-16 00:11:04,387 - DEBUG - app.services.portfolio_calculator - Position calculation for USDNOK: Type=BUY, Entry=10.04973000, Current=10.24816, Quantity=0.10000000, Contract Size=100000.00000000, PnL=1984.300000000000000000000000, PnL USD=193.5794789948266291533056211, Commission=1.00000000, Final PnL=192.5794789948266291533056211
2025-07-16 00:11:04,388 - DEBUG - app.services.portfolio_calculator - Position calculation for USDNOK: Type=BUY, Entry=10.05023000, Current=10.24816, Quantity=0.10000000, Contract Size=100000.00000000, PnL=1979.300000000000000000000000, PnL USD=193.0917012419797142988146025, Commission=1.00000000, Final PnL=192.0917012419797142988146025
2025-07-16 00:11:04,389 - DEBUG - app.services.portfolio_calculator - Position calculation for USDSGD: Type=SELL, Entry=1.28795000, Current=1.28428, Quantity=0.31000000, Contract Size=100000.00000000, PnL=113.770000000000000000000000, PnL USD=88.59694890704212190354559118, Commission=3.10000000, Final PnL=85.49694890704212190354559118
2025-07-16 00:11:04,390 - DEBUG - app.services.portfolio_calculator - Position calculation for USDTRY: Type=SELL, Entry=39.56087000, Current=40.252159999999996, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-6912.899999999960000000000000, PnL USD=-171.7404919654934002053562046, Commission=1.00000000, Final PnL=-172.7404919654934002053562046
2025-07-16 00:11:04,805 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:04,806 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:05,199 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.89752000, Current=0.89477, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-2.750000000000000000000000, PnL USD=-2.005469462169553327256153145, Commission=0.10000000, Final PnL=-2.105469462169553327256153145
2025-07-16 00:11:05,234 - WARNING - app - User 12 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:11:05,263 - WARNING - app - User 13 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:11:05,853 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:05,859 - DEBUG - app.firebase_stream - Firebase listener triggered (81). Event Type: patch, Path: /. Timestamp: 1752649865.8592792
2025-07-16 00:11:05,861 - DEBUG - app.firebase_stream - Prepared batch update for 38 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0256000000', 'o': '13.0230000000'}, 'NZDJPY': {'b': '88.4170000000', 'o': '88.4100000000'}, 'GBPAUD': {'b': '2.0551200000', 'o': '2.0549600000'}, 'BTCUSD': {'b': '118055.530000000
2025-07-16 00:11:05,862 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0256000000', 'o': '13.0230000000'}, 'NZDJPY': {'b': '88.4170000000', 'o': '88.4100000000'}, 'GBPAUD': {'b': '2.0551200000', 'o': '2.0549600000'}, 'BTCUSD': {'b': '118055.530000000...
2025-07-16 00:11:05,862 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:11:05,863 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:06,894 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:06,898 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:07,912 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:07,916 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:08,176 - DEBUG - app.firebase_stream - Firebase listener triggered (82). Event Type: patch, Path: /. Timestamp: 1752649868.1768386
2025-07-16 00:11:08,178 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.8730000000', 'o': '37.8680000000'}, 'GBPAUD': {'b': '2.0551200000', 'o': '2.0549500000'}, 'BTCUSD': {'b': '118036.0000000000', 'o': '118035.9000000000'}, 'USDJPY': {'b': '148.6530
2025-07-16 00:11:08,178 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.8730000000', 'o': '37.8680000000'}, 'GBPAUD': {'b': '2.0551200000', 'o': '2.0549500000'}, 'BTCUSD': {'b': '118036.0000000000', 'o': '118035.9000000000'}, 'USDJPY': {'b': '148.6530...
2025-07-16 00:11:08,178 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:11:08,930 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:08,933 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:09,942 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:09,947 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:10,446 - DEBUG - app.firebase_stream - Firebase listener triggered (83). Event Type: patch, Path: /. Timestamp: 1752649870.4462535
2025-07-16 00:11:10,446 - DEBUG - app.firebase_stream - Prepared batch update for 27 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4300000000', 'o': '88.4220000000'}, 'USDJPY': {'b': '148.6570000000', 'o': '148.6520000000'}, 'USDCNH': {'b': '7.1807200000', 'o': '7.1806800000'}, 'CADCHF': {'b': '0.5837900000',
2025-07-16 00:11:10,448 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4300000000', 'o': '88.4220000000'}, 'USDJPY': {'b': '148.6570000000', 'o': '148.6520000000'}, 'USDCNH': {'b': '7.1807200000', 'o': '7.1806800000'}, 'CADCHF': {'b': '0.5837900000',...
2025-07-16 00:11:10,455 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:11:10,958 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:10,963 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:11,975 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:11,978 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:12,710 - DEBUG - app.firebase_stream - Firebase listener triggered (84). Event Type: patch, Path: /. Timestamp: 1752649872.7106616
2025-07-16 00:11:12,711 - DEBUG - app.firebase_stream - Prepared batch update for 27 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0259000000', 'o': '13.0233000000'}, 'NZDJPY': {'b': '88.4240000000', 'o': '88.4160000000'}, 'GBPAUD': {'b': '2.0551200000', 'o': '2.0549700000'}, 'USDJPY': {'b': '148.6580000000',
2025-07-16 00:11:12,712 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0259000000', 'o': '13.0233000000'}, 'NZDJPY': {'b': '88.4240000000', 'o': '88.4160000000'}, 'GBPAUD': {'b': '2.0551200000', 'o': '2.0549700000'}, 'USDJPY': {'b': '148.6580000000',...
2025-07-16 00:11:12,717 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:11:12,989 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:12,994 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:13,996 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:14,001 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:15,015 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:15,021 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:15,053 - DEBUG - app.firebase_stream - Firebase listener triggered (85). Event Type: patch, Path: /. Timestamp: 1752649875.0537539
2025-07-16 00:11:15,054 - DEBUG - app.firebase_stream - Prepared batch update for 24 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0247000000', 'o': '13.0221000000'}, 'NZDJPY': {'b': '88.4240000000', 'o': '88.4180000000'}, 'BTCUSD': {'b': '118041.5000000000', 'o': '118041.4000000000'}, 'USDCNH': {'b': '7.1805
2025-07-16 00:11:15,055 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0247000000', 'o': '13.0221000000'}, 'NZDJPY': {'b': '88.4240000000', 'o': '88.4180000000'}, 'BTCUSD': {'b': '118041.5000000000', 'o': '118041.4000000000'}, 'USDCNH': {'b': '7.1805...
2025-07-16 00:11:15,059 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:11:16,027 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:16,032 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:17,034 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:17,039 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:17,415 - DEBUG - app.firebase_stream - Firebase listener triggered (86). Event Type: patch, Path: /. Timestamp: 1752649877.4157736
2025-07-16 00:11:17,416 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0254000000', 'o': '13.0228000000'}, 'XAGUSD': {'b': '37.8730000000', 'o': '37.8690000000'}, 'NZDJPY': {'b': '88.4240000000', 'o': '88.4200000000'}, 'GBPAUD': {'b': '2.0549800000',
2025-07-16 00:11:17,417 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0254000000', 'o': '13.0228000000'}, 'XAGUSD': {'b': '37.8730000000', 'o': '37.8690000000'}, 'NZDJPY': {'b': '88.4240000000', 'o': '88.4200000000'}, 'GBPAUD': {'b': '2.0549800000',...
2025-07-16 00:11:17,422 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:11:18,042 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:18,047 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:19,058 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:19,062 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:19,667 - DEBUG - app.firebase_stream - Firebase listener triggered (87). Event Type: patch, Path: /. Timestamp: 1752649879.6669502
2025-07-16 00:11:19,667 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0247000000', 'o': '13.0223300000'}, 'XAGUSD': {'b': '37.8720000000', 'o': '37.8660000000'}, 'NZDJPY': {'b': '88.4280000000', 'o': '88.4210000000'}, 'GBPAUD': {'b': '2.0550200000',
2025-07-16 00:11:19,668 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0247000000', 'o': '13.0223300000'}, 'XAGUSD': {'b': '37.8720000000', 'o': '37.8660000000'}, 'NZDJPY': {'b': '88.4280000000', 'o': '88.4210000000'}, 'GBPAUD': {'b': '2.0550200000',...
2025-07-16 00:11:19,668 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:11:20,070 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:20,074 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:21,091 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:21,096 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:21,950 - DEBUG - app.firebase_stream - Firebase listener triggered (88). Event Type: patch, Path: /. Timestamp: 1752649881.9508898
2025-07-16 00:11:21,951 - DEBUG - app.firebase_stream - Prepared batch update for 35 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0255000000', 'o': '13.0229000000'}, 'XAGUSD': {'b': '37.8710000000', 'o': '37.8670000000'}, 'NZDJPY': {'b': '88.4240000000', 'o': '88.4170000000'}, 'GBPAUD': {'b': '2.0550100000',
2025-07-16 00:11:21,952 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0255000000', 'o': '13.0229000000'}, 'XAGUSD': {'b': '37.8710000000', 'o': '37.8670000000'}, 'NZDJPY': {'b': '88.4240000000', 'o': '88.4170000000'}, 'GBPAUD': {'b': '2.0550100000',...
2025-07-16 00:11:21,954 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:11:22,098 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:22,102 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:23,112 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:23,115 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:24,124 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:24,127 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:24,271 - DEBUG - app.firebase_stream - Firebase listener triggered (89). Event Type: patch, Path: /. Timestamp: 1752649884.2715712
2025-07-16 00:11:24,272 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0264000000', 'o': '13.0239000000'}, 'XAGUSD': {'b': '37.8720000000', 'o': '37.8660000000'}, 'NZDJPY': {'b': '88.4280000000', 'o': '88.4190000000'}, 'USDJPY': {'b': '148.6570000000
2025-07-16 00:11:24,273 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0264000000', 'o': '13.0239000000'}, 'XAGUSD': {'b': '37.8720000000', 'o': '37.8660000000'}, 'NZDJPY': {'b': '88.4280000000', 'o': '88.4190000000'}, 'USDJPY': {'b': '148.6570000000...
2025-07-16 00:11:24,282 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:11:25,141 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:25,145 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:26,159 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:26,163 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:26,620 - DEBUG - app.firebase_stream - Firebase listener triggered (90). Event Type: patch, Path: /. Timestamp: 1752649886.6202526
2025-07-16 00:11:26,620 - DEBUG - app.firebase_stream - Prepared batch update for 25 symbols from root path for queue. Preview: {'GBPAUD': {'b': '2.0549500000', 'o': '2.0549100000'}, 'BTCUSD': {'b': '118037.4000000000', 'o': '118035.9000000000'}, 'USDJPY': {'b': '148.6570000000', 'o': '148.6520000000'}, 'EURZAR': {'b': '20.810
2025-07-16 00:11:26,621 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPAUD': {'b': '2.0549500000', 'o': '2.0549100000'}, 'BTCUSD': {'b': '118037.4000000000', 'o': '118035.9000000000'}, 'USDJPY': {'b': '148.6570000000', 'o': '148.6520000000'}, 'EURZAR': {'b': '20.810...
2025-07-16 00:11:26,622 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:11:27,180 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:27,183 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:28,193 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:28,197 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:28,861 - DEBUG - app.firebase_stream - Firebase listener triggered (91). Event Type: patch, Path: /. Timestamp: 1752649888.8614423
2025-07-16 00:11:28,861 - DEBUG - app.firebase_stream - Prepared batch update for 26 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.8760000000', 'o': '37.8720000000'}, 'NZDJPY': {'b': '88.4280000000', 'o': '88.4200000000'}, 'GBPAUD': {'b': '2.0549600000', 'o': '2.0548900000'}, 'BTCUSD': {'b': '118037.400000000
2025-07-16 00:11:28,862 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.8760000000', 'o': '37.8720000000'}, 'NZDJPY': {'b': '88.4280000000', 'o': '88.4200000000'}, 'GBPAUD': {'b': '2.0549600000', 'o': '2.0548900000'}, 'BTCUSD': {'b': '118037.400000000...
2025-07-16 00:11:28,862 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:11:29,214 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:29,218 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:30,228 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:30,232 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:31,238 - DEBUG - app.firebase_stream - Firebase listener triggered (92). Event Type: patch, Path: /. Timestamp: 1752649891.238226
2025-07-16 00:11:31,238 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:31,239 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0251000000', 'o': '13.0225000000'}, 'XAGUSD': {'b': '37.8740000000', 'o': '37.8690000000'}, 'NZDJPY': {'b': '88.4290000000', 'o': '88.4210000000'}, 'GBPAUD': {'b': '2.0548400000',
2025-07-16 00:11:31,242 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:31,248 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0251000000', 'o': '13.0225000000'}, 'XAGUSD': {'b': '37.8740000000', 'o': '37.8690000000'}, 'NZDJPY': {'b': '88.4290000000', 'o': '88.4210000000'}, 'GBPAUD': {'b': '2.0548400000',...
2025-07-16 00:11:31,248 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:11:32,274 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:32,278 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:33,292 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:33,297 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:33,456 - DEBUG - app.firebase_stream - Firebase listener triggered (93). Event Type: patch, Path: /. Timestamp: 1752649893.456089
2025-07-16 00:11:33,456 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.8720000000', 'o': '37.8690000000'}, 'NZDJPY': {'b': '88.4280000000', 'o': '88.4210000000'}, 'GBPAUD': {'b': '2.0548400000', 'o': '2.0547000000'}, 'BTCUSD': {'b': '118071.700000000
2025-07-16 00:11:33,457 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.8720000000', 'o': '37.8690000000'}, 'NZDJPY': {'b': '88.4280000000', 'o': '88.4210000000'}, 'GBPAUD': {'b': '2.0548400000', 'o': '2.0547000000'}, 'BTCUSD': {'b': '118071.700000000...
2025-07-16 00:11:33,458 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:11:34,300 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:34,304 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:35,319 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:35,325 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:35,799 - DEBUG - app.firebase_stream - Firebase listener triggered (94). Event Type: patch, Path: /. Timestamp: 1752649895.799687
2025-07-16 00:11:35,800 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0252000000', 'o': '13.0226000000'}, 'NZDJPY': {'b': '88.4270000000', 'o': '88.4200000000'}, 'GBPAUD': {'b': '2.0548500000', 'o': '2.0547800000'}, 'BTCUSD': {'b': '118041.400000000
2025-07-16 00:11:35,801 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0252000000', 'o': '13.0226000000'}, 'NZDJPY': {'b': '88.4270000000', 'o': '88.4200000000'}, 'GBPAUD': {'b': '2.0548500000', 'o': '2.0547800000'}, 'BTCUSD': {'b': '118041.400000000...
2025-07-16 00:11:35,803 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:11:36,332 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:36,336 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:37,345 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:37,349 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:38,079 - DEBUG - app.firebase_stream - Firebase listener triggered (95). Event Type: patch, Path: /. Timestamp: 1752649898.079835
2025-07-16 00:11:38,080 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.8750000000', 'o': '37.8710000000'}, 'NZDJPY': {'b': '88.4280000000', 'o': '88.4200000000'}, 'GBPAUD': {'b': '2.0549800000', 'o': '2.0549600000'}, 'BTCUSD': {'b': '118045.990000000
2025-07-16 00:11:38,080 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.8750000000', 'o': '37.8710000000'}, 'NZDJPY': {'b': '88.4280000000', 'o': '88.4200000000'}, 'GBPAUD': {'b': '2.0549800000', 'o': '2.0549600000'}, 'BTCUSD': {'b': '118045.990000000...
2025-07-16 00:11:38,089 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:11:38,351 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:38,356 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:39,372 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:39,375 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:40,355 - DEBUG - app.firebase_stream - Firebase listener triggered (96). Event Type: patch, Path: /. Timestamp: 1752649900.3556545
2025-07-16 00:11:40,356 - DEBUG - app.firebase_stream - Prepared batch update for 27 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.8730000000', 'o': '37.8690000000'}, 'NZDJPY': {'b': '88.4290000000', 'o': '88.4220000000'}, 'GBPAUD': {'b': '2.0548600000', 'o': '2.0547600000'}, 'BTCUSD': {'b': '118048.000000000
2025-07-16 00:11:40,357 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.8730000000', 'o': '37.8690000000'}, 'NZDJPY': {'b': '88.4290000000', 'o': '88.4220000000'}, 'GBPAUD': {'b': '2.0548600000', 'o': '2.0547600000'}, 'BTCUSD': {'b': '118048.000000000...
2025-07-16 00:11:40,361 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:11:40,383 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:40,397 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:41,412 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:41,415 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:42,423 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:42,427 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:42,962 - DEBUG - app.firebase_stream - Firebase listener triggered (97). Event Type: patch, Path: /. Timestamp: 1752649902.9624975
2025-07-16 00:11:42,962 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0254000000', 'o': '13.0228000000'}, 'XAGUSD': {'b': '37.8870000000', 'o': '37.8850000000'}, 'NZDJPY': {'b': '88.4330000000', 'o': '88.4240000000'}, 'GBPAUD': {'b': '2.0548700000',
2025-07-16 00:11:42,963 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0254000000', 'o': '13.0228000000'}, 'XAGUSD': {'b': '37.8870000000', 'o': '37.8850000000'}, 'NZDJPY': {'b': '88.4330000000', 'o': '88.4240000000'}, 'GBPAUD': {'b': '2.0548700000',...
2025-07-16 00:11:42,963 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:11:43,430 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:43,432 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:44,438 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:44,442 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:45,273 - DEBUG - app.firebase_stream - Firebase listener triggered (98). Event Type: patch, Path: /. Timestamp: 1752649905.2734861
2025-07-16 00:11:45,274 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0256000000', 'o': '13.0230000000'}, 'XAGUSD': {'b': '37.8850000000', 'o': '37.8800000000'}, 'NZDJPY': {'b': '88.4290000000', 'o': '88.4220000000'}, 'GBPAUD': {'b': '2.0548800000',
2025-07-16 00:11:45,275 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0256000000', 'o': '13.0230000000'}, 'XAGUSD': {'b': '37.8850000000', 'o': '37.8800000000'}, 'NZDJPY': {'b': '88.4290000000', 'o': '88.4220000000'}, 'GBPAUD': {'b': '2.0548800000',...
2025-07-16 00:11:45,278 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:11:45,445 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:45,448 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:46,451 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:46,454 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:47,464 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:47,466 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:47,570 - DEBUG - app.firebase_stream - Firebase listener triggered (99). Event Type: patch, Path: /. Timestamp: 1752649907.5707061
2025-07-16 00:11:47,571 - DEBUG - app.firebase_stream - Prepared batch update for 24 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0255000000', 'o': '13.0229000000'}, 'NZDJPY': {'b': '88.4300000000', 'o': '88.4220000000'}, 'GBPAUD': {'b': '2.0548800000', 'o': '2.0547400000'}, 'BTCUSD': {'b': '118058.000000000
2025-07-16 00:11:47,571 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0255000000', 'o': '13.0229000000'}, 'NZDJPY': {'b': '88.4300000000', 'o': '88.4220000000'}, 'GBPAUD': {'b': '2.0548800000', 'o': '2.0547400000'}, 'BTCUSD': {'b': '118058.000000000...
2025-07-16 00:11:47,571 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:11:48,482 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:48,487 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:49,502 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:49,506 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:49,873 - DEBUG - app.firebase_stream - Firebase listener triggered (100). Event Type: patch, Path: /. Timestamp: 1752649909.873826
2025-07-16 00:11:49,874 - DEBUG - app.firebase_stream - Prepared batch update for 30 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.8850000000', 'o': '37.8810000000'}, 'NZDJPY': {'b': '88.4310000000', 'o': '88.4230000000'}, 'USDJPY': {'b': '148.6550000000', 'o': '148.6520000000'}, 'CADCHF': {'b': '0.5838000000
2025-07-16 00:11:49,875 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'XAGUSD': {'b': '37.8850000000', 'o': '37.8810000000'}, 'NZDJPY': {'b': '88.4310000000', 'o': '88.4230000000'}, 'USDJPY': {'b': '148.6550000000', 'o': '148.6520000000'}, 'CADCHF': {'b': '0.5838000000...
2025-07-16 00:11:49,877 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:11:50,524 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:50,528 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:51,535 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:51,538 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:52,162 - DEBUG - app.firebase_stream - Firebase listener triggered (101). Event Type: patch, Path: /. Timestamp: 1752649912.162377
2025-07-16 00:11:52,162 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4280000000', 'o': '88.4220000000'}, 'GBPAUD': {'b': '2.0548600000', 'o': '2.0547400000'}, 'USDJPY': {'b': '148.6540000000', 'o': '148.6510000000'}, 'USDCNH': {'b': '7.1807500000',
2025-07-16 00:11:52,163 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'NZDJPY': {'b': '88.4280000000', 'o': '88.4220000000'}, 'GBPAUD': {'b': '2.0548600000', 'o': '2.0547400000'}, 'USDJPY': {'b': '148.6540000000', 'o': '148.6510000000'}, 'USDCNH': {'b': '7.1807500000',...
2025-07-16 00:11:52,163 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:11:52,547 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:52,550 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:53,554 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:53,558 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:54,476 - DEBUG - app.firebase_stream - Firebase listener triggered (102). Event Type: patch, Path: /. Timestamp: 1752649914.4761891
2025-07-16 00:11:54,476 - DEBUG - app.firebase_stream - Prepared batch update for 34 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0253000000', 'o': '13.0227000000'}, 'XAGUSD': {'b': '37.8890000000', 'o': '37.8840000000'}, 'NZDJPY': {'b': '88.4310000000', 'o': '88.4220000000'}, 'GBPAUD': {'b': '2.0548600000',
2025-07-16 00:11:54,477 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0253000000', 'o': '13.0227000000'}, 'XAGUSD': {'b': '37.8890000000', 'o': '37.8840000000'}, 'NZDJPY': {'b': '88.4310000000', 'o': '88.4220000000'}, 'GBPAUD': {'b': '2.0548600000',...
2025-07-16 00:11:54,483 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:11:54,562 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:54,565 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:55,576 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:55,579 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:56,595 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:56,599 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:56,829 - DEBUG - app.firebase_stream - Firebase listener triggered (103). Event Type: patch, Path: /. Timestamp: 1752649916.8295667
2025-07-16 00:11:56,830 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0254000000', 'o': '13.0228000000'}, 'XAGUSD': {'b': '37.8910000000', 'o': '37.8860000000'}, 'NZDJPY': {'b': '88.4310000000', 'o': '88.4240000000'}, 'GBPAUD': {'b': '2.0548800000',
2025-07-16 00:11:56,831 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0254000000', 'o': '13.0228000000'}, 'XAGUSD': {'b': '37.8910000000', 'o': '37.8860000000'}, 'NZDJPY': {'b': '88.4310000000', 'o': '88.4240000000'}, 'GBPAUD': {'b': '2.0548800000',...
2025-07-16 00:11:56,836 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:11:57,601 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:57,605 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:58,611 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:58,615 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:11:59,072 - DEBUG - app.firebase_stream - Firebase listener triggered (104). Event Type: patch, Path: /. Timestamp: 1752649919.0727584
2025-07-16 00:11:59,073 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0256000000', 'o': '13.0230000000'}, 'XAGUSD': {'b': '37.8900000000', 'o': '37.8840000000'}, 'GBPAUD': {'b': '2.0549100000', 'o': '2.0547700000'}, 'EURNZD': {'b': '1.9547000000', '
2025-07-16 00:11:59,074 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0256000000', 'o': '13.0230000000'}, 'XAGUSD': {'b': '37.8900000000', 'o': '37.8840000000'}, 'GBPAUD': {'b': '2.0549100000', 'o': '2.0547700000'}, 'EURNZD': {'b': '1.9547000000', '...
2025-07-16 00:11:59,078 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:11:59,632 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:11:59,637 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:00,654 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:00,658 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:01,436 - DEBUG - app.firebase_stream - Firebase listener triggered (105). Event Type: patch, Path: /. Timestamp: 1752649921.436047
2025-07-16 00:12:01,436 - DEBUG - app.firebase_stream - Prepared batch update for 26 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0254000000', 'o': '13.0228000000'}, 'NZDJPY': {'b': '88.4340000000', 'o': '88.4260000000'}, 'BTCUSD': {'b': '118061.8700000000', 'o': '118061.8700000000'}, 'USDJPY': {'b': '148.65
2025-07-16 00:12:01,438 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0254000000', 'o': '13.0228000000'}, 'NZDJPY': {'b': '88.4340000000', 'o': '88.4260000000'}, 'BTCUSD': {'b': '118061.8700000000', 'o': '118061.8700000000'}, 'USDJPY': {'b': '148.65...
2025-07-16 00:12:01,443 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:12:01,675 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:01,679 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:02,144 - WARNING - app - User 4 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:12:02,147 - WARNING - app - No user data found for user 5 (live). Skipping portfolio update.
2025-07-16 00:12:02,152 - WARNING - app - No group settings found for group string. Skipping portfolio update for user 8.
2025-07-16 00:12:02,173 - WARNING - app - User 9 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:12:02,189 - WARNING - app - User 10 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:12:02,205 - WARNING - app - User 11 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:12:02,230 - WARNING - app - User 12 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:12:02,248 - WARNING - app - User 13 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:12:02,644 - DEBUG - app.services.portfolio_calculator - Position calculation for BTCUSD: Type=BUY, Entry=118908.50000000, Current=118011.87, Quantity=0.40000000, Contract Size=1.00000000, PnL=-358.652000000000000000000000, PnL USD=-358.652000000000000000000000, Commission=235.57000000, Final PnL=-594.222000000000000000000000
2025-07-16 00:12:02,645 - WARNING - app.services.portfolio_calculator - MARGIN CALL ALERT: User has margin level 98.78026856335690399703695214% which is below threshold 100.0%
2025-07-16 00:12:02,676 - WARNING - app - User 16 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:12:02,681 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:02,686 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:02,706 - WARNING - app - User 17 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:12:02,728 - WARNING - app - User 18 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:12:02,747 - WARNING - app - User 19 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:12:02,765 - WARNING - app - User 20 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:12:02,780 - WARNING - app - User 21 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:12:02,792 - WARNING - app - User 22 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:12:02,805 - WARNING - app - User 23 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:12:02,825 - WARNING - app - User 24 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:12:02,840 - WARNING - app - User 25 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:12:03,257 - DEBUG - app.services.portfolio_calculator - Position calculation for XAGUSD: Type=BUY, Entry=41.09800000, Current=37.8715, Quantity=0.01000000, Contract Size=5000.00000000, PnL=-161.325000000000000000000000, PnL USD=-161.325000000000000000000000, Commission=0.10000000, Final PnL=-161.425000000000000000000000
2025-07-16 00:12:03,257 - DEBUG - app.services.portfolio_calculator - Position calculation for BTCUSD: Type=BUY, Entry=132091.90000000, Current=118011.87, Quantity=6.00000000, Contract Size=1.00000000, PnL=-84480.18000000000000000000000, PnL USD=-84480.18000000000000000000000, Commission=3661.62000000, Final PnL=-88141.80000000000000000000000
2025-07-16 00:12:03,257 - WARNING - app.services.portfolio_calculator - MARGIN CALL ALERT: User has margin level 65.56502883889329701640044163% which is below threshold 100.0%
2025-07-16 00:12:03,686 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=96.66800000, Current=96.94500000000001, Quantity=0.01000000, Contract Size=100000.00000000, PnL=277.0000000000100000000000000, PnL USD=1.863312256155051796044665680, Commission=0.10000000, Final PnL=1.763312256155051796044665680
2025-07-16 00:12:03,693 - DEBUG - app.firebase_stream - Firebase listener triggered (106). Event Type: patch, Path: /. Timestamp: 1752649923.693873
2025-07-16 00:12:03,694 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=96.56000000, Current=97.051, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-491.000000000000000000000000, PnL USD=-3.302838692318041167765370644, Commission=0.10000000, Final PnL=-3.402838692318041167765370644
2025-07-16 00:12:03,694 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:03,694 - DEBUG - app.firebase_stream - Prepared batch update for 30 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.8910000000', 'o': '37.8860000000'}, 'NZDJPY': {'b': '88.4350000000', 'o': '88.4270000000'}, 'BTCUSD': {'b': '118062.1000000000', 'o': '118062.0000000000'}, 'USDJPY': {'b': '148.66
2025-07-16 00:12:03,696 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.8910000000', 'o': '37.8860000000'}, 'NZDJPY': {'b': '88.4350000000', 'o': '88.4270000000'}, 'BTCUSD': {'b': '118062.1000000000', 'o': '118062.0000000000'}, 'USDJPY': {'b': '148.66...
2025-07-16 00:12:03,696 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:12:03,703 - WARNING - app - User 2 has no group_name set. Skipping portfolio update.
2025-07-16 00:12:03,706 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:03,764 - WARNING - app - No group settings found for group string. Skipping portfolio update for user 3.
2025-07-16 00:12:03,820 - WARNING - app - User 4 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:12:03,820 - WARNING - app - User 5 has no group_name set. Skipping portfolio update.
2025-07-16 00:12:03,821 - WARNING - app - User 6 has no group_name set. Skipping portfolio update.
2025-07-16 00:12:04,279 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64743000, Current=0.65239, Quantity=0.10000000, Contract Size=100000.00000000, PnL=49.600000000000000000000000, PnL USD=49.600000000000000000000000, Commission=1.00000000, Final PnL=48.600000000000000000000000
2025-07-16 00:12:04,279 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=SELL, Entry=0.64707000, Current=0.65269, Quantity=0.22000000, Contract Size=100000.00000000, PnL=-123.640000000000000000000000, PnL USD=-123.640000000000000000000000, Commission=2.20000000, Final PnL=-125.840000000000000000000000
2025-07-16 00:12:04,280 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFSGD: Type=BUY, Entry=1.57561500, Current=1.6040050000000001, Quantity=0.10000000, Contract Size=100000.00000000, PnL=283.9000000000010000000000000, PnL USD=221.0852568295805687941936891, Commission=1.00000000, Final PnL=220.0852568295805687941936891
2025-07-16 00:12:04,281 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFSGD: Type=SELL, Entry=1.57505500, Current=1.604425, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-293.700000000000000000000000, PnL USD=-228.7169423418372114755630315, Commission=1.00000000, Final PnL=-229.7169423418372114755630315
2025-07-16 00:12:04,281 - DEBUG - app.services.portfolio_calculator - Position calculation for CADJPY: Type=SELL, Entry=106.24150000, Current=108.4325, Quantity=0.15000000, Contract Size=100000.00000000, PnL=-32865.00000000000000000000000, PnL USD=-221.0749360957890488362706848, Commission=0E-8, Final PnL=-221.0749360957890488362706848
2025-07-16 00:12:04,282 - DEBUG - app.services.portfolio_calculator - Position calculation for CADJPY: Type=BUY, Entry=106.27050000, Current=108.3995, Quantity=0.15000000, Contract Size=100000.00000000, PnL=31935.00000000000000000000000, PnL USD=214.8190501816224942822548096, Commission=0E-8, Final PnL=214.8190501816224942822548096
2025-07-16 00:12:04,282 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=BUY, Entry=1.77481000, Current=1.7816599999999998, Quantity=0.22000000, Contract Size=100000.00000000, PnL=150.6999999999956000000000000, PnL USD=98.33627099999712886800000000, Commission=2.20000000, Final PnL=96.13627099999712886800000000
2025-07-16 00:12:04,282 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=SELL, Entry=1.77439000, Current=1.7820600000000002, Quantity=0.21000000, Contract Size=100000.00000000, PnL=-161.0700000000042000000000000, PnL USD=-105.1030071000027406260000000, Commission=2.10000000, Final PnL=-107.2030071000027406260000000
2025-07-16 00:12:04,283 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFJPY: Type=BUY, Entry=178.15500000, Current=185.685, Quantity=0.10000000, Contract Size=100000.00000000, PnL=75300.00000000000000000000000, PnL USD=506.5249562760661913090273106, Commission=1.00000000, Final PnL=505.5249562760661913090273106
2025-07-16 00:12:04,283 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFJPY: Type=SELL, Entry=178.09500000, Current=185.73499999999999, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-76399.99999999990000000000000, PnL USD=-513.9243912283055293959370375, Commission=1.00000000, Final PnL=-514.9243912283055293959370375
2025-07-16 00:12:04,284 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=BUY, Entry=1.77480000, Current=1.7816599999999998, Quantity=0.05000000, Contract Size=100000.00000000, PnL=34.29999999999900000000000000, PnL USD=22.38177899999934747000000000, Commission=0.50000000, Final PnL=21.88177899999934747000000000
2025-07-16 00:12:04,284 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=SELL, Entry=1.77442000, Current=1.7820600000000002, Quantity=0.05000000, Contract Size=100000.00000000, PnL=-38.20000000000100000000000000, PnL USD=-24.92664600000065253000000000, Commission=0.50000000, Final PnL=-25.42664600000065253000000000
2025-07-16 00:12:04,284 - DEBUG - app.services.portfolio_calculator - Position calculation for EURGBP: Type=SELL, Entry=0.85403000, Current=0.86732, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-132.900000000000000000000000, PnL USD=-178.2029520000000000000000000, Commission=1.00000000, Final PnL=-179.2029520000000000000000000
2025-07-16 00:12:04,286 - DEBUG - app.services.portfolio_calculator - Position calculation for EURJPY: Type=BUY, Entry=167.26050000, Current=172.8255, Quantity=0.10000000, Contract Size=100000.00000000, PnL=55650.00000000000000000000000, PnL USD=374.3441409928696354096596260, Commission=1.00000000, Final PnL=373.3441409928696354096596260
2025-07-16 00:12:04,288 - DEBUG - app.services.portfolio_calculator - Position calculation for EURJPY: Type=SELL, Entry=167.23150000, Current=172.85549999999998, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-56239.99999999980000000000000, PnL USD=-378.3129288308879321942688013, Commission=1.00000000, Final PnL=-379.3129288308879321942688013
2025-07-16 00:12:04,288 - DEBUG - app.services.portfolio_calculator - Position calculation for EURNZD: Type=SELL, Entry=1.91952500, Current=1.954825, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-353.000000000000000000000000, PnL USD=-209.9961700000000000000000000, Commission=1.00000000, Final PnL=-210.9961700000000000000000000
2025-07-16 00:12:04,288 - DEBUG - app.services.portfolio_calculator - Position calculation for EURNZD: Type=BUY, Entry=1.92063500, Current=1.9544050000000002, Quantity=0.10000000, Contract Size=100000.00000000, PnL=337.7000000000020000000000000, PnL USD=200.8943530000011897800000000, Commission=1.00000000, Final PnL=199.8943530000011897800000000
2025-07-16 00:12:04,288 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=SELL, Entry=1.34376000, Current=1.34097, Quantity=0.25000000, Contract Size=0E-8, PnL=0E-24, PnL USD=0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:12:04,288 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=SELL, Entry=1.34361000, Current=1.34097, Quantity=0.25000000, Contract Size=0E-8, PnL=0E-24, PnL USD=0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:12:04,288 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=BUY, Entry=1.34379000, Current=1.34076, Quantity=0.25000000, Contract Size=0E-8, PnL=-0E-24, PnL USD=-0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:12:04,288 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=BUY, Entry=1.34378000, Current=1.34076, Quantity=0.25000000, Contract Size=0E-8, PnL=-0E-24, PnL USD=-0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:12:04,290 - DEBUG - app.services.portfolio_calculator - Position calculation for NZDJPY: Type=BUY, Entry=87.10150000, Current=88.4135, Quantity=0.01000000, Contract Size=100000.00000000, PnL=1312.000000000000000000000000, PnL USD=8.825507870308085564375084084, Commission=0.10000000, Final PnL=8.725507870308085564375084084
2025-07-16 00:12:04,294 - DEBUG - app.services.portfolio_calculator - Position calculation for USDCHF: Type=SELL, Entry=0.81771000, Current=0.8006, Quantity=0.15000000, Contract Size=100000.00000000, PnL=256.650000000000000000000000, PnL USD=320.6321444187644449996876757, Commission=1.50000000, Final PnL=319.1321444187644449996876757
2025-07-16 00:12:04,295 - DEBUG - app.services.portfolio_calculator - Position calculation for USDCHF: Type=BUY, Entry=0.81805000, Current=0.80027, Quantity=0.15000000, Contract Size=100000.00000000, PnL=-266.700000000000000000000000, PnL USD=-333.1875819851333624836029733, Commission=1.50000000, Final PnL=-334.6875819851333624836029733
2025-07-16 00:12:04,296 - DEBUG - app.services.portfolio_calculator - Position calculation for USDNOK: Type=BUY, Entry=10.04973000, Current=10.250020000000001, Quantity=0.10000000, Contract Size=100000.00000000, PnL=2002.900000000010000000000000, PnL USD=195.3677105331190651534586103, Commission=1.00000000, Final PnL=194.3677105331190651534586103
2025-07-16 00:12:04,297 - DEBUG - app.services.portfolio_calculator - Position calculation for USDNOK: Type=BUY, Entry=10.05023000, Current=10.250020000000001, Quantity=0.10000000, Contract Size=100000.00000000, PnL=1997.900000000010000000000000, PnL USD=194.8799984393222752744599808, Commission=1.00000000, Final PnL=193.8799984393222752744599808
2025-07-16 00:12:04,298 - DEBUG - app.services.portfolio_calculator - Position calculation for USDSGD: Type=SELL, Entry=1.28795000, Current=1.28427, Quantity=0.31000000, Contract Size=100000.00000000, PnL=114.080000000000000000000000, PnL USD=88.83904931003333021835965486, Commission=3.10000000, Final PnL=85.73904931003333021835965486
2025-07-16 00:12:04,299 - DEBUG - app.services.portfolio_calculator - Position calculation for USDTRY: Type=SELL, Entry=39.56087000, Current=40.2517200000, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-6908.500000000000000000000000, PnL USD=-171.6324171985694027485036664, Commission=1.00000000, Final PnL=-172.6324171985694027485036664
2025-07-16 00:12:04,734 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:04,739 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:05,100 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.89752000, Current=0.89472, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-2.800000000000000000000000, PnL USD=-2.041977217368474788874141276, Commission=0.10000000, Final PnL=-2.141977217368474788874141276
2025-07-16 00:12:05,123 - WARNING - app - User 12 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:12:05,151 - WARNING - app - User 13 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:12:05,746 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:05,751 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:06,056 - DEBUG - app.firebase_stream - Firebase listener triggered (107). Event Type: patch, Path: /. Timestamp: 1752649926.056771
2025-07-16 00:12:06,057 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0260000000', 'o': '13.0234000000'}, 'XAGUSD': {'b': '37.8930000000', 'o': '37.8890000000'}, 'NZDJPY': {'b': '88.4330000000', 'o': '88.4260000000'}, 'GBPAUD': {'b': '2.0549400000',
2025-07-16 00:12:06,057 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0260000000', 'o': '13.0234000000'}, 'XAGUSD': {'b': '37.8930000000', 'o': '37.8890000000'}, 'NZDJPY': {'b': '88.4330000000', 'o': '88.4260000000'}, 'GBPAUD': {'b': '2.0549400000',...
2025-07-16 00:12:06,058 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:12:06,760 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:06,764 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:07,778 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:07,782 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:08,298 - DEBUG - app.firebase_stream - Firebase listener triggered (108). Event Type: patch, Path: /. Timestamp: 1752649928.2985697
2025-07-16 00:12:08,299 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0259000000', 'o': '13.0233000000'}, 'XAGUSD': {'b': '37.8920000000', 'o': '37.8870000000'}, 'NZDJPY': {'b': '88.4360000000', 'o': '88.4270000000'}, 'GBPAUD': {'b': '2.0549400000',
2025-07-16 00:12:08,300 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0259000000', 'o': '13.0233000000'}, 'XAGUSD': {'b': '37.8920000000', 'o': '37.8870000000'}, 'NZDJPY': {'b': '88.4360000000', 'o': '88.4270000000'}, 'GBPAUD': {'b': '2.0549400000',...
2025-07-16 00:12:08,304 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:12:08,785 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:08,789 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:09,795 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:09,800 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:10,652 - DEBUG - app.firebase_stream - Firebase listener triggered (109). Event Type: patch, Path: /. Timestamp: 1752649930.6526532
2025-07-16 00:12:10,653 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0258000000', 'o': '13.0232000000'}, 'NZDJPY': {'b': '88.4320000000', 'o': '88.4290000000'}, 'GBPAUD': {'b': '2.0549500000', 'o': '2.0547700000'}, 'BTCUSD': {'b': '118062.100000000
2025-07-16 00:12:10,653 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0258000000', 'o': '13.0232000000'}, 'NZDJPY': {'b': '88.4320000000', 'o': '88.4290000000'}, 'GBPAUD': {'b': '2.0549500000', 'o': '2.0547700000'}, 'BTCUSD': {'b': '118062.100000000...
2025-07-16 00:12:10,653 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:12:10,801 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:10,803 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:11,817 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:11,820 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:12,828 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:12,830 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:12,903 - DEBUG - app.firebase_stream - Firebase listener triggered (110). Event Type: patch, Path: /. Timestamp: 1752649932.903259
2025-07-16 00:12:12,903 - DEBUG - app.firebase_stream - Prepared batch update for 34 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4400000000', 'o': '88.4320000000'}, 'GBPAUD': {'b': '2.0549300000', 'o': '2.0547600000'}, 'BTCUSD': {'b': '118049.9300000000', 'o': '118039.9300000000'}, 'USDJPY': {'b': '148.6800
2025-07-16 00:12:12,904 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4400000000', 'o': '88.4320000000'}, 'GBPAUD': {'b': '2.0549300000', 'o': '2.0547600000'}, 'BTCUSD': {'b': '118049.9300000000', 'o': '118039.9300000000'}, 'USDJPY': {'b': '148.6800...
2025-07-16 00:12:12,904 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:12:13,850 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:13,854 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:14,861 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:14,864 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:15,204 - DEBUG - app.firebase_stream - Firebase listener triggered (111). Event Type: patch, Path: /. Timestamp: 1752649935.2042263
2025-07-16 00:12:15,204 - DEBUG - app.firebase_stream - Prepared batch update for 30 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0262000000', 'o': '13.0236000000'}, 'NZDJPY': {'b': '88.4420000000', 'o': '88.4330000000'}, 'GBPAUD': {'b': '2.0549000000', 'o': '2.0547500000'}, 'BTCUSD': {'b': '118034.400000000
2025-07-16 00:12:15,205 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0262000000', 'o': '13.0236000000'}, 'NZDJPY': {'b': '88.4420000000', 'o': '88.4330000000'}, 'GBPAUD': {'b': '2.0549000000', 'o': '2.0547500000'}, 'BTCUSD': {'b': '118034.400000000...
2025-07-16 00:12:15,206 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:12:15,866 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:15,870 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:16,873 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:16,878 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:17,485 - DEBUG - app.firebase_stream - Firebase listener triggered (112). Event Type: patch, Path: /. Timestamp: 1752649937.4852297
2025-07-16 00:12:17,485 - DEBUG - app.firebase_stream - Prepared batch update for 26 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.8900000000', 'o': '37.8870000000'}, 'NZDJPY': {'b': '88.4400000000', 'o': '88.4320000000'}, 'GBPAUD': {'b': '2.0548900000', 'o': '2.0547600000'}, 'USDJPY': {'b': '148.6800000000',
2025-07-16 00:12:17,486 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.8900000000', 'o': '37.8870000000'}, 'NZDJPY': {'b': '88.4400000000', 'o': '88.4320000000'}, 'GBPAUD': {'b': '2.0548900000', 'o': '2.0547600000'}, 'USDJPY': {'b': '148.6800000000',...
2025-07-16 00:12:17,487 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:12:17,881 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:17,885 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:18,889 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:18,892 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:19,800 - DEBUG - app.firebase_stream - Firebase listener triggered (113). Event Type: patch, Path: /. Timestamp: 1752649939.8006725
2025-07-16 00:12:19,801 - DEBUG - app.firebase_stream - Prepared batch update for 27 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0263000000', 'o': '13.0237000000'}, 'NZDJPY': {'b': '88.4400000000', 'o': '88.4310000000'}, 'GBPAUD': {'b': '2.0549000000', 'o': '2.0547800000'}, 'USDJPY': {'b': '148.6800000000',
2025-07-16 00:12:19,801 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0263000000', 'o': '13.0237000000'}, 'NZDJPY': {'b': '88.4400000000', 'o': '88.4310000000'}, 'GBPAUD': {'b': '2.0549000000', 'o': '2.0547800000'}, 'USDJPY': {'b': '148.6800000000',...
2025-07-16 00:12:19,802 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:12:19,894 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:19,898 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:20,912 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:20,915 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:21,918 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:21,922 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:22,074 - DEBUG - app.firebase_stream - Firebase listener triggered (114). Event Type: patch, Path: /. Timestamp: 1752649942.0746734
2025-07-16 00:12:22,075 - DEBUG - app.firebase_stream - Prepared batch update for 26 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0265000000', 'o': '13.0239000000'}, 'NZDJPY': {'b': '88.4400000000', 'o': '88.4330000000'}, 'GBPAUD': {'b': '2.0549200000', 'o': '2.0547900000'}, 'CADCHF': {'b': '0.5838000000', '
2025-07-16 00:12:22,075 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0265000000', 'o': '13.0239000000'}, 'NZDJPY': {'b': '88.4400000000', 'o': '88.4330000000'}, 'GBPAUD': {'b': '2.0549200000', 'o': '2.0547900000'}, 'CADCHF': {'b': '0.5838000000', '...
2025-07-16 00:12:22,075 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:12:22,936 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:22,938 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:23,943 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:23,947 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:24,371 - DEBUG - app.firebase_stream - Firebase listener triggered (115). Event Type: patch, Path: /. Timestamp: 1752649944.3715484
2025-07-16 00:12:24,371 - DEBUG - app.firebase_stream - Prepared batch update for 27 symbols from root path for queue. Preview: {'USDJPY': {'b': '148.6550000000', 'o': '148.6520000000'}, 'CADCHF': {'b': '0.5838800000', 'o': '0.5838200000'}, 'EURNZD': {'b': '1.9545700000', 'o': '1.9544600000'}, 'USDSGD': {'b': '1.2841600000', '
2025-07-16 00:12:24,372 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'USDJPY': {'b': '148.6550000000', 'o': '148.6520000000'}, 'CADCHF': {'b': '0.5838800000', 'o': '0.5838200000'}, 'EURNZD': {'b': '1.9545700000', 'o': '1.9544600000'}, 'USDSGD': {'b': '1.2841600000', '...
2025-07-16 00:12:24,375 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:12:24,964 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:24,968 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:25,971 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:25,975 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:26,657 - DEBUG - app.firebase_stream - Firebase listener triggered (116). Event Type: patch, Path: /. Timestamp: 1752649946.6572711
2025-07-16 00:12:26,658 - DEBUG - app.firebase_stream - Prepared batch update for 27 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0258000000', 'o': '13.0232000000'}, 'NZDJPY': {'b': '88.4380000000', 'o': '88.4300000000'}, 'GBPAUD': {'b': '2.0548400000', 'o': '2.0547400000'}, 'USDJPY': {'b': '148.6750000000',
2025-07-16 00:12:26,659 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0258000000', 'o': '13.0232000000'}, 'NZDJPY': {'b': '88.4380000000', 'o': '88.4300000000'}, 'GBPAUD': {'b': '2.0548400000', 'o': '2.0547400000'}, 'USDJPY': {'b': '148.6750000000',...
2025-07-16 00:12:26,661 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:12:26,991 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:26,995 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:28,000 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:28,004 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:28,984 - DEBUG - app.firebase_stream - Firebase listener triggered (117). Event Type: patch, Path: /. Timestamp: 1752649948.9843662
2025-07-16 00:12:28,984 - DEBUG - app.firebase_stream - Prepared batch update for 35 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0261000000', 'o': '13.0235000000'}, 'NZDJPY': {'b': '88.4360000000', 'o': '88.4290000000'}, 'GBPAUD': {'b': '2.0548400000', 'o': '2.0546900000'}, 'BTCUSD': {'b': '118058.000000000
2025-07-16 00:12:28,985 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0261000000', 'o': '13.0235000000'}, 'NZDJPY': {'b': '88.4360000000', 'o': '88.4290000000'}, 'GBPAUD': {'b': '2.0548400000', 'o': '2.0546900000'}, 'BTCUSD': {'b': '118058.000000000...
2025-07-16 00:12:28,985 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:12:29,016 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:29,023 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:30,044 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:30,047 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:31,065 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:31,069 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:31,343 - DEBUG - app.firebase_stream - Firebase listener triggered (118). Event Type: patch, Path: /. Timestamp: 1752649951.343661
2025-07-16 00:12:31,344 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.8910000000', 'o': '37.8860000000'}, 'NZDJPY': {'b': '88.4310000000', 'o': '88.4230000000'}, 'GBPAUD': {'b': '2.0548800000', 'o': '2.0547600000'}, 'BTCUSD': {'b': '118040.400000000
2025-07-16 00:12:31,345 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.8910000000', 'o': '37.8860000000'}, 'NZDJPY': {'b': '88.4310000000', 'o': '88.4230000000'}, 'GBPAUD': {'b': '2.0548800000', 'o': '2.0547600000'}, 'BTCUSD': {'b': '118040.400000000...
2025-07-16 00:12:31,346 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:12:32,085 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:32,089 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:33,092 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:33,096 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:33,579 - DEBUG - app.firebase_stream - Firebase listener triggered (119). Event Type: patch, Path: /. Timestamp: 1752649953.579572
2025-07-16 00:12:33,579 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0255000000', 'o': '13.0229000000'}, 'NZDJPY': {'b': '88.4350000000', 'o': '88.4260000000'}, 'GBPAUD': {'b': '2.0548600000', 'o': '2.0547800000'}, 'USDCNH': {'b': '7.1810500000', '
2025-07-16 00:12:33,580 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0255000000', 'o': '13.0229000000'}, 'NZDJPY': {'b': '88.4350000000', 'o': '88.4260000000'}, 'GBPAUD': {'b': '2.0548600000', 'o': '2.0547800000'}, 'USDCNH': {'b': '7.1810500000', '...
2025-07-16 00:12:33,580 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:12:34,103 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:34,107 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:35,117 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:35,122 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:35,951 - DEBUG - app.firebase_stream - Firebase listener triggered (120). Event Type: patch, Path: /. Timestamp: 1752649955.951613
2025-07-16 00:12:35,952 - DEBUG - app.firebase_stream - Prepared batch update for 36 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0266000000', 'o': '13.0240000000'}, 'XAGUSD': {'b': '37.8920000000', 'o': '37.8860000000'}, 'NZDJPY': {'b': '88.4370000000', 'o': '88.4320000000'}, 'GBPAUD': {'b': '2.0548300000',
2025-07-16 00:12:35,952 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0266000000', 'o': '13.0240000000'}, 'XAGUSD': {'b': '37.8920000000', 'o': '37.8860000000'}, 'NZDJPY': {'b': '88.4370000000', 'o': '88.4320000000'}, 'GBPAUD': {'b': '2.0548300000',...
2025-07-16 00:12:35,952 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:12:36,125 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:36,130 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:37,135 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:37,138 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:38,143 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:38,147 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:38,206 - DEBUG - app.firebase_stream - Firebase listener triggered (121). Event Type: patch, Path: /. Timestamp: 1752649958.206448
2025-07-16 00:12:38,207 - DEBUG - app.firebase_stream - Prepared batch update for 30 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.8960000000', 'o': '37.8930000000'}, 'NZDJPY': {'b': '88.4340000000', 'o': '88.4260000000'}, 'GBPAUD': {'b': '2.0549100000', 'o': '2.0547800000'}, 'BTCUSD': {'b': '118049.900000000
2025-07-16 00:12:38,208 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.8960000000', 'o': '37.8930000000'}, 'NZDJPY': {'b': '88.4340000000', 'o': '88.4260000000'}, 'GBPAUD': {'b': '2.0549100000', 'o': '2.0547800000'}, 'BTCUSD': {'b': '118049.900000000...
2025-07-16 00:12:38,208 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:12:39,159 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:39,163 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:40,165 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:40,170 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:40,437 - DEBUG - app.firebase_stream - Firebase listener triggered (122). Event Type: patch, Path: /. Timestamp: 1752649960.4372816
2025-07-16 00:12:40,437 - DEBUG - app.firebase_stream - Prepared batch update for 20 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4390000000', 'o': '88.4300000000'}, 'GBPAUD': {'b': '2.0548800000', 'o': '2.0547200000'}, 'BTCUSD': {'b': '118062.1000000000', 'o': '118062.0000000000'}, 'USDJPY': {'b': '148.6760
2025-07-16 00:12:40,438 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4390000000', 'o': '88.4300000000'}, 'GBPAUD': {'b': '2.0548800000', 'o': '2.0547200000'}, 'BTCUSD': {'b': '118062.1000000000', 'o': '118062.0000000000'}, 'USDJPY': {'b': '148.6760...
2025-07-16 00:12:40,438 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:12:41,183 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:41,187 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:42,192 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:42,196 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:42,815 - DEBUG - app.firebase_stream - Firebase listener triggered (123). Event Type: patch, Path: /. Timestamp: 1752649962.8150241
2025-07-16 00:12:42,815 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0267000000', 'o': '13.0241000000'}, 'NZDJPY': {'b': '88.4360000000', 'o': '88.4280000000'}, 'GBPAUD': {'b': '2.0548600000', 'o': '2.0547100000'}, 'USDJPY': {'b': '148.6690000000',
2025-07-16 00:12:42,816 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0267000000', 'o': '13.0241000000'}, 'NZDJPY': {'b': '88.4360000000', 'o': '88.4280000000'}, 'GBPAUD': {'b': '2.0548600000', 'o': '2.0547100000'}, 'USDJPY': {'b': '148.6690000000',...
2025-07-16 00:12:42,818 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:12:43,199 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:43,202 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:44,206 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:44,210 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:45,058 - DEBUG - app.firebase_stream - Firebase listener triggered (124). Event Type: patch, Path: /. Timestamp: 1752649965.0584443
2025-07-16 00:12:45,059 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0264000000', 'o': '13.0238000000'}, 'NZDJPY': {'b': '88.4350000000', 'o': '88.4290000000'}, 'GBPAUD': {'b': '2.0548300000', 'o': '2.0546700000'}, 'BTCUSD': {'b': '118039.320000000
2025-07-16 00:12:45,060 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0264000000', 'o': '13.0238000000'}, 'NZDJPY': {'b': '88.4350000000', 'o': '88.4290000000'}, 'GBPAUD': {'b': '2.0548300000', 'o': '2.0546700000'}, 'BTCUSD': {'b': '118039.320000000...
2025-07-16 00:12:45,063 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:12:45,212 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:45,215 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:46,223 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:46,227 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:47,239 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:47,244 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:47,339 - DEBUG - app.firebase_stream - Firebase listener triggered (125). Event Type: patch, Path: /. Timestamp: 1752649967.3393912
2025-07-16 00:12:47,339 - DEBUG - app.firebase_stream - Prepared batch update for 24 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4390000000', 'o': '88.4320000000'}, 'BTCUSD': {'b': '118049.9300000000', 'o': '118039.9300000000'}, 'USDJPY': {'b': '148.6750000000', 'o': '148.6710000000'}, 'EURNZD': {'b': '1.95
2025-07-16 00:12:47,340 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4390000000', 'o': '88.4320000000'}, 'BTCUSD': {'b': '118049.9300000000', 'o': '118039.9300000000'}, 'USDJPY': {'b': '148.6750000000', 'o': '148.6710000000'}, 'EURNZD': {'b': '1.95...
2025-07-16 00:12:47,340 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:12:48,248 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:48,252 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:49,258 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:49,262 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:49,647 - DEBUG - app.firebase_stream - Firebase listener triggered (126). Event Type: patch, Path: /. Timestamp: 1752649969.6469765
2025-07-16 00:12:49,647 - DEBUG - app.firebase_stream - Prepared batch update for 36 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0261000000', 'o': '13.0235000000'}, 'XAGUSD': {'b': '37.8980000000', 'o': '37.8940000000'}, 'NZDJPY': {'b': '88.4400000000', 'o': '88.4330000000'}, 'GBPAUD': {'b': '2.0549000000',
2025-07-16 00:12:49,648 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0261000000', 'o': '13.0235000000'}, 'XAGUSD': {'b': '37.8980000000', 'o': '37.8940000000'}, 'NZDJPY': {'b': '88.4400000000', 'o': '88.4330000000'}, 'GBPAUD': {'b': '2.0549000000',...
2025-07-16 00:12:49,650 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:12:50,268 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:50,271 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:51,281 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:51,285 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:51,946 - DEBUG - app.firebase_stream - Firebase listener triggered (127). Event Type: patch, Path: /. Timestamp: 1752649971.9466949
2025-07-16 00:12:51,947 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0263000000', 'o': '13.0237000000'}, 'GBPAUD': {'b': '2.0547800000', 'o': '2.0546500000'}, 'BTCUSD': {'b': '118035.4000000000', 'o': '118035.3000000000'}, 'CADCHF': {'b': '0.583890
2025-07-16 00:12:51,948 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0263000000', 'o': '13.0237000000'}, 'GBPAUD': {'b': '2.0547800000', 'o': '2.0546500000'}, 'BTCUSD': {'b': '118035.4000000000', 'o': '118035.3000000000'}, 'CADCHF': {'b': '0.583890...
2025-07-16 00:12:51,948 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:12:52,299 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:52,302 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:53,318 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:53,322 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:54,213 - DEBUG - app.firebase_stream - Firebase listener triggered (128). Event Type: patch, Path: /. Timestamp: 1752649974.2135372
2025-07-16 00:12:54,214 - DEBUG - app.firebase_stream - Prepared batch update for 26 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.8980000000', 'o': '37.8930000000'}, 'NZDJPY': {'b': '88.4390000000', 'o': '88.4330000000'}, 'GBPAUD': {'b': '2.0547600000', 'o': '2.0546700000'}, 'USDJPY': {'b': '148.6760000000',
2025-07-16 00:12:54,215 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'XAGUSD': {'b': '37.8980000000', 'o': '37.8930000000'}, 'NZDJPY': {'b': '88.4390000000', 'o': '88.4330000000'}, 'GBPAUD': {'b': '2.0547600000', 'o': '2.0546700000'}, 'USDJPY': {'b': '148.6760000000',...
2025-07-16 00:12:54,216 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:12:54,324 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:54,328 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:55,331 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:55,337 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:56,342 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:56,346 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:56,517 - DEBUG - app.firebase_stream - Firebase listener triggered (129). Event Type: patch, Path: /. Timestamp: 1752649976.5172434
2025-07-16 00:12:56,517 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.8980000000', 'o': '37.8940000000'}, 'NZDJPY': {'b': '88.4400000000', 'o': '88.4330000000'}, 'USDJPY': {'b': '148.6720000000', 'o': '148.6720000000'}, 'USDCNH': {'b': '7.1812500000
2025-07-16 00:12:56,520 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.8980000000', 'o': '37.8940000000'}, 'NZDJPY': {'b': '88.4400000000', 'o': '88.4330000000'}, 'USDJPY': {'b': '148.6720000000', 'o': '148.6720000000'}, 'USDCNH': {'b': '7.1812500000...
2025-07-16 00:12:56,523 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:12:57,352 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:57,357 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:58,364 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:58,367 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:12:58,813 - DEBUG - app.firebase_stream - Firebase listener triggered (130). Event Type: patch, Path: /. Timestamp: 1752649978.8136315
2025-07-16 00:12:58,814 - DEBUG - app.firebase_stream - Prepared batch update for 34 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0264000000', 'o': '13.0238000000'}, 'NZDJPY': {'b': '88.4350000000', 'o': '88.4270000000'}, 'GBPAUD': {'b': '2.0548100000', 'o': '2.0547100000'}, 'CADCHF': {'b': '0.5839100000', '
2025-07-16 00:12:58,815 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0264000000', 'o': '13.0238000000'}, 'NZDJPY': {'b': '88.4350000000', 'o': '88.4270000000'}, 'GBPAUD': {'b': '2.0548100000', 'o': '2.0547100000'}, 'CADCHF': {'b': '0.5839100000', '...
2025-07-16 00:12:58,816 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:12:59,373 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:12:59,377 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:00,384 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:00,388 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:01,134 - DEBUG - app.firebase_stream - Firebase listener triggered (131). Event Type: patch, Path: /. Timestamp: 1752649981.1349423
2025-07-16 00:13:01,135 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.8970000000', 'o': '37.8920000000'}, 'NZDJPY': {'b': '88.4360000000', 'o': '88.4300000000'}, 'GBPAUD': {'b': '2.0548100000', 'o': '2.0546600000'}, 'USDJPY': {'b': '148.6810000000',
2025-07-16 00:13:01,136 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'XAGUSD': {'b': '37.8970000000', 'o': '37.8920000000'}, 'NZDJPY': {'b': '88.4360000000', 'o': '88.4300000000'}, 'GBPAUD': {'b': '2.0548100000', 'o': '2.0546600000'}, 'USDJPY': {'b': '148.6810000000',...
2025-07-16 00:13:01,136 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:13:01,405 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:01,409 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:02,137 - WARNING - app - User 4 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:13:02,140 - WARNING - app - No user data found for user 5 (live). Skipping portfolio update.
2025-07-16 00:13:02,148 - WARNING - app - No group settings found for group string. Skipping portfolio update for user 8.
2025-07-16 00:13:02,176 - WARNING - app - User 9 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:13:02,205 - WARNING - app - User 10 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:13:02,229 - WARNING - app - User 11 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:13:02,263 - WARNING - app - User 12 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:13:02,296 - WARNING - app - User 13 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:13:02,652 - DEBUG - app.services.portfolio_calculator - Position calculation for BTCUSD: Type=BUY, Entry=118908.50000000, Current=117985.3, Quantity=0.40000000, Contract Size=1.00000000, PnL=-369.280000000000000000000000, PnL USD=-369.280000000000000000000000, Commission=235.57000000, Final PnL=-604.850000000000000000000000
2025-07-16 00:13:02,653 - WARNING - app.services.portfolio_calculator - MARGIN CALL ALERT: User has margin level 98.66747747202774567455503872% which is below threshold 100.0%
2025-07-16 00:13:02,654 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:02,657 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:02,682 - WARNING - app - User 16 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:13:02,704 - WARNING - app - User 17 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:13:02,725 - WARNING - app - User 18 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:13:02,738 - WARNING - app - User 19 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:13:02,750 - WARNING - app - User 20 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:13:02,766 - WARNING - app - User 21 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:13:02,777 - WARNING - app - User 22 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:13:02,789 - WARNING - app - User 23 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:13:02,800 - WARNING - app - User 24 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:13:02,815 - WARNING - app - User 25 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:13:03,145 - DEBUG - app.services.portfolio_calculator - Position calculation for XAGUSD: Type=BUY, Entry=41.09800000, Current=37.8795, Quantity=0.01000000, Contract Size=5000.00000000, PnL=-160.925000000000000000000000, PnL USD=-160.925000000000000000000000, Commission=0.10000000, Final PnL=-161.025000000000000000000000
2025-07-16 00:13:03,145 - DEBUG - app.services.portfolio_calculator - Position calculation for BTCUSD: Type=BUY, Entry=132091.90000000, Current=117985.3, Quantity=6.00000000, Contract Size=1.00000000, PnL=-84639.60000000000000000000000, PnL USD=-84639.60000000000000000000000, Commission=3661.62000000, Final PnL=-88301.22000000000000000000000
2025-07-16 00:13:03,146 - WARNING - app.services.portfolio_calculator - MARGIN CALL ALERT: User has margin level 65.45647125596317479934903680% which is below threshold 100.0%
2025-07-16 00:13:03,422 - DEBUG - app.firebase_stream - Firebase listener triggered (132). Event Type: patch, Path: /. Timestamp: 1752649983.4221299
2025-07-16 00:13:03,422 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0263000000', 'o': '13.0237000000'}, 'XAGUSD': {'b': '37.8980000000', 'o': '37.8930000000'}, 'NZDJPY': {'b': '88.4380000000', 'o': '88.4300000000'}, 'GBPAUD': {'b': '2.0548000000',
2025-07-16 00:13:03,423 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0263000000', 'o': '13.0237000000'}, 'XAGUSD': {'b': '37.8980000000', 'o': '37.8930000000'}, 'NZDJPY': {'b': '88.4380000000', 'o': '88.4300000000'}, 'GBPAUD': {'b': '2.0548000000',...
2025-07-16 00:13:03,423 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:13:03,542 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=96.66800000, Current=96.953, Quantity=0.01000000, Contract Size=100000.00000000, PnL=285.000000000000000000000000, PnL USD=1.916868442292171105730427764, Commission=0.10000000, Final PnL=1.816868442292171105730427764
2025-07-16 00:13:03,545 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=96.56000000, Current=97.06, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-500.000000000000000000000000, PnL USD=-3.362927091740651062684960990, Commission=0.10000000, Final PnL=-3.462927091740651062684960990
2025-07-16 00:13:03,555 - WARNING - app - User 2 has no group_name set. Skipping portfolio update.
2025-07-16 00:13:03,616 - WARNING - app - No group settings found for group string. Skipping portfolio update for user 3.
2025-07-16 00:13:03,655 - WARNING - app - User 4 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:13:03,656 - WARNING - app - User 5 has no group_name set. Skipping portfolio update.
2025-07-16 00:13:03,657 - WARNING - app - User 6 has no group_name set. Skipping portfolio update.
2025-07-16 00:13:03,661 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:03,664 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:04,031 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64743000, Current=0.65228, Quantity=0.10000000, Contract Size=100000.00000000, PnL=48.500000000000000000000000, PnL USD=48.500000000000000000000000, Commission=1.00000000, Final PnL=47.500000000000000000000000
2025-07-16 00:13:04,031 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=SELL, Entry=0.64707000, Current=0.6526, Quantity=0.22000000, Contract Size=100000.00000000, PnL=-121.660000000000000000000000, PnL USD=-121.660000000000000000000000, Commission=2.20000000, Final PnL=-123.860000000000000000000000
2025-07-16 00:13:04,033 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFSGD: Type=BUY, Entry=1.57561500, Current=1.603765, Quantity=0.10000000, Contract Size=100000.00000000, PnL=281.500000000000000000000000, PnL USD=219.1957889491060860898274466, Commission=1.00000000, Final PnL=218.1957889491060860898274466
2025-07-16 00:13:04,033 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFSGD: Type=SELL, Entry=1.57505500, Current=1.604215, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-291.600000000000000000000000, PnL USD=-227.0603625490562511680059802, Commission=1.00000000, Final PnL=-228.0603625490562511680059802
2025-07-16 00:13:04,035 - DEBUG - app.services.portfolio_calculator - Position calculation for CADJPY: Type=SELL, Entry=106.24150000, Current=108.44250000000001, Quantity=0.15000000, Contract Size=100000.00000000, PnL=-33015.00000000015000000000000, PnL USD=-222.0540758676361985472154964, Commission=0E-8, Final PnL=-222.0540758676361985472154964
2025-07-16 00:13:04,035 - DEBUG - app.services.portfolio_calculator - Position calculation for CADJPY: Type=BUY, Entry=106.27050000, Current=108.4095, Quantity=0.15000000, Contract Size=100000.00000000, PnL=32085.00000000000000000000000, PnL USD=215.7990314769975786924939467, Commission=0E-8, Final PnL=215.7990314769975786924939467
2025-07-16 00:13:04,036 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=BUY, Entry=1.77481000, Current=1.78154, Quantity=0.22000000, Contract Size=100000.00000000, PnL=148.060000000000000000000000, PnL USD=96.60174700000000000000000000, Commission=2.20000000, Final PnL=94.40174700000000000000000000
2025-07-16 00:13:04,036 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=SELL, Entry=1.77439000, Current=1.7819500000000001, Quantity=0.21000000, Contract Size=100000.00000000, PnL=-158.7600000000021000000000000, PnL USD=-103.5829620000013701450000000, Commission=2.10000000, Final PnL=-105.6829620000013701450000000
2025-07-16 00:13:04,037 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFJPY: Type=BUY, Entry=178.15500000, Current=185.675, Quantity=0.10000000, Contract Size=100000.00000000, PnL=75200.00000000000000000000000, PnL USD=505.7842345977939198278181329, Commission=1.00000000, Final PnL=504.7842345977939198278181329
2025-07-16 00:13:04,038 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFJPY: Type=SELL, Entry=178.09500000, Current=185.725, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-76300.00000000000000000000000, PnL USD=-513.1826741996233521657250471, Commission=1.00000000, Final PnL=-514.1826741996233521657250471
2025-07-16 00:13:04,038 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=BUY, Entry=1.77480000, Current=1.78154, Quantity=0.05000000, Contract Size=100000.00000000, PnL=33.700000000000000000000000, PnL USD=21.98756500000000000000000000, Commission=0.50000000, Final PnL=21.48756500000000000000000000
2025-07-16 00:13:04,038 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=SELL, Entry=1.77442000, Current=1.7819500000000001, Quantity=0.05000000, Contract Size=100000.00000000, PnL=-37.65000000000050000000000000, PnL USD=-24.56474250000032622500000000, Commission=0.50000000, Final PnL=-25.06474250000032622500000000
2025-07-16 00:13:04,039 - DEBUG - app.services.portfolio_calculator - Position calculation for EURGBP: Type=SELL, Entry=0.85403000, Current=0.86731, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-132.800000000000000000000000, PnL USD=-178.0316800000000000000000000, Commission=1.00000000, Final PnL=-179.0316800000000000000000000
2025-07-16 00:13:04,039 - DEBUG - app.services.portfolio_calculator - Position calculation for EURJPY: Type=BUY, Entry=167.26050000, Current=172.8265, Quantity=0.10000000, Contract Size=100000.00000000, PnL=55660.00000000000000000000000, PnL USD=374.3610438525692762980898574, Commission=1.00000000, Final PnL=373.3610438525692762980898574
2025-07-16 00:13:04,040 - DEBUG - app.services.portfolio_calculator - Position calculation for EURJPY: Type=SELL, Entry=167.23150000, Current=172.85649999999998, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-56249.99999999980000000000000, PnL USD=-378.3292978208218993812214151, Commission=1.00000000, Final PnL=-379.3292978208218993812214151
2025-07-16 00:13:04,040 - DEBUG - app.services.portfolio_calculator - Position calculation for EURNZD: Type=SELL, Entry=1.91952500, Current=1.954685, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-351.600000000000000000000000, PnL USD=-209.1281640000000000000000000, Commission=1.00000000, Final PnL=-210.1281640000000000000000000
2025-07-16 00:13:04,040 - DEBUG - app.services.portfolio_calculator - Position calculation for EURNZD: Type=BUY, Entry=1.92063500, Current=1.954255, Quantity=0.10000000, Contract Size=100000.00000000, PnL=336.200000000000000000000000, PnL USD=199.9683980000000000000000000, Commission=1.00000000, Final PnL=198.9683980000000000000000000
2025-07-16 00:13:04,040 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=SELL, Entry=1.34376000, Current=1.3407, Quantity=0.25000000, Contract Size=0E-8, PnL=0E-24, PnL USD=0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:13:04,041 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=SELL, Entry=1.34361000, Current=1.3407, Quantity=0.25000000, Contract Size=0E-8, PnL=0E-24, PnL USD=0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:13:04,041 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=BUY, Entry=1.34379000, Current=1.34049, Quantity=0.25000000, Contract Size=0E-8, PnL=-0E-24, PnL USD=-0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:13:04,041 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=BUY, Entry=1.34378000, Current=1.34049, Quantity=0.25000000, Contract Size=0E-8, PnL=-0E-24, PnL USD=-0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:13:04,041 - DEBUG - app.services.portfolio_calculator - Position calculation for NZDJPY: Type=BUY, Entry=87.10150000, Current=88.4175, Quantity=0.01000000, Contract Size=100000.00000000, PnL=1316.000000000000000000000000, PnL USD=8.851224105461393596986817326, Commission=0.10000000, Final PnL=8.751224105461393596986817326
2025-07-16 00:13:04,042 - DEBUG - app.services.portfolio_calculator - Position calculation for USDCHF: Type=SELL, Entry=0.81771000, Current=0.80079, Quantity=0.15000000, Contract Size=100000.00000000, PnL=253.800000000000000000000000, PnL USD=316.9924436395428714169737089, Commission=1.50000000, Final PnL=315.4924436395428714169737089
2025-07-16 00:13:04,043 - DEBUG - app.services.portfolio_calculator - Position calculation for USDCHF: Type=BUY, Entry=0.81805000, Current=0.80047, Quantity=0.15000000, Contract Size=100000.00000000, PnL=-263.700000000000000000000000, PnL USD=-329.3573971148441890963592081, Commission=1.50000000, Final PnL=-330.8573971148441890963592081
2025-07-16 00:13:04,044 - DEBUG - app.services.portfolio_calculator - Position calculation for USDNOK: Type=BUY, Entry=10.04973000, Current=10.251470000000001, Quantity=0.10000000, Contract Size=100000.00000000, PnL=2017.400000000010000000000000, PnL USD=196.6980391621574188818027501, Commission=1.00000000, Final PnL=195.6980391621574188818027501
2025-07-16 00:13:04,046 - DEBUG - app.services.portfolio_calculator - Position calculation for USDNOK: Type=BUY, Entry=10.05023000, Current=10.251470000000001, Quantity=0.10000000, Contract Size=100000.00000000, PnL=2012.400000000010000000000000, PnL USD=196.2105353474400687185377226, Commission=1.00000000, Final PnL=195.2105353474400687185377226
2025-07-16 00:13:04,047 - DEBUG - app.services.portfolio_calculator - Position calculation for USDSGD: Type=SELL, Entry=1.28795000, Current=1.2843900000000001, Quantity=0.31000000, Contract Size=100000.00000000, PnL=110.3599999999969000000000000, PnL USD=85.93409331588869681679436865, Commission=3.10000000, Final PnL=82.83409331588869681679436865
2025-07-16 00:13:04,048 - DEBUG - app.services.portfolio_calculator - Position calculation for USDTRY: Type=SELL, Entry=39.56087000, Current=40.25063, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-6897.600000000000000000000000, PnL USD=-171.3651123328919353356074026, Commission=1.00000000, Final PnL=-172.3651123328919353356074026
2025-07-16 00:13:04,749 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:04,750 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.89752000, Current=0.89466, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-2.860000000000000000000000, PnL USD=-2.085566566763652804211969402, Commission=0.10000000, Final PnL=-2.185566566763652804211969402
2025-07-16 00:13:04,753 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:04,787 - WARNING - app - User 12 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:13:04,813 - WARNING - app - User 13 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:13:05,720 - DEBUG - app.firebase_stream - Firebase listener triggered (133). Event Type: patch, Path: /. Timestamp: 1752649985.7206016
2025-07-16 00:13:05,721 - DEBUG - app.firebase_stream - Prepared batch update for 30 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0260000000', 'o': '13.0234000000'}, 'NZDJPY': {'b': '88.4340000000', 'o': '88.4270000000'}, 'GBPAUD': {'b': '2.0547700000', 'o': '2.0546200000'}, 'USDJPY': {'b': '148.6800000000',
2025-07-16 00:13:05,722 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0260000000', 'o': '13.0234000000'}, 'NZDJPY': {'b': '88.4340000000', 'o': '88.4270000000'}, 'GBPAUD': {'b': '2.0547700000', 'o': '2.0546200000'}, 'USDJPY': {'b': '148.6800000000',...
2025-07-16 00:13:05,723 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:13:05,759 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:05,769 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:06,787 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:06,789 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:07,792 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:07,796 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:08,098 - DEBUG - app.firebase_stream - Firebase listener triggered (134). Event Type: patch, Path: /. Timestamp: 1752649988.0987535
2025-07-16 00:13:08,099 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.8970000000', 'o': '37.8930000000'}, 'USDJPY': {'b': '148.6780000000', 'o': '148.6740000000'}, 'EURNZD': {'b': '1.9545800000', 'o': '1.9544400000'}, 'EURZAR': {'b': '20.8114100000'
2025-07-16 00:13:08,100 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.8970000000', 'o': '37.8930000000'}, 'USDJPY': {'b': '148.6780000000', 'o': '148.6740000000'}, 'EURNZD': {'b': '1.9545800000', 'o': '1.9544400000'}, 'EURZAR': {'b': '20.8114100000'...
2025-07-16 00:13:08,102 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:13:08,811 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:08,814 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:09,820 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:09,824 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:10,341 - DEBUG - app.firebase_stream - Firebase listener triggered (135). Event Type: patch, Path: /. Timestamp: 1752649990.3414464
2025-07-16 00:13:10,342 - DEBUG - app.firebase_stream - Prepared batch update for 25 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.8980000000', 'o': '37.8940000000'}, 'NZDJPY': {'b': '88.4340000000', 'o': '88.4260000000'}, 'USDJPY': {'b': '148.6720000000', 'o': '148.6720000000'}, 'USDCNH': {'b': '7.1815300000
2025-07-16 00:13:10,343 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.8980000000', 'o': '37.8940000000'}, 'NZDJPY': {'b': '88.4340000000', 'o': '88.4260000000'}, 'USDJPY': {'b': '148.6720000000', 'o': '148.6720000000'}, 'USDCNH': {'b': '7.1815300000...
2025-07-16 00:13:10,344 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:13:10,837 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:10,840 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:11,843 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:11,847 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:12,710 - DEBUG - app.firebase_stream - Firebase listener triggered (136). Event Type: patch, Path: /. Timestamp: 1752649992.7107031
2025-07-16 00:13:12,711 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'GBPAUD': {'b': '2.0547800000', 'o': '2.0546500000'}, 'USDJPY': {'b': '148.6800000000', 'o': '148.6760000000'}, 'CADCHF': {'b': '0.5838800000', 'o': '0.5838200000'}, 'EURNZD': {'b': '1.9545400000', '
2025-07-16 00:13:12,712 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPAUD': {'b': '2.0547800000', 'o': '2.0546500000'}, 'USDJPY': {'b': '148.6800000000', 'o': '148.6760000000'}, 'CADCHF': {'b': '0.5838800000', 'o': '0.5838200000'}, 'EURNZD': {'b': '1.9545400000', '...
2025-07-16 00:13:12,721 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:13:12,849 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:12,852 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:13,869 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:13,872 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:14,878 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:14,881 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:14,963 - DEBUG - app.firebase_stream - Firebase listener triggered (137). Event Type: patch, Path: /. Timestamp: 1752649994.9637194
2025-07-16 00:13:14,964 - DEBUG - app.firebase_stream - Prepared batch update for 30 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4340000000', 'o': '88.4290000000'}, 'GBPAUD': {'b': '2.0548100000', 'o': '2.0546600000'}, 'USDJPY': {'b': '148.6810000000', 'o': '148.6810000000'}, 'USDCNH': {'b': '7.1812000000',
2025-07-16 00:13:14,964 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4340000000', 'o': '88.4290000000'}, 'GBPAUD': {'b': '2.0548100000', 'o': '2.0546600000'}, 'USDJPY': {'b': '148.6810000000', 'o': '148.6810000000'}, 'USDCNH': {'b': '7.1812000000',...
2025-07-16 00:13:14,965 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:13:15,890 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:15,894 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:16,897 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:16,903 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:17,243 - DEBUG - app.firebase_stream - Firebase listener triggered (138). Event Type: patch, Path: /. Timestamp: 1752649997.2429726
2025-07-16 00:13:17,243 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.8990000000', 'o': '37.8950000000'}, 'NZDJPY': {'b': '88.4360000000', 'o': '88.4280000000'}, 'BTCUSD': {'b': '118049.9000000000', 'o': '118049.8000000000'}, 'USDJPY': {'b': '148.68
2025-07-16 00:13:17,244 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.8990000000', 'o': '37.8950000000'}, 'NZDJPY': {'b': '88.4360000000', 'o': '88.4280000000'}, 'BTCUSD': {'b': '118049.9000000000', 'o': '118049.8000000000'}, 'USDJPY': {'b': '148.68...
2025-07-16 00:13:17,244 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:13:17,922 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:17,927 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:18,936 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:18,938 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:19,564 - DEBUG - app.firebase_stream - Firebase listener triggered (139). Event Type: patch, Path: /. Timestamp: 1752649999.56397
2025-07-16 00:13:19,564 - DEBUG - app.firebase_stream - Prepared batch update for 36 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0262000000', 'o': '13.0236000000'}, 'XAGUSD': {'b': '37.8980000000', 'o': '37.8930000000'}, 'NZDJPY': {'b': '88.4310000000', 'o': '88.4270000000'}, 'GBPAUD': {'b': '2.0548000000',
2025-07-16 00:13:19,564 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0262000000', 'o': '13.0236000000'}, 'XAGUSD': {'b': '37.8980000000', 'o': '37.8930000000'}, 'NZDJPY': {'b': '88.4310000000', 'o': '88.4270000000'}, 'GBPAUD': {'b': '2.0548000000',...
2025-07-16 00:13:19,564 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:13:19,945 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:19,948 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:20,950 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:20,953 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:21,859 - DEBUG - app.firebase_stream - Firebase listener triggered (140). Event Type: patch, Path: /. Timestamp: 1752650001.85925
2025-07-16 00:13:21,860 - DEBUG - app.firebase_stream - Prepared batch update for 37 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0264000000', 'o': '13.0238000000'}, 'NZDJPY': {'b': '88.4390000000', 'o': '88.4300000000'}, 'GBPAUD': {'b': '2.0547500000', 'o': '2.0546100000'}, 'BTCUSD': {'b': '118041.900000000
2025-07-16 00:13:21,860 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0264000000', 'o': '13.0238000000'}, 'NZDJPY': {'b': '88.4390000000', 'o': '88.4300000000'}, 'GBPAUD': {'b': '2.0547500000', 'o': '2.0546100000'}, 'BTCUSD': {'b': '118041.900000000...
2025-07-16 00:13:21,860 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:13:21,956 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:21,961 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:22,978 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:22,983 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:23,992 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:23,996 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:24,146 - DEBUG - app.firebase_stream - Firebase listener triggered (141). Event Type: patch, Path: /. Timestamp: 1752650004.1467445
2025-07-16 00:13:24,147 - DEBUG - app.firebase_stream - Prepared batch update for 22 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0261000000', 'o': '13.0235000000'}, 'XAGUSD': {'b': '37.9010000000', 'o': '37.8940000000'}, 'NZDJPY': {'b': '88.4330000000', 'o': '88.4240000000'}, 'GBPAUD': {'b': '2.0547100000',
2025-07-16 00:13:24,147 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0261000000', 'o': '13.0235000000'}, 'XAGUSD': {'b': '37.9010000000', 'o': '37.8940000000'}, 'NZDJPY': {'b': '88.4330000000', 'o': '88.4240000000'}, 'GBPAUD': {'b': '2.0547100000',...
2025-07-16 00:13:24,149 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:13:25,005 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:25,011 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:26,014 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:26,016 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:26,482 - DEBUG - app.firebase_stream - Firebase listener triggered (142). Event Type: patch, Path: /. Timestamp: 1752650006.4826972
2025-07-16 00:13:26,484 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0263000000', 'o': '13.0237000000'}, 'XAGUSD': {'b': '37.8990000000', 'o': '37.8930000000'}, 'NZDJPY': {'b': '88.4410000000', 'o': '88.4330000000'}, 'GBPAUD': {'b': '2.0547200000',
2025-07-16 00:13:26,485 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0263000000', 'o': '13.0237000000'}, 'XAGUSD': {'b': '37.8990000000', 'o': '37.8930000000'}, 'NZDJPY': {'b': '88.4410000000', 'o': '88.4330000000'}, 'GBPAUD': {'b': '2.0547200000',...
2025-07-16 00:13:26,485 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:13:26,657 - INFO - app - Starting cache validation task
2025-07-16 00:13:26,670 - INFO - app - Validating cache for 31 users
2025-07-16 00:13:26,672 - WARNING - app - User 4: Missing balance/margin cache, refreshing...
2025-07-16 00:13:26,687 - WARNING - app - User 5: Missing balance/margin cache, refreshing...
2025-07-16 00:13:26,692 - WARNING - app - User 8: Missing balance/margin cache, refreshing...
2025-07-16 00:13:26,705 - WARNING - app - User 9: Missing balance/margin cache, refreshing...
2025-07-16 00:13:26,717 - WARNING - app - User 10: Missing balance/margin cache, refreshing...
2025-07-16 00:13:26,726 - WARNING - app - User 11: Missing balance/margin cache, refreshing...
2025-07-16 00:13:26,735 - WARNING - app - User 12: Missing balance/margin cache, refreshing...
2025-07-16 00:13:26,746 - WARNING - app - User 13: Missing balance/margin cache, refreshing...
2025-07-16 00:13:26,758 - WARNING - app - User 14: Missing balance/margin cache, refreshing...
2025-07-16 00:13:26,770 - WARNING - app - User 16: Missing balance/margin cache, refreshing...
2025-07-16 00:13:26,784 - WARNING - app - User 17: Missing balance/margin cache, refreshing...
2025-07-16 00:13:26,795 - WARNING - app - User 18: Missing balance/margin cache, refreshing...
2025-07-16 00:13:26,806 - WARNING - app - User 19: Missing balance/margin cache, refreshing...
2025-07-16 00:13:26,818 - WARNING - app - User 20: Missing balance/margin cache, refreshing...
2025-07-16 00:13:26,829 - WARNING - app - User 21: Missing balance/margin cache, refreshing...
2025-07-16 00:13:26,840 - WARNING - app - User 22: Missing balance/margin cache, refreshing...
2025-07-16 00:13:26,851 - WARNING - app - User 23: Missing balance/margin cache, refreshing...
2025-07-16 00:13:26,868 - WARNING - app - User 24: Missing balance/margin cache, refreshing...
2025-07-16 00:13:26,879 - WARNING - app - User 25: Missing balance/margin cache, refreshing...
2025-07-16 00:13:26,885 - WARNING - app - User 26: Missing balance/margin cache, refreshing...
2025-07-16 00:13:26,894 - WARNING - app - User 1: Missing balance/margin cache, refreshing...
2025-07-16 00:13:26,901 - WARNING - app - User 2: Missing balance/margin cache, refreshing...
2025-07-16 00:13:26,904 - WARNING - app - User 3: Missing balance/margin cache, refreshing...
2025-07-16 00:13:26,914 - WARNING - app - User 5: Missing balance/margin cache, refreshing...
2025-07-16 00:13:26,918 - WARNING - app - User 6: Missing balance/margin cache, refreshing...
2025-07-16 00:13:26,925 - INFO - app - Cache validation completed
2025-07-16 00:13:27,035 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:27,038 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:28,040 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:28,043 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:28,787 - DEBUG - app.firebase_stream - Firebase listener triggered (143). Event Type: patch, Path: /. Timestamp: 1752650008.7876549
2025-07-16 00:13:28,788 - DEBUG - app.firebase_stream - Prepared batch update for 38 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0263100000', 'o': '13.0238000000'}, 'NZDJPY': {'b': '88.4380000000', 'o': '88.4290000000'}, 'GBPAUD': {'b': '2.0547700000', 'o': '2.0546700000'}, 'USDJPY': {'b': '148.6920000000',
2025-07-16 00:13:28,789 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0263100000', 'o': '13.0238000000'}, 'NZDJPY': {'b': '88.4380000000', 'o': '88.4290000000'}, 'GBPAUD': {'b': '2.0547700000', 'o': '2.0546700000'}, 'USDJPY': {'b': '148.6920000000',...
2025-07-16 00:13:28,794 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:13:29,046 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:29,051 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:30,059 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:30,062 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:31,069 - DEBUG - app.firebase_stream - Firebase listener triggered (144). Event Type: patch, Path: /. Timestamp: 1752650011.0690298
2025-07-16 00:13:31,069 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:31,069 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0261500000', 'o': '13.0238000000'}, 'NZDJPY': {'b': '88.4400000000', 'o': '88.4300000000'}, 'GBPAUD': {'b': '2.0547300000', 'o': '2.0545900000'}, 'USDJPY': {'b': '148.6910000000',
2025-07-16 00:13:31,070 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0261500000', 'o': '13.0238000000'}, 'NZDJPY': {'b': '88.4400000000', 'o': '88.4300000000'}, 'GBPAUD': {'b': '2.0547300000', 'o': '2.0545900000'}, 'USDJPY': {'b': '148.6910000000',...
2025-07-16 00:13:31,070 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:13:31,074 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:32,112 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:32,116 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:33,132 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:33,136 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:33,386 - DEBUG - app.firebase_stream - Firebase listener triggered (145). Event Type: patch, Path: /. Timestamp: 1752650013.3860874
2025-07-16 00:13:33,386 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4400000000', 'o': '88.4340000000'}, 'GBPAUD': {'b': '2.0547300000', 'o': '2.0546200000'}, 'USDJPY': {'b': '148.6860000000', 'o': '148.6860000000'}, 'USDCNH': {'b': '7.1815900000',
2025-07-16 00:13:33,387 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4400000000', 'o': '88.4340000000'}, 'GBPAUD': {'b': '2.0547300000', 'o': '2.0546200000'}, 'USDJPY': {'b': '148.6860000000', 'o': '148.6860000000'}, 'USDCNH': {'b': '7.1815900000',...
2025-07-16 00:13:33,387 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:13:34,142 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:34,146 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:35,163 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:35,169 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:35,695 - DEBUG - app.firebase_stream - Firebase listener triggered (146). Event Type: patch, Path: /. Timestamp: 1752650015.6959116
2025-07-16 00:13:35,696 - DEBUG - app.firebase_stream - Prepared batch update for 40 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0271000000', 'o': '13.0245000000'}, 'XAGUSD': {'b': '37.9010000000', 'o': '37.8980000000'}, 'NZDJPY': {'b': '88.4470000000', 'o': '88.4390000000'}, 'GBPAUD': {'b': '2.0548100000',
2025-07-16 00:13:35,697 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0271000000', 'o': '13.0245000000'}, 'XAGUSD': {'b': '37.9010000000', 'o': '37.8980000000'}, 'NZDJPY': {'b': '88.4470000000', 'o': '88.4390000000'}, 'GBPAUD': {'b': '2.0548100000',...
2025-07-16 00:13:35,701 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:13:36,184 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:36,190 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:37,193 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:37,196 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:38,012 - DEBUG - app.firebase_stream - Firebase listener triggered (147). Event Type: patch, Path: /. Timestamp: 1752650018.0127504
2025-07-16 00:13:38,013 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9030000000', 'o': '37.8970000000'}, 'NZDJPY': {'b': '88.4480000000', 'o': '88.4390000000'}, 'GBPAUD': {'b': '2.0547200000', 'o': '2.0546000000'}, 'BTCUSD': {'b': '118049.800000000
2025-07-16 00:13:38,014 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9030000000', 'o': '37.8970000000'}, 'NZDJPY': {'b': '88.4480000000', 'o': '88.4390000000'}, 'GBPAUD': {'b': '2.0547200000', 'o': '2.0546000000'}, 'BTCUSD': {'b': '118049.800000000...
2025-07-16 00:13:38,016 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:13:38,197 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:38,201 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:39,209 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:39,213 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:40,230 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:40,234 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:40,304 - DEBUG - app.firebase_stream - Firebase listener triggered (148). Event Type: patch, Path: /. Timestamp: 1752650020.3046095
2025-07-16 00:13:40,305 - DEBUG - app.firebase_stream - Prepared batch update for 26 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9020000000', 'o': '37.8970000000'}, 'GBPAUD': {'b': '2.0547200000', 'o': '2.0545700000'}, 'USDJPY': {'b': '148.6920000000', 'o': '148.6880000000'}, 'USDCNH': {'b': '7.1814600000',
2025-07-16 00:13:40,306 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9020000000', 'o': '37.8970000000'}, 'GBPAUD': {'b': '2.0547200000', 'o': '2.0545700000'}, 'USDJPY': {'b': '148.6920000000', 'o': '148.6880000000'}, 'USDCNH': {'b': '7.1814600000',...
2025-07-16 00:13:40,307 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:13:41,247 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:41,252 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:42,260 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:42,264 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:42,596 - DEBUG - app.firebase_stream - Firebase listener triggered (149). Event Type: patch, Path: /. Timestamp: 1752650022.596346
2025-07-16 00:13:42,596 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0260000000', 'o': '13.0234000000'}, 'NZDJPY': {'b': '88.4340000000', 'o': '88.4260000000'}, 'GBPAUD': {'b': '2.0546500000', 'o': '2.0545700000'}, 'BTCUSD': {'b': '118035.400000000
2025-07-16 00:13:42,597 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0260000000', 'o': '13.0234000000'}, 'NZDJPY': {'b': '88.4340000000', 'o': '88.4260000000'}, 'GBPAUD': {'b': '2.0546500000', 'o': '2.0545700000'}, 'BTCUSD': {'b': '118035.400000000...
2025-07-16 00:13:42,597 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:13:43,273 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:43,277 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:44,282 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:44,286 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:44,910 - DEBUG - app.firebase_stream - Firebase listener triggered (150). Event Type: patch, Path: /. Timestamp: 1752650024.9100556
2025-07-16 00:13:44,910 - DEBUG - app.firebase_stream - Prepared batch update for 35 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0267000000', 'o': '13.0241000000'}, 'XAGUSD': {'b': '37.8980000000', 'o': '37.8940000000'}, 'NZDJPY': {'b': '88.4480000000', 'o': '88.4400000000'}, 'GBPAUD': {'b': '2.0546900000',
2025-07-16 00:13:44,911 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0267000000', 'o': '13.0241000000'}, 'XAGUSD': {'b': '37.8980000000', 'o': '37.8940000000'}, 'NZDJPY': {'b': '88.4480000000', 'o': '88.4400000000'}, 'GBPAUD': {'b': '2.0546900000',...
2025-07-16 00:13:44,911 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:13:45,295 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:45,300 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:46,315 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:46,320 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:47,185 - DEBUG - app.firebase_stream - Firebase listener triggered (151). Event Type: patch, Path: /. Timestamp: 1752650027.1858468
2025-07-16 00:13:47,186 - DEBUG - app.firebase_stream - Prepared batch update for 24 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9040000000', 'o': '37.8990000000'}, 'NZDJPY': {'b': '88.4340000000', 'o': '88.4260000000'}, 'GBPAUD': {'b': '2.0547100000', 'o': '2.0545700000'}, 'BTCUSD': {'b': '118064.600000000
2025-07-16 00:13:47,187 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9040000000', 'o': '37.8990000000'}, 'NZDJPY': {'b': '88.4340000000', 'o': '88.4260000000'}, 'GBPAUD': {'b': '2.0547100000', 'o': '2.0545700000'}, 'BTCUSD': {'b': '118064.600000000...
2025-07-16 00:13:47,187 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:13:47,322 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:47,325 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:48,329 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:48,331 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:49,343 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:49,347 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:49,488 - DEBUG - app.firebase_stream - Firebase listener triggered (152). Event Type: patch, Path: /. Timestamp: 1752650029.4880507
2025-07-16 00:13:49,488 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0275000000', 'o': '13.0249000000'}, 'NZDJPY': {'b': '88.4370000000', 'o': '88.4290000000'}, 'GBPAUD': {'b': '2.0547900000', 'o': '2.0546600000'}, 'USDJPY': {'b': '148.6900000000',
2025-07-16 00:13:49,488 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0275000000', 'o': '13.0249000000'}, 'NZDJPY': {'b': '88.4370000000', 'o': '88.4290000000'}, 'GBPAUD': {'b': '2.0547900000', 'o': '2.0546600000'}, 'USDJPY': {'b': '148.6900000000',...
2025-07-16 00:13:49,489 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:13:50,365 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:50,368 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:51,371 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:51,374 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:51,773 - DEBUG - app.firebase_stream - Firebase listener triggered (153). Event Type: patch, Path: /. Timestamp: 1752650031.7734427
2025-07-16 00:13:51,773 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0272000000', 'o': '13.0247200000'}, 'NZDJPY': {'b': '88.4480000000', 'o': '88.4400000000'}, 'GBPAUD': {'b': '2.0547700000', 'o': '2.0546200000'}, 'BTCUSD': {'b': '118041.900000000
2025-07-16 00:13:51,773 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0272000000', 'o': '13.0247200000'}, 'NZDJPY': {'b': '88.4480000000', 'o': '88.4400000000'}, 'GBPAUD': {'b': '2.0547700000', 'o': '2.0546200000'}, 'BTCUSD': {'b': '118041.900000000...
2025-07-16 00:13:51,774 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:13:52,377 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:52,381 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:53,385 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:53,389 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:54,095 - DEBUG - app.firebase_stream - Firebase listener triggered (154). Event Type: patch, Path: /. Timestamp: 1752650034.0950904
2025-07-16 00:13:54,095 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0275000000', 'o': '13.0249000000'}, 'NZDJPY': {'b': '88.4320000000', 'o': '88.4270000000'}, 'GBPAUD': {'b': '2.0547200000', 'o': '2.0545400000'}, 'BTCUSD': {'b': '118064.600000000
2025-07-16 00:13:54,096 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0275000000', 'o': '13.0249000000'}, 'NZDJPY': {'b': '88.4320000000', 'o': '88.4270000000'}, 'GBPAUD': {'b': '2.0547200000', 'o': '2.0545400000'}, 'BTCUSD': {'b': '118064.600000000...
2025-07-16 00:13:54,096 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:13:54,392 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:54,395 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:55,398 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:55,402 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:56,417 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:56,423 - DEBUG - app.firebase_stream - Firebase listener triggered (155). Event Type: patch, Path: /. Timestamp: 1752650036.4234445
2025-07-16 00:13:56,426 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0261000000', 'o': '13.0235000000'}, 'XAGUSD': {'b': '37.8980000000', 'o': '37.8920000000'}, 'NZDJPY': {'b': '88.4330000000', 'o': '88.4270000000'}, 'BTCUSD': {'b': '118064.7000000
2025-07-16 00:13:56,427 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:56,429 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0261000000', 'o': '13.0235000000'}, 'XAGUSD': {'b': '37.8980000000', 'o': '37.8920000000'}, 'NZDJPY': {'b': '88.4330000000', 'o': '88.4270000000'}, 'BTCUSD': {'b': '118064.7000000...
2025-07-16 00:13:56,434 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:13:57,449 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:57,453 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:58,455 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:58,459 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:13:58,786 - DEBUG - app.firebase_stream - Firebase listener triggered (156). Event Type: patch, Path: /. Timestamp: 1752650038.78635
2025-07-16 00:13:58,786 - DEBUG - app.firebase_stream - Prepared batch update for 30 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0275000000', 'o': '13.0249000000'}, 'XAGUSD': {'b': '37.8990000000', 'o': '37.8960000000'}, 'NZDJPY': {'b': '88.4460000000', 'o': '88.4400000000'}, 'GBPAUD': {'b': '2.0546900000',
2025-07-16 00:13:58,788 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0275000000', 'o': '13.0249000000'}, 'XAGUSD': {'b': '37.8990000000', 'o': '37.8960000000'}, 'NZDJPY': {'b': '88.4460000000', 'o': '88.4400000000'}, 'GBPAUD': {'b': '2.0546900000',...
2025-07-16 00:13:58,791 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:13:59,475 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:13:59,480 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:00,497 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:00,502 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:01,024 - DEBUG - app.firebase_stream - Firebase listener triggered (157). Event Type: patch, Path: /. Timestamp: 1752650041.024902
2025-07-16 00:14:01,025 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0272000000', 'o': '13.0247200000'}, 'NZDJPY': {'b': '88.4470000000', 'o': '88.4400000000'}, 'GBPAUD': {'b': '2.0547200000', 'o': '2.0545500000'}, 'BTCUSD': {'b': '118056.240000000
2025-07-16 00:14:01,026 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0272000000', 'o': '13.0247200000'}, 'NZDJPY': {'b': '88.4470000000', 'o': '88.4400000000'}, 'GBPAUD': {'b': '2.0547200000', 'o': '2.0545500000'}, 'BTCUSD': {'b': '118056.240000000...
2025-07-16 00:14:01,026 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:14:01,517 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:01,521 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:02,147 - WARNING - app - User 4 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:14:02,152 - WARNING - app - No user data found for user 5 (live). Skipping portfolio update.
2025-07-16 00:14:02,160 - WARNING - app - No group settings found for group string. Skipping portfolio update for user 8.
2025-07-16 00:14:02,182 - WARNING - app - User 9 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:14:02,204 - WARNING - app - User 10 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:14:02,226 - WARNING - app - User 11 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:14:02,247 - WARNING - app - User 12 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:14:02,268 - WARNING - app - User 13 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:14:02,651 - DEBUG - app.services.portfolio_calculator - Position calculation for BTCUSD: Type=BUY, Entry=118908.50000000, Current=117996.24, Quantity=0.40000000, Contract Size=1.00000000, PnL=-364.904000000000000000000000, PnL USD=-364.904000000000000000000000, Commission=235.57000000, Final PnL=-600.474000000000000000000000
2025-07-16 00:14:02,652 - WARNING - app.services.portfolio_calculator - MARGIN CALL ALERT: User has margin level 98.71391836548431293266388828% which is below threshold 100.0%
2025-07-16 00:14:02,652 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:02,656 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:02,680 - WARNING - app - User 16 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:14:02,705 - WARNING - app - User 17 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:14:02,730 - WARNING - app - User 18 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:14:02,752 - WARNING - app - User 19 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:14:02,773 - WARNING - app - User 20 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:14:02,791 - WARNING - app - User 21 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:14:02,811 - WARNING - app - User 22 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:14:02,829 - WARNING - app - User 23 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:14:02,848 - WARNING - app - User 24 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:14:02,861 - WARNING - app - User 25 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:14:03,266 - DEBUG - app.services.portfolio_calculator - Position calculation for XAGUSD: Type=BUY, Entry=41.09800000, Current=37.8835, Quantity=0.01000000, Contract Size=5000.00000000, PnL=-160.725000000000000000000000, PnL USD=-160.725000000000000000000000, Commission=0.10000000, Final PnL=-160.825000000000000000000000
2025-07-16 00:14:03,266 - DEBUG - app.services.portfolio_calculator - Position calculation for BTCUSD: Type=BUY, Entry=132091.90000000, Current=117996.24, Quantity=6.00000000, Contract Size=1.00000000, PnL=-84573.96000000000000000000000, PnL USD=-84573.96000000000000000000000, Commission=3661.62000000, Final PnL=-88235.58000000000000000000000
2025-07-16 00:14:03,266 - WARNING - app.services.portfolio_calculator - MARGIN CALL ALERT: User has margin level 65.50141800014704630463556990% which is below threshold 100.0%
2025-07-16 00:14:03,300 - DEBUG - app.firebase_stream - Firebase listener triggered (158). Event Type: patch, Path: /. Timestamp: 1752650043.300767
2025-07-16 00:14:03,302 - DEBUG - app.firebase_stream - Prepared batch update for 26 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0272000000', 'o': '13.0246700000'}, 'NZDJPY': {'b': '88.4460000000', 'o': '88.4400000000'}, 'GBPAUD': {'b': '2.0547000000', 'o': '2.0545400000'}, 'USDJPY': {'b': '148.6910000000',
2025-07-16 00:14:03,304 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0272000000', 'o': '13.0246700000'}, 'NZDJPY': {'b': '88.4460000000', 'o': '88.4400000000'}, 'GBPAUD': {'b': '2.0547000000', 'o': '2.0545400000'}, 'USDJPY': {'b': '148.6910000000',...
2025-07-16 00:14:03,304 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:14:03,782 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=96.66800000, Current=96.971, Quantity=0.01000000, Contract Size=100000.00000000, PnL=303.000000000000000000000000, PnL USD=2.037783053446408995837004257, Commission=0.10000000, Final PnL=1.937783053446408995837004257
2025-07-16 00:14:03,782 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:03,786 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=96.56000000, Current=97.075, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-515.000000000000000000000000, PnL USD=-3.463558655197691857610749810, Commission=0.10000000, Final PnL=-3.563558655197691857610749810
2025-07-16 00:14:03,790 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:03,791 - WARNING - app - User 2 has no group_name set. Skipping portfolio update.
2025-07-16 00:14:03,798 - WARNING - app - No group settings found for group string. Skipping portfolio update for user 3.
2025-07-16 00:14:03,824 - WARNING - app - User 4 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:14:03,825 - WARNING - app - User 5 has no group_name set. Skipping portfolio update.
2025-07-16 00:14:03,826 - WARNING - app - User 6 has no group_name set. Skipping portfolio update.
2025-07-16 00:14:04,292 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64743000, Current=0.65237, Quantity=0.10000000, Contract Size=100000.00000000, PnL=49.400000000000000000000000, PnL USD=49.400000000000000000000000, Commission=1.00000000, Final PnL=48.400000000000000000000000
2025-07-16 00:14:04,293 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=SELL, Entry=0.64707000, Current=0.65269, Quantity=0.22000000, Contract Size=100000.00000000, PnL=-123.640000000000000000000000, PnL USD=-123.640000000000000000000000, Commission=2.20000000, Final PnL=-125.840000000000000000000000
2025-07-16 00:14:04,294 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFSGD: Type=BUY, Entry=1.57561500, Current=1.6038050000000001, Quantity=0.10000000, Contract Size=100000.00000000, PnL=281.9000000000010000000000000, PnL USD=219.5021296144899437034268495, Commission=1.00000000, Final PnL=218.5021296144899437034268495
2025-07-16 00:14:04,295 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFSGD: Type=SELL, Entry=1.57505500, Current=1.604225, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-291.700000000000000000000000, PnL USD=-227.1329237621372452833126990, Commission=1.00000000, Final PnL=-228.1329237621372452833126990
2025-07-16 00:14:04,296 - DEBUG - app.services.portfolio_calculator - Position calculation for CADJPY: Type=SELL, Entry=106.24150000, Current=108.4515, Quantity=0.15000000, Contract Size=100000.00000000, PnL=-33150.00000000000000000000000, PnL USD=-222.9455716889388059801870994, Commission=0E-8, Final PnL=-222.9455716889388059801870994
2025-07-16 00:14:04,297 - DEBUG - app.services.portfolio_calculator - Position calculation for CADJPY: Type=BUY, Entry=106.27050000, Current=108.4165, Quantity=0.15000000, Contract Size=100000.00000000, PnL=32190.00000000000000000000000, PnL USD=216.4892293413858269834757988, Commission=0E-8, Final PnL=216.4892293413858269834757988
2025-07-16 00:14:04,297 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=BUY, Entry=1.77481000, Current=1.7813299999999999, Quantity=0.22000000, Contract Size=100000.00000000, PnL=143.4399999999978000000000000, PnL USD=93.60033759999856441200000000, Commission=2.20000000, Final PnL=91.40033759999856441200000000
2025-07-16 00:14:04,297 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=SELL, Entry=1.77439000, Current=1.7817200000000002, Quantity=0.21000000, Contract Size=100000.00000000, PnL=-153.9300000000042000000000000, PnL USD=-100.4454822000027406680000000, Commission=2.10000000, Final PnL=-102.5454822000027406680000000
2025-07-16 00:14:04,298 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFJPY: Type=BUY, Entry=178.15500000, Current=185.685, Quantity=0.10000000, Contract Size=100000.00000000, PnL=75300.00000000000000000000000, PnL USD=506.4193528861867900545426421, Commission=1.00000000, Final PnL=505.4193528861867900545426421
2025-07-16 00:14:04,299 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFJPY: Type=SELL, Entry=178.09500000, Current=185.73499999999999, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-76399.99999999990000000000000, PnL USD=-513.8172451594239059526131373, Commission=1.00000000, Final PnL=-514.8172451594239059526131373
2025-07-16 00:14:04,300 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=BUY, Entry=1.77480000, Current=1.7813299999999999, Quantity=0.05000000, Contract Size=100000.00000000, PnL=32.64999999999950000000000000, PnL USD=21.30543099999967373000000000, Commission=0.50000000, Final PnL=20.80543099999967373000000000
2025-07-16 00:14:04,300 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=SELL, Entry=1.77442000, Current=1.7817200000000002, Quantity=0.05000000, Contract Size=100000.00000000, PnL=-36.50000000000100000000000000, PnL USD=-23.81771000000065254000000000, Commission=0.50000000, Final PnL=-24.31771000000065254000000000
2025-07-16 00:14:04,300 - DEBUG - app.services.portfolio_calculator - Position calculation for EURGBP: Type=SELL, Entry=0.85403000, Current=0.86732, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-132.900000000000000000000000, PnL USD=-178.1816880000000000000000000, Commission=1.00000000, Final PnL=-179.1816880000000000000000000
2025-07-16 00:14:04,301 - DEBUG - app.services.portfolio_calculator - Position calculation for EURJPY: Type=BUY, Entry=167.26050000, Current=172.8325, Quantity=0.10000000, Contract Size=100000.00000000, PnL=55720.00000000000000000000000, PnL USD=374.7368704225541559341184066, Commission=1.00000000, Final PnL=373.7368704225541559341184066
2025-07-16 00:14:04,302 - DEBUG - app.services.portfolio_calculator - Position calculation for EURJPY: Type=SELL, Entry=167.23150000, Current=172.86249999999998, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-56309.99999999980000000000000, PnL USD=-378.7048308236530792045248199, Commission=1.00000000, Final PnL=-379.7048308236530792045248199
2025-07-16 00:14:04,302 - DEBUG - app.services.portfolio_calculator - Position calculation for EURNZD: Type=SELL, Entry=1.91952500, Current=1.954535, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-350.100000000000000000000000, PnL USD=-208.2464820000000000000000000, Commission=1.00000000, Final PnL=-209.2464820000000000000000000
2025-07-16 00:14:04,303 - DEBUG - app.services.portfolio_calculator - Position calculation for EURNZD: Type=BUY, Entry=1.92063500, Current=1.9540950000000001, Quantity=0.10000000, Contract Size=100000.00000000, PnL=334.6000000000010000000000000, PnL USD=199.0267720000005948200000000, Commission=1.00000000, Final PnL=198.0267720000005948200000000
2025-07-16 00:14:04,303 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=SELL, Entry=1.34376000, Current=1.34082, Quantity=0.25000000, Contract Size=0E-8, PnL=0E-24, PnL USD=0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:14:04,303 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=SELL, Entry=1.34361000, Current=1.34082, Quantity=0.25000000, Contract Size=0E-8, PnL=0E-24, PnL USD=0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:14:04,303 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=BUY, Entry=1.34379000, Current=1.34061, Quantity=0.25000000, Contract Size=0E-8, PnL=-0E-24, PnL USD=-0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:14:04,303 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=BUY, Entry=1.34378000, Current=1.34061, Quantity=0.25000000, Contract Size=0E-8, PnL=-0E-24, PnL USD=-0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:14:04,304 - DEBUG - app.services.portfolio_calculator - Position calculation for NZDJPY: Type=BUY, Entry=87.10150000, Current=88.4275, Quantity=0.01000000, Contract Size=100000.00000000, PnL=1326.000000000000000000000000, PnL USD=8.917822867557552239207483977, Commission=0.10000000, Final PnL=8.817822867557552239207483977
2025-07-16 00:14:04,305 - DEBUG - app.services.portfolio_calculator - Position calculation for USDCHF: Type=SELL, Entry=0.81771000, Current=0.8008299999999999, Quantity=0.15000000, Contract Size=100000.00000000, PnL=253.2000000000015000000000000, PnL USD=316.2312034770463855722635760, Commission=1.50000000, Final PnL=314.7312034770463855722635760
2025-07-16 00:14:04,306 - DEBUG - app.services.portfolio_calculator - Position calculation for USDCHF: Type=BUY, Entry=0.81805000, Current=0.8005, Quantity=0.15000000, Contract Size=100000.00000000, PnL=-263.250000000000000000000000, PnL USD=-328.7830344207423689863615926, Commission=1.50000000, Final PnL=-330.2830344207423689863615926
2025-07-16 00:14:04,307 - DEBUG - app.services.portfolio_calculator - Position calculation for USDNOK: Type=BUY, Entry=10.04973000, Current=10.25428, Quantity=0.10000000, Contract Size=100000.00000000, PnL=2045.500000000000000000000000, PnL USD=199.4490895351388245618311679, Commission=1.00000000, Final PnL=198.4490895351388245618311679
2025-07-16 00:14:04,308 - DEBUG - app.services.portfolio_calculator - Position calculation for USDNOK: Type=BUY, Entry=10.05023000, Current=10.25428, Quantity=0.10000000, Contract Size=100000.00000000, PnL=2040.500000000000000000000000, PnL USD=198.9615581503059259439826439, Commission=1.00000000, Final PnL=197.9615581503059259439826439
2025-07-16 00:14:04,309 - DEBUG - app.services.portfolio_calculator - Position calculation for USDSGD: Type=SELL, Entry=1.28795000, Current=1.2844200000000001, Quantity=0.31000000, Contract Size=100000.00000000, PnL=109.4299999999969000000000000, PnL USD=85.20793914052099636369299291, Commission=3.10000000, Final PnL=82.10793914052099636369299291
2025-07-16 00:14:04,310 - DEBUG - app.services.portfolio_calculator - Position calculation for USDTRY: Type=SELL, Entry=39.56087000, Current=40.25221, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-6913.400000000000000000000000, PnL USD=-171.7527003586897167499005020, Commission=1.00000000, Final PnL=-172.7527003586897167499005020
2025-07-16 00:14:04,804 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:04,807 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:05,521 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.89752000, Current=0.89478, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-2.740000000000000000000000, PnL USD=-1.998045707118584741931249727, Commission=0.10000000, Final PnL=-2.098045707118584741931249727
2025-07-16 00:14:05,552 - WARNING - app - User 12 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:14:05,577 - WARNING - app - User 13 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:14:05,636 - DEBUG - app.firebase_stream - Firebase listener triggered (159). Event Type: patch, Path: /. Timestamp: 1752650045.6361701
2025-07-16 00:14:05,636 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4460000000', 'o': '88.4380000000'}, 'GBPAUD': {'b': '2.0546700000', 'o': '2.0545000000'}, 'BTCUSD': {'b': '118044.4000000000', 'o': '118044.3000000000'}, 'USDJPY': {'b': '148.6920
2025-07-16 00:14:05,637 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4460000000', 'o': '88.4380000000'}, 'GBPAUD': {'b': '2.0546700000', 'o': '2.0545000000'}, 'BTCUSD': {'b': '118044.4000000000', 'o': '118044.3000000000'}, 'USDJPY': {'b': '148.6920...
2025-07-16 00:14:05,637 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:14:05,809 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:05,812 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:06,815 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:06,819 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:07,822 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:07,826 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:07,894 - DEBUG - app.firebase_stream - Firebase listener triggered (160). Event Type: patch, Path: /. Timestamp: 1752650047.89425
2025-07-16 00:14:07,894 - DEBUG - app.firebase_stream - Prepared batch update for 23 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0274000000', 'o': '13.0248000000'}, 'NZDJPY': {'b': '88.4460000000', 'o': '88.4370000000'}, 'GBPAUD': {'b': '2.0546800000', 'o': '2.0545200000'}, 'USDJPY': {'b': '148.6890000000',
2025-07-16 00:14:07,895 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0274000000', 'o': '13.0248000000'}, 'NZDJPY': {'b': '88.4460000000', 'o': '88.4370000000'}, 'GBPAUD': {'b': '2.0546800000', 'o': '2.0545200000'}, 'USDJPY': {'b': '148.6890000000',...
2025-07-16 00:14:07,903 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:14:08,842 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:08,847 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:09,850 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:09,854 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:10,257 - DEBUG - app.firebase_stream - Firebase listener triggered (161). Event Type: patch, Path: /. Timestamp: 1752650050.2572489
2025-07-16 00:14:10,257 - DEBUG - app.firebase_stream - Prepared batch update for 30 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0273000000', 'o': '13.0247000000'}, 'XAGUSD': {'b': '37.9010000000', 'o': '37.8970000000'}, 'NZDJPY': {'b': '88.4460000000', 'o': '88.4400000000'}, 'GBPAUD': {'b': '2.0546800000',
2025-07-16 00:14:10,259 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0273000000', 'o': '13.0247000000'}, 'XAGUSD': {'b': '37.9010000000', 'o': '37.8970000000'}, 'NZDJPY': {'b': '88.4460000000', 'o': '88.4400000000'}, 'GBPAUD': {'b': '2.0546800000',...
2025-07-16 00:14:10,260 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:14:10,856 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:10,861 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:11,863 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:11,867 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:12,455 - DEBUG - app.firebase_stream - Firebase listener triggered (162). Event Type: patch, Path: /. Timestamp: 1752650052.455104
2025-07-16 00:14:12,455 - DEBUG - app.firebase_stream - Prepared batch update for 24 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0276000000', 'o': '13.0250000000'}, 'GBPAUD': {'b': '2.0546800000', 'o': '2.0545500000'}, 'CADCHF': {'b': '0.5839000000', 'o': '0.5838400000'}, 'EURNZD': {'b': '1.9544100000', 'o'
2025-07-16 00:14:12,456 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0276000000', 'o': '13.0250000000'}, 'GBPAUD': {'b': '2.0546800000', 'o': '2.0545500000'}, 'CADCHF': {'b': '0.5839000000', 'o': '0.5838400000'}, 'EURNZD': {'b': '1.9544100000', 'o'...
2025-07-16 00:14:12,457 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:14:12,871 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:12,875 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:13,890 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:13,893 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:14,858 - DEBUG - app.firebase_stream - Firebase listener triggered (163). Event Type: patch, Path: /. Timestamp: 1752650054.858517
2025-07-16 00:14:14,859 - DEBUG - app.firebase_stream - Prepared batch update for 24 symbols from root path for queue. Preview: {'USDJPY': {'b': '148.6940000000', 'o': '148.6880000000'}, 'CADCHF': {'b': '0.5839300000', 'o': '0.5838800000'}, 'EURNZD': {'b': '1.9544100000', 'o': '1.9542200000'}, 'EURZAR': {'b': '20.8139400000', 
2025-07-16 00:14:14,860 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'USDJPY': {'b': '148.6940000000', 'o': '148.6880000000'}, 'CADCHF': {'b': '0.5839300000', 'o': '0.5838800000'}, 'EURNZD': {'b': '1.9544100000', 'o': '1.9542200000'}, 'EURZAR': {'b': '20.8139400000', ...
2025-07-16 00:14:14,864 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:14:14,898 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:14,909 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:15,941 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:15,945 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:16,959 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:16,963 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:17,110 - DEBUG - app.firebase_stream - Firebase listener triggered (164). Event Type: patch, Path: /. Timestamp: 1752650057.1100316
2025-07-16 00:14:17,110 - DEBUG - app.firebase_stream - Prepared batch update for 24 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0278000000', 'o': '13.0252000000'}, 'XAGUSD': {'b': '37.9030000000', 'o': '37.8970000000'}, 'NZDJPY': {'b': '88.4490000000', 'o': '88.4410000000'}, 'GBPAUD': {'b': '2.0546800000',
2025-07-16 00:14:17,111 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0278000000', 'o': '13.0252000000'}, 'XAGUSD': {'b': '37.9030000000', 'o': '37.8970000000'}, 'NZDJPY': {'b': '88.4490000000', 'o': '88.4410000000'}, 'GBPAUD': {'b': '2.0546800000',...
2025-07-16 00:14:17,112 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:14:17,980 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:17,984 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:19,000 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:19,004 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:19,373 - DEBUG - app.firebase_stream - Firebase listener triggered (165). Event Type: patch, Path: /. Timestamp: 1752650059.3737648
2025-07-16 00:14:19,374 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0277000000', 'o': '13.0251000000'}, 'XAGUSD': {'b': '37.9020000000', 'o': '37.8970000000'}, 'NZDJPY': {'b': '88.4470000000', 'o': '88.4410000000'}, 'GBPAUD': {'b': '2.0547100000',
2025-07-16 00:14:19,375 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0277000000', 'o': '13.0251000000'}, 'XAGUSD': {'b': '37.9020000000', 'o': '37.8970000000'}, 'NZDJPY': {'b': '88.4470000000', 'o': '88.4410000000'}, 'GBPAUD': {'b': '2.0547100000',...
2025-07-16 00:14:19,379 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:14:20,017 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:20,020 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:21,024 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:21,028 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:21,640 - DEBUG - app.firebase_stream - Firebase listener triggered (166). Event Type: patch, Path: /. Timestamp: 1752650061.6402307
2025-07-16 00:14:21,640 - DEBUG - app.firebase_stream - Prepared batch update for 25 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4460000000', 'o': '88.4370000000'}, 'GBPAUD': {'b': '2.0547100000', 'o': '2.0545800000'}, 'USDJPY': {'b': '148.6920000000', 'o': '148.6880000000'}, 'USDCNH': {'b': '7.1820100000',
2025-07-16 00:14:21,640 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4460000000', 'o': '88.4370000000'}, 'GBPAUD': {'b': '2.0547100000', 'o': '2.0545800000'}, 'USDJPY': {'b': '148.6920000000', 'o': '148.6880000000'}, 'USDCNH': {'b': '7.1820100000',...
2025-07-16 00:14:21,642 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:14:22,039 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:22,041 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:23,055 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:23,058 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:23,937 - DEBUG - app.firebase_stream - Firebase listener triggered (167). Event Type: patch, Path: /. Timestamp: 1752650063.9378657
2025-07-16 00:14:23,938 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0266000000', 'o': '13.0240200000'}, 'NZDJPY': {'b': '88.4460000000', 'o': '88.4380000000'}, 'GBPAUD': {'b': '2.0547300000', 'o': '2.0546000000'}, 'BTCUSD': {'b': '118055.490000000
2025-07-16 00:14:23,939 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0266000000', 'o': '13.0240200000'}, 'NZDJPY': {'b': '88.4460000000', 'o': '88.4380000000'}, 'GBPAUD': {'b': '2.0547300000', 'o': '2.0546000000'}, 'BTCUSD': {'b': '118055.490000000...
2025-07-16 00:14:23,949 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:14:24,060 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:24,064 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:25,079 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:25,081 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:26,083 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:26,085 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:26,266 - DEBUG - app.firebase_stream - Firebase listener triggered (168). Event Type: patch, Path: /. Timestamp: 1752650066.2663414
2025-07-16 00:14:26,266 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0269000000', 'o': '13.0243000000'}, 'XAGUSD': {'b': '37.9000000000', 'o': '37.8940000000'}, 'NZDJPY': {'b': '88.4480000000', 'o': '88.4390000000'}, 'GBPAUD': {'b': '2.0547200000',
2025-07-16 00:14:26,268 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0269000000', 'o': '13.0243000000'}, 'XAGUSD': {'b': '37.9000000000', 'o': '37.8940000000'}, 'NZDJPY': {'b': '88.4480000000', 'o': '88.4390000000'}, 'GBPAUD': {'b': '2.0547200000',...
2025-07-16 00:14:26,270 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:14:27,089 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:27,092 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:28,096 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:28,099 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:28,599 - DEBUG - app.firebase_stream - Firebase listener triggered (169). Event Type: patch, Path: /. Timestamp: 1752650068.5993776
2025-07-16 00:14:28,599 - DEBUG - app.firebase_stream - Prepared batch update for 34 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0267000000', 'o': '13.0241000000'}, 'XAGUSD': {'b': '37.9010000000', 'o': '37.8950000000'}, 'NZDJPY': {'b': '88.4370000000', 'o': '88.4280000000'}, 'GBPAUD': {'b': '2.0547200000',
2025-07-16 00:14:28,601 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0267000000', 'o': '13.0241000000'}, 'XAGUSD': {'b': '37.9010000000', 'o': '37.8950000000'}, 'NZDJPY': {'b': '88.4370000000', 'o': '88.4280000000'}, 'GBPAUD': {'b': '2.0547200000',...
2025-07-16 00:14:28,602 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:14:29,101 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:29,105 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:30,120 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:30,124 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:30,875 - DEBUG - app.firebase_stream - Firebase listener triggered (170). Event Type: patch, Path: /. Timestamp: 1752650070.875415
2025-07-16 00:14:30,875 - DEBUG - app.firebase_stream - Prepared batch update for 26 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0265000000', 'o': '13.0239000000'}, 'XAGUSD': {'b': '37.8980000000', 'o': '37.8920000000'}, 'NZDJPY': {'b': '88.4380000000', 'o': '88.4300000000'}, 'GBPAUD': {'b': '2.0546800000',
2025-07-16 00:14:30,877 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0265000000', 'o': '13.0239000000'}, 'XAGUSD': {'b': '37.8980000000', 'o': '37.8920000000'}, 'NZDJPY': {'b': '88.4380000000', 'o': '88.4300000000'}, 'GBPAUD': {'b': '2.0546800000',...
2025-07-16 00:14:30,878 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:14:31,138 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:31,140 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:32,155 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:32,158 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:33,154 - DEBUG - app.firebase_stream - Firebase listener triggered (171). Event Type: patch, Path: /. Timestamp: 1752650073.154287
2025-07-16 00:14:33,154 - DEBUG - app.firebase_stream - Prepared batch update for 26 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9020000000', 'o': '37.8980000000'}, 'NZDJPY': {'b': '88.4470000000', 'o': '88.4390000000'}, 'GBPAUD': {'b': '2.0547000000', 'o': '2.0545400000'}, 'USDJPY': {'b': '148.6900000000',
2025-07-16 00:14:33,155 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9020000000', 'o': '37.8980000000'}, 'NZDJPY': {'b': '88.4470000000', 'o': '88.4390000000'}, 'GBPAUD': {'b': '2.0547000000', 'o': '2.0545400000'}, 'USDJPY': {'b': '148.6900000000',...
2025-07-16 00:14:33,156 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:14:33,166 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:33,189 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:34,203 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:34,206 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:35,220 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:35,223 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:35,463 - DEBUG - app.firebase_stream - Firebase listener triggered (172). Event Type: patch, Path: /. Timestamp: 1752650075.4638999
2025-07-16 00:14:35,464 - DEBUG - app.firebase_stream - Prepared batch update for 26 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9030000000', 'o': '37.8980000000'}, 'NZDJPY': {'b': '88.4380000000', 'o': '88.4290000000'}, 'GBPAUD': {'b': '2.0547000000', 'o': '2.0545700000'}, 'USDJPY': {'b': '148.6980000000',
2025-07-16 00:14:35,465 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'XAGUSD': {'b': '37.9030000000', 'o': '37.8980000000'}, 'NZDJPY': {'b': '88.4380000000', 'o': '88.4290000000'}, 'GBPAUD': {'b': '2.0547000000', 'o': '2.0545700000'}, 'USDJPY': {'b': '148.6980000000',...
2025-07-16 00:14:35,465 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:14:36,235 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:36,237 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:37,253 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:37,257 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:37,791 - DEBUG - app.firebase_stream - Firebase listener triggered (173). Event Type: patch, Path: /. Timestamp: 1752650077.7919276
2025-07-16 00:14:37,792 - DEBUG - app.firebase_stream - Prepared batch update for 24 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0272000000', 'o': '13.0246000000'}, 'XAGUSD': {'b': '37.9040000000', 'o': '37.8980000000'}, 'NZDJPY': {'b': '88.4390000000', 'o': '88.4300000000'}, 'GBPAUD': {'b': '2.0547000000',
2025-07-16 00:14:37,793 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0272000000', 'o': '13.0246000000'}, 'XAGUSD': {'b': '37.9040000000', 'o': '37.8980000000'}, 'NZDJPY': {'b': '88.4390000000', 'o': '88.4300000000'}, 'GBPAUD': {'b': '2.0547000000',...
2025-07-16 00:14:37,795 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:14:38,269 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:38,272 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:39,286 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:39,289 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:40,071 - DEBUG - app.firebase_stream - Firebase listener triggered (174). Event Type: patch, Path: /. Timestamp: 1752650080.0713332
2025-07-16 00:14:40,072 - DEBUG - app.firebase_stream - Prepared batch update for 21 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9040000000', 'o': '37.9000000000'}, 'NZDJPY': {'b': '88.4280000000', 'o': '88.4280000000'}, 'GBPAUD': {'b': '2.0547000000', 'o': '2.0545700000'}, 'USDJPY': {'b': '148.7000000000',
2025-07-16 00:14:40,072 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'XAGUSD': {'b': '37.9040000000', 'o': '37.9000000000'}, 'NZDJPY': {'b': '88.4280000000', 'o': '88.4280000000'}, 'GBPAUD': {'b': '2.0547000000', 'o': '2.0545700000'}, 'USDJPY': {'b': '148.7000000000',...
2025-07-16 00:14:40,073 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:14:40,304 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:40,307 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:41,312 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:41,316 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:42,324 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:42,328 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:42,419 - DEBUG - app.firebase_stream - Firebase listener triggered (175). Event Type: patch, Path: /. Timestamp: 1752650082.419169
2025-07-16 00:14:42,419 - DEBUG - app.firebase_stream - Prepared batch update for 36 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0273000000', 'o': '13.0247000000'}, 'XAGUSD': {'b': '37.8990000000', 'o': '37.8960000000'}, 'NZDJPY': {'b': '88.4450000000', 'o': '88.4370000000'}, 'GBPAUD': {'b': '2.0547400000',
2025-07-16 00:14:42,419 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0273000000', 'o': '13.0247000000'}, 'XAGUSD': {'b': '37.8990000000', 'o': '37.8960000000'}, 'NZDJPY': {'b': '88.4450000000', 'o': '88.4370000000'}, 'GBPAUD': {'b': '2.0547400000',...
2025-07-16 00:14:42,420 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:14:43,346 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:43,349 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:44,361 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:44,364 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:44,760 - DEBUG - app.firebase_stream - Firebase listener triggered (176). Event Type: patch, Path: /. Timestamp: 1752650084.7601018
2025-07-16 00:14:44,760 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9050000000', 'o': '37.8980000000'}, 'NZDJPY': {'b': '88.4290000000', 'o': '88.4210000000'}, 'GBPAUD': {'b': '2.0547300000', 'o': '2.0545700000'}, 'USDCNH': {'b': '7.1819800000', '
2025-07-16 00:14:44,760 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'XAGUSD': {'b': '37.9050000000', 'o': '37.8980000000'}, 'NZDJPY': {'b': '88.4290000000', 'o': '88.4210000000'}, 'GBPAUD': {'b': '2.0547300000', 'o': '2.0545700000'}, 'USDCNH': {'b': '7.1819800000', '...
2025-07-16 00:14:44,761 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:14:45,368 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:45,370 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:46,383 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:46,385 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:46,965 - DEBUG - app.firebase_stream - Firebase listener triggered (177). Event Type: patch, Path: /. Timestamp: 1752650086.9657207
2025-07-16 00:14:46,966 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0277000000', 'o': '13.0251000000'}, 'XAGUSD': {'b': '37.9040000000', 'o': '37.9000000000'}, 'NZDJPY': {'b': '88.4310000000', 'o': '88.4210000000'}, 'GBPAUD': {'b': '2.0546900000',
2025-07-16 00:14:46,966 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0277000000', 'o': '13.0251000000'}, 'XAGUSD': {'b': '37.9040000000', 'o': '37.9000000000'}, 'NZDJPY': {'b': '88.4310000000', 'o': '88.4210000000'}, 'GBPAUD': {'b': '2.0546900000',...
2025-07-16 00:14:46,967 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:14:47,392 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:47,396 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:48,399 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:48,402 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:49,246 - DEBUG - app.firebase_stream - Firebase listener triggered (178). Event Type: patch, Path: /. Timestamp: 1752650089.246701
2025-07-16 00:14:49,247 - DEBUG - app.firebase_stream - Prepared batch update for 30 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0275000000', 'o': '13.0249000000'}, 'XAGUSD': {'b': '37.9030000000', 'o': '37.9000000000'}, 'NZDJPY': {'b': '88.4310000000', 'o': '88.4220000000'}, 'GBPAUD': {'b': '2.0546900000',
2025-07-16 00:14:49,248 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0275000000', 'o': '13.0249000000'}, 'XAGUSD': {'b': '37.9030000000', 'o': '37.9000000000'}, 'NZDJPY': {'b': '88.4310000000', 'o': '88.4220000000'}, 'GBPAUD': {'b': '2.0546900000',...
2025-07-16 00:14:49,249 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:14:49,405 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:49,408 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:50,420 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:50,423 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:51,427 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:51,430 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:51,629 - DEBUG - app.firebase_stream - Firebase listener triggered (179). Event Type: patch, Path: /. Timestamp: 1752650091.6293623
2025-07-16 00:14:51,629 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9040000000', 'o': '37.9010000000'}, 'NZDJPY': {'b': '88.4310000000', 'o': '88.4310000000'}, 'USDJPY': {'b': '148.6940000000', 'o': '148.6940000000'}, 'CADCHF': {'b': '0.5839600000
2025-07-16 00:14:51,630 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9040000000', 'o': '37.9010000000'}, 'NZDJPY': {'b': '88.4310000000', 'o': '88.4310000000'}, 'USDJPY': {'b': '148.6940000000', 'o': '148.6940000000'}, 'CADCHF': {'b': '0.5839600000...
2025-07-16 00:14:51,630 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:14:52,435 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:52,439 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:53,445 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:53,449 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:53,841 - DEBUG - app.firebase_stream - Firebase listener triggered (180). Event Type: patch, Path: /. Timestamp: 1752650093.8417797
2025-07-16 00:14:53,842 - DEBUG - app.firebase_stream - Prepared batch update for 36 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0277000000', 'o': '13.0251000000'}, 'XAGUSD': {'b': '37.9050000000', 'o': '37.9020000000'}, 'NZDJPY': {'b': '88.4460000000', 'o': '88.4390000000'}, 'GBPAUD': {'b': '2.0547000000',
2025-07-16 00:14:53,843 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0277000000', 'o': '13.0251000000'}, 'XAGUSD': {'b': '37.9050000000', 'o': '37.9020000000'}, 'NZDJPY': {'b': '88.4460000000', 'o': '88.4390000000'}, 'GBPAUD': {'b': '2.0547000000',...
2025-07-16 00:14:53,846 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:14:54,463 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:54,466 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:55,482 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:55,485 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:56,234 - DEBUG - app.firebase_stream - Firebase listener triggered (181). Event Type: patch, Path: /. Timestamp: 1752650096.2344966
2025-07-16 00:14:56,234 - DEBUG - app.firebase_stream - Prepared batch update for 34 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0278000000', 'o': '13.0252000000'}, 'NZDJPY': {'b': '88.4390000000', 'o': '88.4320000000'}, 'GBPAUD': {'b': '2.0546700000', 'o': '2.0545100000'}, 'BTCUSD': {'b': '118057.800000000
2025-07-16 00:14:56,235 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0278000000', 'o': '13.0252000000'}, 'NZDJPY': {'b': '88.4390000000', 'o': '88.4320000000'}, 'GBPAUD': {'b': '2.0546700000', 'o': '2.0545100000'}, 'BTCUSD': {'b': '118057.800000000...
2025-07-16 00:14:56,242 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:14:56,496 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:56,499 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:57,507 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:57,510 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:58,471 - DEBUG - app.firebase_stream - Firebase listener triggered (182). Event Type: patch, Path: /. Timestamp: 1752650098.4712472
2025-07-16 00:14:58,471 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9060000000', 'o': '37.9030000000'}, 'NZDJPY': {'b': '88.4390000000', 'o': '88.4300000000'}, 'GBPAUD': {'b': '2.0546800000', 'o': '2.0545100000'}, 'USDJPY': {'b': '148.6920000000',
2025-07-16 00:14:58,473 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9060000000', 'o': '37.9030000000'}, 'NZDJPY': {'b': '88.4390000000', 'o': '88.4300000000'}, 'GBPAUD': {'b': '2.0546800000', 'o': '2.0545100000'}, 'USDJPY': {'b': '148.6920000000',...
2025-07-16 00:14:58,475 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:14:58,515 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:58,523 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:14:59,539 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:14:59,542 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:00,555 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:00,557 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:00,844 - DEBUG - app.firebase_stream - Firebase listener triggered (183). Event Type: patch, Path: /. Timestamp: 1752650100.8448317
2025-07-16 00:15:00,845 - DEBUG - app.firebase_stream - Prepared batch update for 30 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0275000000', 'o': '13.0249300000'}, 'XAGUSD': {'b': '37.9060000000', 'o': '37.9020000000'}, 'NZDJPY': {'b': '88.4370000000', 'o': '88.4300000000'}, 'GBPAUD': {'b': '2.0546800000',
2025-07-16 00:15:00,846 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0275000000', 'o': '13.0249300000'}, 'XAGUSD': {'b': '37.9060000000', 'o': '37.9020000000'}, 'NZDJPY': {'b': '88.4370000000', 'o': '88.4300000000'}, 'GBPAUD': {'b': '2.0546800000',...
2025-07-16 00:15:00,846 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:15:01,560 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:01,564 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:02,146 - WARNING - app - User 4 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:15:02,151 - WARNING - app - No user data found for user 5 (live). Skipping portfolio update.
2025-07-16 00:15:02,160 - WARNING - app - No group settings found for group string. Skipping portfolio update for user 8.
2025-07-16 00:15:02,189 - WARNING - app - User 9 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:15:02,214 - WARNING - app - User 10 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:15:02,243 - WARNING - app - User 11 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:15:02,273 - WARNING - app - User 12 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:15:02,303 - WARNING - app - User 13 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:15:02,657 - DEBUG - app.services.portfolio_calculator - Position calculation for BTCUSD: Type=BUY, Entry=118908.50000000, Current=118007.7, Quantity=0.40000000, Contract Size=1.00000000, PnL=-360.320000000000000000000000, PnL USD=-360.320000000000000000000000, Commission=235.57000000, Final PnL=-595.890000000000000000000000
2025-07-16 00:15:02,657 - WARNING - app.services.portfolio_calculator - MARGIN CALL ALERT: User has margin level 98.76256668714905340596621149% which is below threshold 100.0%
2025-07-16 00:15:02,658 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:02,662 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:02,690 - WARNING - app - User 16 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:15:02,718 - WARNING - app - User 17 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:15:02,741 - WARNING - app - User 18 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:15:02,764 - WARNING - app - User 19 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:15:02,787 - WARNING - app - User 20 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:15:02,809 - WARNING - app - User 21 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:15:02,831 - WARNING - app - User 22 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:15:02,853 - WARNING - app - User 23 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:15:02,878 - WARNING - app - User 24 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:15:02,903 - WARNING - app - User 25 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:15:03,035 - DEBUG - app.firebase_stream - Firebase listener triggered (184). Event Type: patch, Path: /. Timestamp: 1752650103.0358396
2025-07-16 00:15:03,036 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4370000000', 'o': '88.4280000000'}, 'GBPAUD': {'b': '2.0546800000', 'o': '2.0546000000'}, 'BTCUSD': {'b': '118050.3300000000', 'o': '118050.3300000000'}, 'USDCNH': {'b': '7.182190
2025-07-16 00:15:03,036 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4370000000', 'o': '88.4280000000'}, 'GBPAUD': {'b': '2.0546800000', 'o': '2.0546000000'}, 'BTCUSD': {'b': '118050.3300000000', 'o': '118050.3300000000'}, 'USDCNH': {'b': '7.182190...
2025-07-16 00:15:03,036 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:15:03,270 - DEBUG - app.services.portfolio_calculator - Position calculation for XAGUSD: Type=BUY, Entry=41.09800000, Current=37.8895, Quantity=0.01000000, Contract Size=5000.00000000, PnL=-160.425000000000000000000000, PnL USD=-160.425000000000000000000000, Commission=0.10000000, Final PnL=-160.525000000000000000000000
2025-07-16 00:15:03,271 - DEBUG - app.services.portfolio_calculator - Position calculation for BTCUSD: Type=BUY, Entry=132091.90000000, Current=118007.7, Quantity=6.00000000, Contract Size=1.00000000, PnL=-84505.20000000000000000000000, PnL USD=-84505.20000000000000000000000, Commission=3661.62000000, Final PnL=-88166.82000000000000000000000
2025-07-16 00:15:03,271 - WARNING - app.services.portfolio_calculator - MARGIN CALL ALERT: User has margin level 65.54856292957198807491333382% which is below threshold 100.0%
2025-07-16 00:15:03,784 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=96.66800000, Current=96.959, Quantity=0.01000000, Contract Size=100000.00000000, PnL=291.000000000000000000000000, PnL USD=1.957091936243190530634205394, Commission=0.10000000, Final PnL=1.857091936243190530634205394
2025-07-16 00:15:03,785 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:03,786 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=96.56000000, Current=97.065, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-505.000000000000000000000000, PnL USD=-3.396327930593852982715717264, Commission=0.10000000, Final PnL=-3.496327930593852982715717264
2025-07-16 00:15:03,789 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:03,790 - WARNING - app - User 2 has no group_name set. Skipping portfolio update.
2025-07-16 00:15:03,800 - WARNING - app - No group settings found for group string. Skipping portfolio update for user 3.
2025-07-16 00:15:03,838 - WARNING - app - User 4 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:15:03,841 - WARNING - app - User 5 has no group_name set. Skipping portfolio update.
2025-07-16 00:15:03,843 - WARNING - app - User 6 has no group_name set. Skipping portfolio update.
2025-07-16 00:15:04,293 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64743000, Current=0.6522600000000001, Quantity=0.10000000, Contract Size=100000.00000000, PnL=48.30000000000100000000000000, PnL USD=48.30000000000100000000000000, Commission=1.00000000, Final PnL=47.30000000000100000000000000
2025-07-16 00:15:04,293 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=SELL, Entry=0.64707000, Current=0.65257, Quantity=0.22000000, Contract Size=100000.00000000, PnL=-121.000000000000000000000000, PnL USD=-121.000000000000000000000000, Commission=2.20000000, Final PnL=-123.200000000000000000000000
2025-07-16 00:15:04,294 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFSGD: Type=BUY, Entry=1.57561500, Current=1.603815, Quantity=0.10000000, Contract Size=100000.00000000, PnL=282.000000000000000000000000, PnL USD=219.5646080538166869102120901, Commission=1.00000000, Final PnL=218.5646080538166869102120901
2025-07-16 00:15:04,294 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFSGD: Type=SELL, Entry=1.57505500, Current=1.604255, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-292.000000000000000000000000, PnL USD=-227.3505870628172786446167741, Commission=1.00000000, Final PnL=-228.3505870628172786446167741
2025-07-16 00:15:04,295 - DEBUG - app.services.portfolio_calculator - Position calculation for CADJPY: Type=SELL, Entry=106.24150000, Current=108.44550000000001, Quantity=0.15000000, Contract Size=100000.00000000, PnL=-33060.00000000015000000000000, PnL USD=-222.3417849216500773421211917, Commission=0E-8, Final PnL=-222.3417849216500773421211917
2025-07-16 00:15:04,295 - DEBUG - app.services.portfolio_calculator - Position calculation for CADJPY: Type=BUY, Entry=106.27050000, Current=108.4125, Quantity=0.15000000, Contract Size=100000.00000000, PnL=32130.00000000000000000000000, PnL USD=216.0871612078821709597148430, Commission=0E-8, Final PnL=216.0871612078821709597148430
2025-07-16 00:15:04,296 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=BUY, Entry=1.77481000, Current=1.7815699999999999, Quantity=0.22000000, Contract Size=100000.00000000, PnL=148.7199999999978000000000000, PnL USD=97.02790239999856467600000000, Commission=2.20000000, Final PnL=94.82790239999856467600000000
2025-07-16 00:15:04,296 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=SELL, Entry=1.77439000, Current=1.78187, Quantity=0.21000000, Contract Size=100000.00000000, PnL=-157.080000000000000000000000, PnL USD=-102.4821336000000000000000000, Commission=2.10000000, Final PnL=-104.5821336000000000000000000
2025-07-16 00:15:04,296 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFJPY: Type=BUY, Entry=178.15500000, Current=185.675, Quantity=0.10000000, Contract Size=100000.00000000, PnL=75200.00000000000000000000000, PnL USD=505.7502185755598897034097787, Commission=1.00000000, Final PnL=504.7502185755598897034097787
2025-07-16 00:15:04,297 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFJPY: Type=SELL, Entry=178.09500000, Current=185.725, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-76300.00000000000000000000000, PnL USD=-513.1481606025960051113054005, Commission=1.00000000, Final PnL=-514.1481606025960051113054005
2025-07-16 00:15:04,297 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=BUY, Entry=1.77480000, Current=1.7815699999999999, Quantity=0.05000000, Contract Size=100000.00000000, PnL=33.84999999999950000000000000, PnL USD=22.08441699999967379000000000, Commission=0.50000000, Final PnL=21.58441699999967379000000000
2025-07-16 00:15:04,298 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=SELL, Entry=1.77442000, Current=1.78187, Quantity=0.05000000, Contract Size=100000.00000000, PnL=-37.250000000000000000000000, PnL USD=-24.30264500000000000000000000, Commission=0.50000000, Final PnL=-24.80264500000000000000000000
2025-07-16 00:15:04,298 - DEBUG - app.services.portfolio_calculator - Position calculation for EURGBP: Type=SELL, Entry=0.85403000, Current=0.86735, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-133.200000000000000000000000, PnL USD=-178.5612600000000000000000000, Commission=1.00000000, Final PnL=-179.5612600000000000000000000
2025-07-16 00:15:04,299 - DEBUG - app.services.portfolio_calculator - Position calculation for EURJPY: Type=BUY, Entry=167.26050000, Current=172.82750000000001, Quantity=0.10000000, Contract Size=100000.00000000, PnL=55670.00000000010000000000000, PnL USD=374.4031205864557132288654247, Commission=1.00000000, Final PnL=373.4031205864557132288654247
2025-07-16 00:15:04,299 - DEBUG - app.services.portfolio_calculator - Position calculation for EURJPY: Type=SELL, Entry=167.23150000, Current=172.85649999999998, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-56249.99999999980000000000000, PnL USD=-378.3038536552545564597484700, Commission=1.00000000, Final PnL=-379.3038536552545564597484700
2025-07-16 00:15:04,300 - DEBUG - app.services.portfolio_calculator - Position calculation for EURNZD: Type=SELL, Entry=1.91952500, Current=1.9547249999999998, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-351.9999999999980000000000000, PnL USD=-209.3555199999988104800000000, Commission=1.00000000, Final PnL=-210.3555199999988104800000000
2025-07-16 00:15:04,300 - DEBUG - app.services.portfolio_calculator - Position calculation for EURNZD: Type=BUY, Entry=1.92063500, Current=1.9543650000000001, Quantity=0.10000000, Contract Size=100000.00000000, PnL=337.3000000000010000000000000, PnL USD=200.6125480000005947600000000, Commission=1.00000000, Final PnL=199.6125480000005947600000000
2025-07-16 00:15:04,300 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=SELL, Entry=1.34376000, Current=1.34065, Quantity=0.25000000, Contract Size=0E-8, PnL=0E-24, PnL USD=0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:15:04,300 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=SELL, Entry=1.34361000, Current=1.34065, Quantity=0.25000000, Contract Size=0E-8, PnL=0E-24, PnL USD=0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:15:04,300 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=BUY, Entry=1.34379000, Current=1.34044, Quantity=0.25000000, Contract Size=0E-8, PnL=-0E-24, PnL USD=-0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:15:04,300 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=BUY, Entry=1.34378000, Current=1.34044, Quantity=0.25000000, Contract Size=0E-8, PnL=-0E-24, PnL USD=-0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:15:04,301 - DEBUG - app.services.portfolio_calculator - Position calculation for NZDJPY: Type=BUY, Entry=87.10150000, Current=88.4155, Quantity=0.01000000, Contract Size=100000.00000000, PnL=1314.000000000000000000000000, PnL USD=8.837178021386777859977133634, Commission=0.10000000, Final PnL=8.737178021386777859977133634
2025-07-16 00:15:04,302 - DEBUG - app.services.portfolio_calculator - Position calculation for USDCHF: Type=SELL, Entry=0.81771000, Current=0.80087, Quantity=0.15000000, Contract Size=100000.00000000, PnL=252.600000000000000000000000, PnL USD=315.4660805275252272954341093, Commission=1.50000000, Final PnL=313.9660805275252272954341093
2025-07-16 00:15:04,302 - DEBUG - app.services.portfolio_calculator - Position calculation for USDCHF: Type=BUY, Entry=0.81805000, Current=0.80055, Quantity=0.15000000, Contract Size=100000.00000000, PnL=-262.500000000000000000000000, PnL USD=-327.8299530422619642321910281, Commission=1.50000000, Final PnL=-329.3299530422619642321910281
2025-07-16 00:15:04,303 - DEBUG - app.services.portfolio_calculator - Position calculation for USDNOK: Type=BUY, Entry=10.04973000, Current=10.254340000000001, Quantity=0.10000000, Contract Size=100000.00000000, PnL=2046.100000000010000000000000, PnL USD=199.5038972536900566890991952, Commission=1.00000000, Final PnL=198.5038972536900566890991952
2025-07-16 00:15:04,303 - DEBUG - app.services.portfolio_calculator - Position calculation for USDNOK: Type=BUY, Entry=10.05023000, Current=10.254340000000001, Quantity=0.10000000, Contract Size=100000.00000000, PnL=2041.100000000010000000000000, PnL USD=199.0163749007901762295801262, Commission=1.00000000, Final PnL=198.0163749007901762295801262
2025-07-16 00:15:04,304 - DEBUG - app.services.portfolio_calculator - Position calculation for USDSGD: Type=SELL, Entry=1.28795000, Current=1.28451, Quantity=0.31000000, Contract Size=100000.00000000, PnL=106.640000000000000000000000, PnL USD=83.02968015198231025569155066, Commission=3.10000000, Final PnL=79.92968015198231025569155066
2025-07-16 00:15:04,304 - DEBUG - app.services.portfolio_calculator - Position calculation for USDTRY: Type=SELL, Entry=39.56087000, Current=40.25501, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-6941.400000000000000000000000, PnL USD=-172.4363219745392233384987552, Commission=1.00000000, Final PnL=-173.4363219745392233384987552
2025-07-16 00:15:05,018 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.89752000, Current=0.89469, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-2.830000000000000000000000, PnL USD=-2.063644848909112122272780306, Commission=0.10000000, Final PnL=-2.163644848909112122272780306
2025-07-16 00:15:05,020 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:05,024 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:05,052 - WARNING - app - User 12 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:15:05,076 - WARNING - app - User 13 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:15:05,346 - DEBUG - app.firebase_stream - Firebase listener triggered (185). Event Type: patch, Path: /. Timestamp: 1752650105.346049
2025-07-16 00:15:05,346 - DEBUG - app.firebase_stream - Prepared batch update for 30 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9050000000', 'o': '37.9010000000'}, 'NZDJPY': {'b': '88.4350000000', 'o': '88.4260000000'}, 'GBPAUD': {'b': '2.0547800000', 'o': '2.0546100000'}, 'BTCUSD': {'b': '118028.800000000
2025-07-16 00:15:05,346 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'XAGUSD': {'b': '37.9050000000', 'o': '37.9010000000'}, 'NZDJPY': {'b': '88.4350000000', 'o': '88.4260000000'}, 'GBPAUD': {'b': '2.0547800000', 'o': '2.0546100000'}, 'BTCUSD': {'b': '118028.800000000...
2025-07-16 00:15:05,346 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:15:06,033 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:06,036 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:07,038 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:07,042 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:07,709 - DEBUG - app.firebase_stream - Firebase listener triggered (186). Event Type: patch, Path: /. Timestamp: 1752650107.7089562
2025-07-16 00:15:07,709 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0272000000', 'o': '13.0246000000'}, 'NZDJPY': {'b': '88.4360000000', 'o': '88.4270000000'}, 'GBPAUD': {'b': '2.0546800000', 'o': '2.0545200000'}, 'BTCUSD': {'b': '118017.300000000
2025-07-16 00:15:07,710 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0272000000', 'o': '13.0246000000'}, 'NZDJPY': {'b': '88.4360000000', 'o': '88.4270000000'}, 'GBPAUD': {'b': '2.0546800000', 'o': '2.0545200000'}, 'BTCUSD': {'b': '118017.300000000...
2025-07-16 00:15:07,710 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:15:08,045 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:08,048 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:09,056 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:09,060 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:09,955 - DEBUG - app.firebase_stream - Firebase listener triggered (187). Event Type: patch, Path: /. Timestamp: 1752650109.9553702
2025-07-16 00:15:09,956 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0274000000', 'o': '13.0248000000'}, 'XAGUSD': {'b': '37.9040000000', 'o': '37.9020000000'}, 'NZDJPY': {'b': '88.4380000000', 'o': '88.4290000000'}, 'GBPAUD': {'b': '2.0547900000',
2025-07-16 00:15:09,957 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0274000000', 'o': '13.0248000000'}, 'XAGUSD': {'b': '37.9040000000', 'o': '37.9020000000'}, 'NZDJPY': {'b': '88.4380000000', 'o': '88.4290000000'}, 'GBPAUD': {'b': '2.0547900000',...
2025-07-16 00:15:09,958 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:15:10,062 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:10,067 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:11,073 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:11,076 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:12,083 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:12,085 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:12,262 - DEBUG - app.firebase_stream - Firebase listener triggered (188). Event Type: patch, Path: /. Timestamp: 1752650112.2620537
2025-07-16 00:15:12,262 - DEBUG - app.firebase_stream - Prepared batch update for 27 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9050000000', 'o': '37.9010000000'}, 'NZDJPY': {'b': '88.4360000000', 'o': '88.4290000000'}, 'GBPAUD': {'b': '2.0547900000', 'o': '2.0546200000'}, 'BTCUSD': {'b': '118023.300000000
2025-07-16 00:15:12,263 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9050000000', 'o': '37.9010000000'}, 'NZDJPY': {'b': '88.4360000000', 'o': '88.4290000000'}, 'GBPAUD': {'b': '2.0547900000', 'o': '2.0546200000'}, 'BTCUSD': {'b': '118023.300000000...
2025-07-16 00:15:12,263 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:15:13,088 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:13,092 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:14,097 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:14,102 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:14,566 - DEBUG - app.firebase_stream - Firebase listener triggered (189). Event Type: patch, Path: /. Timestamp: 1752650114.566262
2025-07-16 00:15:14,566 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0266000000', 'o': '13.0240000000'}, 'XAGUSD': {'b': '37.9050000000', 'o': '37.9020000000'}, 'NZDJPY': {'b': '88.4370000000', 'o': '88.4290000000'}, 'GBPAUD': {'b': '2.0547700000',
2025-07-16 00:15:14,567 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0266000000', 'o': '13.0240000000'}, 'XAGUSD': {'b': '37.9050000000', 'o': '37.9020000000'}, 'NZDJPY': {'b': '88.4370000000', 'o': '88.4290000000'}, 'GBPAUD': {'b': '2.0547700000',...
2025-07-16 00:15:14,567 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:15:15,105 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:15,107 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:16,115 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:16,118 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:16,915 - DEBUG - app.firebase_stream - Firebase listener triggered (190). Event Type: patch, Path: /. Timestamp: 1752650116.9158933
2025-07-16 00:15:16,916 - DEBUG - app.firebase_stream - Prepared batch update for 21 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0268000000', 'o': '13.0242000000'}, 'BTCUSD': {'b': '118027.8000000000', 'o': '118027.7000000000'}, 'USDJPY': {'b': '148.7000000000', 'o': '148.6950000000'}, 'CADCHF': {'b': '0.58
2025-07-16 00:15:16,917 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0268000000', 'o': '13.0242000000'}, 'BTCUSD': {'b': '118027.8000000000', 'o': '118027.7000000000'}, 'USDJPY': {'b': '148.7000000000', 'o': '148.6950000000'}, 'CADCHF': {'b': '0.58...
2025-07-16 00:15:16,917 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:15:17,127 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:17,131 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:18,135 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:18,138 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:19,143 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:19,145 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:19,179 - DEBUG - app.firebase_stream - Firebase listener triggered (191). Event Type: patch, Path: /. Timestamp: 1752650119.17963
2025-07-16 00:15:19,180 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0273000000', 'o': '13.0247000000'}, 'NZDJPY': {'b': '88.4350000000', 'o': '88.4270000000'}, 'USDJPY': {'b': '148.6820000000', 'o': '148.6790000000'}, 'CADCHF': {'b': '0.5838800000
2025-07-16 00:15:19,180 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0273000000', 'o': '13.0247000000'}, 'NZDJPY': {'b': '88.4350000000', 'o': '88.4270000000'}, 'USDJPY': {'b': '148.6820000000', 'o': '148.6790000000'}, 'CADCHF': {'b': '0.5838800000...
2025-07-16 00:15:19,180 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:15:20,147 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:20,150 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:21,154 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:21,157 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:21,480 - DEBUG - app.firebase_stream - Firebase listener triggered (192). Event Type: patch, Path: /. Timestamp: 1752650121.480789
2025-07-16 00:15:21,481 - DEBUG - app.firebase_stream - Prepared batch update for 30 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0268000000', 'o': '13.0242000000'}, 'XAGUSD': {'b': '37.9070000000', 'o': '37.9040000000'}, 'NZDJPY': {'b': '88.4350000000', 'o': '88.4280000000'}, 'GBPAUD': {'b': '2.0548000000',
2025-07-16 00:15:21,482 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0268000000', 'o': '13.0242000000'}, 'XAGUSD': {'b': '37.9070000000', 'o': '37.9040000000'}, 'NZDJPY': {'b': '88.4350000000', 'o': '88.4280000000'}, 'GBPAUD': {'b': '2.0548000000',...
2025-07-16 00:15:21,482 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:15:22,161 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:22,165 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:23,175 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:23,180 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:23,805 - DEBUG - app.firebase_stream - Firebase listener triggered (193). Event Type: patch, Path: /. Timestamp: 1752650123.805241
2025-07-16 00:15:23,806 - DEBUG - app.firebase_stream - Prepared batch update for 30 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0267000000', 'o': '13.0241000000'}, 'XAGUSD': {'b': '37.9070000000', 'o': '37.9050000000'}, 'NZDJPY': {'b': '88.4330000000', 'o': '88.4280000000'}, 'GBPAUD': {'b': '2.0547400000',
2025-07-16 00:15:23,806 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0267000000', 'o': '13.0241000000'}, 'XAGUSD': {'b': '37.9070000000', 'o': '37.9050000000'}, 'NZDJPY': {'b': '88.4330000000', 'o': '88.4280000000'}, 'GBPAUD': {'b': '2.0547400000',...
2025-07-16 00:15:23,807 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:15:24,189 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:24,193 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:25,200 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:25,204 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:26,079 - DEBUG - app.firebase_stream - Firebase listener triggered (194). Event Type: patch, Path: /. Timestamp: 1752650126.0793147
2025-07-16 00:15:26,079 - DEBUG - app.firebase_stream - Prepared batch update for 23 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0269000000', 'o': '13.0243000000'}, 'XAGUSD': {'b': '37.9040000000', 'o': '37.9010000000'}, 'NZDJPY': {'b': '88.4330000000', 'o': '88.4270000000'}, 'GBPAUD': {'b': '2.0547400000',
2025-07-16 00:15:26,080 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0269000000', 'o': '13.0243000000'}, 'XAGUSD': {'b': '37.9040000000', 'o': '37.9010000000'}, 'NZDJPY': {'b': '88.4330000000', 'o': '88.4270000000'}, 'GBPAUD': {'b': '2.0547400000',...
2025-07-16 00:15:26,082 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:15:26,206 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:26,209 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:27,223 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:27,227 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:28,235 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:28,238 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:28,378 - DEBUG - app.firebase_stream - Firebase listener triggered (195). Event Type: patch, Path: /. Timestamp: 1752650128.378175
2025-07-16 00:15:28,378 - DEBUG - app.firebase_stream - Prepared batch update for 24 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4360000000', 'o': '88.4280000000'}, 'GBPAUD': {'b': '2.0546700000', 'o': '2.0545600000'}, 'USDJPY': {'b': '148.6800000000', 'o': '148.6760000000'}, 'USDCNH': {'b': '7.1820900000',
2025-07-16 00:15:28,379 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4360000000', 'o': '88.4280000000'}, 'GBPAUD': {'b': '2.0546700000', 'o': '2.0545600000'}, 'USDJPY': {'b': '148.6800000000', 'o': '148.6760000000'}, 'USDCNH': {'b': '7.1820900000',...
2025-07-16 00:15:28,382 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:15:29,254 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:29,257 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:30,273 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:30,276 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:30,740 - DEBUG - app.firebase_stream - Firebase listener triggered (196). Event Type: patch, Path: /. Timestamp: 1752650130.7405846
2025-07-16 00:15:30,741 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9140000000', 'o': '37.9090000000'}, 'NZDJPY': {'b': '88.4390000000', 'o': '88.4330000000'}, 'GBPAUD': {'b': '2.0546700000', 'o': '2.0545400000'}, 'USDJPY': {'b': '148.6890000000',
2025-07-16 00:15:30,742 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9140000000', 'o': '37.9090000000'}, 'NZDJPY': {'b': '88.4390000000', 'o': '88.4330000000'}, 'GBPAUD': {'b': '2.0546700000', 'o': '2.0545400000'}, 'USDJPY': {'b': '148.6890000000',...
2025-07-16 00:15:30,743 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:15:31,291 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:31,296 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:32,308 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:32,310 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:33,005 - DEBUG - app.firebase_stream - Firebase listener triggered (197). Event Type: patch, Path: /. Timestamp: 1752650133.0050647
2025-07-16 00:15:33,005 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0271000000', 'o': '13.0245500000'}, 'XAGUSD': {'b': '37.9160000000', 'o': '37.9120000000'}, 'NZDJPY': {'b': '88.4410000000', 'o': '88.4320000000'}, 'GBPAUD': {'b': '2.0546800000',
2025-07-16 00:15:33,006 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0271000000', 'o': '13.0245500000'}, 'XAGUSD': {'b': '37.9160000000', 'o': '37.9120000000'}, 'NZDJPY': {'b': '88.4410000000', 'o': '88.4320000000'}, 'GBPAUD': {'b': '2.0546800000',...
2025-07-16 00:15:33,006 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:15:33,326 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:33,331 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:34,346 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:34,349 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:35,348 - DEBUG - app.firebase_stream - Firebase listener triggered (198). Event Type: patch, Path: /. Timestamp: 1752650135.348061
2025-07-16 00:15:35,348 - DEBUG - app.firebase_stream - Prepared batch update for 34 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0271000000', 'o': '13.0245000000'}, 'NZDJPY': {'b': '88.4400000000', 'o': '88.4320000000'}, 'GBPAUD': {'b': '2.0546900000', 'o': '2.0545500000'}, 'USDJPY': {'b': '148.6890000000',
2025-07-16 00:15:35,349 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0271000000', 'o': '13.0245000000'}, 'NZDJPY': {'b': '88.4400000000', 'o': '88.4320000000'}, 'GBPAUD': {'b': '2.0546900000', 'o': '2.0545500000'}, 'USDJPY': {'b': '148.6890000000',...
2025-07-16 00:15:35,349 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:15:35,365 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:35,376 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:36,388 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:36,392 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:37,397 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:37,400 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:37,594 - DEBUG - app.firebase_stream - Firebase listener triggered (199). Event Type: patch, Path: /. Timestamp: 1752650137.5942707
2025-07-16 00:15:37,594 - DEBUG - app.firebase_stream - Prepared batch update for 17 symbols from root path for queue. Preview: {'GBPAUD': {'b': '2.0546900000', 'o': '2.0545300000'}, 'BTCUSD': {'b': '118046.0800000000', 'o': '118036.0800000000'}, 'USDCNH': {'b': '7.1821500000', 'o': '7.1821100000'}, 'CADCHF': {'b': '0.58392000
2025-07-16 00:15:37,595 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPAUD': {'b': '2.0546900000', 'o': '2.0545300000'}, 'BTCUSD': {'b': '118046.0800000000', 'o': '118036.0800000000'}, 'USDCNH': {'b': '7.1821500000', 'o': '7.1821100000'}, 'CADCHF': {'b': '0.58392000...
2025-07-16 00:15:37,595 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:15:38,410 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:38,413 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:39,416 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:39,420 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:39,876 - DEBUG - app.firebase_stream - Firebase listener triggered (200). Event Type: patch, Path: /. Timestamp: 1752650139.8767536
2025-07-16 00:15:39,877 - DEBUG - app.firebase_stream - Prepared batch update for 27 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0269000000', 'o': '13.0243000000'}, 'NZDJPY': {'b': '88.4410000000', 'o': '88.4330000000'}, 'GBPAUD': {'b': '2.0546000000', 'o': '2.0545400000'}, 'BTCUSD': {'b': '118051.800000000
2025-07-16 00:15:39,878 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0269000000', 'o': '13.0243000000'}, 'NZDJPY': {'b': '88.4410000000', 'o': '88.4330000000'}, 'GBPAUD': {'b': '2.0546000000', 'o': '2.0545400000'}, 'BTCUSD': {'b': '118051.800000000...
2025-07-16 00:15:39,880 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:15:40,429 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:40,432 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:41,445 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:41,448 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:42,211 - DEBUG - app.firebase_stream - Firebase listener triggered (201). Event Type: patch, Path: /. Timestamp: 1752650142.2114758
2025-07-16 00:15:42,211 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9090000000', 'o': '37.9080000000'}, 'NZDJPY': {'b': '88.4360000000', 'o': '88.4270000000'}, 'GBPAUD': {'b': '2.0547900000', 'o': '2.0546500000'}, 'BTCUSD': {'b': '118058.600000000
2025-07-16 00:15:42,212 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'XAGUSD': {'b': '37.9090000000', 'o': '37.9080000000'}, 'NZDJPY': {'b': '88.4360000000', 'o': '88.4270000000'}, 'GBPAUD': {'b': '2.0547900000', 'o': '2.0546500000'}, 'BTCUSD': {'b': '118058.600000000...
2025-07-16 00:15:42,212 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:15:42,459 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:42,462 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:43,471 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:43,475 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:44,495 - DEBUG - app.firebase_stream - Firebase listener triggered (202). Event Type: patch, Path: /. Timestamp: 1752650144.4957001
2025-07-16 00:15:44,496 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9190000000', 'o': '37.9150000000'}, 'NZDJPY': {'b': '88.4440000000', 'o': '88.4360000000'}, 'GBPAUD': {'b': '2.0546100000', 'o': '2.0544800000'}, 'USDCNH': {'b': '7.1820700000', '
2025-07-16 00:15:44,496 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:44,498 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9190000000', 'o': '37.9150000000'}, 'NZDJPY': {'b': '88.4440000000', 'o': '88.4360000000'}, 'GBPAUD': {'b': '2.0546100000', 'o': '2.0544800000'}, 'USDCNH': {'b': '7.1820700000', '...
2025-07-16 00:15:44,498 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:15:44,514 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:45,538 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:45,540 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:46,543 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:46,550 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:46,828 - DEBUG - app.firebase_stream - Firebase listener triggered (203). Event Type: patch, Path: /. Timestamp: 1752650146.8282368
2025-07-16 00:15:46,828 - DEBUG - app.firebase_stream - Prepared batch update for 37 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0274000000', 'o': '13.0248000000'}, 'XAGUSD': {'b': '37.9140000000', 'o': '37.9120000000'}, 'NZDJPY': {'b': '88.4440000000', 'o': '88.4430000000'}, 'GBPAUD': {'b': '2.0546300000',
2025-07-16 00:15:46,829 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0274000000', 'o': '13.0248000000'}, 'XAGUSD': {'b': '37.9140000000', 'o': '37.9120000000'}, 'NZDJPY': {'b': '88.4440000000', 'o': '88.4430000000'}, 'GBPAUD': {'b': '2.0546300000',...
2025-07-16 00:15:46,829 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:15:47,555 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:47,563 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:48,567 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:48,572 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:49,204 - DEBUG - app.firebase_stream - Firebase listener triggered (204). Event Type: patch, Path: /. Timestamp: 1752650149.2042706
2025-07-16 00:15:49,204 - DEBUG - app.firebase_stream - Prepared batch update for 36 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0271400000', 'o': '13.0246000000'}, 'XAGUSD': {'b': '37.9050000000', 'o': '37.9020000000'}, 'NZDJPY': {'b': '88.4500000000', 'o': '88.4410000000'}, 'GBPAUD': {'b': '2.0546700000',
2025-07-16 00:15:49,205 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0271400000', 'o': '13.0246000000'}, 'XAGUSD': {'b': '37.9050000000', 'o': '37.9020000000'}, 'NZDJPY': {'b': '88.4500000000', 'o': '88.4410000000'}, 'GBPAUD': {'b': '2.0546700000',...
2025-07-16 00:15:49,205 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:15:49,579 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:49,585 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:50,601 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:50,605 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:51,436 - DEBUG - app.firebase_stream - Firebase listener triggered (205). Event Type: patch, Path: /. Timestamp: 1752650151.4359589
2025-07-16 00:15:51,436 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9130000000', 'o': '37.9090000000'}, 'GBPAUD': {'b': '2.0546700000', 'o': '2.0544800000'}, 'USDCNH': {'b': '7.1819900000', 'o': '7.1819500000'}, 'EURNZD': {'b': '1.9544600000', 'o'
2025-07-16 00:15:51,436 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9130000000', 'o': '37.9090000000'}, 'GBPAUD': {'b': '2.0546700000', 'o': '2.0544800000'}, 'USDCNH': {'b': '7.1819900000', 'o': '7.1819500000'}, 'EURNZD': {'b': '1.9544600000', 'o'...
2025-07-16 00:15:51,437 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:15:51,607 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:51,610 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:52,616 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:52,619 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:53,623 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:53,625 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:53,665 - DEBUG - app.firebase_stream - Firebase listener triggered (206). Event Type: patch, Path: /. Timestamp: 1752650153.6659536
2025-07-16 00:15:53,666 - DEBUG - app.firebase_stream - Prepared batch update for 24 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4500000000', 'o': '88.4420000000'}, 'GBPAUD': {'b': '2.0547900000', 'o': '2.0546300000'}, 'USDJPY': {'b': '148.6800000000', 'o': '148.6770000000'}, 'USDCNH': {'b': '7.1819300000',
2025-07-16 00:15:53,667 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4500000000', 'o': '88.4420000000'}, 'GBPAUD': {'b': '2.0547900000', 'o': '2.0546300000'}, 'USDJPY': {'b': '148.6800000000', 'o': '148.6770000000'}, 'USDCNH': {'b': '7.1819300000',...
2025-07-16 00:15:53,668 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:15:54,634 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:54,638 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:55,654 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:55,658 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:55,961 - DEBUG - app.firebase_stream - Firebase listener triggered (207). Event Type: patch, Path: /. Timestamp: 1752650155.9619508
2025-07-16 00:15:55,962 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9150000000', 'o': '37.9120000000'}, 'NZDJPY': {'b': '88.4490000000', 'o': '88.4410000000'}, 'GBPAUD': {'b': '2.0546400000', 'o': '2.0545300000'}, 'BTCUSD': {'b': '118027.800000000
2025-07-16 00:15:55,963 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9150000000', 'o': '37.9120000000'}, 'NZDJPY': {'b': '88.4490000000', 'o': '88.4410000000'}, 'GBPAUD': {'b': '2.0546400000', 'o': '2.0545300000'}, 'BTCUSD': {'b': '118027.800000000...
2025-07-16 00:15:55,964 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:15:56,674 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:56,677 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:57,692 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:57,697 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:58,305 - DEBUG - app.firebase_stream - Firebase listener triggered (208). Event Type: patch, Path: /. Timestamp: 1752650158.3055587
2025-07-16 00:15:58,306 - DEBUG - app.firebase_stream - Prepared batch update for 36 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0267000000', 'o': '13.0241000000'}, 'XAGUSD': {'b': '37.9130000000', 'o': '37.9100000000'}, 'NZDJPY': {'b': '88.4330000000', 'o': '88.4280000000'}, 'GBPAUD': {'b': '2.0546200000',
2025-07-16 00:15:58,307 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0267000000', 'o': '13.0241000000'}, 'XAGUSD': {'b': '37.9130000000', 'o': '37.9100000000'}, 'NZDJPY': {'b': '88.4330000000', 'o': '88.4280000000'}, 'GBPAUD': {'b': '2.0546200000',...
2025-07-16 00:15:58,313 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:15:58,715 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:58,718 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:15:59,724 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:15:59,727 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:00,638 - DEBUG - app.firebase_stream - Firebase listener triggered (209). Event Type: patch, Path: /. Timestamp: 1752650160.638609
2025-07-16 00:16:00,639 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0266000000', 'o': '13.0240000000'}, 'NZDJPY': {'b': '88.4490000000', 'o': '88.4410000000'}, 'GBPAUD': {'b': '2.0546100000', 'o': '2.0544600000'}, 'USDJPY': {'b': '148.6790000000',
2025-07-16 00:16:00,640 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0266000000', 'o': '13.0240000000'}, 'NZDJPY': {'b': '88.4490000000', 'o': '88.4410000000'}, 'GBPAUD': {'b': '2.0546100000', 'o': '2.0544600000'}, 'USDJPY': {'b': '148.6790000000',...
2025-07-16 00:16:00,643 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:16:00,729 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:00,733 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:01,739 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:01,741 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:02,156 - WARNING - app - User 4 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:16:02,161 - WARNING - app - No user data found for user 5 (live). Skipping portfolio update.
2025-07-16 00:16:02,166 - WARNING - app - No group settings found for group string. Skipping portfolio update for user 8.
2025-07-16 00:16:02,190 - WARNING - app - User 9 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:16:02,228 - WARNING - app - User 10 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:16:02,254 - WARNING - app - User 11 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:16:02,276 - WARNING - app - User 12 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:16:02,300 - WARNING - app - User 13 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:16:02,634 - DEBUG - app.services.portfolio_calculator - Position calculation for BTCUSD: Type=BUY, Entry=118908.50000000, Current=118008.5, Quantity=0.40000000, Contract Size=1.00000000, PnL=-360.000000000000000000000000, PnL USD=-360.000000000000000000000000, Commission=235.57000000, Final PnL=-595.570000000000000000000000
2025-07-16 00:16:02,635 - WARNING - app.services.portfolio_calculator - MARGIN CALL ALERT: User has margin level 98.76596273054624296780232480% which is below threshold 100.0%
2025-07-16 00:16:02,678 - WARNING - app - User 16 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:16:02,709 - WARNING - app - User 17 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:16:02,737 - WARNING - app - User 18 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:16:02,744 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:02,748 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:02,765 - WARNING - app - User 19 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:16:02,792 - WARNING - app - User 20 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:16:02,824 - DEBUG - app.firebase_stream - Firebase listener triggered (210). Event Type: patch, Path: /. Timestamp: 1752650162.824526
2025-07-16 00:16:02,825 - DEBUG - app.firebase_stream - Prepared batch update for 24 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9170000000', 'o': '37.9130000000'}, 'GBPAUD': {'b': '2.0545300000', 'o': '2.0544500000'}, 'USDCNH': {'b': '7.1819200000', 'o': '7.1818600000'}, 'EURNZD': {'b': '1.9544600000', 'o'
2025-07-16 00:16:02,826 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'XAGUSD': {'b': '37.9170000000', 'o': '37.9130000000'}, 'GBPAUD': {'b': '2.0545300000', 'o': '2.0544500000'}, 'USDCNH': {'b': '7.1819200000', 'o': '7.1818600000'}, 'EURNZD': {'b': '1.9544600000', 'o'...
2025-07-16 00:16:02,826 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:16:02,886 - WARNING - app - User 21 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:16:02,933 - WARNING - app - User 22 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:16:02,962 - WARNING - app - User 23 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:16:02,995 - WARNING - app - User 24 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:16:03,029 - WARNING - app - User 25 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:16:03,428 - DEBUG - app.services.portfolio_calculator - Position calculation for XAGUSD: Type=BUY, Entry=41.09800000, Current=37.900499999999994, Quantity=0.01000000, Contract Size=5000.00000000, PnL=-159.8750000000003000000000000, PnL USD=-159.8750000000003000000000000, Commission=0.10000000, Final PnL=-159.9750000000003000000000000
2025-07-16 00:16:03,429 - DEBUG - app.services.portfolio_calculator - Position calculation for BTCUSD: Type=BUY, Entry=132091.90000000, Current=118008.5, Quantity=6.00000000, Contract Size=1.00000000, PnL=-84500.40000000000000000000000, PnL USD=-84500.40000000000000000000000, Commission=3661.62000000, Final PnL=-88162.02000000000000000000000
2025-07-16 00:16:03,429 - WARNING - app.services.portfolio_calculator - MARGIN CALL ALERT: User has margin level 65.55221519387003939735044950% which is below threshold 100.0%
2025-07-16 00:16:03,833 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:03,834 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=96.66800000, Current=96.96000000000001, Quantity=0.01000000, Contract Size=100000.00000000, PnL=292.0000000000100000000000000, PnL USD=1.963962630902884738261624036, Commission=0.10000000, Final PnL=1.863962630902884738261624036
2025-07-16 00:16:03,836 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=96.56000000, Current=97.062, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-502.000000000000000000000000, PnL USD=-3.376401509291830049973432697, Commission=0.10000000, Final PnL=-3.476401509291830049973432697
2025-07-16 00:16:03,837 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:03,841 - WARNING - app - User 2 has no group_name set. Skipping portfolio update.
2025-07-16 00:16:03,849 - WARNING - app - No group settings found for group string. Skipping portfolio update for user 3.
2025-07-16 00:16:03,881 - WARNING - app - User 4 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:16:03,882 - WARNING - app - User 5 has no group_name set. Skipping portfolio update.
2025-07-16 00:16:03,883 - WARNING - app - User 6 has no group_name set. Skipping portfolio update.
2025-07-16 00:16:04,260 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64743000, Current=0.6524, Quantity=0.10000000, Contract Size=100000.00000000, PnL=49.700000000000000000000000, PnL USD=49.700000000000000000000000, Commission=1.00000000, Final PnL=48.700000000000000000000000
2025-07-16 00:16:04,260 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=SELL, Entry=0.64707000, Current=0.6527, Quantity=0.22000000, Contract Size=100000.00000000, PnL=-123.860000000000000000000000, PnL USD=-123.860000000000000000000000, Commission=2.20000000, Final PnL=-126.060000000000000000000000
2025-07-16 00:16:04,261 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFSGD: Type=BUY, Entry=1.57561500, Current=1.603955, Quantity=0.10000000, Contract Size=100000.00000000, PnL=283.400000000000000000000000, PnL USD=220.6615173788463934222000747, Commission=1.00000000, Final PnL=219.6615173788463934222000747
2025-07-16 00:16:04,262 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFSGD: Type=SELL, Entry=1.57505500, Current=1.604395, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-293.400000000000000000000000, PnL USD=-228.4477388812756945309580167, Commission=1.00000000, Final PnL=-229.4477388812756945309580167
2025-07-16 00:16:04,263 - DEBUG - app.services.portfolio_calculator - Position calculation for CADJPY: Type=SELL, Entry=106.24150000, Current=108.4495, Quantity=0.15000000, Contract Size=100000.00000000, PnL=-33120.00000000000000000000000, PnL USD=-222.7617888202099825799204999, Commission=0E-8, Final PnL=-222.7617888202099825799204999
2025-07-16 00:16:04,264 - DEBUG - app.services.portfolio_calculator - Position calculation for CADJPY: Type=BUY, Entry=106.27050000, Current=108.4165, Quantity=0.15000000, Contract Size=100000.00000000, PnL=32190.00000000000000000000000, PnL USD=216.5067023587729269096509931, Commission=0E-8, Final PnL=216.5067023587729269096509931
2025-07-16 00:16:04,264 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=BUY, Entry=1.77481000, Current=1.7814299999999998, Quantity=0.22000000, Contract Size=100000.00000000, PnL=145.6399999999956000000000000, PnL USD=95.03738199999712878000000000, Commission=2.20000000, Final PnL=92.83738199999712878000000000
2025-07-16 00:16:04,264 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=SELL, Entry=1.77439000, Current=1.78183, Quantity=0.21000000, Contract Size=100000.00000000, PnL=-156.240000000000000000000000, PnL USD=-101.9544120000000000000000000, Commission=2.10000000, Final PnL=-104.0544120000000000000000000
2025-07-16 00:16:04,265 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFJPY: Type=BUY, Entry=178.15500000, Current=185.685, Quantity=0.10000000, Contract Size=100000.00000000, PnL=75300.00000000000000000000000, PnL USD=506.4602263937745074960149046, Commission=1.00000000, Final PnL=505.4602263937745074960149046
2025-07-16 00:16:04,266 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFJPY: Type=SELL, Entry=178.09500000, Current=185.73499999999999, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-76399.99999999990000000000000, PnL USD=-513.8587157567639007526281452, Commission=1.00000000, Final PnL=-514.8587157567639007526281452
2025-07-16 00:16:04,266 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=BUY, Entry=1.77480000, Current=1.7814299999999998, Quantity=0.05000000, Contract Size=100000.00000000, PnL=33.14999999999900000000000000, PnL USD=21.63203249999934745000000000, Commission=0.50000000, Final PnL=21.13203249999934745000000000
2025-07-16 00:16:04,266 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=SELL, Entry=1.77442000, Current=1.78183, Quantity=0.05000000, Contract Size=100000.00000000, PnL=-37.050000000000000000000000, PnL USD=-24.17697750000000000000000000, Commission=0.50000000, Final PnL=-24.67697750000000000000000000
2025-07-16 00:16:04,266 - DEBUG - app.services.portfolio_calculator - Position calculation for EURGBP: Type=SELL, Entry=0.85403000, Current=0.86734, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-133.100000000000000000000000, PnL USD=-178.4391840000000000000000000, Commission=1.00000000, Final PnL=-179.4391840000000000000000000
2025-07-16 00:16:04,267 - DEBUG - app.services.portfolio_calculator - Position calculation for EURJPY: Type=BUY, Entry=167.26050000, Current=172.83950000000002, Quantity=0.10000000, Contract Size=100000.00000000, PnL=55790.00000000020000000000000, PnL USD=375.2379286920156847974495389, Commission=1.00000000, Final PnL=374.2379286920156847974495389
2025-07-16 00:16:04,268 - DEBUG - app.services.portfolio_calculator - Position calculation for EURJPY: Type=SELL, Entry=167.23150000, Current=172.8695, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-56380.00000000000000000000000, PnL USD=-379.2062093503453749352632181, Commission=1.00000000, Final PnL=-380.2062093503453749352632181
2025-07-16 00:16:04,269 - DEBUG - app.services.portfolio_calculator - Position calculation for EURNZD: Type=SELL, Entry=1.91952500, Current=1.954585, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-350.600000000000000000000000, PnL USD=-208.5684340000000000000000000, Commission=1.00000000, Final PnL=-209.5684340000000000000000000
2025-07-16 00:16:04,269 - DEBUG - app.services.portfolio_calculator - Position calculation for EURNZD: Type=BUY, Entry=1.92063500, Current=1.954155, Quantity=0.10000000, Contract Size=100000.00000000, PnL=335.200000000000000000000000, PnL USD=199.4071280000000000000000000, Commission=1.00000000, Final PnL=198.4071280000000000000000000
2025-07-16 00:16:04,269 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=SELL, Entry=1.34376000, Current=1.34074, Quantity=0.25000000, Contract Size=0E-8, PnL=0E-24, PnL USD=0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:16:04,270 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=SELL, Entry=1.34361000, Current=1.34074, Quantity=0.25000000, Contract Size=0E-8, PnL=0E-24, PnL USD=0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:16:04,270 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=BUY, Entry=1.34379000, Current=1.34053, Quantity=0.25000000, Contract Size=0E-8, PnL=-0E-24, PnL USD=-0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:16:04,270 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=BUY, Entry=1.34378000, Current=1.34053, Quantity=0.25000000, Contract Size=0E-8, PnL=-0E-24, PnL USD=-0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:16:04,271 - DEBUG - app.services.portfolio_calculator - Position calculation for NZDJPY: Type=BUY, Entry=87.10150000, Current=88.4285, Quantity=0.01000000, Contract Size=100000.00000000, PnL=1327.000000000000000000000000, PnL USD=8.925268531534379434889930656, Commission=0.10000000, Final PnL=8.825268531534379434889930656
2025-07-16 00:16:04,272 - DEBUG - app.services.portfolio_calculator - Position calculation for USDCHF: Type=SELL, Entry=0.81771000, Current=0.80076, Quantity=0.15000000, Contract Size=100000.00000000, PnL=254.250000000000000000000000, PnL USD=317.5703526061378199123168584, Commission=1.50000000, Final PnL=316.0703526061378199123168584
2025-07-16 00:16:04,273 - DEBUG - app.services.portfolio_calculator - Position calculation for USDCHF: Type=BUY, Entry=0.81805000, Current=0.80043, Quantity=0.15000000, Contract Size=100000.00000000, PnL=-264.300000000000000000000000, PnL USD=-330.1232809982388428823022445, Commission=1.50000000, Final PnL=-331.6232809982388428823022445
2025-07-16 00:16:04,274 - DEBUG - app.services.portfolio_calculator - Position calculation for USDNOK: Type=BUY, Entry=10.04973000, Current=10.25252, Quantity=0.10000000, Contract Size=100000.00000000, PnL=2027.900000000000000000000000, PnL USD=197.7640250669485690657627066, Commission=1.00000000, Final PnL=196.7640250669485690657627066
2025-07-16 00:16:04,275 - DEBUG - app.services.portfolio_calculator - Position calculation for USDNOK: Type=BUY, Entry=10.05023000, Current=10.25252, Quantity=0.10000000, Contract Size=100000.00000000, PnL=2022.900000000000000000000000, PnL USD=197.2764171349328173791268697, Commission=1.00000000, Final PnL=196.2764171349328173791268697
2025-07-16 00:16:04,276 - DEBUG - app.services.portfolio_calculator - Position calculation for USDSGD: Type=SELL, Entry=1.28795000, Current=1.28447, Quantity=0.31000000, Contract Size=100000.00000000, PnL=107.880000000000000000000000, PnL USD=83.99775756820730036128067771, Commission=3.10000000, Final PnL=80.89775756820730036128067771
2025-07-16 00:16:04,277 - DEBUG - app.services.portfolio_calculator - Position calculation for USDTRY: Type=SELL, Entry=39.56087000, Current=40.2558, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-6949.300000000000000000000000, PnL USD=-172.6291837294889040420413035, Commission=1.00000000, Final PnL=-173.6291837294889040420413035
2025-07-16 00:16:05,038 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:05,040 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.89752000, Current=0.89475, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-2.770000000000000000000000, PnL USD=-2.019951579500043753463815885, Commission=0.10000000, Final PnL=-2.119951579500043753463815885
2025-07-16 00:16:05,042 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:05,075 - WARNING - app - User 12 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:16:05,109 - WARNING - app - User 13 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:16:05,160 - DEBUG - app.firebase_stream - Firebase listener triggered (211). Event Type: patch, Path: /. Timestamp: 1752650165.160491
2025-07-16 00:16:05,160 - DEBUG - app.firebase_stream - Prepared batch update for 35 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0258600000', 'o': '13.0233000000'}, 'XAGUSD': {'b': '37.9160000000', 'o': '37.9080000000'}, 'GBPAUD': {'b': '2.0544800000', 'o': '2.0543600000'}, 'USDJPY': {'b': '148.6800000000',
2025-07-16 00:16:05,161 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0258600000', 'o': '13.0233000000'}, 'XAGUSD': {'b': '37.9160000000', 'o': '37.9080000000'}, 'GBPAUD': {'b': '2.0544800000', 'o': '2.0543600000'}, 'USDJPY': {'b': '148.6800000000',...
2025-07-16 00:16:05,162 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:16:06,043 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:06,047 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:07,051 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:07,054 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:07,464 - DEBUG - app.firebase_stream - Firebase listener triggered (212). Event Type: patch, Path: /. Timestamp: 1752650167.4646409
2025-07-16 00:16:07,465 - DEBUG - app.firebase_stream - Prepared batch update for 36 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0256000000', 'o': '13.0230000000'}, 'XAGUSD': {'b': '37.9200000000', 'o': '37.9130000000'}, 'GBPAUD': {'b': '2.0544600000', 'o': '2.0543300000'}, 'BTCUSD': {'b': '118034.400000000
2025-07-16 00:16:07,465 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0256000000', 'o': '13.0230000000'}, 'XAGUSD': {'b': '37.9200000000', 'o': '37.9130000000'}, 'GBPAUD': {'b': '2.0544600000', 'o': '2.0543300000'}, 'BTCUSD': {'b': '118034.400000000...
2025-07-16 00:16:07,466 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:16:08,057 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:08,060 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:09,064 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:09,067 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:09,746 - DEBUG - app.firebase_stream - Firebase listener triggered (213). Event Type: patch, Path: /. Timestamp: 1752650169.7465534
2025-07-16 00:16:09,746 - DEBUG - app.firebase_stream - Prepared batch update for 36 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0255000000', 'o': '13.0229000000'}, 'XAGUSD': {'b': '37.9200000000', 'o': '37.9150000000'}, 'NZDJPY': {'b': '88.4480000000', 'o': '88.4400000000'}, 'GBPAUD': {'b': '2.0544300000',
2025-07-16 00:16:09,747 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0255000000', 'o': '13.0229000000'}, 'XAGUSD': {'b': '37.9200000000', 'o': '37.9150000000'}, 'NZDJPY': {'b': '88.4480000000', 'o': '88.4400000000'}, 'GBPAUD': {'b': '2.0544300000',...
2025-07-16 00:16:09,749 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:16:10,078 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:10,081 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:11,085 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:11,089 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:12,106 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:12,109 - DEBUG - app.firebase_stream - Firebase listener triggered (214). Event Type: patch, Path: /. Timestamp: 1752650172.1092157
2025-07-16 00:16:12,110 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0256100000', 'o': '13.0232000000'}, 'XAGUSD': {'b': '37.9090000000', 'o': '37.9080000000'}, 'NZDJPY': {'b': '88.4480000000', 'o': '88.4410000000'}, 'GBPAUD': {'b': '2.0544300000',
2025-07-16 00:16:12,112 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:12,113 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0256100000', 'o': '13.0232000000'}, 'XAGUSD': {'b': '37.9090000000', 'o': '37.9080000000'}, 'NZDJPY': {'b': '88.4480000000', 'o': '88.4410000000'}, 'GBPAUD': {'b': '2.0544300000',...
2025-07-16 00:16:12,113 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:16:13,142 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:13,146 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:14,154 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:14,158 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:14,349 - DEBUG - app.firebase_stream - Firebase listener triggered (215). Event Type: patch, Path: /. Timestamp: 1752650174.349951
2025-07-16 00:16:14,350 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0256100000', 'o': '13.0233000000'}, 'NZDJPY': {'b': '88.4500000000', 'o': '88.4430000000'}, 'GBPAUD': {'b': '2.0544300000', 'o': '2.0542900000'}, 'BTCUSD': {'b': '118058.600000000
2025-07-16 00:16:14,351 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0256100000', 'o': '13.0233000000'}, 'NZDJPY': {'b': '88.4500000000', 'o': '88.4430000000'}, 'GBPAUD': {'b': '2.0544300000', 'o': '2.0542900000'}, 'BTCUSD': {'b': '118058.600000000...
2025-07-16 00:16:14,352 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:16:15,161 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:15,164 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:16,179 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:16,182 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:16,656 - DEBUG - app.firebase_stream - Firebase listener triggered (216). Event Type: patch, Path: /. Timestamp: 1752650176.656643
2025-07-16 00:16:16,657 - DEBUG - app.firebase_stream - Prepared batch update for 34 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0256100000', 'o': '13.0232000000'}, 'XAGUSD': {'b': '37.9290000000', 'o': '37.9250000000'}, 'NZDJPY': {'b': '88.4500000000', 'o': '88.4420000000'}, 'GBPAUD': {'b': '2.0544300000',
2025-07-16 00:16:16,658 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0256100000', 'o': '13.0232000000'}, 'XAGUSD': {'b': '37.9290000000', 'o': '37.9250000000'}, 'NZDJPY': {'b': '88.4500000000', 'o': '88.4420000000'}, 'GBPAUD': {'b': '2.0544300000',...
2025-07-16 00:16:16,664 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:16:17,189 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:17,192 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:18,195 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:18,200 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:18,946 - DEBUG - app.firebase_stream - Firebase listener triggered (217). Event Type: patch, Path: /. Timestamp: 1752650178.946233
2025-07-16 00:16:18,946 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0258000000', 'o': '13.0232000000'}, 'XAGUSD': {'b': '37.9270000000', 'o': '37.9240000000'}, 'NZDJPY': {'b': '88.4510000000', 'o': '88.4430000000'}, 'GBPAUD': {'b': '2.0544300000',
2025-07-16 00:16:18,947 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0258000000', 'o': '13.0232000000'}, 'XAGUSD': {'b': '37.9270000000', 'o': '37.9240000000'}, 'NZDJPY': {'b': '88.4510000000', 'o': '88.4430000000'}, 'GBPAUD': {'b': '2.0544300000',...
2025-07-16 00:16:18,947 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:16:19,208 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:19,211 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:20,222 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:20,226 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:21,244 - DEBUG - app.firebase_stream - Firebase listener triggered (218). Event Type: patch, Path: /. Timestamp: 1752650181.244063
2025-07-16 00:16:21,244 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:21,244 - DEBUG - app.firebase_stream - Prepared batch update for 26 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0255000000', 'o': '13.0229000000'}, 'XAGUSD': {'b': '37.9260000000', 'o': '37.9230000000'}, 'NZDJPY': {'b': '88.4500000000', 'o': '88.4420000000'}, 'GBPAUD': {'b': '2.0544200000',
2025-07-16 00:16:21,245 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0255000000', 'o': '13.0229000000'}, 'XAGUSD': {'b': '37.9260000000', 'o': '37.9230000000'}, 'NZDJPY': {'b': '88.4500000000', 'o': '88.4420000000'}, 'GBPAUD': {'b': '2.0544200000',...
2025-07-16 00:16:21,245 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:16:21,261 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:22,285 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:22,288 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:23,293 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:23,295 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:23,554 - DEBUG - app.firebase_stream - Firebase listener triggered (219). Event Type: patch, Path: /. Timestamp: 1752650183.5546415
2025-07-16 00:16:23,555 - DEBUG - app.firebase_stream - Prepared batch update for 34 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4500000000', 'o': '88.4430000000'}, 'GBPAUD': {'b': '2.0543900000', 'o': '2.0542600000'}, 'BTCUSD': {'b': '118058.6000000000', 'o': '118058.5000000000'}, 'USDJPY': {'b': '148.6850
2025-07-16 00:16:23,555 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4500000000', 'o': '88.4430000000'}, 'GBPAUD': {'b': '2.0543900000', 'o': '2.0542600000'}, 'BTCUSD': {'b': '118058.6000000000', 'o': '118058.5000000000'}, 'USDJPY': {'b': '148.6850...
2025-07-16 00:16:23,557 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:16:24,298 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:24,301 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:25,309 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:25,312 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:25,865 - DEBUG - app.firebase_stream - Firebase listener triggered (220). Event Type: patch, Path: /. Timestamp: 1752650185.8650706
2025-07-16 00:16:25,865 - DEBUG - app.firebase_stream - Prepared batch update for 35 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0263000000', 'o': '13.0237000000'}, 'XAGUSD': {'b': '37.9150000000', 'o': '37.9120000000'}, 'NZDJPY': {'b': '88.4540000000', 'o': '88.4510000000'}, 'GBPAUD': {'b': '2.0544100000',
2025-07-16 00:16:25,866 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0263000000', 'o': '13.0237000000'}, 'XAGUSD': {'b': '37.9150000000', 'o': '37.9120000000'}, 'NZDJPY': {'b': '88.4540000000', 'o': '88.4510000000'}, 'GBPAUD': {'b': '2.0544100000',...
2025-07-16 00:16:25,866 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:16:26,324 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:26,328 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:27,334 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:27,337 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:28,186 - DEBUG - app.firebase_stream - Firebase listener triggered (221). Event Type: patch, Path: /. Timestamp: 1752650188.1860526
2025-07-16 00:16:28,186 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9330000000', 'o': '37.9290000000'}, 'NZDJPY': {'b': '88.4590000000', 'o': '88.4520000000'}, 'GBPAUD': {'b': '2.0544200000', 'o': '2.0542800000'}, 'BTCUSD': {'b': '118072.700000000
2025-07-16 00:16:28,187 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9330000000', 'o': '37.9290000000'}, 'NZDJPY': {'b': '88.4590000000', 'o': '88.4520000000'}, 'GBPAUD': {'b': '2.0544200000', 'o': '2.0542800000'}, 'BTCUSD': {'b': '118072.700000000...
2025-07-16 00:16:28,188 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:16:28,339 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:28,343 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:29,361 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:29,364 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:30,370 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:30,376 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:30,523 - DEBUG - app.firebase_stream - Firebase listener triggered (222). Event Type: patch, Path: /. Timestamp: 1752650190.5238082
2025-07-16 00:16:30,524 - DEBUG - app.firebase_stream - Prepared batch update for 25 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0267000000', 'o': '13.0241000000'}, 'XAGUSD': {'b': '37.9300000000', 'o': '37.9260000000'}, 'NZDJPY': {'b': '88.4490000000', 'o': '88.4410000000'}, 'GBPAUD': {'b': '2.0546100000',
2025-07-16 00:16:30,524 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0267000000', 'o': '13.0241000000'}, 'XAGUSD': {'b': '37.9300000000', 'o': '37.9260000000'}, 'NZDJPY': {'b': '88.4490000000', 'o': '88.4410000000'}, 'GBPAUD': {'b': '2.0546100000',...
2025-07-16 00:16:30,525 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:16:31,381 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:31,384 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:32,390 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:32,394 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:32,770 - DEBUG - app.firebase_stream - Firebase listener triggered (223). Event Type: patch, Path: /. Timestamp: 1752650192.7700799
2025-07-16 00:16:32,770 - DEBUG - app.firebase_stream - Prepared batch update for 26 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4580000000', 'o': '88.4510000000'}, 'GBPAUD': {'b': '2.0544200000', 'o': '2.0542900000'}, 'USDJPY': {'b': '148.6800000000', 'o': '148.6760000000'}, 'EURNZD': {'b': '1.9542300000',
2025-07-16 00:16:32,771 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'NZDJPY': {'b': '88.4580000000', 'o': '88.4510000000'}, 'GBPAUD': {'b': '2.0544200000', 'o': '2.0542900000'}, 'USDJPY': {'b': '148.6800000000', 'o': '148.6760000000'}, 'EURNZD': {'b': '1.9542300000',...
2025-07-16 00:16:32,771 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:16:33,401 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:33,404 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:34,409 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:34,414 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:35,048 - DEBUG - app.firebase_stream - Firebase listener triggered (224). Event Type: patch, Path: /. Timestamp: 1752650195.048605
2025-07-16 00:16:35,049 - DEBUG - app.firebase_stream - Prepared batch update for 20 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4580000000', 'o': '88.4500000000'}, 'GBPAUD': {'b': '2.0544700000', 'o': '2.0543000000'}, 'CADCHF': {'b': '0.5839300000', 'o': '0.5838600000'}, 'EURNZD': {'b': '1.9542600000', 'o'
2025-07-16 00:16:35,049 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'NZDJPY': {'b': '88.4580000000', 'o': '88.4500000000'}, 'GBPAUD': {'b': '2.0544700000', 'o': '2.0543000000'}, 'CADCHF': {'b': '0.5839300000', 'o': '0.5838600000'}, 'EURNZD': {'b': '1.9542600000', 'o'...
2025-07-16 00:16:35,050 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:16:35,429 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:35,432 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:36,435 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:36,439 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:37,343 - DEBUG - app.firebase_stream - Firebase listener triggered (225). Event Type: patch, Path: /. Timestamp: 1752650197.343183
2025-07-16 00:16:37,343 - DEBUG - app.firebase_stream - Prepared batch update for 22 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0266000000', 'o': '13.0240000000'}, 'XAGUSD': {'b': '37.9280000000', 'o': '37.9260000000'}, 'BTCUSD': {'b': '118065.3200000000', 'o': '118065.3200000000'}, 'USDCNH': {'b': '7.1819
2025-07-16 00:16:37,344 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0266000000', 'o': '13.0240000000'}, 'XAGUSD': {'b': '37.9280000000', 'o': '37.9260000000'}, 'BTCUSD': {'b': '118065.3200000000', 'o': '118065.3200000000'}, 'USDCNH': {'b': '7.1819...
2025-07-16 00:16:37,346 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:16:37,443 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:37,447 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:38,456 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:38,459 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:39,475 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:39,478 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:39,715 - DEBUG - app.firebase_stream - Firebase listener triggered (226). Event Type: patch, Path: /. Timestamp: 1752650199.715518
2025-07-16 00:16:39,716 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0259500000', 'o': '13.0240000000'}, 'XAGUSD': {'b': '37.9290000000', 'o': '37.9260000000'}, 'GBPAUD': {'b': '2.0543900000', 'o': '2.0543200000'}, 'BTCUSD': {'b': '118064.600000000
2025-07-16 00:16:39,717 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0259500000', 'o': '13.0240000000'}, 'XAGUSD': {'b': '37.9290000000', 'o': '37.9260000000'}, 'GBPAUD': {'b': '2.0543900000', 'o': '2.0543200000'}, 'BTCUSD': {'b': '118064.600000000...
2025-07-16 00:16:39,717 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:16:40,494 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:40,498 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:41,514 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:41,518 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:41,943 - DEBUG - app.firebase_stream - Firebase listener triggered (227). Event Type: patch, Path: /. Timestamp: 1752650201.943104
2025-07-16 00:16:41,943 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9330000000', 'o': '37.9280000000'}, 'NZDJPY': {'b': '88.4610000000', 'o': '88.4570000000'}, 'GBPAUD': {'b': '2.0544300000', 'o': '2.0542900000'}, 'USDJPY': {'b': '148.6810000000',
2025-07-16 00:16:41,944 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'XAGUSD': {'b': '37.9330000000', 'o': '37.9280000000'}, 'NZDJPY': {'b': '88.4610000000', 'o': '88.4570000000'}, 'GBPAUD': {'b': '2.0544300000', 'o': '2.0542900000'}, 'USDJPY': {'b': '148.6810000000',...
2025-07-16 00:16:41,944 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:16:42,525 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:42,530 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:43,537 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:43,540 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:44,242 - DEBUG - app.firebase_stream - Firebase listener triggered (228). Event Type: patch, Path: /. Timestamp: 1752650204.2426214
2025-07-16 00:16:44,242 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0259000000', 'o': '13.0233000000'}, 'XAGUSD': {'b': '37.9320000000', 'o': '37.9310000000'}, 'NZDJPY': {'b': '88.4650000000', 'o': '88.4570000000'}, 'GBPAUD': {'b': '2.0542600000',
2025-07-16 00:16:44,243 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0259000000', 'o': '13.0233000000'}, 'XAGUSD': {'b': '37.9320000000', 'o': '37.9310000000'}, 'NZDJPY': {'b': '88.4650000000', 'o': '88.4570000000'}, 'GBPAUD': {'b': '2.0542600000',...
2025-07-16 00:16:44,243 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:16:44,549 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:44,553 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:45,559 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:45,562 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:46,535 - DEBUG - app.firebase_stream - Firebase listener triggered (229). Event Type: patch, Path: /. Timestamp: 1752650206.5358622
2025-07-16 00:16:46,536 - DEBUG - app.firebase_stream - Prepared batch update for 30 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0259500000', 'o': '13.0234000000'}, 'NZDJPY': {'b': '88.4650000000', 'o': '88.4590000000'}, 'GBPAUD': {'b': '2.0544200000', 'o': '2.0542900000'}, 'USDJPY': {'b': '148.6820000000',
2025-07-16 00:16:46,537 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0259500000', 'o': '13.0234000000'}, 'NZDJPY': {'b': '88.4650000000', 'o': '88.4590000000'}, 'GBPAUD': {'b': '2.0544200000', 'o': '2.0542900000'}, 'USDJPY': {'b': '148.6820000000',...
2025-07-16 00:16:46,539 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:16:46,565 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:46,576 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:47,599 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:47,602 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:48,613 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:48,616 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:48,865 - DEBUG - app.firebase_stream - Firebase listener triggered (230). Event Type: patch, Path: /. Timestamp: 1752650208.8653347
2025-07-16 00:16:48,865 - DEBUG - app.firebase_stream - Prepared batch update for 35 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0256000000', 'o': '13.0230000000'}, 'XAGUSD': {'b': '37.9330000000', 'o': '37.9290000000'}, 'NZDJPY': {'b': '88.4660000000', 'o': '88.4590000000'}, 'GBPAUD': {'b': '2.0543100000',
2025-07-16 00:16:48,869 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0256000000', 'o': '13.0230000000'}, 'XAGUSD': {'b': '37.9330000000', 'o': '37.9290000000'}, 'NZDJPY': {'b': '88.4660000000', 'o': '88.4590000000'}, 'GBPAUD': {'b': '2.0543100000',...
2025-07-16 00:16:48,873 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:16:49,626 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:49,629 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:50,642 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:50,646 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:51,117 - DEBUG - app.firebase_stream - Firebase listener triggered (231). Event Type: patch, Path: /. Timestamp: 1752650211.1178758
2025-07-16 00:16:51,118 - DEBUG - app.firebase_stream - Prepared batch update for 23 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4650000000', 'o': '88.4570000000'}, 'GBPAUD': {'b': '2.0543000000', 'o': '2.0541400000'}, 'BTCUSD': {'b': '118074.0000000000', 'o': '118073.9000000000'}, 'USDJPY': {'b': '148.6830
2025-07-16 00:16:51,119 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4650000000', 'o': '88.4570000000'}, 'GBPAUD': {'b': '2.0543000000', 'o': '2.0541400000'}, 'BTCUSD': {'b': '118074.0000000000', 'o': '118073.9000000000'}, 'USDJPY': {'b': '148.6830...
2025-07-16 00:16:51,121 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:16:51,661 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:51,667 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:52,680 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:52,683 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:53,434 - DEBUG - app.firebase_stream - Firebase listener triggered (232). Event Type: patch, Path: /. Timestamp: 1752650213.4340367
2025-07-16 00:16:53,434 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0257000000', 'o': '13.0231000000'}, 'NZDJPY': {'b': '88.4670000000', 'o': '88.4610000000'}, 'GBPAUD': {'b': '2.0542600000', 'o': '2.0541200000'}, 'USDJPY': {'b': '148.6870000000',
2025-07-16 00:16:53,434 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0257000000', 'o': '13.0231000000'}, 'NZDJPY': {'b': '88.4670000000', 'o': '88.4610000000'}, 'GBPAUD': {'b': '2.0542600000', 'o': '2.0541200000'}, 'USDJPY': {'b': '148.6870000000',...
2025-07-16 00:16:53,435 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:16:53,692 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:53,695 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:54,701 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:54,708 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:55,718 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:55,720 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:55,785 - DEBUG - app.firebase_stream - Firebase listener triggered (233). Event Type: patch, Path: /. Timestamp: 1752650215.7854106
2025-07-16 00:16:55,785 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0255000000', 'o': '13.0229000000'}, 'NZDJPY': {'b': '88.4680000000', 'o': '88.4630000000'}, 'GBPAUD': {'b': '2.0542900000', 'o': '2.0541500000'}, 'USDJPY': {'b': '148.6900000000',
2025-07-16 00:16:55,786 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0255000000', 'o': '13.0229000000'}, 'NZDJPY': {'b': '88.4680000000', 'o': '88.4630000000'}, 'GBPAUD': {'b': '2.0542900000', 'o': '2.0541500000'}, 'USDJPY': {'b': '148.6900000000',...
2025-07-16 00:16:55,786 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:16:56,731 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:56,735 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:57,739 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:57,743 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:58,075 - DEBUG - app.firebase_stream - Firebase listener triggered (234). Event Type: patch, Path: /. Timestamp: 1752650218.0752075
2025-07-16 00:16:58,075 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0263000000', 'o': '13.0237000000'}, 'XAGUSD': {'b': '37.9260000000', 'o': '37.9230000000'}, 'NZDJPY': {'b': '88.4710000000', 'o': '88.4630000000'}, 'USDJPY': {'b': '148.6900000000
2025-07-16 00:16:58,076 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0263000000', 'o': '13.0237000000'}, 'XAGUSD': {'b': '37.9260000000', 'o': '37.9230000000'}, 'NZDJPY': {'b': '88.4710000000', 'o': '88.4630000000'}, 'USDJPY': {'b': '148.6900000000...
2025-07-16 00:16:58,079 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:16:58,763 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:58,766 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:16:59,773 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:16:59,775 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:00,368 - DEBUG - app.firebase_stream - Firebase listener triggered (235). Event Type: patch, Path: /. Timestamp: 1752650220.3680544
2025-07-16 00:17:00,368 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0255000000', 'o': '13.0229000000'}, 'XAGUSD': {'b': '37.9320000000', 'o': '37.9280000000'}, 'NZDJPY': {'b': '88.4590000000', 'o': '88.4520000000'}, 'GBPAUD': {'b': '2.0542300000',
2025-07-16 00:17:00,369 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0255000000', 'o': '13.0229000000'}, 'XAGUSD': {'b': '37.9320000000', 'o': '37.9280000000'}, 'NZDJPY': {'b': '88.4590000000', 'o': '88.4520000000'}, 'GBPAUD': {'b': '2.0542300000',...
2025-07-16 00:17:00,369 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:17:00,783 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:00,787 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:01,793 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:01,796 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:02,153 - WARNING - app - User 4 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:17:02,161 - WARNING - app - No user data found for user 5 (live). Skipping portfolio update.
2025-07-16 00:17:02,168 - WARNING - app - No group settings found for group string. Skipping portfolio update for user 8.
2025-07-16 00:17:02,201 - WARNING - app - User 9 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:17:02,232 - WARNING - app - User 10 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:17:02,266 - WARNING - app - User 11 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:17:02,298 - WARNING - app - User 12 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:17:02,327 - WARNING - app - User 13 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:17:02,664 - DEBUG - app.firebase_stream - Firebase listener triggered (236). Event Type: patch, Path: /. Timestamp: 1752650222.6644235
2025-07-16 00:17:02,665 - DEBUG - app.firebase_stream - Prepared batch update for 27 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9320000000', 'o': '37.9290000000'}, 'NZDJPY': {'b': '88.4690000000', 'o': '88.4630000000'}, 'GBPAUD': {'b': '2.0542100000', 'o': '2.0540900000'}, 'BTCUSD': {'b': '118087.200000000
2025-07-16 00:17:02,665 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9320000000', 'o': '37.9290000000'}, 'NZDJPY': {'b': '88.4690000000', 'o': '88.4630000000'}, 'GBPAUD': {'b': '2.0542100000', 'o': '2.0540900000'}, 'BTCUSD': {'b': '118087.200000000...
2025-07-16 00:17:02,665 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:17:02,684 - DEBUG - app.services.portfolio_calculator - Position calculation for BTCUSD: Type=BUY, Entry=118908.50000000, Current=118033.84, Quantity=0.40000000, Contract Size=1.00000000, PnL=-349.864000000000000000000000, PnL USD=-349.864000000000000000000000, Commission=235.57000000, Final PnL=-585.434000000000000000000000
2025-07-16 00:17:02,684 - WARNING - app.services.portfolio_calculator - MARGIN CALL ALERT: User has margin level 98.87353240515222233896121400% which is below threshold 100.0%
2025-07-16 00:17:02,799 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:02,804 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:02,813 - WARNING - app - User 16 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:17:02,844 - WARNING - app - User 17 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:17:02,878 - WARNING - app - User 18 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:17:02,915 - WARNING - app - User 19 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:17:02,946 - WARNING - app - User 20 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:17:02,977 - WARNING - app - User 21 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:17:03,016 - WARNING - app - User 22 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:17:03,054 - WARNING - app - User 23 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:17:03,084 - WARNING - app - User 24 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:17:03,115 - WARNING - app - User 25 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:17:03,475 - DEBUG - app.services.portfolio_calculator - Position calculation for XAGUSD: Type=BUY, Entry=41.09800000, Current=37.9165, Quantity=0.01000000, Contract Size=5000.00000000, PnL=-159.075000000000000000000000, PnL USD=-159.075000000000000000000000, Commission=0.10000000, Final PnL=-159.175000000000000000000000
2025-07-16 00:17:03,475 - DEBUG - app.services.portfolio_calculator - Position calculation for BTCUSD: Type=BUY, Entry=132091.90000000, Current=118037.1, Quantity=6.00000000, Contract Size=1.00000000, PnL=-84328.80000000000000000000000, PnL USD=-84328.80000000000000000000000, Commission=3661.62000000, Final PnL=-87990.42000000000000000000000
2025-07-16 00:17:03,476 - WARNING - app.services.portfolio_calculator - MARGIN CALL ALERT: User has margin level 65.66990685087641031161869924% which is below threshold 100.0%
2025-07-16 00:17:03,855 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:03,858 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=96.66800000, Current=96.99000000000001, Quantity=0.01000000, Contract Size=100000.00000000, PnL=322.0000000000100000000000000, PnL USD=2.165550264977335700642939768, Commission=0.10000000, Final PnL=2.065550264977335700642939768
2025-07-16 00:17:03,859 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=96.56000000, Current=97.095, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-535.000000000000000000000000, PnL USD=-3.598041589325585774621364969, Commission=0.10000000, Final PnL=-3.698041589325585774621364969
2025-07-16 00:17:03,860 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:03,862 - WARNING - app - User 2 has no group_name set. Skipping portfolio update.
2025-07-16 00:17:03,872 - WARNING - app - No group settings found for group string. Skipping portfolio update for user 3.
2025-07-16 00:17:03,904 - WARNING - app - User 4 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:17:03,905 - WARNING - app - User 5 has no group_name set. Skipping portfolio update.
2025-07-16 00:17:03,906 - WARNING - app - User 6 has no group_name set. Skipping portfolio update.
2025-07-16 00:17:04,264 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64743000, Current=0.65249, Quantity=0.10000000, Contract Size=100000.00000000, PnL=50.600000000000000000000000, PnL USD=50.600000000000000000000000, Commission=1.00000000, Final PnL=49.600000000000000000000000
2025-07-16 00:17:04,264 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=SELL, Entry=0.64707000, Current=0.6527999999999999, Quantity=0.22000000, Contract Size=100000.00000000, PnL=-126.0599999999978000000000000, PnL USD=-126.0599999999978000000000000, Commission=2.20000000, Final PnL=-128.2599999999978000000000000
2025-07-16 00:17:04,265 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFSGD: Type=BUY, Entry=1.57561500, Current=1.6038750000000002, Quantity=0.10000000, Contract Size=100000.00000000, PnL=282.6000000000020000000000000, PnL USD=220.0454729498255832061544212, Commission=1.00000000, Final PnL=219.0454729498255832061544212
2025-07-16 00:17:04,266 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFSGD: Type=SELL, Entry=1.57505500, Current=1.604295, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-292.400000000000000000000000, PnL USD=-227.6762076805681004142398854, Commission=1.00000000, Final PnL=-228.6762076805681004142398854
2025-07-16 00:17:04,266 - DEBUG - app.services.portfolio_calculator - Position calculation for CADJPY: Type=SELL, Entry=106.24150000, Current=108.4645, Quantity=0.15000000, Contract Size=100000.00000000, PnL=-33345.00000000000000000000000, PnL USD=-224.2555080300217900088774110, Commission=0E-8, Final PnL=-224.2555080300217900088774110
2025-07-16 00:17:04,267 - DEBUG - app.services.portfolio_calculator - Position calculation for CADJPY: Type=BUY, Entry=106.27050000, Current=108.43249999999999, Quantity=0.15000000, Contract Size=100000.00000000, PnL=32429.99999999985000000000000, PnL USD=218.1018481155667419901541441, Commission=0E-8, Final PnL=218.1018481155667419901541441
2025-07-16 00:17:04,267 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=BUY, Entry=1.77481000, Current=1.7813299999999999, Quantity=0.22000000, Contract Size=100000.00000000, PnL=143.4399999999978000000000000, PnL USD=93.61611599999856417000000000, Commission=2.20000000, Final PnL=91.41611599999856417000000000
2025-07-16 00:17:04,267 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=SELL, Entry=1.77439000, Current=1.7817100000000001, Quantity=0.21000000, Contract Size=100000.00000000, PnL=-153.7200000000021000000000000, PnL USD=-100.3253580000013705650000000, Commission=2.10000000, Final PnL=-102.4253580000013705650000000
2025-07-16 00:17:04,267 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFJPY: Type=BUY, Entry=178.15500000, Current=185.69500000000002, Quantity=0.10000000, Contract Size=100000.00000000, PnL=75400.00000000020000000000000, PnL USD=507.0884781965418448874182875, Commission=1.00000000, Final PnL=506.0884781965418448874182875
2025-07-16 00:17:04,268 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFJPY: Type=SELL, Entry=178.09500000, Current=185.74499999999998, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-76499.99999999980000000000000, PnL USD=-514.4863207166478357947972991, Commission=1.00000000, Final PnL=-515.4863207166478357947972991
2025-07-16 00:17:04,268 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=BUY, Entry=1.77480000, Current=1.7813299999999999, Quantity=0.05000000, Contract Size=100000.00000000, PnL=32.64999999999950000000000000, PnL USD=21.30902249999967367500000000, Commission=0.50000000, Final PnL=20.80902249999967367500000000
2025-07-16 00:17:04,268 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=SELL, Entry=1.77442000, Current=1.7817100000000001, Quantity=0.05000000, Contract Size=100000.00000000, PnL=-36.45000000000050000000000000, PnL USD=-23.78909250000032632500000000, Commission=0.50000000, Final PnL=-24.28909250000032632500000000
2025-07-16 00:17:04,268 - DEBUG - app.services.portfolio_calculator - Position calculation for EURGBP: Type=SELL, Entry=0.85403000, Current=0.86735, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-133.200000000000000000000000, PnL USD=-178.5745800000000000000000000, Commission=1.00000000, Final PnL=-179.5745800000000000000000000
2025-07-16 00:17:04,269 - DEBUG - app.services.portfolio_calculator - Position calculation for EURJPY: Type=BUY, Entry=167.26050000, Current=172.84150000000002, Quantity=0.10000000, Contract Size=100000.00000000, PnL=55810.00000000020000000000000, PnL USD=375.3396282247881526914696150, Commission=1.00000000, Final PnL=374.3396282247881526914696150
2025-07-16 00:17:04,270 - DEBUG - app.services.portfolio_calculator - Position calculation for EURJPY: Type=SELL, Entry=167.23150000, Current=172.8705, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-56390.00000000000000000000000, PnL USD=-379.2403088262986576278481694, Commission=1.00000000, Final PnL=-380.2403088262986576278481694
2025-07-16 00:17:04,270 - DEBUG - app.services.portfolio_calculator - Position calculation for EURNZD: Type=SELL, Entry=1.91952500, Current=1.954385, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-348.600000000000000000000000, PnL USD=-207.3960840000000000000000000, Commission=1.00000000, Final PnL=-208.3960840000000000000000000
2025-07-16 00:17:04,270 - DEBUG - app.services.portfolio_calculator - Position calculation for EURNZD: Type=BUY, Entry=1.92063500, Current=1.953935, Quantity=0.10000000, Contract Size=100000.00000000, PnL=333.000000000000000000000000, PnL USD=198.1150200000000000000000000, Commission=1.00000000, Final PnL=197.1150200000000000000000000
2025-07-16 00:17:04,270 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=SELL, Entry=1.34376000, Current=1.3407499999999999, Quantity=0.25000000, Contract Size=0E-8, PnL=0E-32, PnL USD=0E-32, Commission=2.50000000, Final PnL=-2.500000000000000000000000000
2025-07-16 00:17:04,271 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=SELL, Entry=1.34361000, Current=1.3407499999999999, Quantity=0.25000000, Contract Size=0E-8, PnL=0E-32, PnL USD=0E-32, Commission=2.50000000, Final PnL=-2.500000000000000000000000000
2025-07-16 00:17:04,271 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=BUY, Entry=1.34379000, Current=1.34054, Quantity=0.25000000, Contract Size=0E-8, PnL=-0E-24, PnL USD=-0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:17:04,271 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=BUY, Entry=1.34378000, Current=1.34054, Quantity=0.25000000, Contract Size=0E-8, PnL=-0E-24, PnL USD=-0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:17:04,271 - DEBUG - app.services.portfolio_calculator - Position calculation for NZDJPY: Type=BUY, Entry=87.10150000, Current=88.45049999999999, Quantity=0.01000000, Contract Size=100000.00000000, PnL=1348.999999999990000000000000, PnL USD=9.072445054205942485137061846, Commission=0.10000000, Final PnL=8.972445054205942485137061846
2025-07-16 00:17:04,272 - DEBUG - app.services.portfolio_calculator - Position calculation for USDCHF: Type=SELL, Entry=0.81771000, Current=0.8007799999999999, Quantity=0.15000000, Contract Size=100000.00000000, PnL=253.9500000000015000000000000, PnL USD=317.1877146746955522526010767, Commission=1.50000000, Final PnL=315.6877146746955522526010767
2025-07-16 00:17:04,273 - DEBUG - app.services.portfolio_calculator - Position calculation for USDCHF: Type=BUY, Entry=0.81805000, Current=0.8004600000000001, Quantity=0.15000000, Contract Size=100000.00000000, PnL=-263.8499999999985000000000000, PnL USD=-329.5529770305865381012452694, Commission=1.50000000, Final PnL=-331.0529770305865381012452694
2025-07-16 00:17:04,274 - DEBUG - app.services.portfolio_calculator - Position calculation for USDNOK: Type=BUY, Entry=10.04973000, Current=10.253250000000001, Quantity=0.10000000, Contract Size=100000.00000000, PnL=2035.200000000010000000000000, PnL USD=198.4668358913708078610498108, Commission=1.00000000, Final PnL=197.4668358913708078610498108
2025-07-16 00:17:04,274 - DEBUG - app.services.portfolio_calculator - Position calculation for USDNOK: Type=BUY, Entry=10.05023000, Current=10.253250000000001, Quantity=0.10000000, Contract Size=100000.00000000, PnL=2030.200000000010000000000000, PnL USD=197.9792503079112711258643673, Commission=1.00000000, Final PnL=196.9792503079112711258643673
2025-07-16 00:17:04,275 - DEBUG - app.services.portfolio_calculator - Position calculation for USDSGD: Type=SELL, Entry=1.28795000, Current=1.2844300000000002, Quantity=0.31000000, Contract Size=100000.00000000, PnL=109.1199999999938000000000000, PnL USD=84.96589528762715295729903136, Commission=3.10000000, Final PnL=81.86589528762715295729903136
2025-07-16 00:17:04,275 - DEBUG - app.services.portfolio_calculator - Position calculation for USDTRY: Type=SELL, Entry=39.56087000, Current=40.25655, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-6956.800000000000000000000000, PnL USD=-172.8122733279677268707584384, Commission=1.00000000, Final PnL=-173.8122733279677268707584384
2025-07-16 00:17:04,967 - DEBUG - app.firebase_stream - Firebase listener triggered (237). Event Type: patch, Path: /. Timestamp: 1752650224.9676754
2025-07-16 00:17:04,968 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0255700000', 'o': '13.0231000000'}, 'XAGUSD': {'b': '37.9320000000', 'o': '37.9280000000'}, 'NZDJPY': {'b': '88.4700000000', 'o': '88.4610000000'}, 'GBPAUD': {'b': '2.0542300000',
2025-07-16 00:17:04,969 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0255700000', 'o': '13.0231000000'}, 'XAGUSD': {'b': '37.9320000000', 'o': '37.9280000000'}, 'NZDJPY': {'b': '88.4700000000', 'o': '88.4610000000'}, 'GBPAUD': {'b': '2.0542300000',...
2025-07-16 00:17:04,969 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:17:04,970 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.89752000, Current=0.89483, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-2.690000000000000000000000, PnL USD=-1.961871143719824379713231326, Commission=0.10000000, Final PnL=-2.061871143719824379713231326
2025-07-16 00:17:04,971 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:04,983 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:05,082 - WARNING - app - User 12 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:17:05,114 - WARNING - app - User 13 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:17:06,015 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:06,019 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:07,029 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:07,033 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:07,260 - DEBUG - app.firebase_stream - Firebase listener triggered (238). Event Type: patch, Path: /. Timestamp: 1752650227.2601535
2025-07-16 00:17:07,260 - DEBUG - app.firebase_stream - Prepared batch update for 26 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0254000000', 'o': '13.0228000000'}, 'NZDJPY': {'b': '88.4700000000', 'o': '88.4620000000'}, 'GBPAUD': {'b': '2.0542300000', 'o': '2.0540900000'}, 'USDJPY': {'b': '148.6920000000',
2025-07-16 00:17:07,261 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0254000000', 'o': '13.0228000000'}, 'NZDJPY': {'b': '88.4700000000', 'o': '88.4620000000'}, 'GBPAUD': {'b': '2.0542300000', 'o': '2.0540900000'}, 'USDJPY': {'b': '148.6920000000',...
2025-07-16 00:17:07,263 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:17:08,038 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:08,040 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:09,053 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:09,056 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:09,569 - DEBUG - app.firebase_stream - Firebase listener triggered (239). Event Type: patch, Path: /. Timestamp: 1752650229.5693288
2025-07-16 00:17:09,569 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0254300000', 'o': '13.0229000000'}, 'XAGUSD': {'b': '37.9330000000', 'o': '37.9260000000'}, 'NZDJPY': {'b': '88.4580000000', 'o': '88.4500000000'}, 'GBPAUD': {'b': '2.0544700000',
2025-07-16 00:17:09,570 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0254300000', 'o': '13.0229000000'}, 'XAGUSD': {'b': '37.9330000000', 'o': '37.9260000000'}, 'NZDJPY': {'b': '88.4580000000', 'o': '88.4500000000'}, 'GBPAUD': {'b': '2.0544700000',...
2025-07-16 00:17:09,571 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:17:10,067 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:10,071 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:11,085 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:11,088 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:11,888 - DEBUG - app.firebase_stream - Firebase listener triggered (240). Event Type: patch, Path: /. Timestamp: 1752650231.8885965
2025-07-16 00:17:11,888 - DEBUG - app.firebase_stream - Prepared batch update for 39 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0250000000', 'o': '13.0224000000'}, 'NZDJPY': {'b': '88.4700000000', 'o': '88.4620000000'}, 'GBPAUD': {'b': '2.0544000000', 'o': '2.0543200000'}, 'BTCUSD': {'b': '118064.600000000
2025-07-16 00:17:11,889 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0250000000', 'o': '13.0224000000'}, 'NZDJPY': {'b': '88.4700000000', 'o': '88.4620000000'}, 'GBPAUD': {'b': '2.0544000000', 'o': '2.0543200000'}, 'BTCUSD': {'b': '118064.600000000...
2025-07-16 00:17:11,891 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:17:12,090 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:12,093 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:13,104 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:13,107 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:14,122 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:14,126 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:14,204 - DEBUG - app.firebase_stream - Firebase listener triggered (241). Event Type: patch, Path: /. Timestamp: 1752650234.2045407
2025-07-16 00:17:14,205 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0253000000', 'o': '13.0227000000'}, 'NZDJPY': {'b': '88.4710000000', 'o': '88.4620000000'}, 'GBPAUD': {'b': '2.0541700000', 'o': '2.0540300000'}, 'BTCUSD': {'b': '118105.100000000
2025-07-16 00:17:14,205 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0253000000', 'o': '13.0227000000'}, 'NZDJPY': {'b': '88.4710000000', 'o': '88.4620000000'}, 'GBPAUD': {'b': '2.0541700000', 'o': '2.0540300000'}, 'BTCUSD': {'b': '118105.100000000...
2025-07-16 00:17:14,205 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:17:15,131 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:15,134 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:16,142 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:16,146 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:16,492 - DEBUG - app.firebase_stream - Firebase listener triggered (242). Event Type: patch, Path: /. Timestamp: 1752650236.4921627
2025-07-16 00:17:16,493 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0259000000', 'o': '13.0233000000'}, 'NZDJPY': {'b': '88.4720000000', 'o': '88.4640000000'}, 'GBPAUD': {'b': '2.0541800000', 'o': '2.0540700000'}, 'USDJPY': {'b': '148.6980000000',
2025-07-16 00:17:16,494 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0259000000', 'o': '13.0233000000'}, 'NZDJPY': {'b': '88.4720000000', 'o': '88.4640000000'}, 'GBPAUD': {'b': '2.0541800000', 'o': '2.0540700000'}, 'USDJPY': {'b': '148.6980000000',...
2025-07-16 00:17:16,495 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:17:17,158 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:17,163 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:18,181 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:18,184 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:18,775 - DEBUG - app.firebase_stream - Firebase listener triggered (243). Event Type: patch, Path: /. Timestamp: 1752650238.7749739
2025-07-16 00:17:18,775 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0264000000', 'o': '13.0238000000'}, 'NZDJPY': {'b': '88.4700000000', 'o': '88.4610000000'}, 'GBPAUD': {'b': '2.0542700000', 'o': '2.0541400000'}, 'BTCUSD': {'b': '118106.600000000
2025-07-16 00:17:18,776 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0264000000', 'o': '13.0238000000'}, 'NZDJPY': {'b': '88.4700000000', 'o': '88.4610000000'}, 'GBPAUD': {'b': '2.0542700000', 'o': '2.0541400000'}, 'BTCUSD': {'b': '118106.600000000...
2025-07-16 00:17:18,776 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:17:19,200 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:19,204 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:20,211 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:20,216 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:21,085 - DEBUG - app.firebase_stream - Firebase listener triggered (244). Event Type: patch, Path: /. Timestamp: 1752650241.0858047
2025-07-16 00:17:21,086 - DEBUG - app.firebase_stream - Prepared batch update for 25 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0266000000', 'o': '13.0240000000'}, 'XAGUSD': {'b': '37.9330000000', 'o': '37.9290000000'}, 'GBPAUD': {'b': '2.0542900000', 'o': '2.0541600000'}, 'BTCUSD': {'b': '118074.000000000
2025-07-16 00:17:21,087 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0266000000', 'o': '13.0240000000'}, 'XAGUSD': {'b': '37.9330000000', 'o': '37.9290000000'}, 'GBPAUD': {'b': '2.0542900000', 'o': '2.0541600000'}, 'BTCUSD': {'b': '118074.000000000...
2025-07-16 00:17:21,088 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:17:21,218 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:21,221 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:22,235 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:22,239 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:23,257 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:23,260 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:23,347 - DEBUG - app.firebase_stream - Firebase listener triggered (245). Event Type: patch, Path: /. Timestamp: 1752650243.3474805
2025-07-16 00:17:23,348 - DEBUG - app.firebase_stream - Prepared batch update for 26 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0256000000', 'o': '13.0230000000'}, 'XAGUSD': {'b': '37.9330000000', 'o': '37.9260000000'}, 'NZDJPY': {'b': '88.4670000000', 'o': '88.4610000000'}, 'GBPAUD': {'b': '2.0543000000',
2025-07-16 00:17:23,348 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0256000000', 'o': '13.0230000000'}, 'XAGUSD': {'b': '37.9330000000', 'o': '37.9260000000'}, 'NZDJPY': {'b': '88.4670000000', 'o': '88.4610000000'}, 'GBPAUD': {'b': '2.0543000000',...
2025-07-16 00:17:23,348 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:17:24,263 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:24,266 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:25,272 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:25,275 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:25,654 - DEBUG - app.firebase_stream - Firebase listener triggered (246). Event Type: patch, Path: /. Timestamp: 1752650245.654372
2025-07-16 00:17:25,654 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0265000000', 'o': '13.0239000000'}, 'XAGUSD': {'b': '37.9280000000', 'o': '37.9240000000'}, 'NZDJPY': {'b': '88.4700000000', 'o': '88.4610000000'}, 'GBPAUD': {'b': '2.0542800000',
2025-07-16 00:17:25,657 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0265000000', 'o': '13.0239000000'}, 'XAGUSD': {'b': '37.9280000000', 'o': '37.9240000000'}, 'NZDJPY': {'b': '88.4700000000', 'o': '88.4610000000'}, 'GBPAUD': {'b': '2.0542800000',...
2025-07-16 00:17:25,657 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:17:26,280 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:26,283 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:27,284 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:27,289 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:27,964 - DEBUG - app.firebase_stream - Firebase listener triggered (247). Event Type: patch, Path: /. Timestamp: 1752650247.9648893
2025-07-16 00:17:27,965 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0255600000', 'o': '13.0230000000'}, 'NZDJPY': {'b': '88.4660000000', 'o': '88.4580000000'}, 'GBPAUD': {'b': '2.0542900000', 'o': '2.0541300000'}, 'USDJPY': {'b': '148.6930000000',
2025-07-16 00:17:27,965 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0255600000', 'o': '13.0230000000'}, 'NZDJPY': {'b': '88.4660000000', 'o': '88.4580000000'}, 'GBPAUD': {'b': '2.0542900000', 'o': '2.0541300000'}, 'USDJPY': {'b': '148.6930000000',...
2025-07-16 00:17:27,966 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:17:28,294 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:28,297 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:29,308 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:29,312 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:30,256 - DEBUG - app.firebase_stream - Firebase listener triggered (248). Event Type: patch, Path: /. Timestamp: 1752650250.256015
2025-07-16 00:17:30,256 - DEBUG - app.firebase_stream - Prepared batch update for 22 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9320000000', 'o': '37.9280000000'}, 'NZDJPY': {'b': '88.4680000000', 'o': '88.4600000000'}, 'USDJPY': {'b': '148.6980000000', 'o': '148.6940000000'}, 'USDCNH': {'b': '7.1817100000
2025-07-16 00:17:30,257 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9320000000', 'o': '37.9280000000'}, 'NZDJPY': {'b': '88.4680000000', 'o': '88.4600000000'}, 'USDJPY': {'b': '148.6980000000', 'o': '148.6940000000'}, 'USDCNH': {'b': '7.1817100000...
2025-07-16 00:17:30,258 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:17:30,318 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:30,326 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:31,338 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:31,341 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:32,344 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:32,346 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:32,575 - DEBUG - app.firebase_stream - Firebase listener triggered (249). Event Type: patch, Path: /. Timestamp: 1752650252.5751176
2025-07-16 00:17:32,575 - DEBUG - app.firebase_stream - Prepared batch update for 30 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0267000000', 'o': '13.0241000000'}, 'XAGUSD': {'b': '37.9290000000', 'o': '37.9250000000'}, 'NZDJPY': {'b': '88.4680000000', 'o': '88.4610000000'}, 'GBPAUD': {'b': '2.0543000000',
2025-07-16 00:17:32,575 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0267000000', 'o': '13.0241000000'}, 'XAGUSD': {'b': '37.9290000000', 'o': '37.9250000000'}, 'NZDJPY': {'b': '88.4680000000', 'o': '88.4610000000'}, 'GBPAUD': {'b': '2.0543000000',...
2025-07-16 00:17:32,576 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:17:33,350 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:33,354 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:34,359 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:34,362 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:34,862 - DEBUG - app.firebase_stream - Firebase listener triggered (250). Event Type: patch, Path: /. Timestamp: 1752650254.86273
2025-07-16 00:17:34,863 - DEBUG - app.firebase_stream - Prepared batch update for 24 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9290000000', 'o': '37.9260000000'}, 'GBPAUD': {'b': '2.0542500000', 'o': '2.0541400000'}, 'EURZAR': {'b': '20.8086300000', 'o': '20.8023300000'}, 'AUDJPY': {'b': '97.0480000000', 
2025-07-16 00:17:34,864 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9290000000', 'o': '37.9260000000'}, 'GBPAUD': {'b': '2.0542500000', 'o': '2.0541400000'}, 'EURZAR': {'b': '20.8086300000', 'o': '20.8023300000'}, 'AUDJPY': {'b': '97.0480000000', ...
2025-07-16 00:17:34,866 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:17:35,365 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:35,369 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:36,379 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:36,382 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:37,159 - DEBUG - app.firebase_stream - Firebase listener triggered (251). Event Type: patch, Path: /. Timestamp: 1752650257.1596723
2025-07-16 00:17:37,160 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0268000000', 'o': '13.0242000000'}, 'XAGUSD': {'b': '37.9330000000', 'o': '37.9280000000'}, 'NZDJPY': {'b': '88.4670000000', 'o': '88.4640000000'}, 'GBPAUD': {'b': '2.0542700000',
2025-07-16 00:17:37,161 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0268000000', 'o': '13.0242000000'}, 'XAGUSD': {'b': '37.9330000000', 'o': '37.9280000000'}, 'NZDJPY': {'b': '88.4670000000', 'o': '88.4640000000'}, 'GBPAUD': {'b': '2.0542700000',...
2025-07-16 00:17:37,161 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:17:37,395 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:37,398 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:38,400 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:38,405 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:39,417 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:39,421 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:39,451 - DEBUG - app.firebase_stream - Firebase listener triggered (252). Event Type: patch, Path: /. Timestamp: 1752650259.4511733
2025-07-16 00:17:39,451 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0265000000', 'o': '13.0239200000'}, 'NZDJPY': {'b': '88.4690000000', 'o': '88.4660000000'}, 'GBPAUD': {'b': '2.0542500000', 'o': '2.0540900000'}, 'USDJPY': {'b': '148.7040000000',
2025-07-16 00:17:39,451 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0265000000', 'o': '13.0239200000'}, 'NZDJPY': {'b': '88.4690000000', 'o': '88.4660000000'}, 'GBPAUD': {'b': '2.0542500000', 'o': '2.0540900000'}, 'USDJPY': {'b': '148.7040000000',...
2025-07-16 00:17:39,452 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:17:40,431 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:40,433 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:41,449 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:41,453 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:41,804 - DEBUG - app.firebase_stream - Firebase listener triggered (253). Event Type: patch, Path: /. Timestamp: 1752650261.8048086
2025-07-16 00:17:41,805 - DEBUG - app.firebase_stream - Prepared batch update for 34 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0267000000', 'o': '13.0241000000'}, 'XAGUSD': {'b': '37.9330000000', 'o': '37.9290000000'}, 'NZDJPY': {'b': '88.4730000000', 'o': '88.4670000000'}, 'GBPAUD': {'b': '2.0542500000',
2025-07-16 00:17:41,806 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0267000000', 'o': '13.0241000000'}, 'XAGUSD': {'b': '37.9330000000', 'o': '37.9290000000'}, 'NZDJPY': {'b': '88.4730000000', 'o': '88.4670000000'}, 'GBPAUD': {'b': '2.0542500000',...
2025-07-16 00:17:41,807 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:17:42,471 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:42,474 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:43,478 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:43,480 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:44,057 - DEBUG - app.firebase_stream - Firebase listener triggered (254). Event Type: patch, Path: /. Timestamp: 1752650264.0578494
2025-07-16 00:17:44,058 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0253000000', 'o': '13.0227000000'}, 'NZDJPY': {'b': '88.4760000000', 'o': '88.4680000000'}, 'USDJPY': {'b': '148.7030000000', 'o': '148.7000000000'}, 'USDCNH': {'b': '7.1816000000
2025-07-16 00:17:44,059 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0253000000', 'o': '13.0227000000'}, 'NZDJPY': {'b': '88.4760000000', 'o': '88.4680000000'}, 'USDJPY': {'b': '148.7030000000', 'o': '148.7000000000'}, 'USDCNH': {'b': '7.1816000000...
2025-07-16 00:17:44,062 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:17:44,494 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:44,496 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:45,507 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:45,511 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:46,366 - DEBUG - app.firebase_stream - Firebase listener triggered (255). Event Type: patch, Path: /. Timestamp: 1752650266.3661637
2025-07-16 00:17:46,366 - DEBUG - app.firebase_stream - Prepared batch update for 37 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0268000000', 'o': '13.0242000000'}, 'XAGUSD': {'b': '37.9380000000', 'o': '37.9290000000'}, 'NZDJPY': {'b': '88.4770000000', 'o': '88.4690000000'}, 'GBPAUD': {'b': '2.0542100000',
2025-07-16 00:17:46,367 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0268000000', 'o': '13.0242000000'}, 'XAGUSD': {'b': '37.9380000000', 'o': '37.9290000000'}, 'NZDJPY': {'b': '88.4770000000', 'o': '88.4690000000'}, 'GBPAUD': {'b': '2.0542100000',...
2025-07-16 00:17:46,367 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:17:46,514 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:46,516 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:47,519 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:47,521 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:48,533 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:48,537 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:48,775 - DEBUG - app.firebase_stream - Firebase listener triggered (256). Event Type: patch, Path: /. Timestamp: 1752650268.7755167
2025-07-16 00:17:48,775 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0272000000', 'o': '13.0246000000'}, 'XAGUSD': {'b': '37.9390000000', 'o': '37.9310000000'}, 'NZDJPY': {'b': '88.4760000000', 'o': '88.4670000000'}, 'USDJPY': {'b': '148.7070000000
2025-07-16 00:17:48,776 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0272000000', 'o': '13.0246000000'}, 'XAGUSD': {'b': '37.9390000000', 'o': '37.9310000000'}, 'NZDJPY': {'b': '88.4760000000', 'o': '88.4670000000'}, 'USDJPY': {'b': '148.7070000000...
2025-07-16 00:17:48,778 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:17:49,553 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:49,557 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:50,565 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:50,567 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:50,968 - DEBUG - app.firebase_stream - Firebase listener triggered (257). Event Type: patch, Path: /. Timestamp: 1752650270.9689386
2025-07-16 00:17:50,969 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9330000000', 'o': '37.9260000000'}, 'NZDJPY': {'b': '88.4740000000', 'o': '88.4670000000'}, 'GBPAUD': {'b': '2.0541700000', 'o': '2.0540900000'}, 'BTCUSD': {'b': '118106.600000000
2025-07-16 00:17:50,970 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9330000000', 'o': '37.9260000000'}, 'NZDJPY': {'b': '88.4740000000', 'o': '88.4670000000'}, 'GBPAUD': {'b': '2.0541700000', 'o': '2.0540900000'}, 'BTCUSD': {'b': '118106.600000000...
2025-07-16 00:17:50,975 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:17:51,571 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:51,573 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:52,581 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:52,584 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:53,280 - DEBUG - app.firebase_stream - Firebase listener triggered (258). Event Type: patch, Path: /. Timestamp: 1752650273.2809358
2025-07-16 00:17:53,281 - DEBUG - app.firebase_stream - Prepared batch update for 37 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0271000000', 'o': '13.0245000000'}, 'XAGUSD': {'b': '37.9380000000', 'o': '37.9340000000'}, 'NZDJPY': {'b': '88.4740000000', 'o': '88.4650000000'}, 'GBPAUD': {'b': '2.0541400000',
2025-07-16 00:17:53,283 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0271000000', 'o': '13.0245000000'}, 'XAGUSD': {'b': '37.9380000000', 'o': '37.9340000000'}, 'NZDJPY': {'b': '88.4740000000', 'o': '88.4650000000'}, 'GBPAUD': {'b': '2.0541400000',...
2025-07-16 00:17:53,283 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:17:53,593 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:53,595 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:54,604 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:54,607 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:55,632 - DEBUG - app.firebase_stream - Firebase listener triggered (259). Event Type: patch, Path: /. Timestamp: 1752650275.6320417
2025-07-16 00:17:55,632 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:55,633 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0267400000', 'o': '13.0245000000'}, 'XAGUSD': {'b': '37.9380000000', 'o': '37.9330000000'}, 'NZDJPY': {'b': '88.4650000000', 'o': '88.4570000000'}, 'GBPAUD': {'b': '2.0541600000',
2025-07-16 00:17:55,635 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0267400000', 'o': '13.0245000000'}, 'XAGUSD': {'b': '37.9380000000', 'o': '37.9330000000'}, 'NZDJPY': {'b': '88.4650000000', 'o': '88.4570000000'}, 'GBPAUD': {'b': '2.0541600000',...
2025-07-16 00:17:55,635 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:17:55,636 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:56,659 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:56,662 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:57,666 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:57,669 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:57,975 - DEBUG - app.firebase_stream - Firebase listener triggered (260). Event Type: patch, Path: /. Timestamp: 1752650277.9757574
2025-07-16 00:17:57,976 - DEBUG - app.firebase_stream - Prepared batch update for 24 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0267000000', 'o': '13.0241000000'}, 'NZDJPY': {'b': '88.4730000000', 'o': '88.4640000000'}, 'GBPAUD': {'b': '2.0541100000', 'o': '2.0540100000'}, 'USDJPY': {'b': '148.6920000000',
2025-07-16 00:17:57,976 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0267000000', 'o': '13.0241000000'}, 'NZDJPY': {'b': '88.4730000000', 'o': '88.4640000000'}, 'GBPAUD': {'b': '2.0541100000', 'o': '2.0540100000'}, 'USDJPY': {'b': '148.6920000000',...
2025-07-16 00:17:57,976 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:17:58,671 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:58,674 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:17:59,677 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:17:59,681 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:00,220 - DEBUG - app.firebase_stream - Firebase listener triggered (261). Event Type: patch, Path: /. Timestamp: 1752650280.2205276
2025-07-16 00:18:00,221 - DEBUG - app.firebase_stream - Prepared batch update for 23 symbols from root path for queue. Preview: {'GBPAUD': {'b': '2.0541200000', 'o': '2.0540100000'}, 'USDJPY': {'b': '148.6900000000', 'o': '148.6870000000'}, 'CADCHF': {'b': '0.5839700000', 'o': '0.5839300000'}, 'USDSGD': {'b': '1.2842100000', '
2025-07-16 00:18:00,222 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPAUD': {'b': '2.0541200000', 'o': '2.0540100000'}, 'USDJPY': {'b': '148.6900000000', 'o': '148.6870000000'}, 'CADCHF': {'b': '0.5839700000', 'o': '0.5839300000'}, 'USDSGD': {'b': '1.2842100000', '...
2025-07-16 00:18:00,230 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:18:00,696 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:00,700 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:01,707 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:01,711 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:02,138 - WARNING - app - User 4 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:18:02,143 - WARNING - app - No user data found for user 5 (live). Skipping portfolio update.
2025-07-16 00:18:02,147 - WARNING - app - No group settings found for group string. Skipping portfolio update for user 8.
2025-07-16 00:18:02,161 - WARNING - app - User 9 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:18:02,175 - WARNING - app - User 10 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:18:02,189 - WARNING - app - User 11 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:18:02,198 - WARNING - app - User 12 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:18:02,213 - WARNING - app - User 13 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:18:02,497 - DEBUG - app.firebase_stream - Firebase listener triggered (262). Event Type: patch, Path: /. Timestamp: 1752650282.4978268
2025-07-16 00:18:02,498 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9380000000', 'o': '37.9320000000'}, 'NZDJPY': {'b': '88.4680000000', 'o': '88.4610000000'}, 'GBPAUD': {'b': '2.0541200000', 'o': '2.0540200000'}, 'USDJPY': {'b': '148.6900000000',
2025-07-16 00:18:02,498 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9380000000', 'o': '37.9320000000'}, 'NZDJPY': {'b': '88.4680000000', 'o': '88.4610000000'}, 'GBPAUD': {'b': '2.0541200000', 'o': '2.0540200000'}, 'USDJPY': {'b': '148.6900000000',...
2025-07-16 00:18:02,498 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:18:02,531 - DEBUG - app.services.portfolio_calculator - Position calculation for BTCUSD: Type=BUY, Entry=118908.50000000, Current=118061.7, Quantity=0.40000000, Contract Size=1.00000000, PnL=-338.720000000000000000000000, PnL USD=-338.720000000000000000000000, Commission=235.57000000, Final PnL=-574.290000000000000000000000
2025-07-16 00:18:02,532 - WARNING - app.services.portfolio_calculator - MARGIN CALL ALERT: User has margin level 98.99179961645934882990386013% which is below threshold 100.0%
2025-07-16 00:18:02,649 - WARNING - app - User 16 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:18:02,677 - WARNING - app - User 17 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:18:02,709 - WARNING - app - User 18 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:18:02,716 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:02,720 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:02,747 - WARNING - app - User 19 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:18:02,782 - WARNING - app - User 20 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:18:02,820 - WARNING - app - User 21 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:18:02,857 - WARNING - app - User 22 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:18:02,897 - WARNING - app - User 23 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:18:02,925 - WARNING - app - User 24 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:18:02,954 - WARNING - app - User 25 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:18:03,389 - DEBUG - app.services.portfolio_calculator - Position calculation for XAGUSD: Type=BUY, Entry=41.09800000, Current=37.9195, Quantity=0.01000000, Contract Size=5000.00000000, PnL=-158.925000000000000000000000, PnL USD=-158.925000000000000000000000, Commission=0.10000000, Final PnL=-159.025000000000000000000000
2025-07-16 00:18:03,389 - DEBUG - app.services.portfolio_calculator - Position calculation for BTCUSD: Type=BUY, Entry=132091.90000000, Current=118061.7, Quantity=6.00000000, Contract Size=1.00000000, PnL=-84181.20000000000000000000000, PnL USD=-84181.20000000000000000000000, Commission=3661.62000000, Final PnL=-87842.82000000000000000000000
2025-07-16 00:18:03,389 - WARNING - app.services.portfolio_calculator - MARGIN CALL ALERT: User has margin level 65.77077078546278660120079623% which is below threshold 100.0%
2025-07-16 00:18:04,212 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:04,213 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=96.66800000, Current=96.994, Quantity=0.01000000, Contract Size=100000.00000000, PnL=326.000000000000000000000000, PnL USD=2.192481000739794202703611541, Commission=0.10000000, Final PnL=2.092481000739794202703611541
2025-07-16 00:18:04,215 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=96.56000000, Current=97.1, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-540.000000000000000000000000, PnL USD=-3.631716995090456654785123411, Commission=0.10000000, Final PnL=-3.731716995090456654785123411
2025-07-16 00:18:04,216 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:04,219 - WARNING - app - User 2 has no group_name set. Skipping portfolio update.
2025-07-16 00:18:04,229 - WARNING - app - No group settings found for group string. Skipping portfolio update for user 3.
2025-07-16 00:18:04,257 - WARNING - app - User 4 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:18:04,258 - WARNING - app - User 5 has no group_name set. Skipping portfolio update.
2025-07-16 00:18:04,259 - WARNING - app - User 6 has no group_name set. Skipping portfolio update.
2025-07-16 00:18:04,618 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64743000, Current=0.65253, Quantity=0.10000000, Contract Size=100000.00000000, PnL=51.000000000000000000000000, PnL USD=51.000000000000000000000000, Commission=1.00000000, Final PnL=50.000000000000000000000000
2025-07-16 00:18:04,618 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=SELL, Entry=0.64707000, Current=0.65283, Quantity=0.22000000, Contract Size=100000.00000000, PnL=-126.720000000000000000000000, PnL USD=-126.720000000000000000000000, Commission=2.20000000, Final PnL=-128.920000000000000000000000
2025-07-16 00:18:04,619 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFSGD: Type=BUY, Entry=1.57561500, Current=1.6037750000000002, Quantity=0.10000000, Contract Size=100000.00000000, PnL=281.6000000000020000000000000, PnL USD=219.2787783929435216981646304, Commission=1.00000000, Final PnL=218.2787783929435216981646304
2025-07-16 00:18:04,620 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFSGD: Type=SELL, Entry=1.57505500, Current=1.604195, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-291.400000000000000000000000, PnL USD=-226.9099290614463366583346960, Commission=1.00000000, Final PnL=-227.9099290614463366583346960
2025-07-16 00:18:04,620 - DEBUG - app.services.portfolio_calculator - Position calculation for CADJPY: Type=SELL, Entry=106.24150000, Current=108.4615, Quantity=0.15000000, Contract Size=100000.00000000, PnL=-33300.00000000000000000000000, PnL USD=-223.9558813639114937117492770, Commission=0E-8, Final PnL=-223.9558813639114937117492770
2025-07-16 00:18:04,621 - DEBUG - app.services.portfolio_calculator - Position calculation for CADJPY: Type=BUY, Entry=106.27050000, Current=108.43249999999999, Quantity=0.15000000, Contract Size=100000.00000000, PnL=32429.99999999985000000000000, PnL USD=218.1047817607091936243190531, Commission=0E-8, Final PnL=218.1047817607091936243190531
2025-07-16 00:18:04,621 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=BUY, Entry=1.77481000, Current=1.7811199999999998, Quantity=0.22000000, Contract Size=100000.00000000, PnL=138.8199999999956000000000000, PnL USD=90.60503759999712820800000000, Commission=2.20000000, Final PnL=88.40503759999712820800000000
2025-07-16 00:18:04,621 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=SELL, Entry=1.77439000, Current=1.7815, Quantity=0.21000000, Contract Size=100000.00000000, PnL=-149.310000000000000000000000, PnL USD=-97.45165080000000000000000000, Commission=2.10000000, Final PnL=-99.55165080000000000000000000
2025-07-16 00:18:04,622 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFJPY: Type=BUY, Entry=178.15500000, Current=185.69500000000002, Quantity=0.10000000, Contract Size=100000.00000000, PnL=75400.00000000020000000000000, PnL USD=507.0952989441132557670320802, Commission=1.00000000, Final PnL=506.0952989441132557670320802
2025-07-16 00:18:04,623 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFJPY: Type=SELL, Entry=178.09500000, Current=185.74499999999998, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-76499.99999999980000000000000, PnL USD=-514.4932409711466810141905979, Commission=1.00000000, Final PnL=-515.4932409711466810141905979
2025-07-16 00:18:04,623 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=BUY, Entry=1.77480000, Current=1.7811199999999998, Quantity=0.05000000, Contract Size=100000.00000000, PnL=31.59999999999900000000000000, PnL USD=20.62468799999934732000000000, Commission=0.50000000, Final PnL=20.12468799999934732000000000
2025-07-16 00:18:04,623 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=SELL, Entry=1.77442000, Current=1.7815, Quantity=0.05000000, Contract Size=100000.00000000, PnL=-35.400000000000000000000000, PnL USD=-23.10487200000000000000000000, Commission=0.50000000, Final PnL=-23.60487200000000000000000000
2025-07-16 00:18:04,623 - DEBUG - app.services.portfolio_calculator - Position calculation for EURGBP: Type=SELL, Entry=0.85403000, Current=0.86739, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-133.600000000000000000000000, PnL USD=-179.1148480000000000000000000, Commission=1.00000000, Final PnL=-180.1148480000000000000000000
2025-07-16 00:18:04,624 - DEBUG - app.services.portfolio_calculator - Position calculation for EURJPY: Type=BUY, Entry=167.26050000, Current=172.85850000000002, Quantity=0.10000000, Contract Size=100000.00000000, PnL=55980.00000000020000000000000, PnL USD=376.4879951577120182930930123, Commission=1.00000000, Final PnL=375.4879951577120182930930123
2025-07-16 00:18:04,625 - DEBUG - app.services.portfolio_calculator - Position calculation for EURJPY: Type=SELL, Entry=167.23150000, Current=172.8885, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-56570.00000000000000000000000, PnL USD=-380.4559822449391351133230211, Commission=1.00000000, Final PnL=-381.4559822449391351133230211
2025-07-16 00:18:04,625 - DEBUG - app.services.portfolio_calculator - Position calculation for EURNZD: Type=SELL, Entry=1.91952500, Current=1.954315, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-347.900000000000000000000000, PnL USD=-206.9970210000000000000000000, Commission=1.00000000, Final PnL=-207.9970210000000000000000000
2025-07-16 00:18:04,625 - DEBUG - app.services.portfolio_calculator - Position calculation for EURNZD: Type=BUY, Entry=1.92063500, Current=1.953875, Quantity=0.10000000, Contract Size=100000.00000000, PnL=332.400000000000000000000000, PnL USD=197.7746760000000000000000000, Commission=1.00000000, Final PnL=196.7746760000000000000000000
2025-07-16 00:18:04,625 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=SELL, Entry=1.34376000, Current=1.34078, Quantity=0.25000000, Contract Size=0E-8, PnL=0E-24, PnL USD=0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:18:04,626 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=SELL, Entry=1.34361000, Current=1.34078, Quantity=0.25000000, Contract Size=0E-8, PnL=0E-24, PnL USD=0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:18:04,626 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=BUY, Entry=1.34379000, Current=1.34057, Quantity=0.25000000, Contract Size=0E-8, PnL=-0E-24, PnL USD=-0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:18:04,626 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=BUY, Entry=1.34378000, Current=1.34057, Quantity=0.25000000, Contract Size=0E-8, PnL=-0E-24, PnL USD=-0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:18:04,627 - DEBUG - app.services.portfolio_calculator - Position calculation for NZDJPY: Type=BUY, Entry=87.10150000, Current=88.4485, Quantity=0.01000000, Contract Size=100000.00000000, PnL=1347.000000000000000000000000, PnL USD=9.059116282197861322214002287, Commission=0.10000000, Final PnL=8.959116282197861322214002287
2025-07-16 00:18:04,627 - DEBUG - app.services.portfolio_calculator - Position calculation for USDCHF: Type=SELL, Entry=0.81771000, Current=0.8007799999999999, Quantity=0.15000000, Contract Size=100000.00000000, PnL=253.9500000000015000000000000, PnL USD=317.1877146746955522526010767, Commission=1.50000000, Final PnL=315.6877146746955522526010767
2025-07-16 00:18:04,628 - DEBUG - app.services.portfolio_calculator - Position calculation for USDCHF: Type=BUY, Entry=0.81805000, Current=0.80045, Quantity=0.15000000, Contract Size=100000.00000000, PnL=-264.000000000000000000000000, PnL USD=-329.7403294905262106091452981, Commission=1.50000000, Final PnL=-331.2403294905262106091452981
2025-07-16 00:18:04,628 - DEBUG - app.services.portfolio_calculator - Position calculation for USDNOK: Type=BUY, Entry=10.04973000, Current=10.25239, Quantity=0.10000000, Contract Size=100000.00000000, PnL=2026.600000000000000000000000, PnL USD=197.6567155590536743413962371, Commission=1.00000000, Final PnL=196.6567155590536743413962371
2025-07-16 00:18:04,629 - DEBUG - app.services.portfolio_calculator - Position calculation for USDNOK: Type=BUY, Entry=10.05023000, Current=10.25239, Quantity=0.10000000, Contract Size=100000.00000000, PnL=2021.600000000000000000000000, PnL USD=197.1690595944848061031119278, Commission=1.00000000, Final PnL=196.1690595944848061031119278
2025-07-16 00:18:04,630 - DEBUG - app.services.portfolio_calculator - Position calculation for USDSGD: Type=SELL, Entry=1.28795000, Current=1.2843600000000002, Quantity=0.31000000, Contract Size=100000.00000000, PnL=111.2899999999938000000000000, PnL USD=86.66028141814329432102226271, Commission=3.10000000, Final PnL=83.56028141814329432102226271
2025-07-16 00:18:04,630 - DEBUG - app.services.portfolio_calculator - Position calculation for USDTRY: Type=SELL, Entry=39.56087000, Current=40.25651, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-6956.400000000000000000000000, PnL USD=-172.8025087216032448040508382, Commission=1.00000000, Final PnL=-173.8025087216032448040508382
2025-07-16 00:18:04,775 - DEBUG - app.firebase_stream - Firebase listener triggered (263). Event Type: patch, Path: /. Timestamp: 1752650284.7755945
2025-07-16 00:18:04,776 - DEBUG - app.firebase_stream - Prepared batch update for 30 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0270000000', 'o': '13.0244000000'}, 'XAGUSD': {'b': '37.9380000000', 'o': '37.9330000000'}, 'NZDJPY': {'b': '88.4710000000', 'o': '88.4640000000'}, 'GBPAUD': {'b': '2.0541400000',
2025-07-16 00:18:04,776 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0270000000', 'o': '13.0244000000'}, 'XAGUSD': {'b': '37.9380000000', 'o': '37.9330000000'}, 'NZDJPY': {'b': '88.4710000000', 'o': '88.4640000000'}, 'GBPAUD': {'b': '2.0541400000',...
2025-07-16 00:18:04,776 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:18:05,542 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.89752000, Current=0.89486, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-2.660000000000000000000000, PnL USD=-1.940048136532710962001312815, Commission=0.10000000, Final PnL=-2.040048136532710962001312815
2025-07-16 00:18:05,543 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:05,547 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:05,572 - WARNING - app - User 12 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:18:05,597 - WARNING - app - User 13 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:18:06,563 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:06,567 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:07,072 - DEBUG - app.firebase_stream - Firebase listener triggered (264). Event Type: patch, Path: /. Timestamp: 1752650287.0726428
2025-07-16 00:18:07,073 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0265000000', 'o': '13.0239000000'}, 'NZDJPY': {'b': '88.4750000000', 'o': '88.4660000000'}, 'GBPAUD': {'b': '2.0541200000', 'o': '2.0539900000'}, 'USDJPY': {'b': '148.6870000000',
2025-07-16 00:18:07,074 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0265000000', 'o': '13.0239000000'}, 'NZDJPY': {'b': '88.4750000000', 'o': '88.4660000000'}, 'GBPAUD': {'b': '2.0541200000', 'o': '2.0539900000'}, 'USDJPY': {'b': '148.6870000000',...
2025-07-16 00:18:07,076 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:18:07,576 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:07,582 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:08,593 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:08,597 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:09,459 - DEBUG - app.firebase_stream - Firebase listener triggered (265). Event Type: patch, Path: /. Timestamp: 1752650289.4593434
2025-07-16 00:18:09,459 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0265000000', 'o': '13.0240000000'}, 'XAGUSD': {'b': '37.9380000000', 'o': '37.9320000000'}, 'NZDJPY': {'b': '88.4700000000', 'o': '88.4650000000'}, 'GBPAUD': {'b': '2.0541500000',
2025-07-16 00:18:09,460 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0265000000', 'o': '13.0240000000'}, 'XAGUSD': {'b': '37.9380000000', 'o': '37.9320000000'}, 'NZDJPY': {'b': '88.4700000000', 'o': '88.4650000000'}, 'GBPAUD': {'b': '2.0541500000',...
2025-07-16 00:18:09,460 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:18:09,599 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:09,602 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:10,607 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:10,612 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:11,628 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:11,633 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:11,666 - DEBUG - app.firebase_stream - Firebase listener triggered (266). Event Type: patch, Path: /. Timestamp: 1752650291.6666827
2025-07-16 00:18:11,667 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0265000000', 'o': '13.0241900000'}, 'NZDJPY': {'b': '88.4710000000', 'o': '88.4630000000'}, 'GBPAUD': {'b': '2.0542100000', 'o': '2.0540800000'}, 'USDJPY': {'b': '148.6870000000',
2025-07-16 00:18:11,668 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0265000000', 'o': '13.0241900000'}, 'NZDJPY': {'b': '88.4710000000', 'o': '88.4630000000'}, 'GBPAUD': {'b': '2.0542100000', 'o': '2.0540800000'}, 'USDJPY': {'b': '148.6870000000',...
2025-07-16 00:18:11,676 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:18:12,650 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:12,655 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:13,672 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:13,676 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:14,075 - DEBUG - app.firebase_stream - Firebase listener triggered (267). Event Type: patch, Path: /. Timestamp: 1752650294.075342
2025-07-16 00:18:14,075 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0269000000', 'o': '13.0243000000'}, 'XAGUSD': {'b': '37.9330000000', 'o': '37.9260000000'}, 'NZDJPY': {'b': '88.4760000000', 'o': '88.4680000000'}, 'GBPAUD': {'b': '2.0542700000',
2025-07-16 00:18:14,077 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0269000000', 'o': '13.0243000000'}, 'XAGUSD': {'b': '37.9330000000', 'o': '37.9260000000'}, 'NZDJPY': {'b': '88.4760000000', 'o': '88.4680000000'}, 'GBPAUD': {'b': '2.0542700000',...
2025-07-16 00:18:14,079 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:18:14,693 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:14,697 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:15,702 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:15,706 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:16,314 - DEBUG - app.firebase_stream - Firebase listener triggered (268). Event Type: patch, Path: /. Timestamp: 1752650296.3142757
2025-07-16 00:18:16,314 - DEBUG - app.firebase_stream - Prepared batch update for 27 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0275000000', 'o': '13.0249000000'}, 'XAGUSD': {'b': '37.9240000000', 'o': '37.9200000000'}, 'NZDJPY': {'b': '88.4740000000', 'o': '88.4650000000'}, 'GBPAUD': {'b': '2.0543000000',
2025-07-16 00:18:16,318 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0275000000', 'o': '13.0249000000'}, 'XAGUSD': {'b': '37.9240000000', 'o': '37.9200000000'}, 'NZDJPY': {'b': '88.4740000000', 'o': '88.4650000000'}, 'GBPAUD': {'b': '2.0543000000',...
2025-07-16 00:18:16,318 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:18:16,713 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:16,718 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:17,722 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:17,726 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:18,569 - DEBUG - app.firebase_stream - Firebase listener triggered (269). Event Type: patch, Path: /. Timestamp: 1752650298.5694802
2025-07-16 00:18:18,570 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0276000000', 'o': '13.0250000000'}, 'XAGUSD': {'b': '37.9240000000', 'o': '37.9190000000'}, 'NZDJPY': {'b': '88.4710000000', 'o': '88.4640000000'}, 'GBPAUD': {'b': '2.0543200000',
2025-07-16 00:18:18,571 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0276000000', 'o': '13.0250000000'}, 'XAGUSD': {'b': '37.9240000000', 'o': '37.9190000000'}, 'NZDJPY': {'b': '88.4710000000', 'o': '88.4640000000'}, 'GBPAUD': {'b': '2.0543200000',...
2025-07-16 00:18:18,573 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:18:18,728 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:18,731 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:19,742 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:19,746 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:20,754 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:20,757 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:20,837 - DEBUG - app.firebase_stream - Firebase listener triggered (270). Event Type: patch, Path: /. Timestamp: 1752650300.8373895
2025-07-16 00:18:20,837 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0272000000', 'o': '13.0246000000'}, 'XAGUSD': {'b': '37.9280000000', 'o': '37.9210000000'}, 'NZDJPY': {'b': '88.4720000000', 'o': '88.4630000000'}, 'GBPAUD': {'b': '2.0542300000',
2025-07-16 00:18:20,841 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0272000000', 'o': '13.0246000000'}, 'XAGUSD': {'b': '37.9280000000', 'o': '37.9210000000'}, 'NZDJPY': {'b': '88.4720000000', 'o': '88.4630000000'}, 'GBPAUD': {'b': '2.0542300000',...
2025-07-16 00:18:20,841 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:18:21,773 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:21,777 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:22,779 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:22,783 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:23,135 - DEBUG - app.firebase_stream - Firebase listener triggered (271). Event Type: patch, Path: /. Timestamp: 1752650303.1349473
2025-07-16 00:18:23,135 - DEBUG - app.firebase_stream - Prepared batch update for 24 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4710000000', 'o': '88.4630000000'}, 'GBPAUD': {'b': '2.0542900000', 'o': '2.0541400000'}, 'USDJPY': {'b': '148.6830000000', 'o': '148.6790000000'}, 'EURZAR': {'b': '20.8086500000'
2025-07-16 00:18:23,136 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4710000000', 'o': '88.4630000000'}, 'GBPAUD': {'b': '2.0542900000', 'o': '2.0541400000'}, 'USDJPY': {'b': '148.6830000000', 'o': '148.6790000000'}, 'EURZAR': {'b': '20.8086500000'...
2025-07-16 00:18:23,137 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:18:23,790 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:23,793 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:24,798 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:24,802 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:25,453 - DEBUG - app.firebase_stream - Firebase listener triggered (272). Event Type: patch, Path: /. Timestamp: 1752650305.4533722
2025-07-16 00:18:25,453 - DEBUG - app.firebase_stream - Prepared batch update for 37 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0271000000', 'o': '13.0245000000'}, 'NZDJPY': {'b': '88.4740000000', 'o': '88.4650000000'}, 'GBPAUD': {'b': '2.0542900000', 'o': '2.0541300000'}, 'USDJPY': {'b': '148.6950000000',
2025-07-16 00:18:25,454 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0271000000', 'o': '13.0245000000'}, 'NZDJPY': {'b': '88.4740000000', 'o': '88.4650000000'}, 'GBPAUD': {'b': '2.0542900000', 'o': '2.0541300000'}, 'USDJPY': {'b': '148.6950000000',...
2025-07-16 00:18:25,462 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:18:25,818 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:25,823 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:26,827 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:26,829 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:26,935 - INFO - app - Starting cache validation task
2025-07-16 00:18:26,944 - INFO - app - Validating cache for 31 users
2025-07-16 00:18:26,945 - WARNING - app - User 4: Missing balance/margin cache, refreshing...
2025-07-16 00:18:26,954 - WARNING - app - User 5: Missing balance/margin cache, refreshing...
2025-07-16 00:18:26,957 - WARNING - app - User 8: Missing balance/margin cache, refreshing...
2025-07-16 00:18:26,964 - WARNING - app - User 9: Missing balance/margin cache, refreshing...
2025-07-16 00:18:26,969 - WARNING - app - User 10: Missing balance/margin cache, refreshing...
2025-07-16 00:18:26,975 - WARNING - app - User 11: Missing balance/margin cache, refreshing...
2025-07-16 00:18:26,983 - WARNING - app - User 12: Missing balance/margin cache, refreshing...
2025-07-16 00:18:26,990 - WARNING - app - User 13: Missing balance/margin cache, refreshing...
2025-07-16 00:18:26,996 - WARNING - app - User 14: Missing balance/margin cache, refreshing...
2025-07-16 00:18:27,003 - WARNING - app - User 16: Missing balance/margin cache, refreshing...
2025-07-16 00:18:27,010 - WARNING - app - User 17: Missing balance/margin cache, refreshing...
2025-07-16 00:18:27,017 - WARNING - app - User 18: Missing balance/margin cache, refreshing...
2025-07-16 00:18:27,022 - WARNING - app - User 19: Missing balance/margin cache, refreshing...
2025-07-16 00:18:27,029 - WARNING - app - User 20: Missing balance/margin cache, refreshing...
2025-07-16 00:18:27,035 - WARNING - app - User 21: Missing balance/margin cache, refreshing...
2025-07-16 00:18:27,040 - WARNING - app - User 22: Missing balance/margin cache, refreshing...
2025-07-16 00:18:27,046 - WARNING - app - User 23: Missing balance/margin cache, refreshing...
2025-07-16 00:18:27,053 - WARNING - app - User 24: Missing balance/margin cache, refreshing...
2025-07-16 00:18:27,058 - WARNING - app - User 25: Missing balance/margin cache, refreshing...
2025-07-16 00:18:27,063 - WARNING - app - User 26: Missing balance/margin cache, refreshing...
2025-07-16 00:18:27,069 - WARNING - app - User 1: Missing balance/margin cache, refreshing...
2025-07-16 00:18:27,075 - WARNING - app - User 2: Missing balance/margin cache, refreshing...
2025-07-16 00:18:27,079 - WARNING - app - User 3: Missing balance/margin cache, refreshing...
2025-07-16 00:18:27,083 - WARNING - app - User 5: Missing balance/margin cache, refreshing...
2025-07-16 00:18:27,088 - WARNING - app - User 6: Missing balance/margin cache, refreshing...
2025-07-16 00:18:27,095 - INFO - app - Cache validation completed
2025-07-16 00:18:27,778 - DEBUG - app.firebase_stream - Firebase listener triggered (273). Event Type: patch, Path: /. Timestamp: 1752650307.7785962
2025-07-16 00:18:27,778 - DEBUG - app.firebase_stream - Prepared batch update for 30 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9280000000', 'o': '37.9220000000'}, 'NZDJPY': {'b': '88.4700000000', 'o': '88.4610000000'}, 'GBPAUD': {'b': '2.0542900000', 'o': '2.0542400000'}, 'USDJPY': {'b': '148.6800000000',
2025-07-16 00:18:27,779 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9280000000', 'o': '37.9220000000'}, 'NZDJPY': {'b': '88.4700000000', 'o': '88.4610000000'}, 'GBPAUD': {'b': '2.0542900000', 'o': '2.0542400000'}, 'USDJPY': {'b': '148.6800000000',...
2025-07-16 00:18:27,779 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:18:27,835 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:27,842 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:28,856 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:28,860 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:29,877 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:29,881 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:30,059 - DEBUG - app.firebase_stream - Firebase listener triggered (274). Event Type: patch, Path: /. Timestamp: 1752650310.0595145
2025-07-16 00:18:30,060 - DEBUG - app.firebase_stream - Prepared batch update for 34 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0273100000', 'o': '13.0248000000'}, 'NZDJPY': {'b': '88.4680000000', 'o': '88.4590000000'}, 'GBPAUD': {'b': '2.0544100000', 'o': '2.0542700000'}, 'USDJPY': {'b': '148.6790000000',
2025-07-16 00:18:30,060 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0273100000', 'o': '13.0248000000'}, 'NZDJPY': {'b': '88.4680000000', 'o': '88.4590000000'}, 'GBPAUD': {'b': '2.0544100000', 'o': '2.0542700000'}, 'USDJPY': {'b': '148.6790000000',...
2025-07-16 00:18:30,060 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:18:30,899 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:30,903 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:31,907 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:31,911 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:32,795 - DEBUG - app.firebase_stream - Firebase listener triggered (275). Event Type: patch, Path: /. Timestamp: 1752650312.7953112
2025-07-16 00:18:32,795 - DEBUG - app.firebase_stream - Prepared batch update for 38 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0267000000', 'o': '13.0241000000'}, 'NZDJPY': {'b': '88.4670000000', 'o': '88.4580000000'}, 'GBPAUD': {'b': '2.0544200000', 'o': '2.0543400000'}, 'USDJPY': {'b': '148.6900000000',
2025-07-16 00:18:32,795 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0267000000', 'o': '13.0241000000'}, 'NZDJPY': {'b': '88.4670000000', 'o': '88.4580000000'}, 'GBPAUD': {'b': '2.0544200000', 'o': '2.0543400000'}, 'USDJPY': {'b': '148.6900000000',...
2025-07-16 00:18:32,796 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:18:32,927 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:32,937 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:33,950 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:33,954 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:34,654 - DEBUG - app.firebase_stream - Firebase listener triggered (276). Event Type: patch, Path: /. Timestamp: 1752650314.6539912
2025-07-16 00:18:34,654 - DEBUG - app.firebase_stream - Prepared batch update for 37 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0270000000', 'o': '13.0244000000'}, 'NZDJPY': {'b': '88.4710000000', 'o': '88.4650000000'}, 'GBPAUD': {'b': '2.0545000000', 'o': '2.0543400000'}, 'BTCUSD': {'b': '118110.100000000
2025-07-16 00:18:34,655 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0270000000', 'o': '13.0244000000'}, 'NZDJPY': {'b': '88.4710000000', 'o': '88.4650000000'}, 'GBPAUD': {'b': '2.0545000000', 'o': '2.0543400000'}, 'BTCUSD': {'b': '118110.100000000...
2025-07-16 00:18:34,658 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:18:34,969 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:34,973 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:35,974 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:35,976 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:36,950 - DEBUG - app.firebase_stream - Firebase listener triggered (277). Event Type: patch, Path: /. Timestamp: 1752650316.950745
2025-07-16 00:18:36,951 - DEBUG - app.firebase_stream - Prepared batch update for 35 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0286700000', 'o': '13.0262000000'}, 'XAGUSD': {'b': '37.9330000000', 'o': '37.9260000000'}, 'NZDJPY': {'b': '88.4710000000', 'o': '88.4620000000'}, 'GBPAUD': {'b': '2.0545000000',
2025-07-16 00:18:36,951 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0286700000', 'o': '13.0262000000'}, 'XAGUSD': {'b': '37.9330000000', 'o': '37.9260000000'}, 'NZDJPY': {'b': '88.4710000000', 'o': '88.4620000000'}, 'GBPAUD': {'b': '2.0545000000',...
2025-07-16 00:18:36,951 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:18:36,979 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:36,992 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:38,008 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:38,011 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:39,019 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:39,022 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:39,249 - DEBUG - app.firebase_stream - Firebase listener triggered (278). Event Type: patch, Path: /. Timestamp: 1752650319.2496214
2025-07-16 00:18:39,249 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0285000000', 'o': '13.0259000000'}, 'XAGUSD': {'b': '37.9340000000', 'o': '37.9250000000'}, 'GBPAUD': {'b': '2.0545400000', 'o': '2.0543900000'}, 'BTCUSD': {'b': '118110.100000000
2025-07-16 00:18:39,250 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0285000000', 'o': '13.0259000000'}, 'XAGUSD': {'b': '37.9340000000', 'o': '37.9250000000'}, 'GBPAUD': {'b': '2.0545400000', 'o': '2.0543900000'}, 'BTCUSD': {'b': '118110.100000000...
2025-07-16 00:18:39,250 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:18:40,024 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:40,027 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:41,033 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:41,037 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:41,603 - DEBUG - app.firebase_stream - Firebase listener triggered (279). Event Type: patch, Path: /. Timestamp: 1752650321.6032069
2025-07-16 00:18:41,603 - DEBUG - app.firebase_stream - Prepared batch update for 38 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0288000000', 'o': '13.0262000000'}, 'XAGUSD': {'b': '37.9330000000', 'o': '37.9250000000'}, 'NZDJPY': {'b': '88.4700000000', 'o': '88.4630000000'}, 'GBPAUD': {'b': '2.0545800000',
2025-07-16 00:18:41,603 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0288000000', 'o': '13.0262000000'}, 'XAGUSD': {'b': '37.9330000000', 'o': '37.9250000000'}, 'NZDJPY': {'b': '88.4700000000', 'o': '88.4630000000'}, 'GBPAUD': {'b': '2.0545800000',...
2025-07-16 00:18:41,604 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:18:42,043 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:42,047 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:43,063 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:43,066 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:43,949 - DEBUG - app.firebase_stream - Firebase listener triggered (280). Event Type: patch, Path: /. Timestamp: 1752650323.9494202
2025-07-16 00:18:43,949 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0289000000', 'o': '13.0263000000'}, 'XAGUSD': {'b': '37.9320000000', 'o': '37.9260000000'}, 'NZDJPY': {'b': '88.4700000000', 'o': '88.4620000000'}, 'GBPAUD': {'b': '2.0545500000',
2025-07-16 00:18:43,949 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0289000000', 'o': '13.0263000000'}, 'XAGUSD': {'b': '37.9320000000', 'o': '37.9260000000'}, 'NZDJPY': {'b': '88.4700000000', 'o': '88.4620000000'}, 'GBPAUD': {'b': '2.0545500000',...
2025-07-16 00:18:43,949 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:18:44,084 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:44,087 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:45,094 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:45,096 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:46,109 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:46,114 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:46,206 - DEBUG - app.firebase_stream - Firebase listener triggered (281). Event Type: patch, Path: /. Timestamp: 1752650326.2063732
2025-07-16 00:18:46,206 - DEBUG - app.firebase_stream - Prepared batch update for 30 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4690000000', 'o': '88.4620000000'}, 'GBPAUD': {'b': '2.0545500000', 'o': '2.0543800000'}, 'USDJPY': {'b': '148.6800000000', 'o': '148.6760000000'}, 'USDCNH': {'b': '7.1816200000',
2025-07-16 00:18:46,206 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4690000000', 'o': '88.4620000000'}, 'GBPAUD': {'b': '2.0545500000', 'o': '2.0543800000'}, 'USDJPY': {'b': '148.6800000000', 'o': '148.6760000000'}, 'USDCNH': {'b': '7.1816200000',...
2025-07-16 00:18:46,206 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:18:47,122 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:47,126 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:48,128 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:48,132 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:48,557 - DEBUG - app.firebase_stream - Firebase listener triggered (282). Event Type: patch, Path: /. Timestamp: 1752650328.5575156
2025-07-16 00:18:48,557 - DEBUG - app.firebase_stream - Prepared batch update for 24 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4710000000', 'o': '88.4630000000'}, 'GBPAUD': {'b': '2.0545200000', 'o': '2.0543800000'}, 'USDJPY': {'b': '148.6810000000', 'o': '148.6760000000'}, 'USDSGD': {'b': '1.2841500000',
2025-07-16 00:18:48,557 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4710000000', 'o': '88.4630000000'}, 'GBPAUD': {'b': '2.0545200000', 'o': '2.0543800000'}, 'USDJPY': {'b': '148.6810000000', 'o': '148.6760000000'}, 'USDSGD': {'b': '1.2841500000',...
2025-07-16 00:18:48,557 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:18:49,149 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:49,153 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:50,157 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:50,161 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:50,808 - DEBUG - app.firebase_stream - Firebase listener triggered (283). Event Type: patch, Path: /. Timestamp: 1752650330.8087046
2025-07-16 00:18:50,808 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0292200000', 'o': '13.0269000000'}, 'XAGUSD': {'b': '37.9340000000', 'o': '37.9270000000'}, 'NZDJPY': {'b': '88.4680000000', 'o': '88.4610000000'}, 'GBPAUD': {'b': '2.0545000000',
2025-07-16 00:18:50,809 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0292200000', 'o': '13.0269000000'}, 'XAGUSD': {'b': '37.9340000000', 'o': '37.9270000000'}, 'NZDJPY': {'b': '88.4680000000', 'o': '88.4610000000'}, 'GBPAUD': {'b': '2.0545000000',...
2025-07-16 00:18:50,809 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:18:51,166 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:51,170 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:52,187 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:52,191 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:53,168 - DEBUG - app.firebase_stream - Firebase listener triggered (284). Event Type: patch, Path: /. Timestamp: 1752650333.1680343
2025-07-16 00:18:53,168 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0292200000', 'o': '13.0268000000'}, 'XAGUSD': {'b': '37.9290000000', 'o': '37.9210000000'}, 'NZDJPY': {'b': '88.4690000000', 'o': '88.4610000000'}, 'GBPAUD': {'b': '2.0544800000',
2025-07-16 00:18:53,168 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0292200000', 'o': '13.0268000000'}, 'XAGUSD': {'b': '37.9290000000', 'o': '37.9210000000'}, 'NZDJPY': {'b': '88.4690000000', 'o': '88.4610000000'}, 'GBPAUD': {'b': '2.0544800000',...
2025-07-16 00:18:53,168 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:18:53,193 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:53,195 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:54,200 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:54,204 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:55,208 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:55,212 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:55,420 - DEBUG - app.firebase_stream - Firebase listener triggered (285). Event Type: patch, Path: /. Timestamp: 1752650335.420624
2025-07-16 00:18:55,420 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0294000000', 'o': '13.0268000000'}, 'XAGUSD': {'b': '37.9350000000', 'o': '37.9270000000'}, 'GBPAUD': {'b': '2.0544600000', 'o': '2.0543400000'}, 'USDJPY': {'b': '148.6820000000',
2025-07-16 00:18:55,421 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0294000000', 'o': '13.0268000000'}, 'XAGUSD': {'b': '37.9350000000', 'o': '37.9270000000'}, 'GBPAUD': {'b': '2.0544600000', 'o': '2.0543400000'}, 'USDJPY': {'b': '148.6820000000',...
2025-07-16 00:18:55,421 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:18:56,222 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:56,225 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:57,228 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:57,232 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:57,770 - DEBUG - app.firebase_stream - Firebase listener triggered (286). Event Type: patch, Path: /. Timestamp: 1752650337.7705903
2025-07-16 00:18:57,770 - DEBUG - app.firebase_stream - Prepared batch update for 30 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9340000000', 'o': '37.9280000000'}, 'USDJPY': {'b': '148.6810000000', 'o': '148.6780000000'}, 'USDCNH': {'b': '7.1816100000', 'o': '7.1815300000'}, 'CADCHF': {'b': '0.5839700000',
2025-07-16 00:18:57,770 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9340000000', 'o': '37.9280000000'}, 'USDJPY': {'b': '148.6810000000', 'o': '148.6780000000'}, 'USDCNH': {'b': '7.1816100000', 'o': '7.1815300000'}, 'CADCHF': {'b': '0.5839700000',...
2025-07-16 00:18:57,771 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:18:58,245 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:58,248 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:18:59,262 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:18:59,266 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:00,024 - DEBUG - app.firebase_stream - Firebase listener triggered (287). Event Type: patch, Path: /. Timestamp: 1752650340.0242445
2025-07-16 00:19:00,024 - DEBUG - app.firebase_stream - Prepared batch update for 22 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4680000000', 'o': '88.4600000000'}, 'GBPAUD': {'b': '2.0544800000', 'o': '2.0543200000'}, 'USDJPY': {'b': '148.6810000000', 'o': '148.6770000000'}, 'USDCNH': {'b': '7.1816200000',
2025-07-16 00:19:00,024 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4680000000', 'o': '88.4600000000'}, 'GBPAUD': {'b': '2.0544800000', 'o': '2.0543200000'}, 'USDJPY': {'b': '148.6810000000', 'o': '148.6770000000'}, 'USDCNH': {'b': '7.1816200000',...
2025-07-16 00:19:00,024 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:19:00,278 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:00,284 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:01,301 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:01,304 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:02,130 - WARNING - app - User 4 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:19:02,133 - WARNING - app - No user data found for user 5 (live). Skipping portfolio update.
2025-07-16 00:19:02,136 - WARNING - app - No group settings found for group string. Skipping portfolio update for user 8.
2025-07-16 00:19:02,145 - WARNING - app - User 9 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:19:02,153 - WARNING - app - User 10 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:19:02,162 - WARNING - app - User 11 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:19:02,170 - WARNING - app - User 12 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:19:02,179 - WARNING - app - User 13 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:19:02,498 - DEBUG - app.firebase_stream - Firebase listener triggered (288). Event Type: patch, Path: /. Timestamp: 1752650342.4985316
2025-07-16 00:19:02,498 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0293000000', 'o': '13.0267000000'}, 'XAGUSD': {'b': '37.9390000000', 'o': '37.9290000000'}, 'GBPAUD': {'b': '2.0544400000', 'o': '2.0543100000'}, 'USDJPY': {'b': '148.6800000000',
2025-07-16 00:19:02,499 - DEBUG - app.services.portfolio_calculator - Position calculation for BTCUSD: Type=BUY, Entry=118908.50000000, Current=118060.0, Quantity=0.40000000, Contract Size=1.00000000, PnL=-339.400000000000000000000000, PnL USD=-339.400000000000000000000000, Commission=235.57000000, Final PnL=-574.970000000000000000000000
2025-07-16 00:19:02,499 - WARNING - app.services.portfolio_calculator - MARGIN CALL ALERT: User has margin level 98.98458302424032101100211934% which is below threshold 100.0%
2025-07-16 00:19:02,499 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0293000000', 'o': '13.0267000000'}, 'XAGUSD': {'b': '37.9390000000', 'o': '37.9290000000'}, 'GBPAUD': {'b': '2.0544400000', 'o': '2.0543100000'}, 'USDJPY': {'b': '148.6800000000',...
2025-07-16 00:19:02,499 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:19:02,500 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:02,504 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:02,530 - WARNING - app - User 16 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:19:02,540 - WARNING - app - User 17 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:19:02,549 - WARNING - app - User 18 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:19:02,558 - WARNING - app - User 19 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:19:02,567 - WARNING - app - User 20 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:19:02,577 - WARNING - app - User 21 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:19:02,590 - WARNING - app - User 22 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:19:02,602 - WARNING - app - User 23 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:19:02,612 - WARNING - app - User 24 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:19:02,624 - WARNING - app - User 25 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:19:02,986 - DEBUG - app.services.portfolio_calculator - Position calculation for XAGUSD: Type=BUY, Entry=41.09800000, Current=37.9165, Quantity=0.01000000, Contract Size=5000.00000000, PnL=-159.075000000000000000000000, PnL USD=-159.075000000000000000000000, Commission=0.10000000, Final PnL=-159.175000000000000000000000
2025-07-16 00:19:02,987 - DEBUG - app.services.portfolio_calculator - Position calculation for BTCUSD: Type=BUY, Entry=132091.90000000, Current=118060.0, Quantity=6.00000000, Contract Size=1.00000000, PnL=-84191.40000000000000000000000, PnL USD=-84191.40000000000000000000000, Commission=3661.62000000, Final PnL=-87853.02000000000000000000000
2025-07-16 00:19:02,987 - WARNING - app.services.portfolio_calculator - MARGIN CALL ALERT: User has margin level 65.76370519004506074944326863% which is below threshold 100.0%
2025-07-16 00:19:03,601 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:03,603 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=96.66800000, Current=96.988, Quantity=0.01000000, Contract Size=100000.00000000, PnL=320.000000000000000000000000, PnL USD=2.152273338714016680118375034, Commission=0.10000000, Final PnL=2.052273338714016680118375034
2025-07-16 00:19:03,604 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=96.56000000, Current=97.093, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-533.000000000000000000000000, PnL USD=-3.584880279795534032822168415, Commission=0.10000000, Final PnL=-3.684880279795534032822168415
2025-07-16 00:19:03,605 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:03,607 - WARNING - app - User 2 has no group_name set. Skipping portfolio update.
2025-07-16 00:19:03,614 - WARNING - app - No group settings found for group string. Skipping portfolio update for user 3.
2025-07-16 00:19:03,626 - WARNING - app - User 4 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:19:03,626 - WARNING - app - User 5 has no group_name set. Skipping portfolio update.
2025-07-16 00:19:03,626 - WARNING - app - User 6 has no group_name set. Skipping portfolio update.
2025-07-16 00:19:04,011 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64743000, Current=0.65255, Quantity=0.10000000, Contract Size=100000.00000000, PnL=51.200000000000000000000000, PnL USD=51.200000000000000000000000, Commission=1.00000000, Final PnL=50.200000000000000000000000
2025-07-16 00:19:04,011 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=SELL, Entry=0.64707000, Current=0.6528499999999999, Quantity=0.22000000, Contract Size=100000.00000000, PnL=-127.1599999999978000000000000, PnL USD=-127.1599999999978000000000000, Commission=2.20000000, Final PnL=-129.3599999999978000000000000
2025-07-16 00:19:04,013 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFSGD: Type=BUY, Entry=1.57561500, Current=1.6037750000000002, Quantity=0.10000000, Contract Size=100000.00000000, PnL=281.6000000000020000000000000, PnL USD=219.2890238679297589845423042, Commission=1.00000000, Final PnL=218.2890238679297589845423042
2025-07-16 00:19:04,014 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFSGD: Type=SELL, Entry=1.57505500, Current=1.604175, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-291.200000000000000000000000, PnL USD=-226.7647860452439356772962660, Commission=1.00000000, Final PnL=-227.7647860452439356772962660
2025-07-16 00:19:04,014 - DEBUG - app.services.portfolio_calculator - Position calculation for CADJPY: Type=SELL, Entry=106.24150000, Current=108.4605, Quantity=0.15000000, Contract Size=100000.00000000, PnL=-33285.00000000000000000000000, PnL USD=-223.8700564971751412429378531, Commission=0E-8, Final PnL=-223.8700564971751412429378531
2025-07-16 00:19:04,015 - DEBUG - app.services.portfolio_calculator - Position calculation for CADJPY: Type=BUY, Entry=106.27050000, Current=108.4305, Quantity=0.15000000, Contract Size=100000.00000000, PnL=32400.00000000000000000000000, PnL USD=217.9176755447941888619854722, Commission=0E-8, Final PnL=217.9176755447941888619854722
2025-07-16 00:19:04,015 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=BUY, Entry=1.77481000, Current=1.78114, Quantity=0.22000000, Contract Size=100000.00000000, PnL=139.260000000000000000000000, PnL USD=90.89500200000000000000000000, Commission=2.20000000, Final PnL=88.69500200000000000000000000
2025-07-16 00:19:04,015 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=SELL, Entry=1.77439000, Current=1.7815100000000001, Quantity=0.21000000, Contract Size=100000.00000000, PnL=-149.5200000000021000000000000, PnL USD=-97.59170400000137067000000000, Commission=2.10000000, Final PnL=-99.69170400000137067000000000
2025-07-16 00:19:04,016 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFJPY: Type=BUY, Entry=178.15500000, Current=185.685, Quantity=0.10000000, Contract Size=100000.00000000, PnL=75300.00000000000000000000000, PnL USD=506.4568200161420500403551251, Commission=1.00000000, Final PnL=505.4568200161420500403551251
2025-07-16 00:19:04,016 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFJPY: Type=SELL, Entry=178.09500000, Current=185.73499999999999, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-76399.99999999990000000000000, PnL USD=-513.8552596179708097928436911, Commission=1.00000000, Final PnL=-514.8552596179708097928436911
2025-07-16 00:19:04,017 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=BUY, Entry=1.77480000, Current=1.78114, Quantity=0.05000000, Contract Size=100000.00000000, PnL=31.700000000000000000000000, PnL USD=20.69059000000000000000000000, Commission=0.50000000, Final PnL=20.19059000000000000000000000
2025-07-16 00:19:04,017 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=SELL, Entry=1.77442000, Current=1.7815100000000001, Quantity=0.05000000, Contract Size=100000.00000000, PnL=-35.45000000000050000000000000, PnL USD=-23.13821500000032635000000000, Commission=0.50000000, Final PnL=-23.63821500000032635000000000
2025-07-16 00:19:04,017 - DEBUG - app.services.portfolio_calculator - Position calculation for EURGBP: Type=SELL, Entry=0.85403000, Current=0.86725, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-132.200000000000000000000000, PnL USD=-177.2669800000000000000000000, Commission=1.00000000, Final PnL=-178.2669800000000000000000000
2025-07-16 00:19:04,017 - DEBUG - app.services.portfolio_calculator - Position calculation for EURJPY: Type=BUY, Entry=167.26050000, Current=172.8495, Quantity=0.10000000, Contract Size=100000.00000000, PnL=55890.00000000000000000000000, PnL USD=375.9079903147699757869249395, Commission=1.00000000, Final PnL=374.9079903147699757869249395
2025-07-16 00:19:04,018 - DEBUG - app.services.portfolio_calculator - Position calculation for EURJPY: Type=SELL, Entry=167.23150000, Current=172.87949999999998, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-56479.99999999980000000000000, PnL USD=-379.8762442830225988700564972, Commission=1.00000000, Final PnL=-380.8762442830225988700564972
2025-07-16 00:19:04,018 - DEBUG - app.services.portfolio_calculator - Position calculation for EURNZD: Type=SELL, Entry=1.91952500, Current=1.954275, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-347.500000000000000000000000, PnL USD=-206.7694500000000000000000000, Commission=1.00000000, Final PnL=-207.7694500000000000000000000
2025-07-16 00:19:04,018 - DEBUG - app.services.portfolio_calculator - Position calculation for EURNZD: Type=BUY, Entry=1.92063500, Current=1.953865, Quantity=0.10000000, Contract Size=100000.00000000, PnL=332.300000000000000000000000, PnL USD=197.7251460000000000000000000, Commission=1.00000000, Final PnL=196.7251460000000000000000000
2025-07-16 00:19:04,018 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=SELL, Entry=1.34376000, Current=1.341, Quantity=0.25000000, Contract Size=0E-8, PnL=0E-24, PnL USD=0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:19:04,018 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=SELL, Entry=1.34361000, Current=1.341, Quantity=0.25000000, Contract Size=0E-8, PnL=0E-24, PnL USD=0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:19:04,018 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=BUY, Entry=1.34379000, Current=1.34079, Quantity=0.25000000, Contract Size=0E-8, PnL=-0E-24, PnL USD=-0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:19:04,019 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=BUY, Entry=1.34378000, Current=1.34079, Quantity=0.25000000, Contract Size=0E-8, PnL=-0E-24, PnL USD=-0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:19:04,019 - DEBUG - app.services.portfolio_calculator - Position calculation for NZDJPY: Type=BUY, Entry=87.10150000, Current=88.44749999999999, Quantity=0.01000000, Contract Size=100000.00000000, PnL=1345.999999999990000000000000, PnL USD=9.052999730965765402206080172, Commission=0.10000000, Final PnL=8.952999730965765402206080172
2025-07-16 00:19:04,020 - DEBUG - app.services.portfolio_calculator - Position calculation for USDCHF: Type=SELL, Entry=0.81771000, Current=0.8007299999999999, Quantity=0.15000000, Contract Size=100000.00000000, PnL=254.7000000000015000000000000, PnL USD=318.1443453496233980364235929, Commission=1.50000000, Final PnL=316.6443453496233980364235929
2025-07-16 00:19:04,021 - DEBUG - app.services.portfolio_calculator - Position calculation for USDCHF: Type=BUY, Entry=0.81805000, Current=0.80042, Quantity=0.15000000, Contract Size=100000.00000000, PnL=-264.450000000000000000000000, PnL USD=-330.3230158135351869894326613, Commission=1.50000000, Final PnL=-331.8230158135351869894326613
2025-07-16 00:19:04,021 - DEBUG - app.services.portfolio_calculator - Position calculation for USDNOK: Type=BUY, Entry=10.04973000, Current=10.2536, Quantity=0.10000000, Contract Size=100000.00000000, PnL=2038.700000000000000000000000, PnL USD=198.8141560125995923661293311, Commission=1.00000000, Final PnL=197.8141560125995923661293311
2025-07-16 00:19:04,022 - DEBUG - app.services.portfolio_calculator - Position calculation for USDNOK: Type=BUY, Entry=10.05023000, Current=10.2536, Quantity=0.10000000, Contract Size=100000.00000000, PnL=2033.700000000000000000000000, PnL USD=198.3265556888329773850969837, Commission=1.00000000, Final PnL=197.3265556888329773850969837
2025-07-16 00:19:04,022 - DEBUG - app.services.portfolio_calculator - Position calculation for USDSGD: Type=SELL, Entry=1.28795000, Current=1.2843, Quantity=0.31000000, Contract Size=100000.00000000, PnL=113.150000000000000000000000, PnL USD=88.11275941284117898999338084, Commission=3.10000000, Final PnL=85.01275941284117898999338084
2025-07-16 00:19:04,023 - DEBUG - app.services.portfolio_calculator - Position calculation for USDTRY: Type=SELL, Entry=39.56087000, Current=40.25783, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-6969.600000000000000000000000, PnL USD=-173.1247304862078490365068230, Commission=1.00000000, Final PnL=-174.1247304862078490365068230
2025-07-16 00:19:04,631 - DEBUG - app.firebase_stream - Firebase listener triggered (289). Event Type: patch, Path: /. Timestamp: 1752650344.6315165
2025-07-16 00:19:04,631 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0293000000', 'o': '13.0268400000'}, 'XAGUSD': {'b': '37.9340000000', 'o': '37.9270000000'}, 'NZDJPY': {'b': '88.4620000000', 'o': '88.4590000000'}, 'GBPAUD': {'b': '2.0544600000',
2025-07-16 00:19:04,631 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0293000000', 'o': '13.0268400000'}, 'XAGUSD': {'b': '37.9340000000', 'o': '37.9270000000'}, 'NZDJPY': {'b': '88.4620000000', 'o': '88.4590000000'}, 'GBPAUD': {'b': '2.0544600000',...
2025-07-16 00:19:04,632 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:19:05,041 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:05,041 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.89752000, Current=0.89483, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-2.690000000000000000000000, PnL USD=-1.961999927063199737427519055, Commission=0.10000000, Final PnL=-2.061999927063199737427519055
2025-07-16 00:19:05,046 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:05,083 - WARNING - app - User 12 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:19:05,095 - WARNING - app - User 13 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:19:06,054 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:06,057 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:07,059 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:07,062 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:07,261 - DEBUG - app.firebase_stream - Firebase listener triggered (290). Event Type: patch, Path: /. Timestamp: 1752650347.2618177
2025-07-16 00:19:07,262 - DEBUG - app.firebase_stream - Prepared batch update for 39 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0285000000', 'o': '13.0260600000'}, 'XAGUSD': {'b': '37.9360000000', 'o': '37.9260000000'}, 'NZDJPY': {'b': '88.4620000000', 'o': '88.4540000000'}, 'GBPAUD': {'b': '2.0544700000',
2025-07-16 00:19:07,262 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0285000000', 'o': '13.0260600000'}, 'XAGUSD': {'b': '37.9360000000', 'o': '37.9260000000'}, 'NZDJPY': {'b': '88.4620000000', 'o': '88.4540000000'}, 'GBPAUD': {'b': '2.0544700000',...
2025-07-16 00:19:07,262 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:19:08,073 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:08,076 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:09,078 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:09,080 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:09,162 - DEBUG - app.firebase_stream - Firebase listener triggered (291). Event Type: patch, Path: /. Timestamp: 1752650349.162639
2025-07-16 00:19:09,163 - DEBUG - app.firebase_stream - Prepared batch update for 26 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0294000000', 'o': '13.0268000000'}, 'GBPAUD': {'b': '2.0544200000', 'o': '2.0542900000'}, 'USDJPY': {'b': '148.6700000000', 'o': '148.6650000000'}, 'USDCNH': {'b': '7.1815500000',
2025-07-16 00:19:09,163 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0294000000', 'o': '13.0268000000'}, 'GBPAUD': {'b': '2.0544200000', 'o': '2.0542900000'}, 'USDJPY': {'b': '148.6700000000', 'o': '148.6650000000'}, 'USDCNH': {'b': '7.1815500000',...
2025-07-16 00:19:09,163 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:19:10,094 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:10,096 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:11,109 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:11,111 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:11,478 - DEBUG - app.firebase_stream - Firebase listener triggered (292). Event Type: patch, Path: /. Timestamp: 1752650351.478417
2025-07-16 00:19:11,478 - DEBUG - app.firebase_stream - Prepared batch update for 20 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9350000000', 'o': '37.9250000000'}, 'GBPAUD': {'b': '2.0544200000', 'o': '2.0543000000'}, 'EURNZD': {'b': '1.9541500000', 'o': '1.9539700000'}, 'USDSGD': {'b': '1.2841400000', 'o'
2025-07-16 00:19:11,478 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9350000000', 'o': '37.9250000000'}, 'GBPAUD': {'b': '2.0544200000', 'o': '2.0543000000'}, 'EURNZD': {'b': '1.9541500000', 'o': '1.9539700000'}, 'USDSGD': {'b': '1.2841400000', 'o'...
2025-07-16 00:19:11,478 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:19:12,118 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:12,120 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:13,134 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:13,136 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:13,815 - DEBUG - app.firebase_stream - Firebase listener triggered (293). Event Type: patch, Path: /. Timestamp: 1752650353.815175
2025-07-16 00:19:13,815 - DEBUG - app.firebase_stream - Prepared batch update for 25 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0295000000', 'o': '13.0269000000'}, 'XAGUSD': {'b': '37.9320000000', 'o': '37.9260000000'}, 'NZDJPY': {'b': '88.4630000000', 'o': '88.4540000000'}, 'GBPAUD': {'b': '2.0544300000',
2025-07-16 00:19:13,815 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0295000000', 'o': '13.0269000000'}, 'XAGUSD': {'b': '37.9320000000', 'o': '37.9260000000'}, 'NZDJPY': {'b': '88.4630000000', 'o': '88.4540000000'}, 'GBPAUD': {'b': '2.0544300000',...
2025-07-16 00:19:13,815 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:19:14,145 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:14,149 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:15,161 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:15,165 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:16,176 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:16,178 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:16,198 - DEBUG - app.firebase_stream - Firebase listener triggered (294). Event Type: patch, Path: /. Timestamp: 1752650356.1980567
2025-07-16 00:19:16,198 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4710000000', 'o': '88.4620000000'}, 'GBPAUD': {'b': '2.0545300000', 'o': '2.0543800000'}, 'USDJPY': {'b': '148.6700000000', 'o': '148.6660000000'}, 'CADCHF': {'b': '0.5839900000',
2025-07-16 00:19:16,198 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4710000000', 'o': '88.4620000000'}, 'GBPAUD': {'b': '2.0545300000', 'o': '2.0543800000'}, 'USDJPY': {'b': '148.6700000000', 'o': '148.6660000000'}, 'CADCHF': {'b': '0.5839900000',...
2025-07-16 00:19:16,198 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:19:17,193 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:17,196 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:18,201 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:18,204 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:18,466 - DEBUG - app.firebase_stream - Firebase listener triggered (295). Event Type: patch, Path: /. Timestamp: 1752650358.4666412
2025-07-16 00:19:18,467 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0284000000', 'o': '13.0259400000'}, 'NZDJPY': {'b': '88.4650000000', 'o': '88.4570000000'}, 'GBPAUD': {'b': '2.0543500000', 'o': '2.0542700000'}, 'USDJPY': {'b': '148.6770000000',
2025-07-16 00:19:18,468 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0284000000', 'o': '13.0259400000'}, 'NZDJPY': {'b': '88.4650000000', 'o': '88.4570000000'}, 'GBPAUD': {'b': '2.0543500000', 'o': '2.0542700000'}, 'USDJPY': {'b': '148.6770000000',...
2025-07-16 00:19:18,469 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:19:19,217 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:19,221 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:20,228 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:20,232 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:20,805 - DEBUG - app.firebase_stream - Firebase listener triggered (296). Event Type: patch, Path: /. Timestamp: 1752650360.805307
2025-07-16 00:19:20,805 - DEBUG - app.firebase_stream - Prepared batch update for 35 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0293000000', 'o': '13.0267000000'}, 'GBPAUD': {'b': '2.0542400000', 'o': '2.0541600000'}, 'USDJPY': {'b': '148.6830000000', 'o': '148.6780000000'}, 'CADCHF': {'b': '0.5840400000',
2025-07-16 00:19:20,805 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0293000000', 'o': '13.0267000000'}, 'GBPAUD': {'b': '2.0542400000', 'o': '2.0541600000'}, 'USDJPY': {'b': '148.6830000000', 'o': '148.6780000000'}, 'CADCHF': {'b': '0.5840400000',...
2025-07-16 00:19:20,805 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:19:21,242 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:21,247 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:22,253 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:22,257 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:23,029 - DEBUG - app.firebase_stream - Firebase listener triggered (297). Event Type: patch, Path: /. Timestamp: 1752650363.0291338
2025-07-16 00:19:23,029 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9360000000', 'o': '37.9280000000'}, 'NZDJPY': {'b': '88.4700000000', 'o': '88.4630000000'}, 'GBPAUD': {'b': '2.0541900000', 'o': '2.0540900000'}, 'USDCNH': {'b': '7.1815500000', '
2025-07-16 00:19:23,030 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9360000000', 'o': '37.9280000000'}, 'NZDJPY': {'b': '88.4700000000', 'o': '88.4630000000'}, 'GBPAUD': {'b': '2.0541900000', 'o': '2.0540900000'}, 'USDCNH': {'b': '7.1815500000', '...
2025-07-16 00:19:23,030 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:19:23,267 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:23,269 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:24,274 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:24,278 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:25,280 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:25,282 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:25,389 - DEBUG - app.firebase_stream - Firebase listener triggered (298). Event Type: patch, Path: /. Timestamp: 1752650365.3898816
2025-07-16 00:19:25,390 - DEBUG - app.firebase_stream - Prepared batch update for 27 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0292000000', 'o': '13.0266200000'}, 'XAGUSD': {'b': '37.9330000000', 'o': '37.9280000000'}, 'NZDJPY': {'b': '88.4690000000', 'o': '88.4630000000'}, 'GBPAUD': {'b': '2.0542400000',
2025-07-16 00:19:25,390 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0292000000', 'o': '13.0266200000'}, 'XAGUSD': {'b': '37.9330000000', 'o': '37.9280000000'}, 'NZDJPY': {'b': '88.4690000000', 'o': '88.4630000000'}, 'GBPAUD': {'b': '2.0542400000',...
2025-07-16 00:19:25,390 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:19:26,299 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:26,302 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:27,307 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:27,310 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:27,611 - DEBUG - app.firebase_stream - Firebase listener triggered (299). Event Type: patch, Path: /. Timestamp: 1752650367.611552
2025-07-16 00:19:27,612 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0291000000', 'o': '13.0266200000'}, 'XAGUSD': {'b': '37.9360000000', 'o': '37.9280000000'}, 'NZDJPY': {'b': '88.4670000000', 'o': '88.4580000000'}, 'GBPAUD': {'b': '2.0542200000',
2025-07-16 00:19:27,612 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0291000000', 'o': '13.0266200000'}, 'XAGUSD': {'b': '37.9360000000', 'o': '37.9280000000'}, 'NZDJPY': {'b': '88.4670000000', 'o': '88.4580000000'}, 'GBPAUD': {'b': '2.0542200000',...
2025-07-16 00:19:27,612 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:19:28,316 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:28,318 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:29,330 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:29,334 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:29,917 - DEBUG - app.firebase_stream - Firebase listener triggered (300). Event Type: patch, Path: /. Timestamp: 1752650369.9177413
2025-07-16 00:19:29,917 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9360000000', 'o': '37.9290000000'}, 'NZDJPY': {'b': '88.4680000000', 'o': '88.4600000000'}, 'GBPAUD': {'b': '2.0544700000', 'o': '2.0543100000'}, 'USDJPY': {'b': '148.6790000000',
2025-07-16 00:19:29,918 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9360000000', 'o': '37.9290000000'}, 'NZDJPY': {'b': '88.4680000000', 'o': '88.4600000000'}, 'GBPAUD': {'b': '2.0544700000', 'o': '2.0543100000'}, 'USDJPY': {'b': '148.6790000000',...
2025-07-16 00:19:29,918 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:19:30,343 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:30,347 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:31,364 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:31,366 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:32,237 - DEBUG - app.firebase_stream - Firebase listener triggered (301). Event Type: patch, Path: /. Timestamp: 1752650372.2371557
2025-07-16 00:19:32,237 - DEBUG - app.firebase_stream - Prepared batch update for 26 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0290000000', 'o': '13.0264300000'}, 'NZDJPY': {'b': '88.4690000000', 'o': '88.4620000000'}, 'GBPAUD': {'b': '2.0541800000', 'o': '2.0540300000'}, 'USDJPY': {'b': '148.6800000000',
2025-07-16 00:19:32,237 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0290000000', 'o': '13.0264300000'}, 'NZDJPY': {'b': '88.4690000000', 'o': '88.4620000000'}, 'GBPAUD': {'b': '2.0541800000', 'o': '2.0540300000'}, 'USDJPY': {'b': '148.6800000000',...
2025-07-16 00:19:32,237 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:19:32,380 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:32,384 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:33,392 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:33,396 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:34,404 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:34,408 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:34,539 - DEBUG - app.firebase_stream - Firebase listener triggered (302). Event Type: patch, Path: /. Timestamp: 1752650374.5395432
2025-07-16 00:19:34,539 - DEBUG - app.firebase_stream - Prepared batch update for 38 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0290000000', 'o': '13.0264000000'}, 'XAGUSD': {'b': '37.9350000000', 'o': '37.9260000000'}, 'NZDJPY': {'b': '88.4710000000', 'o': '88.4620000000'}, 'GBPAUD': {'b': '2.0541400000',
2025-07-16 00:19:34,539 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0290000000', 'o': '13.0264000000'}, 'XAGUSD': {'b': '37.9350000000', 'o': '37.9260000000'}, 'NZDJPY': {'b': '88.4710000000', 'o': '88.4620000000'}, 'GBPAUD': {'b': '2.0541400000',...
2025-07-16 00:19:34,539 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:19:35,412 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:35,416 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:36,424 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:36,425 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:36,800 - DEBUG - app.firebase_stream - Firebase listener triggered (303). Event Type: patch, Path: /. Timestamp: 1752650376.8003082
2025-07-16 00:19:36,800 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4710000000', 'o': '88.4640000000'}, 'GBPAUD': {'b': '2.0544600000', 'o': '2.0543100000'}, 'USDJPY': {'b': '148.6700000000', 'o': '148.6670000000'}, 'USDCNH': {'b': '7.1815100000',
2025-07-16 00:19:36,800 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4710000000', 'o': '88.4640000000'}, 'GBPAUD': {'b': '2.0544600000', 'o': '2.0543100000'}, 'USDJPY': {'b': '148.6700000000', 'o': '148.6670000000'}, 'USDCNH': {'b': '7.1815100000',...
2025-07-16 00:19:36,800 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:19:37,430 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:37,434 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:38,444 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:38,448 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:39,140 - DEBUG - app.firebase_stream - Firebase listener triggered (304). Event Type: patch, Path: /. Timestamp: 1752650379.1406417
2025-07-16 00:19:39,141 - DEBUG - app.firebase_stream - Prepared batch update for 40 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0286000000', 'o': '13.0260000000'}, 'NZDJPY': {'b': '88.4730000000', 'o': '88.4640000000'}, 'GBPAUD': {'b': '2.0540800000', 'o': '2.0539400000'}, 'USDJPY': {'b': '148.6830000000',
2025-07-16 00:19:39,141 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0286000000', 'o': '13.0260000000'}, 'NZDJPY': {'b': '88.4730000000', 'o': '88.4640000000'}, 'GBPAUD': {'b': '2.0540800000', 'o': '2.0539400000'}, 'USDJPY': {'b': '148.6830000000',...
2025-07-16 00:19:39,141 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:19:39,460 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:39,464 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:40,471 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:40,474 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:41,390 - DEBUG - app.firebase_stream - Firebase listener triggered (305). Event Type: patch, Path: /. Timestamp: 1752650381.3907843
2025-07-16 00:19:41,390 - DEBUG - app.firebase_stream - Prepared batch update for 30 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0287000000', 'o': '13.0261000000'}, 'NZDJPY': {'b': '88.4620000000', 'o': '88.4540000000'}, 'GBPAUD': {'b': '2.0540500000', 'o': '2.0539400000'}, 'USDJPY': {'b': '148.6700000000',
2025-07-16 00:19:41,391 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0287000000', 'o': '13.0261000000'}, 'NZDJPY': {'b': '88.4620000000', 'o': '88.4540000000'}, 'GBPAUD': {'b': '2.0540500000', 'o': '2.0539400000'}, 'USDJPY': {'b': '148.6700000000',...
2025-07-16 00:19:41,391 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:19:41,482 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:41,486 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:42,493 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:42,498 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:43,511 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:43,514 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:43,756 - DEBUG - app.firebase_stream - Firebase listener triggered (306). Event Type: patch, Path: /. Timestamp: 1752650383.7567189
2025-07-16 00:19:43,756 - DEBUG - app.firebase_stream - Prepared batch update for 38 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0286000000', 'o': '13.0260000000'}, 'GBPAUD': {'b': '2.0540000000', 'o': '2.0538800000'}, 'BTCUSD': {'b': '118127.5000000000', 'o': '118127.4000000000'}, 'USDJPY': {'b': '148.6750
2025-07-16 00:19:43,757 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0286000000', 'o': '13.0260000000'}, 'GBPAUD': {'b': '2.0540000000', 'o': '2.0538800000'}, 'BTCUSD': {'b': '118127.5000000000', 'o': '118127.4000000000'}, 'USDJPY': {'b': '148.6750...
2025-07-16 00:19:43,757 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:19:44,524 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:44,528 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:45,541 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:45,545 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:46,113 - DEBUG - app.firebase_stream - Firebase listener triggered (307). Event Type: patch, Path: /. Timestamp: 1752650386.1130075
2025-07-16 00:19:46,113 - DEBUG - app.firebase_stream - Prepared batch update for 34 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9350000000', 'o': '37.9250000000'}, 'NZDJPY': {'b': '88.4780000000', 'o': '88.4720000000'}, 'GBPAUD': {'b': '2.0539600000', 'o': '2.0538600000'}, 'USDJPY': {'b': '148.6700000000',
2025-07-16 00:19:46,114 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9350000000', 'o': '37.9250000000'}, 'NZDJPY': {'b': '88.4780000000', 'o': '88.4720000000'}, 'GBPAUD': {'b': '2.0539600000', 'o': '2.0538600000'}, 'USDJPY': {'b': '148.6700000000',...
2025-07-16 00:19:46,114 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:19:46,556 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:46,560 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:47,569 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:47,572 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:48,357 - DEBUG - app.firebase_stream - Firebase listener triggered (308). Event Type: patch, Path: /. Timestamp: 1752650388.357821
2025-07-16 00:19:48,358 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0295000000', 'o': '13.0269000000'}, 'XAGUSD': {'b': '37.9340000000', 'o': '37.9250000000'}, 'NZDJPY': {'b': '88.4840000000', 'o': '88.4760000000'}, 'GBPAUD': {'b': '2.0539100000',
2025-07-16 00:19:48,358 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0295000000', 'o': '13.0269000000'}, 'XAGUSD': {'b': '37.9340000000', 'o': '37.9250000000'}, 'NZDJPY': {'b': '88.4840000000', 'o': '88.4760000000'}, 'GBPAUD': {'b': '2.0539100000',...
2025-07-16 00:19:48,358 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:19:48,579 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:48,582 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:49,590 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:49,594 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:50,598 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:50,619 - DEBUG - app.firebase_stream - Firebase listener triggered (309). Event Type: patch, Path: /. Timestamp: 1752650390.6191838
2025-07-16 00:19:50,619 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0295700000', 'o': '13.0270000000'}, 'NZDJPY': {'b': '88.4840000000', 'o': '88.4750000000'}, 'GBPAUD': {'b': '2.0539800000', 'o': '2.0538100000'}, 'BTCUSD': {'b': '118110.100000000
2025-07-16 00:19:50,619 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:50,620 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0295700000', 'o': '13.0270000000'}, 'NZDJPY': {'b': '88.4840000000', 'o': '88.4750000000'}, 'GBPAUD': {'b': '2.0539800000', 'o': '2.0538100000'}, 'BTCUSD': {'b': '118110.100000000...
2025-07-16 00:19:50,620 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:19:51,630 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:51,633 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:52,638 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:52,643 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:52,915 - DEBUG - app.firebase_stream - Firebase listener triggered (310). Event Type: patch, Path: /. Timestamp: 1752650392.9154665
2025-07-16 00:19:52,915 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0284200000', 'o': '13.0259000000'}, 'XAGUSD': {'b': '37.9330000000', 'o': '37.9250000000'}, 'NZDJPY': {'b': '88.4850000000', 'o': '88.4760000000'}, 'GBPAUD': {'b': '2.0540000000',
2025-07-16 00:19:52,915 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0284200000', 'o': '13.0259000000'}, 'XAGUSD': {'b': '37.9330000000', 'o': '37.9250000000'}, 'NZDJPY': {'b': '88.4850000000', 'o': '88.4760000000'}, 'GBPAUD': {'b': '2.0540000000',...
2025-07-16 00:19:52,916 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:19:53,648 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:53,651 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:54,656 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:54,659 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:55,227 - DEBUG - app.firebase_stream - Firebase listener triggered (311). Event Type: patch, Path: /. Timestamp: 1752650395.2277143
2025-07-16 00:19:55,227 - DEBUG - app.firebase_stream - Prepared batch update for 34 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0292000000', 'o': '13.0266200000'}, 'NZDJPY': {'b': '88.4840000000', 'o': '88.4750000000'}, 'GBPAUD': {'b': '2.0540200000', 'o': '2.0538600000'}, 'BTCUSD': {'b': '118129.900000000
2025-07-16 00:19:55,228 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0292000000', 'o': '13.0266200000'}, 'NZDJPY': {'b': '88.4840000000', 'o': '88.4750000000'}, 'GBPAUD': {'b': '2.0540200000', 'o': '2.0538600000'}, 'BTCUSD': {'b': '118129.900000000...
2025-07-16 00:19:55,228 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:19:55,676 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:55,679 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:56,684 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:56,688 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:57,576 - DEBUG - app.firebase_stream - Firebase listener triggered (312). Event Type: patch, Path: /. Timestamp: 1752650397.5762017
2025-07-16 00:19:57,576 - DEBUG - app.firebase_stream - Prepared batch update for 24 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0285000000', 'o': '13.0259000000'}, 'GBPAUD': {'b': '2.0542200000', 'o': '2.0540600000'}, 'USDJPY': {'b': '148.6760000000', 'o': '148.6740000000'}, 'USDSGD': {'b': '1.2840800000',
2025-07-16 00:19:57,576 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0285000000', 'o': '13.0259000000'}, 'GBPAUD': {'b': '2.0542200000', 'o': '2.0540600000'}, 'USDJPY': {'b': '148.6760000000', 'o': '148.6740000000'}, 'USDSGD': {'b': '1.2840800000',...
2025-07-16 00:19:57,577 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:19:57,691 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:57,695 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:58,697 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:58,700 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:59,706 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:19:59,708 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:19:59,822 - DEBUG - app.firebase_stream - Firebase listener triggered (313). Event Type: patch, Path: /. Timestamp: 1752650399.8224673
2025-07-16 00:19:59,822 - DEBUG - app.firebase_stream - Prepared batch update for 25 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9340000000', 'o': '37.9250000000'}, 'NZDJPY': {'b': '88.4840000000', 'o': '88.4760000000'}, 'GBPAUD': {'b': '2.0540200000', 'o': '2.0538700000'}, 'USDJPY': {'b': '148.6770000000',
2025-07-16 00:19:59,822 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9340000000', 'o': '37.9250000000'}, 'NZDJPY': {'b': '88.4840000000', 'o': '88.4760000000'}, 'GBPAUD': {'b': '2.0540200000', 'o': '2.0538700000'}, 'USDJPY': {'b': '148.6770000000',...
2025-07-16 00:19:59,823 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:20:00,719 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:00,723 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:01,727 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:01,730 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:02,136 - WARNING - app - User 4 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:20:02,138 - WARNING - app - No user data found for user 5 (live). Skipping portfolio update.
2025-07-16 00:20:02,142 - WARNING - app - No group settings found for group string. Skipping portfolio update for user 8.
2025-07-16 00:20:02,154 - WARNING - app - User 9 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:20:02,165 - WARNING - app - User 10 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:20:02,174 - WARNING - app - User 11 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:20:02,182 - DEBUG - app.firebase_stream - Firebase listener triggered (314). Event Type: patch, Path: /. Timestamp: 1752650402.1820998
2025-07-16 00:20:02,182 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0283000000', 'o': '13.0257000000'}, 'XAGUSD': {'b': '37.9360000000', 'o': '37.9290000000'}, 'NZDJPY': {'b': '88.4810000000', 'o': '88.4760000000'}, 'GBPAUD': {'b': '2.0540100000',
2025-07-16 00:20:02,182 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0283000000', 'o': '13.0257000000'}, 'XAGUSD': {'b': '37.9360000000', 'o': '37.9290000000'}, 'NZDJPY': {'b': '88.4810000000', 'o': '88.4760000000'}, 'GBPAUD': {'b': '2.0540100000',...
2025-07-16 00:20:02,182 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:20:02,215 - WARNING - app - User 12 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:20:02,227 - WARNING - app - User 13 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:20:02,582 - DEBUG - app.services.portfolio_calculator - Position calculation for BTCUSD: Type=BUY, Entry=118908.50000000, Current=118079.8, Quantity=0.40000000, Contract Size=1.00000000, PnL=-331.480000000000000000000000, PnL USD=-331.480000000000000000000000, Commission=235.57000000, Final PnL=-567.050000000000000000000000
2025-07-16 00:20:02,583 - WARNING - app.services.portfolio_calculator - MARGIN CALL ALERT: User has margin level 99.06863509832076266644592385% which is below threshold 100.0%
2025-07-16 00:20:02,603 - WARNING - app - User 16 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:20:02,615 - WARNING - app - User 17 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:20:02,626 - WARNING - app - User 18 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:20:02,636 - WARNING - app - User 19 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:20:02,646 - WARNING - app - User 20 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:20:02,657 - WARNING - app - User 21 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:20:02,667 - WARNING - app - User 22 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:20:02,676 - WARNING - app - User 23 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:20:02,689 - WARNING - app - User 24 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:20:02,699 - WARNING - app - User 25 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:20:03,093 - DEBUG - app.services.portfolio_calculator - Position calculation for XAGUSD: Type=BUY, Entry=41.09800000, Current=37.9165, Quantity=0.01000000, Contract Size=5000.00000000, PnL=-159.075000000000000000000000, PnL USD=-159.075000000000000000000000, Commission=0.10000000, Final PnL=-159.175000000000000000000000
2025-07-16 00:20:03,093 - DEBUG - app.services.portfolio_calculator - Position calculation for BTCUSD: Type=BUY, Entry=132091.90000000, Current=118091.99, Quantity=6.00000000, Contract Size=1.00000000, PnL=-83999.46000000000000000000000, PnL USD=-83999.46000000000000000000000, Commission=3661.62000000, Final PnL=-87661.08000000000000000000000
2025-07-16 00:20:03,093 - WARNING - app.services.portfolio_calculator - MARGIN CALL ALERT: User has margin level 65.89473614506711871913794002% which is below threshold 100.0%
2025-07-16 00:20:03,094 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:03,096 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:03,503 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=96.66800000, Current=97.004, Quantity=0.01000000, Contract Size=100000.00000000, PnL=336.000000000000000000000000, PnL USD=2.260008609556607834696513130, Commission=0.10000000, Final PnL=2.160008609556607834696513130
2025-07-16 00:20:03,503 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=96.56000000, Current=97.11, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-550.000000000000000000000000, PnL USD=-3.699418854928971157985363754, Commission=0.10000000, Final PnL=-3.799418854928971157985363754
2025-07-16 00:20:03,504 - WARNING - app - User 2 has no group_name set. Skipping portfolio update.
2025-07-16 00:20:03,509 - WARNING - app - No group settings found for group string. Skipping portfolio update for user 3.
2025-07-16 00:20:03,523 - WARNING - app - User 4 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:20:03,524 - WARNING - app - User 5 has no group_name set. Skipping portfolio update.
2025-07-16 00:20:03,524 - WARNING - app - User 6 has no group_name set. Skipping portfolio update.
2025-07-16 00:20:03,913 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64743000, Current=0.65258, Quantity=0.10000000, Contract Size=100000.00000000, PnL=51.500000000000000000000000, PnL USD=51.500000000000000000000000, Commission=1.00000000, Final PnL=50.500000000000000000000000
2025-07-16 00:20:03,913 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=SELL, Entry=0.64707000, Current=0.65288, Quantity=0.22000000, Contract Size=100000.00000000, PnL=-127.820000000000000000000000, PnL USD=-127.820000000000000000000000, Commission=2.20000000, Final PnL=-130.020000000000000000000000
2025-07-16 00:20:03,914 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFSGD: Type=BUY, Entry=1.57561500, Current=1.603625, Quantity=0.10000000, Contract Size=100000.00000000, PnL=280.100000000000000000000000, PnL USD=218.1328266151641642265279422, Commission=1.00000000, Final PnL=217.1328266151641642265279422
2025-07-16 00:20:03,914 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFSGD: Type=SELL, Entry=1.57505500, Current=1.6040949999999998, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-290.3999999999980000000000000, PnL USD=-226.1541336988334060183166158, Commission=1.00000000, Final PnL=-227.1541336988334060183166158
2025-07-16 00:20:03,915 - DEBUG - app.services.portfolio_calculator - Position calculation for CADJPY: Type=SELL, Entry=106.24150000, Current=108.4655, Quantity=0.15000000, Contract Size=100000.00000000, PnL=-33360.00000000000000000000000, PnL USD=-224.3865690916917778734395179, Commission=0E-8, Final PnL=-224.3865690916917778734395179
2025-07-16 00:20:03,915 - DEBUG - app.services.portfolio_calculator - Position calculation for CADJPY: Type=BUY, Entry=106.27050000, Current=108.4375, Quantity=0.15000000, Contract Size=100000.00000000, PnL=32505.00000000000000000000000, PnL USD=218.6356543263021954369349978, Commission=0E-8, Final PnL=218.6356543263021954369349978
2025-07-16 00:20:03,915 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=BUY, Entry=1.77481000, Current=1.7810599999999999, Quantity=0.22000000, Contract Size=100000.00000000, PnL=137.4999999999978000000000000, PnL USD=89.75037499999856399400000000, Commission=2.20000000, Final PnL=87.55037499999856399400000000
2025-07-16 00:20:03,915 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=SELL, Entry=1.77439000, Current=1.78146, Quantity=0.21000000, Contract Size=100000.00000000, PnL=-148.470000000000000000000000, PnL USD=-96.91082310000000000000000000, Commission=2.10000000, Final PnL=-99.01082310000000000000000000
2025-07-16 00:20:03,916 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFJPY: Type=BUY, Entry=178.15500000, Current=185.685, Quantity=0.10000000, Contract Size=100000.00000000, PnL=75300.00000000000000000000000, PnL USD=506.4840723202755058114507103, Commission=1.00000000, Final PnL=505.4840723202755058114507103
2025-07-16 00:20:03,916 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFJPY: Type=SELL, Entry=178.09500000, Current=185.725, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-76300.00000000000000000000000, PnL USD=-513.2102884201463624623331898, Commission=1.00000000, Final PnL=-514.2102884201463624623331898
2025-07-16 00:20:03,916 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=BUY, Entry=1.77480000, Current=1.7810599999999999, Quantity=0.05000000, Contract Size=100000.00000000, PnL=31.29999999999950000000000000, PnL USD=20.43044899999967363500000000, Commission=0.50000000, Final PnL=19.93044899999967363500000000
2025-07-16 00:20:03,916 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=SELL, Entry=1.77442000, Current=1.78146, Quantity=0.05000000, Contract Size=100000.00000000, PnL=-35.200000000000000000000000, PnL USD=-22.97609600000000000000000000, Commission=0.50000000, Final PnL=-23.47609600000000000000000000
2025-07-16 00:20:03,916 - DEBUG - app.services.portfolio_calculator - Position calculation for EURGBP: Type=SELL, Entry=0.85403000, Current=0.86731, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-132.800000000000000000000000, PnL USD=-178.0582400000000000000000000, Commission=1.00000000, Final PnL=-179.0582400000000000000000000
2025-07-16 00:20:03,917 - DEBUG - app.services.portfolio_calculator - Position calculation for EURJPY: Type=BUY, Entry=167.26050000, Current=172.85150000000002, Quantity=0.10000000, Contract Size=100000.00000000, PnL=55910.00000000020000000000000, PnL USD=376.0627421437809405940594059, Commission=1.00000000, Final PnL=375.0627421437809405940594059
2025-07-16 00:20:03,918 - DEBUG - app.services.portfolio_calculator - Position calculation for EURJPY: Type=SELL, Entry=167.23150000, Current=172.8775, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-56460.00000000000000000000000, PnL USD=-379.7621609987085665088247955, Commission=1.00000000, Final PnL=-380.7621609987085665088247955
2025-07-16 00:20:03,918 - DEBUG - app.services.portfolio_calculator - Position calculation for EURNZD: Type=SELL, Entry=1.91952500, Current=1.953935, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-344.100000000000000000000000, PnL USD=-204.7911150000000000000000000, Commission=1.00000000, Final PnL=-205.7911150000000000000000000
2025-07-16 00:20:03,918 - DEBUG - app.services.portfolio_calculator - Position calculation for EURNZD: Type=BUY, Entry=1.92063500, Current=1.953535, Quantity=0.10000000, Contract Size=100000.00000000, PnL=329.000000000000000000000000, PnL USD=195.8043500000000000000000000, Commission=1.00000000, Final PnL=194.8043500000000000000000000
2025-07-16 00:20:03,918 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=SELL, Entry=1.34376000, Current=1.3409, Quantity=0.25000000, Contract Size=0E-8, PnL=0E-24, PnL USD=0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:20:03,918 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=SELL, Entry=1.34361000, Current=1.3409, Quantity=0.25000000, Contract Size=0E-8, PnL=0E-24, PnL USD=0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:20:03,918 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=BUY, Entry=1.34379000, Current=1.34069, Quantity=0.25000000, Contract Size=0E-8, PnL=-0E-24, PnL USD=-0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:20:03,919 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=BUY, Entry=1.34378000, Current=1.34069, Quantity=0.25000000, Contract Size=0E-8, PnL=-0E-24, PnL USD=-0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:20:03,919 - DEBUG - app.services.portfolio_calculator - Position calculation for NZDJPY: Type=BUY, Entry=87.10150000, Current=88.4635, Quantity=0.01000000, Contract Size=100000.00000000, PnL=1362.000000000000000000000000, PnL USD=9.161106328024106758501937150, Commission=0.10000000, Final PnL=9.061106328024106758501937150
2025-07-16 00:20:03,920 - DEBUG - app.services.portfolio_calculator - Position calculation for USDCHF: Type=SELL, Entry=0.81771000, Current=0.80077, Quantity=0.15000000, Contract Size=100000.00000000, PnL=254.100000000000000000000000, PnL USD=317.3790312507806450001249032, Commission=1.50000000, Final PnL=315.8790312507806450001249032
2025-07-16 00:20:03,920 - DEBUG - app.services.portfolio_calculator - Position calculation for USDCHF: Type=BUY, Entry=0.81805000, Current=0.80044, Quantity=0.15000000, Contract Size=100000.00000000, PnL=-264.150000000000000000000000, PnL USD=-329.9318028527890884564462542, Commission=1.50000000, Final PnL=-331.4318028527890884564462542
2025-07-16 00:20:03,921 - DEBUG - app.services.portfolio_calculator - Position calculation for USDNOK: Type=BUY, Entry=10.04973000, Current=10.25303, Quantity=0.10000000, Contract Size=100000.00000000, PnL=2033.000000000000000000000000, PnL USD=198.2725999555276411314704356, Commission=1.00000000, Final PnL=197.2725999555276411314704356
2025-07-16 00:20:03,922 - DEBUG - app.services.portfolio_calculator - Position calculation for USDNOK: Type=BUY, Entry=10.05023000, Current=10.25303, Quantity=0.10000000, Contract Size=100000.00000000, PnL=2028.000000000000000000000000, PnL USD=197.7849644416183257327211232, Commission=1.00000000, Final PnL=196.7849644416183257327211232
2025-07-16 00:20:03,923 - DEBUG - app.services.portfolio_calculator - Position calculation for USDSGD: Type=SELL, Entry=1.28795000, Current=1.2842300000000002, Quantity=0.31000000, Contract Size=100000.00000000, PnL=115.3199999999938000000000000, PnL USD=89.80748862998707245654476357, Commission=3.10000000, Final PnL=86.70748862998707245654476357
2025-07-16 00:20:03,923 - DEBUG - app.services.portfolio_calculator - Position calculation for USDTRY: Type=SELL, Entry=39.56087000, Current=40.257839999999995, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-6969.699999999950000000000000, PnL USD=-173.1271714795347174664020713, Commission=1.00000000, Final PnL=-174.1271714795347174664020713
2025-07-16 00:20:04,329 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:04,332 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:04,436 - DEBUG - app.firebase_stream - Firebase listener triggered (315). Event Type: patch, Path: /. Timestamp: 1752650404.4362226
2025-07-16 00:20:04,436 - DEBUG - app.firebase_stream - Prepared batch update for 34 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9290000000', 'o': '37.9230000000'}, 'NZDJPY': {'b': '88.4810000000', 'o': '88.4720000000'}, 'GBPAUD': {'b': '2.0541300000', 'o': '2.0540300000'}, 'BTCUSD': {'b': '118193.230000000
2025-07-16 00:20:04,436 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9290000000', 'o': '37.9230000000'}, 'NZDJPY': {'b': '88.4810000000', 'o': '88.4720000000'}, 'GBPAUD': {'b': '2.0541300000', 'o': '2.0540300000'}, 'BTCUSD': {'b': '118193.230000000...
2025-07-16 00:20:04,436 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:20:04,734 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.89752000, Current=0.89493, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-2.590000000000000000000000, PnL USD=-1.889242260671665742712922709, Commission=0.10000000, Final PnL=-1.989242260671665742712922709
2025-07-16 00:20:04,776 - WARNING - app - User 12 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:20:04,786 - WARNING - app - User 13 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:20:05,334 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:05,338 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:06,353 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:06,357 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:06,788 - DEBUG - app.firebase_stream - Firebase listener triggered (316). Event Type: patch, Path: /. Timestamp: 1752650406.7887285
2025-07-16 00:20:06,788 - DEBUG - app.firebase_stream - Prepared batch update for 23 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4790000000', 'o': '88.4710000000'}, 'GBPAUD': {'b': '2.0540500000', 'o': '2.0539000000'}, 'BTCUSD': {'b': '118199.4700000000', 'o': '118199.4700000000'}, 'USDJPY': {'b': '148.6740
2025-07-16 00:20:06,789 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4790000000', 'o': '88.4710000000'}, 'GBPAUD': {'b': '2.0540500000', 'o': '2.0539000000'}, 'BTCUSD': {'b': '118199.4700000000', 'o': '118199.4700000000'}, 'USDJPY': {'b': '148.6740...
2025-07-16 00:20:06,789 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:20:07,364 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:07,366 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:08,378 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:08,382 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:08,999 - DEBUG - app.firebase_stream - Firebase listener triggered (317). Event Type: patch, Path: /. Timestamp: 1752650408.9995625
2025-07-16 00:20:09,000 - DEBUG - app.firebase_stream - Prepared batch update for 25 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9350000000', 'o': '37.9260000000'}, 'NZDJPY': {'b': '88.4830000000', 'o': '88.4740000000'}, 'GBPAUD': {'b': '2.0540500000', 'o': '2.0538900000'}, 'BTCUSD': {'b': '118223.800000000
2025-07-16 00:20:09,000 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9350000000', 'o': '37.9260000000'}, 'NZDJPY': {'b': '88.4830000000', 'o': '88.4740000000'}, 'GBPAUD': {'b': '2.0540500000', 'o': '2.0538900000'}, 'BTCUSD': {'b': '118223.800000000...
2025-07-16 00:20:09,000 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:20:09,408 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:09,414 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:10,429 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:10,433 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:11,397 - DEBUG - app.firebase_stream - Firebase listener triggered (318). Event Type: patch, Path: /. Timestamp: 1752650411.3973699
2025-07-16 00:20:11,397 - DEBUG - app.firebase_stream - Prepared batch update for 34 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0286000000', 'o': '13.0260000000'}, 'NZDJPY': {'b': '88.4840000000', 'o': '88.4760000000'}, 'GBPAUD': {'b': '2.0540500000', 'o': '2.0539000000'}, 'BTCUSD': {'b': '118118.600000000
2025-07-16 00:20:11,397 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0286000000', 'o': '13.0260000000'}, 'NZDJPY': {'b': '88.4840000000', 'o': '88.4760000000'}, 'GBPAUD': {'b': '2.0540500000', 'o': '2.0539000000'}, 'BTCUSD': {'b': '118118.600000000...
2025-07-16 00:20:11,397 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:20:11,435 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:11,436 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:12,450 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:12,453 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:13,462 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:13,464 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:13,658 - DEBUG - app.firebase_stream - Firebase listener triggered (319). Event Type: patch, Path: /. Timestamp: 1752650413.6582558
2025-07-16 00:20:13,658 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0285000000', 'o': '13.0259000000'}, 'NZDJPY': {'b': '88.4850000000', 'o': '88.4770000000'}, 'GBPAUD': {'b': '2.0540600000', 'o': '2.0539100000'}, 'BTCUSD': {'b': '118247.700000000
2025-07-16 00:20:13,658 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0285000000', 'o': '13.0259000000'}, 'NZDJPY': {'b': '88.4850000000', 'o': '88.4770000000'}, 'GBPAUD': {'b': '2.0540600000', 'o': '2.0539100000'}, 'BTCUSD': {'b': '118247.700000000...
2025-07-16 00:20:13,659 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:20:14,470 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:14,474 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:15,479 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:15,484 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:15,898 - DEBUG - app.firebase_stream - Firebase listener triggered (320). Event Type: patch, Path: /. Timestamp: 1752650415.898623
2025-07-16 00:20:15,898 - DEBUG - app.firebase_stream - Prepared batch update for 27 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9310000000', 'o': '37.9240000000'}, 'NZDJPY': {'b': '88.4840000000', 'o': '88.4770000000'}, 'GBPAUD': {'b': '2.0540300000', 'o': '2.0539000000'}, 'BTCUSD': {'b': '118239.170000000
2025-07-16 00:20:15,899 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9310000000', 'o': '37.9240000000'}, 'NZDJPY': {'b': '88.4840000000', 'o': '88.4770000000'}, 'GBPAUD': {'b': '2.0540300000', 'o': '2.0539000000'}, 'BTCUSD': {'b': '118239.170000000...
2025-07-16 00:20:15,899 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:20:16,503 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:16,506 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:17,511 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:17,513 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:18,166 - DEBUG - app.firebase_stream - Firebase listener triggered (321). Event Type: patch, Path: /. Timestamp: 1752650418.1664925
2025-07-16 00:20:18,166 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9290000000', 'o': '37.9230000000'}, 'NZDJPY': {'b': '88.4840000000', 'o': '88.4760000000'}, 'GBPAUD': {'b': '2.0540300000', 'o': '2.0538900000'}, 'BTCUSD': {'b': '118237.300000000
2025-07-16 00:20:18,167 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9290000000', 'o': '37.9230000000'}, 'NZDJPY': {'b': '88.4840000000', 'o': '88.4760000000'}, 'GBPAUD': {'b': '2.0540300000', 'o': '2.0538900000'}, 'BTCUSD': {'b': '118237.300000000...
2025-07-16 00:20:18,168 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:20:18,527 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:18,530 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:19,542 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:19,546 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:20,459 - DEBUG - app.firebase_stream - Firebase listener triggered (322). Event Type: patch, Path: /. Timestamp: 1752650420.459822
2025-07-16 00:20:20,460 - DEBUG - app.firebase_stream - Prepared batch update for 22 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4830000000', 'o': '88.4760000000'}, 'BTCUSD': {'b': '118242.3000000000', 'o': '118242.2000000000'}, 'USDJPY': {'b': '148.6790000000', 'o': '148.6750000000'}, 'EURNZD': {'b': '1.95
2025-07-16 00:20:20,460 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4830000000', 'o': '88.4760000000'}, 'BTCUSD': {'b': '118242.3000000000', 'o': '118242.2000000000'}, 'USDJPY': {'b': '148.6790000000', 'o': '148.6750000000'}, 'EURNZD': {'b': '1.95...
2025-07-16 00:20:20,460 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:20:20,552 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:20,553 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:21,557 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:21,560 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:22,573 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:22,576 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:22,774 - DEBUG - app.firebase_stream - Firebase listener triggered (323). Event Type: patch, Path: /. Timestamp: 1752650422.774078
2025-07-16 00:20:22,774 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9320000000', 'o': '37.9220000000'}, 'NZDJPY': {'b': '88.4840000000', 'o': '88.4750000000'}, 'GBPAUD': {'b': '2.0540300000', 'o': '2.0539200000'}, 'USDJPY': {'b': '148.6810000000',
2025-07-16 00:20:22,774 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9320000000', 'o': '37.9220000000'}, 'NZDJPY': {'b': '88.4840000000', 'o': '88.4750000000'}, 'GBPAUD': {'b': '2.0540300000', 'o': '2.0539200000'}, 'USDJPY': {'b': '148.6810000000',...
2025-07-16 00:20:22,775 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:20:23,579 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:23,584 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:24,600 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:24,604 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:25,120 - DEBUG - app.firebase_stream - Firebase listener triggered (324). Event Type: patch, Path: /. Timestamp: 1752650425.120416
2025-07-16 00:20:25,120 - DEBUG - app.firebase_stream - Prepared batch update for 35 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0289000000', 'o': '13.0263000000'}, 'NZDJPY': {'b': '88.4770000000', 'o': '88.4710000000'}, 'GBPAUD': {'b': '2.0541200000', 'o': '2.0539800000'}, 'BTCUSD': {'b': '118127.600000000
2025-07-16 00:20:25,121 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0289000000', 'o': '13.0263000000'}, 'NZDJPY': {'b': '88.4770000000', 'o': '88.4710000000'}, 'GBPAUD': {'b': '2.0541200000', 'o': '2.0539800000'}, 'BTCUSD': {'b': '118127.600000000...
2025-07-16 00:20:25,121 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:20:25,614 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:25,618 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:26,635 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:26,640 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:27,364 - DEBUG - app.firebase_stream - Firebase listener triggered (325). Event Type: patch, Path: /. Timestamp: 1752650427.3648632
2025-07-16 00:20:27,365 - DEBUG - app.firebase_stream - Prepared batch update for 25 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4750000000', 'o': '88.4670000000'}, 'GBPAUD': {'b': '2.0541500000', 'o': '2.0540000000'}, 'BTCUSD': {'b': '118242.3000000000', 'o': '118242.2000000000'}, 'USDJPY': {'b': '148.6810
2025-07-16 00:20:27,365 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4750000000', 'o': '88.4670000000'}, 'GBPAUD': {'b': '2.0541500000', 'o': '2.0540000000'}, 'BTCUSD': {'b': '118242.3000000000', 'o': '118242.2000000000'}, 'USDJPY': {'b': '148.6810...
2025-07-16 00:20:27,365 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:20:27,645 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:27,647 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:28,654 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:28,659 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:29,636 - DEBUG - app.firebase_stream - Firebase listener triggered (326). Event Type: patch, Path: /. Timestamp: 1752650429.6367302
2025-07-16 00:20:29,636 - DEBUG - app.firebase_stream - Prepared batch update for 23 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0288000000', 'o': '13.0262000000'}, 'NZDJPY': {'b': '88.4760000000', 'o': '88.4670000000'}, 'GBPAUD': {'b': '2.0541400000', 'o': '2.0539900000'}, 'USDJPY': {'b': '148.6760000000',
2025-07-16 00:20:29,637 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0288000000', 'o': '13.0262000000'}, 'NZDJPY': {'b': '88.4760000000', 'o': '88.4670000000'}, 'GBPAUD': {'b': '2.0541400000', 'o': '2.0539900000'}, 'USDJPY': {'b': '148.6760000000',...
2025-07-16 00:20:29,637 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:20:29,661 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:29,662 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:30,676 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:30,679 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:31,690 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:31,692 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:31,991 - DEBUG - app.firebase_stream - Firebase listener triggered (327). Event Type: patch, Path: /. Timestamp: 1752650431.9918478
2025-07-16 00:20:31,992 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9340000000', 'o': '37.9250000000'}, 'NZDJPY': {'b': '88.4840000000', 'o': '88.4750000000'}, 'GBPAUD': {'b': '2.0540300000', 'o': '2.0538700000'}, 'USDJPY': {'b': '148.6800000000',
2025-07-16 00:20:31,992 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9340000000', 'o': '37.9250000000'}, 'NZDJPY': {'b': '88.4840000000', 'o': '88.4750000000'}, 'GBPAUD': {'b': '2.0540300000', 'o': '2.0538700000'}, 'USDJPY': {'b': '148.6800000000',...
2025-07-16 00:20:31,992 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:20:32,708 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:32,711 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:33,726 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:33,732 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:34,335 - DEBUG - app.firebase_stream - Firebase listener triggered (328). Event Type: patch, Path: /. Timestamp: 1752650434.3359494
2025-07-16 00:20:34,336 - DEBUG - app.firebase_stream - Prepared batch update for 27 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0285000000', 'o': '13.0259000000'}, 'XAGUSD': {'b': '37.9260000000', 'o': '37.9220000000'}, 'NZDJPY': {'b': '88.4760000000', 'o': '88.4670000000'}, 'GBPAUD': {'b': '2.0541300000',
2025-07-16 00:20:34,336 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0285000000', 'o': '13.0259000000'}, 'XAGUSD': {'b': '37.9260000000', 'o': '37.9220000000'}, 'NZDJPY': {'b': '88.4760000000', 'o': '88.4670000000'}, 'GBPAUD': {'b': '2.0541300000',...
2025-07-16 00:20:34,336 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:20:34,747 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:34,750 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:35,766 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:35,770 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:36,586 - DEBUG - app.firebase_stream - Firebase listener triggered (329). Event Type: patch, Path: /. Timestamp: 1752650436.5863476
2025-07-16 00:20:36,586 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9290000000', 'o': '37.9230000000'}, 'NZDJPY': {'b': '88.4810000000', 'o': '88.4720000000'}, 'GBPAUD': {'b': '2.0541400000', 'o': '2.0540000000'}, 'USDJPY': {'b': '148.6820000000',
2025-07-16 00:20:36,586 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9290000000', 'o': '37.9230000000'}, 'NZDJPY': {'b': '88.4810000000', 'o': '88.4720000000'}, 'GBPAUD': {'b': '2.0541400000', 'o': '2.0540000000'}, 'USDJPY': {'b': '148.6820000000',...
2025-07-16 00:20:36,586 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:20:36,783 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:36,786 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:37,788 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:37,792 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:38,806 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:38,808 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:38,947 - DEBUG - app.firebase_stream - Firebase listener triggered (330). Event Type: patch, Path: /. Timestamp: 1752650438.9473696
2025-07-16 00:20:38,947 - DEBUG - app.firebase_stream - Prepared batch update for 36 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0289000000', 'o': '13.0263000000'}, 'XAGUSD': {'b': '37.9260000000', 'o': '37.9210000000'}, 'NZDJPY': {'b': '88.4750000000', 'o': '88.4670000000'}, 'USDJPY': {'b': '148.6840000000
2025-07-16 00:20:38,947 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0289000000', 'o': '13.0263000000'}, 'XAGUSD': {'b': '37.9260000000', 'o': '37.9210000000'}, 'NZDJPY': {'b': '88.4750000000', 'o': '88.4670000000'}, 'USDJPY': {'b': '148.6840000000...
2025-07-16 00:20:38,947 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:20:39,824 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:39,827 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:40,834 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:40,836 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:41,173 - DEBUG - app.firebase_stream - Firebase listener triggered (331). Event Type: patch, Path: /. Timestamp: 1752650441.1736476
2025-07-16 00:20:41,173 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9290000000', 'o': '37.9230000000'}, 'NZDJPY': {'b': '88.4760000000', 'o': '88.4680000000'}, 'GBPAUD': {'b': '2.0541300000', 'o': '2.0539800000'}, 'BTCUSD': {'b': '118237.300000000
2025-07-16 00:20:41,174 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9290000000', 'o': '37.9230000000'}, 'NZDJPY': {'b': '88.4760000000', 'o': '88.4680000000'}, 'GBPAUD': {'b': '2.0541300000', 'o': '2.0539800000'}, 'BTCUSD': {'b': '118237.300000000...
2025-07-16 00:20:41,174 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:20:41,846 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:41,849 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:42,860 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:42,863 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:43,548 - DEBUG - app.firebase_stream - Firebase listener triggered (332). Event Type: patch, Path: /. Timestamp: 1752650443.5488226
2025-07-16 00:20:43,549 - DEBUG - app.firebase_stream - Prepared batch update for 25 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9260000000', 'o': '37.9230000000'}, 'NZDJPY': {'b': '88.4740000000', 'o': '88.4680000000'}, 'GBPAUD': {'b': '2.0541400000', 'o': '2.0540000000'}, 'USDCNH': {'b': '7.1814200000', '
2025-07-16 00:20:43,549 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9260000000', 'o': '37.9230000000'}, 'NZDJPY': {'b': '88.4740000000', 'o': '88.4680000000'}, 'GBPAUD': {'b': '2.0541400000', 'o': '2.0540000000'}, 'USDCNH': {'b': '7.1814200000', '...
2025-07-16 00:20:43,549 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:20:43,864 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:43,867 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:44,882 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:44,886 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:45,804 - DEBUG - app.firebase_stream - Firebase listener triggered (333). Event Type: patch, Path: /. Timestamp: 1752650445.8041759
2025-07-16 00:20:45,804 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0291000000', 'o': '13.0265000000'}, 'XAGUSD': {'b': '37.9260000000', 'o': '37.9240000000'}, 'NZDJPY': {'b': '88.4760000000', 'o': '88.4710000000'}, 'GBPAUD': {'b': '2.0541100000',
2025-07-16 00:20:45,804 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0291000000', 'o': '13.0265000000'}, 'XAGUSD': {'b': '37.9260000000', 'o': '37.9240000000'}, 'NZDJPY': {'b': '88.4760000000', 'o': '88.4710000000'}, 'GBPAUD': {'b': '2.0541100000',...
2025-07-16 00:20:45,804 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:20:45,890 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:45,893 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:46,900 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:46,903 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:47,908 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:47,910 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:48,117 - DEBUG - app.firebase_stream - Firebase listener triggered (334). Event Type: patch, Path: /. Timestamp: 1752650448.1171887
2025-07-16 00:20:48,117 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0289000000', 'o': '13.0263000000'}, 'XAGUSD': {'b': '37.9260000000', 'o': '37.9230000000'}, 'NZDJPY': {'b': '88.4850000000', 'o': '88.4770000000'}, 'GBPAUD': {'b': '2.0541100000',
2025-07-16 00:20:48,117 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0289000000', 'o': '13.0263000000'}, 'XAGUSD': {'b': '37.9260000000', 'o': '37.9230000000'}, 'NZDJPY': {'b': '88.4850000000', 'o': '88.4770000000'}, 'GBPAUD': {'b': '2.0541100000',...
2025-07-16 00:20:48,117 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:20:48,915 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:48,918 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:49,927 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:49,931 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:50,414 - DEBUG - app.firebase_stream - Firebase listener triggered (335). Event Type: patch, Path: /. Timestamp: 1752650450.4147987
2025-07-16 00:20:50,415 - DEBUG - app.firebase_stream - Prepared batch update for 25 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0285100000', 'o': '13.0260000000'}, 'XAGUSD': {'b': '37.9260000000', 'o': '37.9220000000'}, 'NZDJPY': {'b': '88.4770000000', 'o': '88.4700000000'}, 'GBPAUD': {'b': '2.0540300000',
2025-07-16 00:20:50,415 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0285100000', 'o': '13.0260000000'}, 'XAGUSD': {'b': '37.9260000000', 'o': '37.9220000000'}, 'NZDJPY': {'b': '88.4770000000', 'o': '88.4700000000'}, 'GBPAUD': {'b': '2.0540300000',...
2025-07-16 00:20:50,415 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:20:50,935 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:50,938 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:51,954 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:51,957 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:52,772 - DEBUG - app.firebase_stream - Firebase listener triggered (336). Event Type: patch, Path: /. Timestamp: 1752650452.7722387
2025-07-16 00:20:52,772 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0287000000', 'o': '13.0261000000'}, 'XAGUSD': {'b': '37.9290000000', 'o': '37.9230000000'}, 'NZDJPY': {'b': '88.4710000000', 'o': '88.4680000000'}, 'GBPAUD': {'b': '2.0540200000',
2025-07-16 00:20:52,772 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0287000000', 'o': '13.0261000000'}, 'XAGUSD': {'b': '37.9290000000', 'o': '37.9230000000'}, 'NZDJPY': {'b': '88.4710000000', 'o': '88.4680000000'}, 'GBPAUD': {'b': '2.0540200000',...
2025-07-16 00:20:52,773 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:20:52,960 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:52,963 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:53,976 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:53,978 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:54,992 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:54,995 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:55,019 - DEBUG - app.firebase_stream - Firebase listener triggered (337). Event Type: patch, Path: /. Timestamp: 1752650455.0192199
2025-07-16 00:20:55,019 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9230000000', 'o': '37.9170000000'}, 'NZDJPY': {'b': '88.4710000000', 'o': '88.4660000000'}, 'GBPAUD': {'b': '2.0541400000', 'o': '2.0539500000'}, 'USDJPY': {'b': '148.6900000000',
2025-07-16 00:20:55,019 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9230000000', 'o': '37.9170000000'}, 'NZDJPY': {'b': '88.4710000000', 'o': '88.4660000000'}, 'GBPAUD': {'b': '2.0541400000', 'o': '2.0539500000'}, 'USDJPY': {'b': '148.6900000000',...
2025-07-16 00:20:55,020 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:20:56,005 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:56,009 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:57,013 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:57,017 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:57,289 - DEBUG - app.firebase_stream - Firebase listener triggered (338). Event Type: patch, Path: /. Timestamp: 1752650457.2892468
2025-07-16 00:20:57,289 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0290000000', 'o': '13.0264700000'}, 'XAGUSD': {'b': '37.9230000000', 'o': '37.9180000000'}, 'NZDJPY': {'b': '88.4790000000', 'o': '88.4720000000'}, 'GBPAUD': {'b': '2.0541600000',
2025-07-16 00:20:57,289 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0290000000', 'o': '13.0264700000'}, 'XAGUSD': {'b': '37.9230000000', 'o': '37.9180000000'}, 'NZDJPY': {'b': '88.4790000000', 'o': '88.4720000000'}, 'GBPAUD': {'b': '2.0541600000',...
2025-07-16 00:20:57,290 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:20:58,020 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:58,022 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:59,024 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:20:59,027 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:20:59,581 - DEBUG - app.firebase_stream - Firebase listener triggered (339). Event Type: patch, Path: /. Timestamp: 1752650459.5811267
2025-07-16 00:20:59,581 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0289000000', 'o': '13.0263000000'}, 'NZDJPY': {'b': '88.4710000000', 'o': '88.4650000000'}, 'GBPAUD': {'b': '2.0541600000', 'o': '2.0539800000'}, 'USDJPY': {'b': '148.6890000000',
2025-07-16 00:20:59,581 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0289000000', 'o': '13.0263000000'}, 'NZDJPY': {'b': '88.4710000000', 'o': '88.4650000000'}, 'GBPAUD': {'b': '2.0541600000', 'o': '2.0539800000'}, 'USDJPY': {'b': '148.6890000000',...
2025-07-16 00:20:59,581 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:21:00,036 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:21:00,040 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:21:01,045 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:21:01,048 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:21:01,879 - DEBUG - app.firebase_stream - Firebase listener triggered (340). Event Type: patch, Path: /. Timestamp: 1752650461.8798447
2025-07-16 00:21:01,880 - DEBUG - app.firebase_stream - Prepared batch update for 27 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0290000000', 'o': '13.0264700000'}, 'XAGUSD': {'b': '37.9200000000', 'o': '37.9150000000'}, 'NZDJPY': {'b': '88.4710000000', 'o': '88.4640000000'}, 'GBPAUD': {'b': '2.0541600000',
2025-07-16 00:21:01,880 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0290000000', 'o': '13.0264700000'}, 'XAGUSD': {'b': '37.9200000000', 'o': '37.9150000000'}, 'NZDJPY': {'b': '88.4710000000', 'o': '88.4640000000'}, 'GBPAUD': {'b': '2.0541600000',...
2025-07-16 00:21:01,880 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:21:02,049 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:21:02,051 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:21:02,132 - WARNING - app - User 4 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:21:02,135 - WARNING - app - No user data found for user 5 (live). Skipping portfolio update.
2025-07-16 00:21:02,137 - WARNING - app - No group settings found for group string. Skipping portfolio update for user 8.
2025-07-16 00:21:02,149 - WARNING - app - User 9 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:21:02,160 - WARNING - app - User 10 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:21:02,171 - WARNING - app - User 11 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:21:02,183 - WARNING - app - User 12 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:21:02,194 - WARNING - app - User 13 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:21:02,502 - DEBUG - app.services.portfolio_calculator - Position calculation for BTCUSD: Type=BUY, Entry=118908.50000000, Current=118187.2, Quantity=0.40000000, Contract Size=1.00000000, PnL=-288.520000000000000000000000, PnL USD=-288.520000000000000000000000, Commission=235.57000000, Final PnL=-524.090000000000000000000000
2025-07-16 00:21:02,503 - WARNING - app.services.portfolio_calculator - MARGIN CALL ALERT: User has margin level 99.52455392439346134294413615% which is below threshold 100.0%
2025-07-16 00:21:02,520 - WARNING - app - User 16 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:21:02,533 - WARNING - app - User 17 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:21:02,545 - WARNING - app - User 18 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:21:02,555 - WARNING - app - User 19 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:21:02,566 - WARNING - app - User 20 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:21:02,576 - WARNING - app - User 21 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:21:02,587 - WARNING - app - User 22 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:21:02,597 - WARNING - app - User 23 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:21:02,607 - WARNING - app - User 24 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:21:02,618 - WARNING - app - User 25 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:21:02,921 - DEBUG - app.services.portfolio_calculator - Position calculation for XAGUSD: Type=BUY, Entry=41.09800000, Current=37.902499999999996, Quantity=0.01000000, Contract Size=5000.00000000, PnL=-159.7750000000002000000000000, PnL USD=-159.7750000000002000000000000, Commission=0.10000000, Final PnL=-159.8750000000002000000000000
2025-07-16 00:21:02,921 - DEBUG - app.services.portfolio_calculator - Position calculation for BTCUSD: Type=BUY, Entry=132091.90000000, Current=118187.2, Quantity=6.00000000, Contract Size=1.00000000, PnL=-83428.20000000000000000000000, PnL USD=-83428.20000000000000000000000, Commission=3661.62000000, Final PnL=-87089.82000000000000000000000
2025-07-16 00:21:02,921 - WARNING - app.services.portfolio_calculator - MARGIN CALL ALERT: User has margin level 66.28423818579539510229309633% which is below threshold 100.0%
2025-07-16 00:21:03,233 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:21:03,234 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=96.66800000, Current=97.003, Quantity=0.01000000, Contract Size=100000.00000000, PnL=335.000000000000000000000000, PnL USD=2.253009617324635146950030264, Commission=0.10000000, Final PnL=2.153009617324635146950030264
2025-07-16 00:21:03,234 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=96.56000000, Current=97.109, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-549.000000000000000000000000, PnL USD=-3.692245611675297599031542135, Commission=0.10000000, Final PnL=-3.792245611675297599031542135
2025-07-16 00:21:03,235 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:21:03,236 - WARNING - app - User 2 has no group_name set. Skipping portfolio update.
2025-07-16 00:21:03,240 - WARNING - app - No group settings found for group string. Skipping portfolio update for user 3.
2025-07-16 00:21:03,252 - WARNING - app - User 4 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:21:03,253 - WARNING - app - User 5 has no group_name set. Skipping portfolio update.
2025-07-16 00:21:03,253 - WARNING - app - User 6 has no group_name set. Skipping portfolio update.
2025-07-16 00:21:03,559 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64743000, Current=0.6526000000000001, Quantity=0.10000000, Contract Size=100000.00000000, PnL=51.70000000000100000000000000, PnL USD=51.70000000000100000000000000, Commission=1.00000000, Final PnL=50.70000000000100000000000000
2025-07-16 00:21:03,559 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=SELL, Entry=0.64707000, Current=0.65291, Quantity=0.22000000, Contract Size=100000.00000000, PnL=-128.480000000000000000000000, PnL USD=-128.480000000000000000000000, Commission=2.20000000, Final PnL=-130.680000000000000000000000
2025-07-16 00:21:03,560 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFSGD: Type=BUY, Entry=1.57561500, Current=1.603475, Quantity=0.10000000, Contract Size=100000.00000000, PnL=278.600000000000000000000000, PnL USD=216.9629854605206800146407183, Commission=1.00000000, Final PnL=215.9629854605206800146407183
2025-07-16 00:21:03,560 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFSGD: Type=SELL, Entry=1.57505500, Current=1.603915, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-288.600000000000000000000000, PnL USD=-224.7506015933462607761138238, Commission=1.00000000, Final PnL=-225.7506015933462607761138238
2025-07-16 00:21:03,561 - DEBUG - app.services.portfolio_calculator - Position calculation for CADJPY: Type=SELL, Entry=106.24150000, Current=108.4615, Quantity=0.15000000, Contract Size=100000.00000000, PnL=-33300.00000000000000000000000, PnL USD=-223.9558813639114937117492770, Commission=0E-8, Final PnL=-223.9558813639114937117492770
2025-07-16 00:21:03,561 - DEBUG - app.services.portfolio_calculator - Position calculation for CADJPY: Type=BUY, Entry=106.27050000, Current=108.4315, Quantity=0.15000000, Contract Size=100000.00000000, PnL=32415.00000000000000000000000, PnL USD=218.0039007330688008608514359, Commission=0E-8, Final PnL=218.0039007330688008608514359
2025-07-16 00:21:03,562 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=BUY, Entry=1.77481000, Current=1.7809, Quantity=0.22000000, Contract Size=100000.00000000, PnL=133.980000000000000000000000, PnL USD=87.45678480000000000000000000, Commission=2.20000000, Final PnL=85.25678480000000000000000000
2025-07-16 00:21:03,562 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=SELL, Entry=1.77439000, Current=1.7813, Quantity=0.21000000, Contract Size=100000.00000000, PnL=-145.110000000000000000000000, PnL USD=-94.72200360000000000000000000, Commission=2.10000000, Final PnL=-96.82200360000000000000000000
2025-07-16 00:21:03,562 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFJPY: Type=BUY, Entry=178.15500000, Current=185.675, Quantity=0.10000000, Contract Size=100000.00000000, PnL=75200.00000000000000000000000, PnL USD=505.7502185755598897034097787, Commission=1.00000000, Final PnL=504.7502185755598897034097787
2025-07-16 00:21:03,562 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFJPY: Type=SELL, Entry=178.09500000, Current=185.71499999999997, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-76199.99999999970000000000000, PnL USD=-512.4756204183179769991256978, Commission=1.00000000, Final PnL=-513.4756204183179769991256978
2025-07-16 00:21:03,562 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=BUY, Entry=1.77480000, Current=1.7809, Quantity=0.05000000, Contract Size=100000.00000000, PnL=30.500000000000000000000000, PnL USD=19.90918000000000000000000000, Commission=0.50000000, Final PnL=19.40918000000000000000000000
2025-07-16 00:21:03,563 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=SELL, Entry=1.77442000, Current=1.7813, Quantity=0.05000000, Contract Size=100000.00000000, PnL=-34.400000000000000000000000, PnL USD=-22.45494400000000000000000000, Commission=0.50000000, Final PnL=-22.95494400000000000000000000
2025-07-16 00:21:03,563 - DEBUG - app.services.portfolio_calculator - Position calculation for EURGBP: Type=SELL, Entry=0.85403000, Current=0.8672799999999999, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-132.4999999999990000000000000, PnL USD=-177.6559999999986592000000000, Commission=1.00000000, Final PnL=-178.6559999999986592000000000
2025-07-16 00:21:03,563 - DEBUG - app.services.portfolio_calculator - Position calculation for EURJPY: Type=BUY, Entry=167.26050000, Current=172.85150000000002, Quantity=0.10000000, Contract Size=100000.00000000, PnL=55910.00000000020000000000000, PnL USD=376.0172170287188109489542000, Commission=1.00000000, Final PnL=375.0172170287188109489542000
2025-07-16 00:21:03,564 - DEBUG - app.services.portfolio_calculator - Position calculation for EURJPY: Type=SELL, Entry=167.23150000, Current=172.8815, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-56500.00000000000000000000000, PnL USD=-379.9852041159459277691842088, Commission=1.00000000, Final PnL=-380.9852041159459277691842088
2025-07-16 00:21:03,564 - DEBUG - app.services.portfolio_calculator - Position calculation for EURNZD: Type=SELL, Entry=1.91952500, Current=1.9542249999999999, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-346.9999999999990000000000000, PnL USD=-206.4649999999994050000000000, Commission=1.00000000, Final PnL=-207.4649999999994050000000000
2025-07-16 00:21:03,564 - DEBUG - app.services.portfolio_calculator - Position calculation for EURNZD: Type=BUY, Entry=1.92063500, Current=1.953805, Quantity=0.10000000, Contract Size=100000.00000000, PnL=331.700000000000000000000000, PnL USD=197.3615000000000000000000000, Commission=1.00000000, Final PnL=196.3615000000000000000000000
2025-07-16 00:21:03,564 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=SELL, Entry=1.34376000, Current=1.3409, Quantity=0.25000000, Contract Size=0E-8, PnL=0E-24, PnL USD=0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:21:03,564 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=SELL, Entry=1.34361000, Current=1.3409, Quantity=0.25000000, Contract Size=0E-8, PnL=0E-24, PnL USD=0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:21:03,564 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=BUY, Entry=1.34379000, Current=1.34069, Quantity=0.25000000, Contract Size=0E-8, PnL=-0E-24, PnL USD=-0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:21:03,564 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=BUY, Entry=1.34378000, Current=1.34069, Quantity=0.25000000, Contract Size=0E-8, PnL=-0E-24, PnL USD=-0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:21:03,565 - DEBUG - app.services.portfolio_calculator - Position calculation for NZDJPY: Type=BUY, Entry=87.10150000, Current=88.4515, Quantity=0.01000000, Contract Size=100000.00000000, PnL=1350.000000000000000000000000, PnL USD=9.079292487726141636962808528, Commission=0.10000000, Final PnL=8.979292487726141636962808528
2025-07-16 00:21:03,565 - DEBUG - app.services.portfolio_calculator - Position calculation for USDCHF: Type=SELL, Entry=0.81771000, Current=0.80085, Quantity=0.15000000, Contract Size=100000.00000000, PnL=252.900000000000000000000000, PnL USD=315.8486324466092169351817160, Commission=1.50000000, Final PnL=314.3486324466092169351817160
2025-07-16 00:21:03,565 - DEBUG - app.services.portfolio_calculator - Position calculation for USDCHF: Type=BUY, Entry=0.81805000, Current=0.80054, Quantity=0.15000000, Contract Size=100000.00000000, PnL=-262.650000000000000000000000, PnL USD=-328.0254777070063694267515924, Commission=1.50000000, Final PnL=-329.5254777070063694267515924
2025-07-16 00:21:03,566 - DEBUG - app.services.portfolio_calculator - Position calculation for USDNOK: Type=BUY, Entry=10.04973000, Current=10.254520000000001, Quantity=0.10000000, Contract Size=100000.00000000, PnL=2047.900000000010000000000000, PnL USD=199.6891405927010445188114796, Commission=1.00000000, Final PnL=198.6891405927010445188114796
2025-07-16 00:21:03,566 - DEBUG - app.services.portfolio_calculator - Position calculation for USDNOK: Type=BUY, Entry=10.05023000, Current=10.254520000000001, Quantity=0.10000000, Contract Size=100000.00000000, PnL=2042.900000000010000000000000, PnL USD=199.2015944708379162668788467, Commission=1.00000000, Final PnL=198.2015944708379162668788467
2025-07-16 00:21:03,566 - DEBUG - app.services.portfolio_calculator - Position calculation for USDSGD: Type=SELL, Entry=1.28795000, Current=1.28424, Quantity=0.31000000, Contract Size=100000.00000000, PnL=115.010000000000000000000000, PnL USD=89.56537314362700433770218598, Commission=3.10000000, Final PnL=86.46537314362700433770218598
2025-07-16 00:21:03,566 - DEBUG - app.services.portfolio_calculator - Position calculation for USDTRY: Type=SELL, Entry=39.56087000, Current=40.257529999999996, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-6966.599999999960000000000000, PnL USD=-173.0515001224610245376127309, Commission=1.00000000, Final PnL=-174.0515001224610245376127309
2025-07-16 00:21:04,191 - DEBUG - app.firebase_stream - Firebase listener triggered (341). Event Type: patch, Path: /. Timestamp: 1752650464.1914096
2025-07-16 00:21:04,191 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9150000000', 'o': '37.9110000000'}, 'NZDJPY': {'b': '88.4670000000', 'o': '88.4600000000'}, 'GBPAUD': {'b': '2.0541400000', 'o': '2.0540000000'}, 'BTCUSD': {'b': '118242.300000000
2025-07-16 00:21:04,191 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9150000000', 'o': '37.9110000000'}, 'NZDJPY': {'b': '88.4670000000', 'o': '88.4600000000'}, 'GBPAUD': {'b': '2.0541400000', 'o': '2.0540000000'}, 'BTCUSD': {'b': '118242.300000000...
2025-07-16 00:21:04,191 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:21:05,251 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.89752000, Current=0.89496, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-2.560000000000000000000000, PnL USD=-1.867318282942485138042962909, Commission=0.10000000, Final PnL=-1.967318282942485138042962909
2025-07-16 00:21:05,252 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:21:05,256 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:21:05,291 - WARNING - app - User 12 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:21:05,301 - WARNING - app - User 13 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:21:06,270 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:21:06,273 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:21:06,599 - DEBUG - app.firebase_stream - Firebase listener triggered (342). Event Type: patch, Path: /. Timestamp: 1752650466.5992947
2025-07-16 00:21:06,599 - DEBUG - app.firebase_stream - Prepared batch update for 30 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0285000000', 'o': '13.0259000000'}, 'XAGUSD': {'b': '37.9150000000', 'o': '37.9090000000'}, 'NZDJPY': {'b': '88.4680000000', 'o': '88.4600000000'}, 'BTCUSD': {'b': '118237.3000000
2025-07-16 00:21:06,600 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0285000000', 'o': '13.0259000000'}, 'XAGUSD': {'b': '37.9150000000', 'o': '37.9090000000'}, 'NZDJPY': {'b': '88.4680000000', 'o': '88.4600000000'}, 'BTCUSD': {'b': '118237.3000000...
2025-07-16 00:21:06,600 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:21:07,278 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:21:07,280 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:21:08,285 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:21:08,291 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:21:08,845 - DEBUG - app.firebase_stream - Firebase listener triggered (343). Event Type: patch, Path: /. Timestamp: 1752650468.845776
2025-07-16 00:21:08,846 - DEBUG - app.firebase_stream - Prepared batch update for 26 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0290000000', 'o': '13.0264300000'}, 'NZDJPY': {'b': '88.4650000000', 'o': '88.4600000000'}, 'GBPAUD': {'b': '2.0541400000', 'o': '2.0540200000'}, 'USDJPY': {'b': '148.6860000000',
2025-07-16 00:21:08,846 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0290000000', 'o': '13.0264300000'}, 'NZDJPY': {'b': '88.4650000000', 'o': '88.4600000000'}, 'GBPAUD': {'b': '2.0541400000', 'o': '2.0540200000'}, 'USDJPY': {'b': '148.6860000000',...
2025-07-16 00:21:08,846 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:21:09,295 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:21:09,297 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:21:10,299 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:21:10,302 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:21:11,092 - DEBUG - app.firebase_stream - Firebase listener triggered (344). Event Type: patch, Path: /. Timestamp: 1752650471.092885
2025-07-16 00:21:11,093 - DEBUG - app.firebase_stream - Prepared batch update for 30 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0286000000', 'o': '13.0260000000'}, 'NZDJPY': {'b': '88.4660000000', 'o': '88.4590000000'}, 'GBPAUD': {'b': '2.0541300000', 'o': '2.0539900000'}, 'BTCUSD': {'b': '118242.300000000
2025-07-16 00:21:11,093 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0286000000', 'o': '13.0260000000'}, 'NZDJPY': {'b': '88.4660000000', 'o': '88.4590000000'}, 'GBPAUD': {'b': '2.0541300000', 'o': '2.0539900000'}, 'BTCUSD': {'b': '118242.300000000...
2025-07-16 00:21:11,093 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:21:11,317 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:21:11,319 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:21:12,322 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:21:12,325 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:21:13,341 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:21:13,343 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:21:13,457 - DEBUG - app.firebase_stream - Firebase listener triggered (345). Event Type: patch, Path: /. Timestamp: 1752650473.4577012
2025-07-16 00:21:13,458 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0286000000', 'o': '13.0260600000'}, 'NZDJPY': {'b': '88.4660000000', 'o': '88.4580000000'}, 'GBPAUD': {'b': '2.0541900000', 'o': '2.0540200000'}, 'BTCUSD': {'b': '118237.300000000
2025-07-16 00:21:13,458 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0286000000', 'o': '13.0260600000'}, 'NZDJPY': {'b': '88.4660000000', 'o': '88.4580000000'}, 'GBPAUD': {'b': '2.0541900000', 'o': '2.0540200000'}, 'BTCUSD': {'b': '118237.300000000...
2025-07-16 00:21:13,458 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:21:14,358 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:21:14,360 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:21:15,377 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:21:15,379 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:21:15,700 - DEBUG - app.firebase_stream - Firebase listener triggered (346). Event Type: patch, Path: /. Timestamp: 1752650475.7006006
2025-07-16 00:21:15,700 - DEBUG - app.firebase_stream - Prepared batch update for 20 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0289000000', 'o': '13.0263000000'}, 'XAGUSD': {'b': '37.9260000000', 'o': '37.9220000000'}, 'NZDJPY': {'b': '88.4650000000', 'o': '88.4590000000'}, 'GBPAUD': {'b': '2.0541400000',
2025-07-16 00:21:15,701 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0289000000', 'o': '13.0263000000'}, 'XAGUSD': {'b': '37.9260000000', 'o': '37.9220000000'}, 'NZDJPY': {'b': '88.4650000000', 'o': '88.4590000000'}, 'GBPAUD': {'b': '2.0541400000',...
2025-07-16 00:21:15,701 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:21:16,393 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:21:16,395 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:21:17,402 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:21:17,404 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:21:17,961 - DEBUG - app.firebase_stream - Firebase listener triggered (347). Event Type: patch, Path: /. Timestamp: 1752650477.9615283
2025-07-16 00:21:17,961 - DEBUG - app.firebase_stream - Prepared batch update for 24 symbols from root path for queue. Preview: {'GBPAUD': {'b': '2.0542000000', 'o': '2.0540200000'}, 'USDJPY': {'b': '148.6850000000', 'o': '148.6790000000'}, 'EURNZD': {'b': '1.9542200000', 'o': '1.9540400000'}, 'USDSGD': {'b': '1.2840900000', '
2025-07-16 00:21:17,963 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPAUD': {'b': '2.0542000000', 'o': '2.0540200000'}, 'USDJPY': {'b': '148.6850000000', 'o': '148.6790000000'}, 'EURNZD': {'b': '1.9542200000', 'o': '1.9540400000'}, 'USDSGD': {'b': '1.2840900000', '...
2025-07-16 00:21:17,964 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:21:18,410 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:21:18,413 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:21:19,422 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:21:19,425 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:21:20,253 - DEBUG - app.firebase_stream - Firebase listener triggered (348). Event Type: patch, Path: /. Timestamp: 1752650480.2532573
2025-07-16 00:21:20,253 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0280000000', 'o': '13.0263000000'}, 'XAGUSD': {'b': '37.9090000000', 'o': '37.9040000000'}, 'NZDJPY': {'b': '88.4650000000', 'o': '88.4600000000'}, 'GBPAUD': {'b': '2.0541700000',
2025-07-16 00:21:20,253 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0280000000', 'o': '13.0263000000'}, 'XAGUSD': {'b': '37.9090000000', 'o': '37.9040000000'}, 'NZDJPY': {'b': '88.4650000000', 'o': '88.4600000000'}, 'GBPAUD': {'b': '2.0541700000',...
2025-07-16 00:21:20,254 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:21:20,429 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:21:20,434 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:21:21,452 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:21:21,455 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:21:22,458 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:21:22,462 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:21:22,543 - DEBUG - app.firebase_stream - Firebase listener triggered (349). Event Type: patch, Path: /. Timestamp: 1752650482.5435815
2025-07-16 00:21:22,543 - DEBUG - app.firebase_stream - Prepared batch update for 23 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9130000000', 'o': '37.9070000000'}, 'NZDJPY': {'b': '88.4670000000', 'o': '88.4610000000'}, 'GBPAUD': {'b': '2.0541600000', 'o': '2.0540100000'}, 'USDJPY': {'b': '148.6870000000',
2025-07-16 00:21:22,543 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9130000000', 'o': '37.9070000000'}, 'NZDJPY': {'b': '88.4670000000', 'o': '88.4610000000'}, 'GBPAUD': {'b': '2.0541600000', 'o': '2.0540100000'}, 'USDJPY': {'b': '148.6870000000',...
2025-07-16 00:21:22,544 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:21:23,464 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:21:23,469 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:21:24,473 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:21:24,478 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:21:24,920 - DEBUG - app.firebase_stream - Firebase listener triggered (350). Event Type: patch, Path: /. Timestamp: 1752650484.9209087
2025-07-16 00:21:24,921 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0283000000', 'o': '13.0257000000'}, 'XAGUSD': {'b': '37.9120000000', 'o': '37.9070000000'}, 'NZDJPY': {'b': '88.4670000000', 'o': '88.4630000000'}, 'GBPAUD': {'b': '2.0540200000',
2025-07-16 00:21:24,921 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0283000000', 'o': '13.0257000000'}, 'XAGUSD': {'b': '37.9120000000', 'o': '37.9070000000'}, 'NZDJPY': {'b': '88.4670000000', 'o': '88.4630000000'}, 'GBPAUD': {'b': '2.0540200000',...
2025-07-16 00:21:24,921 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:21:25,485 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:21:25,489 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:21:26,492 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:21:26,494 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:21:27,179 - DEBUG - app.firebase_stream - Firebase listener triggered (351). Event Type: patch, Path: /. Timestamp: 1752650487.1795712
2025-07-16 00:21:27,179 - DEBUG - app.firebase_stream - Prepared batch update for 30 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0282000000', 'o': '13.0256000000'}, 'XAGUSD': {'b': '37.9100000000', 'o': '37.9060000000'}, 'NZDJPY': {'b': '88.4710000000', 'o': '88.4650000000'}, 'GBPAUD': {'b': '2.0540900000',
2025-07-16 00:21:27,180 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0282000000', 'o': '13.0256000000'}, 'XAGUSD': {'b': '37.9100000000', 'o': '37.9060000000'}, 'NZDJPY': {'b': '88.4710000000', 'o': '88.4650000000'}, 'GBPAUD': {'b': '2.0540900000',...
2025-07-16 00:21:27,180 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:21:27,498 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:21:27,502 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:21:28,516 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:21:28,520 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:21:29,525 - DEBUG - app.firebase_stream - Firebase listener triggered (352). Event Type: patch, Path: /. Timestamp: 1752650489.5251176
2025-07-16 00:21:29,525 - DEBUG - app.firebase_stream - Prepared batch update for 30 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0281000000', 'o': '13.0255000000'}, 'XAGUSD': {'b': '37.9090000000', 'o': '37.9060000000'}, 'GBPAUD': {'b': '2.0541100000', 'o': '2.0539700000'}, 'USDJPY': {'b': '148.6870000000',
2025-07-16 00:21:29,525 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:21:29,525 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0281000000', 'o': '13.0255000000'}, 'XAGUSD': {'b': '37.9090000000', 'o': '37.9060000000'}, 'GBPAUD': {'b': '2.0541100000', 'o': '2.0539700000'}, 'USDJPY': {'b': '148.6870000000',...
2025-07-16 00:21:29,526 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:21:29,527 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:21:30,537 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:21:30,540 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:21:31,546 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:21:31,550 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:21:31,887 - DEBUG - app.firebase_stream - Firebase listener triggered (353). Event Type: patch, Path: /. Timestamp: 1752650491.8873172
2025-07-16 00:21:31,887 - DEBUG - app.firebase_stream - Prepared batch update for 26 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0290000000', 'o': '13.0264700000'}, 'NZDJPY': {'b': '88.4690000000', 'o': '88.4640000000'}, 'GBPAUD': {'b': '2.0541100000', 'o': '2.0539900000'}, 'USDJPY': {'b': '148.6910000000',
2025-07-16 00:21:31,887 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0290000000', 'o': '13.0264700000'}, 'NZDJPY': {'b': '88.4690000000', 'o': '88.4640000000'}, 'GBPAUD': {'b': '2.0541100000', 'o': '2.0539900000'}, 'USDJPY': {'b': '148.6910000000',...
2025-07-16 00:21:31,887 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:21:32,562 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:21:32,566 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:21:33,573 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:21:33,574 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:21:34,086 - DEBUG - app.firebase_stream - Firebase listener triggered (354). Event Type: patch, Path: /. Timestamp: 1752650494.085977
2025-07-16 00:21:34,086 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0276000000', 'o': '13.0253300000'}, 'XAGUSD': {'b': '37.9090000000', 'o': '37.9040000000'}, 'NZDJPY': {'b': '88.4770000000', 'o': '88.4700000000'}, 'GBPAUD': {'b': '2.0540700000',
2025-07-16 00:21:34,086 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0276000000', 'o': '13.0253300000'}, 'XAGUSD': {'b': '37.9090000000', 'o': '37.9040000000'}, 'NZDJPY': {'b': '88.4770000000', 'o': '88.4700000000'}, 'GBPAUD': {'b': '2.0540700000',...
2025-07-16 00:21:34,086 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:21:34,581 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:21:34,584 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:21:35,597 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:21:35,601 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:21:36,221 - INFO - app - Application shutdown initiated
2025-07-16 00:21:36,221 - INFO - app - Scheduler shutdown completed
2025-07-16 00:21:36,399 - DEBUG - app.firebase_stream - Firebase listener triggered (355). Event Type: patch, Path: /. Timestamp: 1752650496.39961
2025-07-16 00:21:36,400 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0278000000', 'o': '13.0253300000'}, 'XAGUSD': {'b': '37.9090000000', 'o': '37.9060000000'}, 'NZDJPY': {'b': '88.4770000000', 'o': '88.4690000000'}, 'GBPAUD': {'b': '2.0540900000',
2025-07-16 00:21:36,400 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0278000000', 'o': '13.0253300000'}, 'XAGUSD': {'b': '37.9090000000', 'o': '37.9060000000'}, 'NZDJPY': {'b': '88.4770000000', 'o': '88.4690000000'}, 'GBPAUD': {'b': '2.0540900000',...
2025-07-16 00:21:36,400 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:21:36,547 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-07-16 00:21:38,737 - INFO - app.firebase_stream - Firebase listener closed.
2025-07-16 00:21:38,737 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-07-16 00:21:38,740 - INFO - app - Redis connection closed
2025-07-16 00:21:38,742 - INFO - app - Application shutdown completed
2025-07-16 00:22:10,980 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-07-16 00:22:11,019 - INFO - app.core.config - .env file loaded successfully.
2025-07-16 00:22:11,031 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-07-16 00:22:11,031 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-07-16 00:22:11,348 - INFO - app - Application starting up - Trading system initialized
2025-07-16 00:22:11,348 - INFO - app - SL/TP Epsilon accuracy configured: 0.00001
2025-07-16 00:22:11,348 - INFO - app - Environment: DEVELOPMENT
2025-07-16 00:22:11,397 - INFO - app - Application startup initiated
2025-07-16 00:22:11,397 - INFO - app - Initializing core services...
2025-07-16 00:22:11,431 - INFO - app - Firebase initialized
2025-07-16 00:22:11,431 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-07-16 00:22:13,487 - INFO - app - Redis initialized
2025-07-16 00:22:13,496 - INFO - app - [SWAP] daily_swap_charge_job triggered
2025-07-16 00:22:13,498 - INFO - app - Scheduler initialized
2025-07-16 00:22:13,500 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-07-16 00:22:13,500 - DEBUG - app.firebase_stream - Successfully got running event loop in process_firebase_events task.
2025-07-16 00:22:13,500 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-07-16 00:22:14,676 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-07-16 00:22:14,677 - INFO - app - Starting stale cache cleanup task
2025-07-16 00:22:14,686 - DEBUG - app.firebase_stream - Firebase listener triggered (1). Event Type: put, Path: /. Timestamp: 1752650534.6865804
2025-07-16 00:22:14,686 - DEBUG - app.firebase_stream - Prepared batch update for 48 symbols from root path for queue. Preview: {'AUDCAD': {'b': '0.8949000000', 'o': '0.8948800000'}, 'AUDCHF': {'b': '0.5226500000', 'o': '0.5226000000'}, 'AUDJPY': {'b': '97.0640000000', 'o': '97.0580000000'}, 'AUDNZD': {'b': '1.0000000000', 'o'
2025-07-16 00:22:14,687 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'AUDCAD': {'b': '0.8949000000', 'o': '0.8948800000'}, 'AUDCHF': {'b': '0.5226500000', 'o': '0.5226000000'}, 'AUDJPY': {'b': '97.0640000000', 'o': '97.0580000000'}, 'AUDNZD': {'b': '1.0000000000', 'o'...
2025-07-16 00:22:14,687 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type put at path /.
2025-07-16 00:22:15,607 - DEBUG - app.firebase_stream - Firebase listener triggered (2). Event Type: patch, Path: /. Timestamp: 1752650535.607941
2025-07-16 00:22:15,608 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0273000000', 'o': '13.0247000000'}, 'XAGUSD': {'b': '37.9110000000', 'o': '37.9050000000'}, 'NZDJPY': {'b': '88.4770000000', 'o': '88.4740000000'}, 'GBPAUD': {'b': '2.0541000000',
2025-07-16 00:22:15,608 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0273000000', 'o': '13.0247000000'}, 'XAGUSD': {'b': '37.9110000000', 'o': '37.9050000000'}, 'NZDJPY': {'b': '88.4770000000', 'o': '88.4740000000'}, 'GBPAUD': {'b': '2.0541000000',...
2025-07-16 00:22:15,608 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:22:17,967 - DEBUG - app.firebase_stream - Firebase listener triggered (3). Event Type: patch, Path: /. Timestamp: 1752650537.9676912
2025-07-16 00:22:17,967 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9120000000', 'o': '37.9070000000'}, 'NZDJPY': {'b': '88.4830000000', 'o': '88.4740000000'}, 'GBPAUD': {'b': '2.0540300000', 'o': '2.0539400000'}, 'BTCUSD': {'b': '118248.720000000
2025-07-16 00:22:17,968 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'XAGUSD': {'b': '37.9120000000', 'o': '37.9070000000'}, 'NZDJPY': {'b': '88.4830000000', 'o': '88.4740000000'}, 'GBPAUD': {'b': '2.0540300000', 'o': '2.0539400000'}, 'BTCUSD': {'b': '118248.720000000...
2025-07-16 00:22:17,968 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:22:18,775 - INFO - app - Cleaned up pending order stream for new trigger price format
2025-07-16 00:22:18,775 - INFO - app - Background tasks initialized
2025-07-16 00:22:19,373 - INFO - app - Service account JWT for 'barclays_service_provider' was generated and pushed to Firebase.
2025-07-16 00:22:19,373 - INFO - app - Application startup completed successfully
2025-07-16 00:22:19,373 - INFO - app - Starting cache validation task
2025-07-16 00:22:19,376 - INFO - app - Starting Barclays pending order margin checker task.
2025-07-16 00:22:19,377 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:22:19,379 - INFO - app - Starting auto-cutoff order monitoring task.
2025-07-16 00:22:19,392 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:22:19,398 - INFO - app - Validating cache for 31 users
2025-07-16 00:22:20,173 - DEBUG - app.firebase_stream - Firebase listener triggered (4). Event Type: patch, Path: /. Timestamp: 1752650540.1730268
2025-07-16 00:22:20,173 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0272000000', 'o': '13.0246000000'}, 'XAGUSD': {'b': '37.9180000000', 'o': '37.9120000000'}, 'NZDJPY': {'b': '88.4810000000', 'o': '88.4740000000'}, 'GBPAUD': {'b': '2.0538400000',
2025-07-16 00:22:20,173 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 2. Data preview: {'GBPSEK': {'b': '13.0272000000', 'o': '13.0246000000'}, 'XAGUSD': {'b': '37.9180000000', 'o': '37.9120000000'}, 'NZDJPY': {'b': '88.4810000000', 'o': '88.4740000000'}, 'GBPAUD': {'b': '2.0538400000',...
2025-07-16 00:22:20,173 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:22:20,400 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:22:20,402 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:22:21,410 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:22:21,414 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:22:21,432 - INFO - app - Found 23 static orders cache entries to check
2025-07-16 00:22:22,428 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:22:22,430 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:22:22,569 - DEBUG - app.firebase_stream - Firebase listener triggered (5). Event Type: patch, Path: /. Timestamp: 1752650542.5694544
2025-07-16 00:22:22,569 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0274000000', 'o': '13.0252500000'}, 'XAGUSD': {'b': '37.9180000000', 'o': '37.9140000000'}, 'GBPAUD': {'b': '2.0538500000', 'o': '2.0536800000'}, 'BTCUSD': {'b': '118239.010000000
2025-07-16 00:22:22,569 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 2. Data preview: {'GBPSEK': {'b': '13.0274000000', 'o': '13.0252500000'}, 'XAGUSD': {'b': '37.9180000000', 'o': '37.9140000000'}, 'GBPAUD': {'b': '2.0538500000', 'o': '2.0536800000'}, 'BTCUSD': {'b': '118239.010000000...
2025-07-16 00:22:22,569 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:22:23,434 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:22:23,436 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:22:24,448 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:22:24,451 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:22:24,823 - DEBUG - app.firebase_stream - Firebase listener triggered (6). Event Type: patch, Path: /. Timestamp: 1752650544.823572
2025-07-16 00:22:24,823 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9250000000', 'o': '37.9210000000'}, 'NZDJPY': {'b': '88.4800000000', 'o': '88.4740000000'}, 'GBPAUD': {'b': '2.0538500000', 'o': '2.0536900000'}, 'BTCUSD': {'b': '118232.110000000
2025-07-16 00:22:24,823 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 2. Data preview: {'XAGUSD': {'b': '37.9250000000', 'o': '37.9210000000'}, 'NZDJPY': {'b': '88.4800000000', 'o': '88.4740000000'}, 'GBPAUD': {'b': '2.0538500000', 'o': '2.0536900000'}, 'BTCUSD': {'b': '118232.110000000...
2025-07-16 00:22:24,824 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:22:25,468 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:22:25,478 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:22:25,508 - WARNING - app - Found stale cache entry for user 2, will be refreshed on next access
2025-07-16 00:22:25,516 - WARNING - app - Found stale cache entry for user 3, will be refreshed on next access
2025-07-16 00:22:26,487 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:22:26,490 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:22:27,072 - DEBUG - app.firebase_stream - Firebase listener triggered (7). Event Type: patch, Path: /. Timestamp: 1752650547.0729682
2025-07-16 00:22:27,073 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9280000000', 'o': '37.9230000000'}, 'NZDJPY': {'b': '88.4720000000', 'o': '88.4670000000'}, 'GBPAUD': {'b': '2.0539700000', 'o': '2.0538300000'}, 'BTCUSD': {'b': '118213.300000000
2025-07-16 00:22:27,073 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'XAGUSD': {'b': '37.9280000000', 'o': '37.9230000000'}, 'NZDJPY': {'b': '88.4720000000', 'o': '88.4670000000'}, 'GBPAUD': {'b': '2.0539700000', 'o': '2.0538300000'}, 'BTCUSD': {'b': '118213.300000000...
2025-07-16 00:22:27,073 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:22:27,502 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:22:27,505 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:22:27,563 - WARNING - app - Found stale cache entry for user 17, will be refreshed on next access
2025-07-16 00:22:27,567 - WARNING - app - Found stale cache entry for user 18, will be refreshed on next access
2025-07-16 00:22:27,576 - WARNING - app - Found stale cache entry for user 23, will be refreshed on next access
2025-07-16 00:22:27,578 - WARNING - app - Found stale cache entry for user 19, will be refreshed on next access
2025-07-16 00:22:27,581 - WARNING - app - Found stale cache entry for user 8, will be refreshed on next access
2025-07-16 00:22:27,584 - WARNING - app - Found stale cache entry for user 5, will be refreshed on next access
2025-07-16 00:22:27,586 - WARNING - app - Found stale cache entry for user 24, will be refreshed on next access
2025-07-16 00:22:27,588 - WARNING - app - Found stale cache entry for user 13, will be refreshed on next access
2025-07-16 00:22:27,590 - WARNING - app - Found stale cache entry for user 16, will be refreshed on next access
2025-07-16 00:22:27,591 - WARNING - app - Found stale cache entry for user 25, will be refreshed on next access
2025-07-16 00:22:27,596 - WARNING - app - Found stale cache entry for user 12, will be refreshed on next access
2025-07-16 00:22:27,607 - WARNING - app - Found stale cache entry for user 21, will be refreshed on next access
2025-07-16 00:22:27,611 - WARNING - app - Found stale cache entry for user 22, will be refreshed on next access
2025-07-16 00:22:27,621 - WARNING - app - Found stale cache entry for user 6, will be refreshed on next access
2025-07-16 00:22:27,624 - WARNING - app - Found stale cache entry for user 20, will be refreshed on next access
2025-07-16 00:22:27,624 - INFO - app - Completed stale cache cleanup task
2025-07-16 00:22:28,511 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:22:28,514 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:22:29,436 - DEBUG - app.firebase_stream - Firebase listener triggered (8). Event Type: patch, Path: /. Timestamp: 1752650549.4364684
2025-07-16 00:22:29,436 - DEBUG - app.firebase_stream - Prepared batch update for 27 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4800000000', 'o': '88.4730000000'}, 'GBPAUD': {'b': '2.0538700000', 'o': '2.0537300000'}, 'USDJPY': {'b': '148.6950000000', 'o': '148.6910000000'}, 'USDCNH': {'b': '7.1811800000',
2025-07-16 00:22:29,436 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4800000000', 'o': '88.4730000000'}, 'GBPAUD': {'b': '2.0538700000', 'o': '2.0537300000'}, 'USDJPY': {'b': '148.6950000000', 'o': '148.6910000000'}, 'USDCNH': {'b': '7.1811800000',...
2025-07-16 00:22:29,436 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:22:29,516 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:22:29,519 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:22:30,532 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:22:30,534 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:22:31,538 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:22:31,541 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:22:31,691 - DEBUG - app.firebase_stream - Firebase listener triggered (9). Event Type: patch, Path: /. Timestamp: 1752650551.6915114
2025-07-16 00:22:31,691 - DEBUG - app.firebase_stream - Prepared batch update for 30 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0276000000', 'o': '13.0252100000'}, 'XAGUSD': {'b': '37.9070000000', 'o': '37.9010000000'}, 'GBPAUD': {'b': '2.0538500000', 'o': '2.0537100000'}, 'BTCUSD': {'b': '118210.100000000
2025-07-16 00:22:31,692 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0276000000', 'o': '13.0252100000'}, 'XAGUSD': {'b': '37.9070000000', 'o': '37.9010000000'}, 'GBPAUD': {'b': '2.0538500000', 'o': '2.0537100000'}, 'BTCUSD': {'b': '118210.100000000...
2025-07-16 00:22:31,692 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:22:31,707 - WARNING - app - User 1: Missing static orders cache, refreshing...
2025-07-16 00:22:32,552 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:22:32,554 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:22:33,558 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:22:33,563 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:22:34,064 - DEBUG - app.firebase_stream - Firebase listener triggered (10). Event Type: patch, Path: /. Timestamp: 1752650554.0648296
2025-07-16 00:22:34,065 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9330000000', 'o': '37.9310000000'}, 'NZDJPY': {'b': '88.4810000000', 'o': '88.4750000000'}, 'USDJPY': {'b': '148.6920000000', 'o': '148.6890000000'}, 'CADCHF': {'b': '0.5840700000
2025-07-16 00:22:34,065 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9330000000', 'o': '37.9310000000'}, 'NZDJPY': {'b': '88.4810000000', 'o': '88.4750000000'}, 'USDJPY': {'b': '148.6920000000', 'o': '148.6890000000'}, 'CADCHF': {'b': '0.5840700000...
2025-07-16 00:22:34,066 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:22:34,374 - INFO - app - Starting stale cache cleanup task
2025-07-16 00:22:34,573 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:22:34,577 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:22:35,586 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:22:35,589 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:22:35,810 - INFO - app - Found 24 static orders cache entries to check
2025-07-16 00:22:35,828 - WARNING - app - Found stale cache entry for user 2, will be refreshed on next access
2025-07-16 00:22:35,840 - WARNING - app - Found stale cache entry for user 3, will be refreshed on next access
2025-07-16 00:22:35,851 - WARNING - app - Found stale cache entry for user 17, will be refreshed on next access
2025-07-16 00:22:35,856 - WARNING - app - Found stale cache entry for user 18, will be refreshed on next access
2025-07-16 00:22:35,867 - WARNING - app - Found stale cache entry for user 23, will be refreshed on next access
2025-07-16 00:22:35,871 - WARNING - app - Found stale cache entry for user 19, will be refreshed on next access
2025-07-16 00:22:35,876 - WARNING - app - Found stale cache entry for user 8, will be refreshed on next access
2025-07-16 00:22:35,881 - WARNING - app - Found stale cache entry for user 5, will be refreshed on next access
2025-07-16 00:22:35,885 - WARNING - app - Found stale cache entry for user 24, will be refreshed on next access
2025-07-16 00:22:36,310 - DEBUG - app.firebase_stream - Firebase listener triggered (11). Event Type: patch, Path: /. Timestamp: 1752650556.3104336
2025-07-16 00:22:36,311 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0274000000', 'o': '13.0248100000'}, 'XAGUSD': {'b': '37.9070000000', 'o': '37.9020000000'}, 'NZDJPY': {'b': '88.4820000000', 'o': '88.4750000000'}, 'GBPAUD': {'b': '2.0538200000',
2025-07-16 00:22:36,312 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0274000000', 'o': '13.0248100000'}, 'XAGUSD': {'b': '37.9070000000', 'o': '37.9020000000'}, 'NZDJPY': {'b': '88.4820000000', 'o': '88.4750000000'}, 'GBPAUD': {'b': '2.0538200000',...
2025-07-16 00:22:36,312 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:22:36,603 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:22:36,607 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:22:37,614 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:22:37,617 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:22:37,907 - WARNING - app - Found stale cache entry for user 13, will be refreshed on next access
2025-07-16 00:22:37,911 - INFO - app.api.v1.endpoints.users - User ID 24 deleted successfully by admin 5.
2025-07-16 00:22:37,913 - WARNING - app - Found stale cache entry for user 16, will be refreshed on next access
2025-07-16 00:22:37,922 - WARNING - app - Found stale cache entry for user 25, will be refreshed on next access
2025-07-16 00:22:37,937 - INFO - app - Cache validation completed
2025-07-16 00:22:37,942 - WARNING - app - Found stale cache entry for user 12, will be refreshed on next access
2025-07-16 00:22:37,967 - WARNING - app - Found stale cache entry for user 21, will be refreshed on next access
2025-07-16 00:22:37,978 - WARNING - app - Found stale cache entry for user 22, will be refreshed on next access
2025-07-16 00:22:37,987 - WARNING - app - Found stale cache entry for user 6, will be refreshed on next access
2025-07-16 00:22:37,996 - WARNING - app - Found stale cache entry for user 20, will be refreshed on next access
2025-07-16 00:22:37,997 - INFO - app - Completed stale cache cleanup task
2025-07-16 00:22:38,626 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:22:38,629 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:22:38,666 - DEBUG - app.firebase_stream - Firebase listener triggered (12). Event Type: patch, Path: /. Timestamp: 1752650558.6661308
2025-07-16 00:22:38,666 - DEBUG - app.firebase_stream - Prepared batch update for 34 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0268000000', 'o': '13.0242000000'}, 'XAGUSD': {'b': '37.9330000000', 'o': '37.9300000000'}, 'NZDJPY': {'b': '88.4710000000', 'o': '88.4640000000'}, 'GBPAUD': {'b': '2.0538100000',
2025-07-16 00:22:38,667 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0268000000', 'o': '13.0242000000'}, 'XAGUSD': {'b': '37.9330000000', 'o': '37.9300000000'}, 'NZDJPY': {'b': '88.4710000000', 'o': '88.4640000000'}, 'GBPAUD': {'b': '2.0538100000',...
2025-07-16 00:22:38,668 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:22:39,631 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:22:39,634 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:22:39,836 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-07-16 00:22:39,848 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-07-16 00:22:39,850 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-07-16 00:22:39,859 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-07-16 00:22:39,864 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-07-16 00:22:39,908 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-07-16 00:22:39,909 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-07-16 00:22:40,093 - INFO - app.core.config - .env file loaded successfully.
2025-07-16 00:22:40,114 - INFO - app.core.config - .env file loaded successfully.
2025-07-16 00:22:40,117 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-07-16 00:22:40,117 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-07-16 00:22:40,135 - INFO - app.core.config - .env file loaded successfully.
2025-07-16 00:22:40,135 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-07-16 00:22:40,135 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-07-16 00:22:40,156 - INFO - app.core.config - .env file loaded successfully.
2025-07-16 00:22:40,160 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-07-16 00:22:40,160 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-07-16 00:22:40,162 - INFO - app.core.config - .env file loaded successfully.
2025-07-16 00:22:40,166 - INFO - app.core.config - .env file loaded successfully.
2025-07-16 00:22:40,176 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-07-16 00:22:40,177 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-07-16 00:22:40,184 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-07-16 00:22:40,184 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-07-16 00:22:40,185 - INFO - app.core.config - .env file loaded successfully.
2025-07-16 00:22:40,189 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-07-16 00:22:40,189 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-07-16 00:22:40,205 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-07-16 00:22:40,205 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-07-16 00:22:40,636 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:22:40,639 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:22:40,877 - DEBUG - app.firebase_stream - Firebase listener triggered (13). Event Type: patch, Path: /. Timestamp: 1752650560.876959
2025-07-16 00:22:40,878 - DEBUG - app.firebase_stream - Prepared batch update for 30 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0272000000', 'o': '13.0248100000'}, 'NZDJPY': {'b': '88.4820000000', 'o': '88.4740000000'}, 'GBPAUD': {'b': '2.0538300000', 'o': '2.0537000000'}, 'BTCUSD': {'b': '118257.100000000
2025-07-16 00:22:40,882 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0272000000', 'o': '13.0248100000'}, 'NZDJPY': {'b': '88.4820000000', 'o': '88.4740000000'}, 'GBPAUD': {'b': '2.0538300000', 'o': '2.0537000000'}, 'BTCUSD': {'b': '118257.100000000...
2025-07-16 00:22:40,882 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:22:41,642 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:22:41,651 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:22:42,670 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:22:42,674 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:22:43,157 - DEBUG - app.firebase_stream - Firebase listener triggered (14). Event Type: patch, Path: /. Timestamp: 1752650563.1575422
2025-07-16 00:22:43,157 - DEBUG - app.firebase_stream - Prepared batch update for 27 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4810000000', 'o': '88.4750000000'}, 'GBPAUD': {'b': '2.0538300000', 'o': '2.0537100000'}, 'BTCUSD': {'b': '118221.9300000000', 'o': '118211.9300000000'}, 'USDJPY': {'b': '148.6950
2025-07-16 00:22:43,158 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4810000000', 'o': '88.4750000000'}, 'GBPAUD': {'b': '2.0538300000', 'o': '2.0537100000'}, 'BTCUSD': {'b': '118221.9300000000', 'o': '118211.9300000000'}, 'USDJPY': {'b': '148.6950...
2025-07-16 00:22:43,158 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:22:43,684 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:22:43,688 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:22:44,701 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:22:44,705 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:22:45,520 - DEBUG - app.firebase_stream - Firebase listener triggered (15). Event Type: patch, Path: /. Timestamp: 1752650565.520028
2025-07-16 00:22:45,520 - DEBUG - app.firebase_stream - Prepared batch update for 25 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0272000000', 'o': '13.0248200000'}, 'XAGUSD': {'b': '37.9330000000', 'o': '37.9270000000'}, 'NZDJPY': {'b': '88.4760000000', 'o': '88.4670000000'}, 'GBPAUD': {'b': '2.0538700000',
2025-07-16 00:22:45,521 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0272000000', 'o': '13.0248200000'}, 'XAGUSD': {'b': '37.9330000000', 'o': '37.9270000000'}, 'NZDJPY': {'b': '88.4760000000', 'o': '88.4670000000'}, 'GBPAUD': {'b': '2.0538700000',...
2025-07-16 00:22:45,523 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:22:45,707 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:22:45,708 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:22:46,715 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:22:46,719 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:22:47,736 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:22:47,739 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:22:47,783 - DEBUG - app.firebase_stream - Firebase listener triggered (16). Event Type: patch, Path: /. Timestamp: 1752650567.7835538
2025-07-16 00:22:47,784 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0273000000', 'o': '13.0248200000'}, 'XAGUSD': {'b': '37.9120000000', 'o': '37.9070000000'}, 'NZDJPY': {'b': '88.4840000000', 'o': '88.4770000000'}, 'GBPAUD': {'b': '2.0538900000',
2025-07-16 00:22:47,785 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0273000000', 'o': '13.0248200000'}, 'XAGUSD': {'b': '37.9120000000', 'o': '37.9070000000'}, 'NZDJPY': {'b': '88.4840000000', 'o': '88.4770000000'}, 'GBPAUD': {'b': '2.0538900000',...
2025-07-16 00:22:47,790 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:22:48,755 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:22:48,757 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:22:49,761 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:22:49,765 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:22:50,131 - DEBUG - app.firebase_stream - Firebase listener triggered (17). Event Type: patch, Path: /. Timestamp: 1752650570.1318944
2025-07-16 00:22:50,132 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0269000000', 'o': '13.0244700000'}, 'XAGUSD': {'b': '37.9340000000', 'o': '37.9270000000'}, 'NZDJPY': {'b': '88.4800000000', 'o': '88.4770000000'}, 'USDCNH': {'b': '7.1811300000',
2025-07-16 00:22:50,133 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0269000000', 'o': '13.0244700000'}, 'XAGUSD': {'b': '37.9340000000', 'o': '37.9270000000'}, 'NZDJPY': {'b': '88.4800000000', 'o': '88.4770000000'}, 'USDCNH': {'b': '7.1811300000',...
2025-07-16 00:22:50,136 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:22:50,780 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:22:50,784 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:22:51,799 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:22:51,803 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:22:52,370 - DEBUG - app.firebase_stream - Firebase listener triggered (18). Event Type: patch, Path: /. Timestamp: 1752650572.3701465
2025-07-16 00:22:52,370 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9290000000', 'o': '37.9240000000'}, 'GBPAUD': {'b': '2.0539800000', 'o': '2.0539700000'}, 'BTCUSD': {'b': '118248.7200000000', 'o': '118248.7200000000'}, 'USDJPY': {'b': '148.6970
2025-07-16 00:22:52,370 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9290000000', 'o': '37.9240000000'}, 'GBPAUD': {'b': '2.0539800000', 'o': '2.0539700000'}, 'BTCUSD': {'b': '118248.7200000000', 'o': '118248.7200000000'}, 'USDJPY': {'b': '148.6970...
2025-07-16 00:22:52,371 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:22:52,817 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:22:52,821 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:22:53,830 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:22:53,834 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:22:54,749 - DEBUG - app.firebase_stream - Firebase listener triggered (19). Event Type: patch, Path: /. Timestamp: 1752650574.7499073
2025-07-16 00:22:54,750 - DEBUG - app.firebase_stream - Prepared batch update for 37 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0275000000', 'o': '13.0249000000'}, 'NZDJPY': {'b': '88.4760000000', 'o': '88.4680000000'}, 'GBPAUD': {'b': '2.0540700000', 'o': '2.0539700000'}, 'BTCUSD': {'b': '118218.300000000
2025-07-16 00:22:54,751 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0275000000', 'o': '13.0249000000'}, 'NZDJPY': {'b': '88.4760000000', 'o': '88.4680000000'}, 'GBPAUD': {'b': '2.0540700000', 'o': '2.0539700000'}, 'BTCUSD': {'b': '118218.300000000...
2025-07-16 00:22:54,753 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:22:54,841 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:22:54,848 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:22:55,866 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:22:55,869 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:22:56,872 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:22:56,877 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:22:56,937 - DEBUG - app.firebase_stream - Firebase listener triggered (20). Event Type: patch, Path: /. Timestamp: 1752650576.9369833
2025-07-16 00:22:56,937 - DEBUG - app.firebase_stream - Prepared batch update for 30 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0273000000', 'o': '13.0247400000'}, 'NZDJPY': {'b': '88.4760000000', 'o': '88.4690000000'}, 'GBPAUD': {'b': '2.0541100000', 'o': '2.0539900000'}, 'USDJPY': {'b': '148.7020000000',
2025-07-16 00:22:56,937 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0273000000', 'o': '13.0247400000'}, 'NZDJPY': {'b': '88.4760000000', 'o': '88.4690000000'}, 'GBPAUD': {'b': '2.0541100000', 'o': '2.0539900000'}, 'USDJPY': {'b': '148.7020000000',...
2025-07-16 00:22:56,937 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:22:57,880 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:22:57,883 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:22:58,887 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:22:58,890 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:22:59,291 - DEBUG - app.firebase_stream - Firebase listener triggered (21). Event Type: patch, Path: /. Timestamp: 1752650579.2918618
2025-07-16 00:22:59,292 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'GBPAUD': {'b': '2.0541000000', 'o': '2.0539700000'}, 'BTCUSD': {'b': '118218.4000000000', 'o': '118218.3000000000'}, 'USDJPY': {'b': '148.7010000000', 'o': '148.6990000000'}, 'USDCNH': {'b': '7.1811
2025-07-16 00:22:59,293 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPAUD': {'b': '2.0541000000', 'o': '2.0539700000'}, 'BTCUSD': {'b': '118218.4000000000', 'o': '118218.3000000000'}, 'USDJPY': {'b': '148.7010000000', 'o': '148.6990000000'}, 'USDCNH': {'b': '7.1811...
2025-07-16 00:22:59,295 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:22:59,901 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:22:59,905 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:00,909 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:00,912 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:01,558 - DEBUG - app.firebase_stream - Firebase listener triggered (22). Event Type: patch, Path: /. Timestamp: 1752650581.55807
2025-07-16 00:23:01,558 - DEBUG - app.firebase_stream - Prepared batch update for 22 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9250000000', 'o': '37.9220000000'}, 'NZDJPY': {'b': '88.4760000000', 'o': '88.4680000000'}, 'GBPAUD': {'b': '2.0541100000', 'o': '2.0540000000'}, 'USDCNH': {'b': '7.1811400000', '
2025-07-16 00:23:01,558 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9250000000', 'o': '37.9220000000'}, 'NZDJPY': {'b': '88.4760000000', 'o': '88.4680000000'}, 'GBPAUD': {'b': '2.0541100000', 'o': '2.0540000000'}, 'USDCNH': {'b': '7.1811400000', '...
2025-07-16 00:23:01,559 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:23:01,920 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:01,926 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:02,930 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:02,933 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:03,851 - DEBUG - app.firebase_stream - Firebase listener triggered (23). Event Type: patch, Path: /. Timestamp: 1752650583.8513474
2025-07-16 00:23:03,852 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9280000000', 'o': '37.9230000000'}, 'GBPAUD': {'b': '2.0541000000', 'o': '2.0539600000'}, 'BTCUSD': {'b': '118213.3000000000', 'o': '118213.2000000000'}, 'USDJPY': {'b': '148.6940
2025-07-16 00:23:03,853 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9280000000', 'o': '37.9230000000'}, 'GBPAUD': {'b': '2.0541000000', 'o': '2.0539600000'}, 'BTCUSD': {'b': '118213.3000000000', 'o': '118213.2000000000'}, 'USDJPY': {'b': '148.6940...
2025-07-16 00:23:03,861 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:23:03,936 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:03,939 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:04,948 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:04,952 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:05,968 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:05,972 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:06,171 - DEBUG - app.firebase_stream - Firebase listener triggered (24). Event Type: patch, Path: /. Timestamp: 1752650586.1716704
2025-07-16 00:23:06,172 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0272000000', 'o': '13.0247200000'}, 'XAGUSD': {'b': '37.9240000000', 'o': '37.9200000000'}, 'NZDJPY': {'b': '88.4740000000', 'o': '88.4680000000'}, 'GBPAUD': {'b': '2.0540900000',
2025-07-16 00:23:06,172 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0272000000', 'o': '13.0247200000'}, 'XAGUSD': {'b': '37.9240000000', 'o': '37.9200000000'}, 'NZDJPY': {'b': '88.4740000000', 'o': '88.4680000000'}, 'GBPAUD': {'b': '2.0540900000',...
2025-07-16 00:23:06,172 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:23:06,975 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:06,980 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:07,997 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:08,002 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:08,432 - DEBUG - app.firebase_stream - Firebase listener triggered (25). Event Type: patch, Path: /. Timestamp: 1752650588.4328246
2025-07-16 00:23:08,433 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9240000000', 'o': '37.9210000000'}, 'NZDJPY': {'b': '88.4730000000', 'o': '88.4680000000'}, 'GBPAUD': {'b': '2.0541000000', 'o': '2.0539600000'}, 'USDJPY': {'b': '148.7010000000',
2025-07-16 00:23:08,433 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9240000000', 'o': '37.9210000000'}, 'NZDJPY': {'b': '88.4730000000', 'o': '88.4680000000'}, 'GBPAUD': {'b': '2.0541000000', 'o': '2.0539600000'}, 'USDJPY': {'b': '148.7010000000',...
2025-07-16 00:23:08,433 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:23:09,005 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:09,008 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:10,010 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:10,015 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:10,797 - DEBUG - app.firebase_stream - Firebase listener triggered (26). Event Type: patch, Path: /. Timestamp: 1752650590.7969866
2025-07-16 00:23:10,797 - DEBUG - app.firebase_stream - Prepared batch update for 21 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0274000000', 'o': '13.0248100000'}, 'XAGUSD': {'b': '37.9240000000', 'o': '37.9200000000'}, 'NZDJPY': {'b': '88.4820000000', 'o': '88.4750000000'}, 'GBPAUD': {'b': '2.0541000000',
2025-07-16 00:23:10,797 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0274000000', 'o': '13.0248100000'}, 'XAGUSD': {'b': '37.9240000000', 'o': '37.9200000000'}, 'NZDJPY': {'b': '88.4820000000', 'o': '88.4750000000'}, 'GBPAUD': {'b': '2.0541000000',...
2025-07-16 00:23:10,797 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:23:11,021 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:11,024 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:12,031 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:12,037 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:13,040 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:13,078 - DEBUG - app.firebase_stream - Firebase listener triggered (27). Event Type: patch, Path: /. Timestamp: 1752650593.0782351
2025-07-16 00:23:13,078 - DEBUG - app.firebase_stream - Prepared batch update for 35 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0273000000', 'o': '13.0247200000'}, 'XAGUSD': {'b': '37.9270000000', 'o': '37.9260000000'}, 'NZDJPY': {'b': '88.4810000000', 'o': '88.4750000000'}, 'GBPAUD': {'b': '2.0541200000',
2025-07-16 00:23:13,079 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0273000000', 'o': '13.0247200000'}, 'XAGUSD': {'b': '37.9270000000', 'o': '37.9260000000'}, 'NZDJPY': {'b': '88.4810000000', 'o': '88.4750000000'}, 'GBPAUD': {'b': '2.0541200000',...
2025-07-16 00:23:13,080 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:23:13,079 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:13,550 - WARNING - app - User 4 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:23:13,557 - WARNING - app - No user data found for user 5 (live). Skipping portfolio update.
2025-07-16 00:23:13,567 - WARNING - app - No group settings found for group string. Skipping portfolio update for user 8.
2025-07-16 00:23:13,600 - WARNING - app - User 9 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:23:13,635 - WARNING - app - User 10 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:23:13,666 - WARNING - app - User 11 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:23:13,691 - WARNING - app - User 12 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:23:13,718 - WARNING - app - User 13 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:23:14,155 - DEBUG - app.services.portfolio_calculator - Position calculation for BTCUSD: Type=BUY, Entry=118908.50000000, Current=118152.72, Quantity=0.40000000, Contract Size=1.00000000, PnL=-302.312000000000000000000000, PnL USD=-302.312000000000000000000000, Commission=235.57000000, Final PnL=-537.882000000000000000000000
2025-07-16 00:23:14,155 - WARNING - app.services.portfolio_calculator - MARGIN CALL ALERT: User has margin level 99.37818445397459122780765235% which is below threshold 100.0%
2025-07-16 00:23:14,157 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:14,161 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:14,205 - WARNING - app - User 16 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:23:14,236 - WARNING - app - User 17 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:23:14,256 - WARNING - app - User 18 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:23:14,277 - WARNING - app - User 19 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:23:14,298 - WARNING - app - User 20 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:23:14,317 - WARNING - app - User 21 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:23:14,339 - WARNING - app - User 22 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:23:14,359 - WARNING - app - User 23 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:23:14,380 - WARNING - app - User 25 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:23:14,782 - DEBUG - app.services.portfolio_calculator - Position calculation for XAGUSD: Type=BUY, Entry=41.09800000, Current=37.9135, Quantity=0.01000000, Contract Size=5000.00000000, PnL=-159.225000000000000000000000, PnL USD=-159.225000000000000000000000, Commission=0.10000000, Final PnL=-159.325000000000000000000000
2025-07-16 00:23:14,783 - DEBUG - app.services.portfolio_calculator - Position calculation for BTCUSD: Type=BUY, Entry=132091.90000000, Current=118152.72, Quantity=6.00000000, Contract Size=1.00000000, PnL=-83635.08000000000000000000000, PnL USD=-83635.08000000000000000000000, Commission=3661.62000000, Final PnL=-87296.70000000000000000000000
2025-07-16 00:23:14,783 - WARNING - app.services.portfolio_calculator - MARGIN CALL ALERT: User has margin level 66.14338366381091456316154197% which is below threshold 100.0%
2025-07-16 00:23:15,295 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:15,297 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=96.66800000, Current=97.00200000000001, Quantity=0.01000000, Contract Size=100000.00000000, PnL=334.0000000000100000000000000, PnL USD=2.246133154001412239408204438, Commission=0.10000000, Final PnL=2.146133154001412239408204438
2025-07-16 00:23:15,298 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:15,298 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=96.56000000, Current=97.108, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-548.000000000000000000000000, PnL USD=-3.685272360457296570275722932, Commission=0.10000000, Final PnL=-3.785272360457296570275722932
2025-07-16 00:23:15,301 - WARNING - app - User 2 has no group_name set. Skipping portfolio update.
2025-07-16 00:23:15,307 - WARNING - app - No group settings found for group string. Skipping portfolio update for user 3.
2025-07-16 00:23:15,333 - WARNING - app - User 4 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:23:15,334 - WARNING - app - User 5 has no group_name set. Skipping portfolio update.
2025-07-16 00:23:15,335 - WARNING - app - User 6 has no group_name set. Skipping portfolio update.
2025-07-16 00:23:15,361 - DEBUG - app.firebase_stream - Firebase listener triggered (28). Event Type: patch, Path: /. Timestamp: 1752650595.3613424
2025-07-16 00:23:15,362 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0272000000', 'o': '13.0247200000'}, 'NZDJPY': {'b': '88.4730000000', 'o': '88.4680000000'}, 'GBPAUD': {'b': '2.0541200000', 'o': '2.0539500000'}, 'BTCUSD': {'b': '118226.500000000
2025-07-16 00:23:15,362 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0272000000', 'o': '13.0247200000'}, 'NZDJPY': {'b': '88.4730000000', 'o': '88.4680000000'}, 'GBPAUD': {'b': '2.0541200000', 'o': '2.0539500000'}, 'BTCUSD': {'b': '118226.500000000...
2025-07-16 00:23:15,362 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:23:15,819 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64743000, Current=0.65255, Quantity=0.10000000, Contract Size=100000.00000000, PnL=51.200000000000000000000000, PnL USD=51.200000000000000000000000, Commission=1.00000000, Final PnL=50.200000000000000000000000
2025-07-16 00:23:15,819 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=SELL, Entry=0.64707000, Current=0.65286, Quantity=0.22000000, Contract Size=100000.00000000, PnL=-127.380000000000000000000000, PnL USD=-127.380000000000000000000000, Commission=2.20000000, Final PnL=-129.580000000000000000000000
2025-07-16 00:23:15,820 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFSGD: Type=BUY, Entry=1.57561500, Current=1.6034650000000001, Quantity=0.10000000, Contract Size=100000.00000000, PnL=278.5000000000010000000000000, PnL USD=216.8884873877600130833988801, Commission=1.00000000, Final PnL=215.8884873877600130833988801
2025-07-16 00:23:15,822 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFSGD: Type=SELL, Entry=1.57505500, Current=1.6038649999999999, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-288.0999999999990000000000000, PnL USD=-224.3647153192575171135529994, Commission=1.00000000, Final PnL=-225.3647153192575171135529994
2025-07-16 00:23:15,823 - DEBUG - app.services.portfolio_calculator - Position calculation for CADJPY: Type=SELL, Entry=106.24150000, Current=108.4795, Quantity=0.15000000, Contract Size=100000.00000000, PnL=-33570.00000000000000000000000, PnL USD=-225.7535204637462845153394036, Commission=0E-8, Final PnL=-225.7535204637462845153394036
2025-07-16 00:23:15,824 - DEBUG - app.services.portfolio_calculator - Position calculation for CADJPY: Type=BUY, Entry=106.27050000, Current=108.4465, Quantity=0.15000000, Contract Size=100000.00000000, PnL=32640.00000000000000000000000, PnL USD=219.4994014875388360613845140, Commission=0E-8, Final PnL=219.4994014875388360613845140
2025-07-16 00:23:15,824 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=BUY, Entry=1.77481000, Current=1.7809, Quantity=0.22000000, Contract Size=100000.00000000, PnL=133.980000000000000000000000, PnL USD=87.46348380000000000000000000, Commission=2.20000000, Final PnL=85.26348380000000000000000000
2025-07-16 00:23:15,824 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=SELL, Entry=1.77439000, Current=1.7812700000000001, Quantity=0.21000000, Contract Size=100000.00000000, PnL=-144.4800000000021000000000000, PnL USD=-94.31798880000137090100000000, Commission=2.10000000, Final PnL=-96.41798880000137090100000000
2025-07-16 00:23:15,826 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFJPY: Type=BUY, Entry=178.15500000, Current=185.685, Quantity=0.10000000, Contract Size=100000.00000000, PnL=75300.00000000000000000000000, PnL USD=506.3818912993772780460249358, Commission=1.00000000, Final PnL=505.3818912993772780460249358
2025-07-16 00:23:15,828 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFJPY: Type=SELL, Entry=178.09500000, Current=185.725, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-76300.00000000000000000000000, PnL USD=-513.1067504135788355233957849, Commission=1.00000000, Final PnL=-514.1067504135788355233957849
2025-07-16 00:23:15,828 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=BUY, Entry=1.77480000, Current=1.7809, Quantity=0.05000000, Contract Size=100000.00000000, PnL=30.500000000000000000000000, PnL USD=19.91070500000000000000000000, Commission=0.50000000, Final PnL=19.41070500000000000000000000
2025-07-16 00:23:15,828 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=SELL, Entry=1.77442000, Current=1.7812700000000001, Quantity=0.05000000, Contract Size=100000.00000000, PnL=-34.25000000000050000000000000, PnL USD=-22.35874250000032640500000000, Commission=0.50000000, Final PnL=-22.85874250000032640500000000
2025-07-16 00:23:15,828 - DEBUG - app.services.portfolio_calculator - Position calculation for EURGBP: Type=SELL, Entry=0.85403000, Current=0.86742, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-133.900000000000000000000000, PnL USD=-179.5143740000000000000000000, Commission=1.00000000, Final PnL=-180.5143740000000000000000000
2025-07-16 00:23:15,830 - DEBUG - app.services.portfolio_calculator - Position calculation for EURJPY: Type=BUY, Entry=167.26050000, Current=172.8775, Quantity=0.10000000, Contract Size=100000.00000000, PnL=56170.00000000000000000000000, PnL USD=377.7353364447014835039205929, Commission=1.00000000, Final PnL=376.7353364447014835039205929
2025-07-16 00:23:15,832 - DEBUG - app.services.portfolio_calculator - Position calculation for EURJPY: Type=SELL, Entry=167.23150000, Current=172.9065, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-56750.00000000000000000000000, PnL USD=-381.6357547309383868407956853, Commission=1.00000000, Final PnL=-382.6357547309383868407956853
2025-07-16 00:23:15,832 - DEBUG - app.services.portfolio_calculator - Position calculation for EURNZD: Type=SELL, Entry=1.91952500, Current=1.954385, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-348.600000000000000000000000, PnL USD=-207.4100280000000000000000000, Commission=1.00000000, Final PnL=-208.4100280000000000000000000
2025-07-16 00:23:15,832 - DEBUG - app.services.portfolio_calculator - Position calculation for EURNZD: Type=BUY, Entry=1.92063500, Current=1.953945, Quantity=0.10000000, Contract Size=100000.00000000, PnL=333.100000000000000000000000, PnL USD=198.1878380000000000000000000, Commission=1.00000000, Final PnL=197.1878380000000000000000000
2025-07-16 00:23:15,832 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=SELL, Entry=1.34376000, Current=1.34078, Quantity=0.25000000, Contract Size=0E-8, PnL=0E-24, PnL USD=0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:23:15,833 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=SELL, Entry=1.34361000, Current=1.34078, Quantity=0.25000000, Contract Size=0E-8, PnL=0E-24, PnL USD=0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:23:15,833 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=BUY, Entry=1.34379000, Current=1.34057, Quantity=0.25000000, Contract Size=0E-8, PnL=-0E-24, PnL USD=-0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:23:15,833 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=BUY, Entry=1.34378000, Current=1.34057, Quantity=0.25000000, Contract Size=0E-8, PnL=-0E-24, PnL USD=-0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:23:15,834 - DEBUG - app.services.portfolio_calculator - Position calculation for NZDJPY: Type=BUY, Entry=87.10150000, Current=88.46249999999999, Quantity=0.01000000, Contract Size=100000.00000000, PnL=1360.999999999990000000000000, PnL USD=9.152533254428252478110583583, Commission=0.10000000, Final PnL=9.052533254428252478110583583
2025-07-16 00:23:15,835 - DEBUG - app.services.portfolio_calculator - Position calculation for USDCHF: Type=SELL, Entry=0.81771000, Current=0.80089, Quantity=0.15000000, Contract Size=100000.00000000, PnL=252.300000000000000000000000, PnL USD=315.0835477183605165222169493, Commission=1.50000000, Final PnL=313.5835477183605165222169493
2025-07-16 00:23:15,838 - DEBUG - app.services.portfolio_calculator - Position calculation for USDCHF: Type=BUY, Entry=0.81805000, Current=0.80057, Quantity=0.15000000, Contract Size=100000.00000000, PnL=-262.200000000000000000000000, PnL USD=-327.4471114219347103928865799, Commission=1.50000000, Final PnL=-328.9471114219347103928865799
2025-07-16 00:23:15,839 - DEBUG - app.services.portfolio_calculator - Position calculation for USDNOK: Type=BUY, Entry=10.04973000, Current=10.25383, Quantity=0.10000000, Contract Size=100000.00000000, PnL=2041.000000000000000000000000, PnL USD=199.0332115339794842689649590, Commission=1.00000000, Final PnL=198.0332115339794842689649590
2025-07-16 00:23:15,841 - DEBUG - app.services.portfolio_calculator - Position calculation for USDNOK: Type=BUY, Entry=10.05023000, Current=10.25383, Quantity=0.10000000, Contract Size=100000.00000000, PnL=2036.000000000000000000000000, PnL USD=198.5456240485949191433672987, Commission=1.00000000, Final PnL=197.5456240485949191433672987
2025-07-16 00:23:15,842 - DEBUG - app.services.portfolio_calculator - Position calculation for USDSGD: Type=SELL, Entry=1.28795000, Current=1.2842200000000001, Quantity=0.31000000, Contract Size=100000.00000000, PnL=115.6299999999969000000000000, PnL USD=90.04960788741805353290708450, Commission=3.10000000, Final PnL=86.94960788741805353290708450
2025-07-16 00:23:15,844 - DEBUG - app.services.portfolio_calculator - Position calculation for USDTRY: Type=SELL, Entry=39.56087000, Current=40.25812, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-6972.500000000000000000000000, PnL USD=-173.1955188003766707561260540, Commission=1.00000000, Final PnL=-174.1955188003766707561260540
2025-07-16 00:23:16,300 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:16,304 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:16,609 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.89752000, Current=0.8948, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-2.720000000000000000000000, PnL USD=-1.983953318745441283734500365, Commission=0.10000000, Final PnL=-2.083953318745441283734500365
2025-07-16 00:23:16,634 - WARNING - app - User 12 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:23:16,660 - WARNING - app - User 13 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:23:17,316 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:17,318 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:17,668 - DEBUG - app.firebase_stream - Firebase listener triggered (29). Event Type: patch, Path: /. Timestamp: 1752650597.6680243
2025-07-16 00:23:17,668 - DEBUG - app.firebase_stream - Prepared batch update for 22 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4750000000', 'o': '88.4690000000'}, 'USDJPY': {'b': '148.7020000000', 'o': '148.6990000000'}, 'USDCNH': {'b': '7.1811200000', 'o': '7.1811200000'}, 'CADCHF': {'b': '0.5841100000',
2025-07-16 00:23:17,670 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4750000000', 'o': '88.4690000000'}, 'USDJPY': {'b': '148.7020000000', 'o': '148.6990000000'}, 'USDCNH': {'b': '7.1811200000', 'o': '7.1811200000'}, 'CADCHF': {'b': '0.5841100000',...
2025-07-16 00:23:17,670 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:23:18,325 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:18,328 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:19,334 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:19,336 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:19,959 - DEBUG - app.firebase_stream - Firebase listener triggered (30). Event Type: patch, Path: /. Timestamp: 1752650599.959509
2025-07-16 00:23:19,959 - DEBUG - app.firebase_stream - Prepared batch update for 26 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0275000000', 'o': '13.0249000000'}, 'XAGUSD': {'b': '37.9330000000', 'o': '37.9270000000'}, 'NZDJPY': {'b': '88.4810000000', 'o': '88.4750000000'}, 'GBPAUD': {'b': '2.0540400000',
2025-07-16 00:23:19,961 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0275000000', 'o': '13.0249000000'}, 'XAGUSD': {'b': '37.9330000000', 'o': '37.9270000000'}, 'NZDJPY': {'b': '88.4810000000', 'o': '88.4750000000'}, 'GBPAUD': {'b': '2.0540400000',...
2025-07-16 00:23:19,962 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:23:20,345 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:20,348 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:21,351 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:21,355 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:22,301 - DEBUG - app.firebase_stream - Firebase listener triggered (31). Event Type: patch, Path: /. Timestamp: 1752650602.3017602
2025-07-16 00:23:22,302 - DEBUG - app.firebase_stream - Prepared batch update for 36 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0271000000', 'o': '13.0245000000'}, 'XAGUSD': {'b': '37.9320000000', 'o': '37.9270000000'}, 'NZDJPY': {'b': '88.4800000000', 'o': '88.4710000000'}, 'GBPAUD': {'b': '2.0540100000',
2025-07-16 00:23:22,302 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0271000000', 'o': '13.0245000000'}, 'XAGUSD': {'b': '37.9320000000', 'o': '37.9270000000'}, 'NZDJPY': {'b': '88.4800000000', 'o': '88.4710000000'}, 'GBPAUD': {'b': '2.0540100000',...
2025-07-16 00:23:22,303 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:23:22,359 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:22,366 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:23,387 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:23,393 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:24,397 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:24,399 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:24,635 - DEBUG - app.firebase_stream - Firebase listener triggered (32). Event Type: patch, Path: /. Timestamp: 1752650604.6358767
2025-07-16 00:23:24,636 - DEBUG - app.firebase_stream - Prepared batch update for 27 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9340000000', 'o': '37.9270000000'}, 'NZDJPY': {'b': '88.4800000000', 'o': '88.4760000000'}, 'GBPAUD': {'b': '2.0540100000', 'o': '2.0538700000'}, 'BTCUSD': {'b': '118241.700000000
2025-07-16 00:23:24,636 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9340000000', 'o': '37.9270000000'}, 'NZDJPY': {'b': '88.4800000000', 'o': '88.4760000000'}, 'GBPAUD': {'b': '2.0540100000', 'o': '2.0538700000'}, 'BTCUSD': {'b': '118241.700000000...
2025-07-16 00:23:24,637 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:23:25,404 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:25,407 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:26,423 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:26,426 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:26,901 - DEBUG - app.firebase_stream - Firebase listener triggered (33). Event Type: patch, Path: /. Timestamp: 1752650606.9014742
2025-07-16 00:23:26,902 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0268400000', 'o': '13.0245000000'}, 'XAGUSD': {'b': '37.9330000000', 'o': '37.9270000000'}, 'NZDJPY': {'b': '88.4850000000', 'o': '88.4810000000'}, 'GBPAUD': {'b': '2.0538900000',
2025-07-16 00:23:26,903 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0268400000', 'o': '13.0245000000'}, 'XAGUSD': {'b': '37.9330000000', 'o': '37.9270000000'}, 'NZDJPY': {'b': '88.4850000000', 'o': '88.4810000000'}, 'GBPAUD': {'b': '2.0538900000',...
2025-07-16 00:23:26,907 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:23:27,434 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:27,438 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:28,449 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:28,453 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:29,268 - DEBUG - app.firebase_stream - Firebase listener triggered (34). Event Type: patch, Path: /. Timestamp: 1752650609.268853
2025-07-16 00:23:29,269 - DEBUG - app.firebase_stream - Prepared batch update for 34 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9290000000', 'o': '37.9240000000'}, 'NZDJPY': {'b': '88.4880000000', 'o': '88.4810000000'}, 'GBPAUD': {'b': '2.0539800000', 'o': '2.0538200000'}, 'BTCUSD': {'b': '118234.970000000
2025-07-16 00:23:29,270 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9290000000', 'o': '37.9240000000'}, 'NZDJPY': {'b': '88.4880000000', 'o': '88.4810000000'}, 'GBPAUD': {'b': '2.0539800000', 'o': '2.0538200000'}, 'BTCUSD': {'b': '118234.970000000...
2025-07-16 00:23:29,278 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:23:29,455 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:29,457 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:30,460 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:30,462 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:31,492 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:31,502 - DEBUG - app.firebase_stream - Firebase listener triggered (35). Event Type: patch, Path: /. Timestamp: 1752650611.5024135
2025-07-16 00:23:31,503 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'GBPAUD': {'b': '2.0539900000', 'o': '2.0538200000'}, 'BTCUSD': {'b': '118234.9000000000', 'o': '118234.8000000000'}, 'USDJPY': {'b': '148.7020000000', 'o': '148.6990000000'}, 'USDCNH': {'b': '7.1811
2025-07-16 00:23:31,504 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPAUD': {'b': '2.0539900000', 'o': '2.0538200000'}, 'BTCUSD': {'b': '118234.9000000000', 'o': '118234.8000000000'}, 'USDJPY': {'b': '148.7020000000', 'o': '148.6990000000'}, 'USDCNH': {'b': '7.1811...
2025-07-16 00:23:31,504 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:23:31,506 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:32,535 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:32,540 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:33,551 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:33,556 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:33,734 - DEBUG - app.firebase_stream - Firebase listener triggered (36). Event Type: patch, Path: /. Timestamp: 1752650613.7339585
2025-07-16 00:23:33,734 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9340000000', 'o': '37.9270000000'}, 'NZDJPY': {'b': '88.4860000000', 'o': '88.4790000000'}, 'GBPAUD': {'b': '2.0540000000', 'o': '2.0538500000'}, 'USDJPY': {'b': '148.7210000000',
2025-07-16 00:23:33,734 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9340000000', 'o': '37.9270000000'}, 'NZDJPY': {'b': '88.4860000000', 'o': '88.4790000000'}, 'GBPAUD': {'b': '2.0540000000', 'o': '2.0538500000'}, 'USDJPY': {'b': '148.7210000000',...
2025-07-16 00:23:33,734 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:23:34,563 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:34,564 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:35,567 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:35,572 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:36,111 - DEBUG - app.firebase_stream - Firebase listener triggered (37). Event Type: patch, Path: /. Timestamp: 1752650616.111133
2025-07-16 00:23:36,111 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0267800000', 'o': '13.0243000000'}, 'XAGUSD': {'b': '37.9330000000', 'o': '37.9270000000'}, 'GBPAUD': {'b': '2.0540300000', 'o': '2.0538800000'}, 'BTCUSD': {'b': '118218.300000000
2025-07-16 00:23:36,117 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0267800000', 'o': '13.0243000000'}, 'XAGUSD': {'b': '37.9330000000', 'o': '37.9270000000'}, 'GBPAUD': {'b': '2.0540300000', 'o': '2.0538800000'}, 'BTCUSD': {'b': '118218.300000000...
2025-07-16 00:23:36,117 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:23:36,576 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:36,580 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:37,589 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:37,594 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:38,361 - DEBUG - app.firebase_stream - Firebase listener triggered (38). Event Type: patch, Path: /. Timestamp: 1752650618.3613734
2025-07-16 00:23:38,362 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9320000000', 'o': '37.9270000000'}, 'NZDJPY': {'b': '88.4870000000', 'o': '88.4800000000'}, 'GBPAUD': {'b': '2.0540300000', 'o': '2.0538700000'}, 'BTCUSD': {'b': '118234.900000000
2025-07-16 00:23:38,363 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9320000000', 'o': '37.9270000000'}, 'NZDJPY': {'b': '88.4870000000', 'o': '88.4800000000'}, 'GBPAUD': {'b': '2.0540300000', 'o': '2.0538700000'}, 'BTCUSD': {'b': '118234.900000000...
2025-07-16 00:23:38,368 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:23:38,608 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:38,613 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:39,617 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:39,621 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:40,628 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:40,633 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:40,658 - DEBUG - app.firebase_stream - Firebase listener triggered (39). Event Type: patch, Path: /. Timestamp: 1752650620.6588457
2025-07-16 00:23:40,659 - DEBUG - app.firebase_stream - Prepared batch update for 26 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4880000000', 'o': '88.4820000000'}, 'GBPAUD': {'b': '2.0539300000', 'o': '2.0538700000'}, 'BTCUSD': {'b': '118226.5000000000', 'o': '118226.4000000000'}, 'CADCHF': {'b': '0.584110
2025-07-16 00:23:40,660 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4880000000', 'o': '88.4820000000'}, 'GBPAUD': {'b': '2.0539300000', 'o': '2.0538700000'}, 'BTCUSD': {'b': '118226.5000000000', 'o': '118226.4000000000'}, 'CADCHF': {'b': '0.584110...
2025-07-16 00:23:40,662 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:23:41,665 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:41,669 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:42,682 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:42,686 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:42,974 - DEBUG - app.firebase_stream - Firebase listener triggered (40). Event Type: patch, Path: /. Timestamp: 1752650622.9745338
2025-07-16 00:23:42,975 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0264000000', 'o': '13.0238600000'}, 'XAGUSD': {'b': '37.9330000000', 'o': '37.9260000000'}, 'NZDJPY': {'b': '88.4740000000', 'o': '88.4680000000'}, 'GBPAUD': {'b': '2.0539500000',
2025-07-16 00:23:42,975 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0264000000', 'o': '13.0238600000'}, 'XAGUSD': {'b': '37.9330000000', 'o': '37.9260000000'}, 'NZDJPY': {'b': '88.4740000000', 'o': '88.4680000000'}, 'GBPAUD': {'b': '2.0539500000',...
2025-07-16 00:23:42,976 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:23:43,693 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:43,698 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:44,710 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:44,713 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:45,248 - DEBUG - app.firebase_stream - Firebase listener triggered (41). Event Type: patch, Path: /. Timestamp: 1752650625.248505
2025-07-16 00:23:45,248 - DEBUG - app.firebase_stream - Prepared batch update for 23 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0265000000', 'o': '13.0241000000'}, 'XAGUSD': {'b': '37.9340000000', 'o': '37.9300000000'}, 'NZDJPY': {'b': '88.4890000000', 'o': '88.4830000000'}, 'GBPAUD': {'b': '2.0539600000',
2025-07-16 00:23:45,249 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0265000000', 'o': '13.0241000000'}, 'XAGUSD': {'b': '37.9340000000', 'o': '37.9300000000'}, 'NZDJPY': {'b': '88.4890000000', 'o': '88.4830000000'}, 'GBPAUD': {'b': '2.0539600000',...
2025-07-16 00:23:45,252 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:23:45,728 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:45,733 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:46,749 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:46,753 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:47,585 - DEBUG - app.firebase_stream - Firebase listener triggered (42). Event Type: patch, Path: /. Timestamp: 1752650627.5850172
2025-07-16 00:23:47,585 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'GBPAUD': {'b': '2.0539300000', 'o': '2.0538000000'}, 'BTCUSD': {'b': '118231.7000000000', 'o': '118231.6000000000'}, 'USDJPY': {'b': '148.7260000000', 'o': '148.7210000000'}, 'CADCHF': {'b': '0.5840
2025-07-16 00:23:47,586 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPAUD': {'b': '2.0539300000', 'o': '2.0538000000'}, 'BTCUSD': {'b': '118231.7000000000', 'o': '118231.6000000000'}, 'USDJPY': {'b': '148.7260000000', 'o': '148.7210000000'}, 'CADCHF': {'b': '0.5840...
2025-07-16 00:23:47,589 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:23:47,755 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:47,756 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:48,758 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:48,762 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:49,778 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:49,782 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:49,918 - DEBUG - app.firebase_stream - Firebase listener triggered (43). Event Type: patch, Path: /. Timestamp: 1752650629.918733
2025-07-16 00:23:49,919 - DEBUG - app.firebase_stream - Prepared batch update for 20 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9370000000', 'o': '37.9300000000'}, 'BTCUSD': {'b': '118226.5000000000', 'o': '118226.4000000000'}, 'USDJPY': {'b': '148.7240000000', 'o': '148.7210000000'}, 'CADCHF': {'b': '0.58
2025-07-16 00:23:49,920 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9370000000', 'o': '37.9300000000'}, 'BTCUSD': {'b': '118226.5000000000', 'o': '118226.4000000000'}, 'USDJPY': {'b': '148.7240000000', 'o': '148.7210000000'}, 'CADCHF': {'b': '0.58...
2025-07-16 00:23:49,925 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:23:50,795 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:50,798 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:51,812 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:51,816 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:52,182 - DEBUG - app.firebase_stream - Firebase listener triggered (44). Event Type: patch, Path: /. Timestamp: 1752650632.182034
2025-07-16 00:23:52,182 - DEBUG - app.firebase_stream - Prepared batch update for 20 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4880000000', 'o': '88.4830000000'}, 'GBPAUD': {'b': '2.0539500000', 'o': '2.0537900000'}, 'USDJPY': {'b': '148.7230000000', 'o': '148.7210000000'}, 'USDCNH': {'b': '7.1809900000',
2025-07-16 00:23:52,184 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4880000000', 'o': '88.4830000000'}, 'GBPAUD': {'b': '2.0539500000', 'o': '2.0537900000'}, 'USDJPY': {'b': '148.7230000000', 'o': '148.7210000000'}, 'USDCNH': {'b': '7.1809900000',...
2025-07-16 00:23:52,190 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:23:52,828 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:52,831 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:53,844 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:53,846 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:54,435 - DEBUG - app.firebase_stream - Firebase listener triggered (45). Event Type: patch, Path: /. Timestamp: 1752650634.4354188
2025-07-16 00:23:54,436 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0270000000', 'o': '13.0244000000'}, 'XAGUSD': {'b': '37.9380000000', 'o': '37.9300000000'}, 'GBPAUD': {'b': '2.0541200000', 'o': '2.0539500000'}, 'BTCUSD': {'b': '118226.100000000
2025-07-16 00:23:54,437 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0270000000', 'o': '13.0244000000'}, 'XAGUSD': {'b': '37.9380000000', 'o': '37.9300000000'}, 'GBPAUD': {'b': '2.0541200000', 'o': '2.0539500000'}, 'BTCUSD': {'b': '118226.100000000...
2025-07-16 00:23:54,437 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:23:54,851 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:54,856 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:55,869 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:55,873 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:56,784 - DEBUG - app.firebase_stream - Firebase listener triggered (46). Event Type: patch, Path: /. Timestamp: 1752650636.7848344
2025-07-16 00:23:56,785 - DEBUG - app.firebase_stream - Prepared batch update for 30 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0267000000', 'o': '13.0241000000'}, 'XAGUSD': {'b': '37.9330000000', 'o': '37.9270000000'}, 'NZDJPY': {'b': '88.4880000000', 'o': '88.4820000000'}, 'GBPAUD': {'b': '2.0539500000',
2025-07-16 00:23:56,785 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0267000000', 'o': '13.0241000000'}, 'XAGUSD': {'b': '37.9330000000', 'o': '37.9270000000'}, 'NZDJPY': {'b': '88.4880000000', 'o': '88.4820000000'}, 'GBPAUD': {'b': '2.0539500000',...
2025-07-16 00:23:56,785 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:23:56,876 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:56,879 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:57,886 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:57,890 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:58,892 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:58,894 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:23:59,005 - DEBUG - app.firebase_stream - Firebase listener triggered (47). Event Type: patch, Path: /. Timestamp: 1752650639.0056357
2025-07-16 00:23:59,006 - DEBUG - app.firebase_stream - Prepared batch update for 25 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9380000000', 'o': '37.9330000000'}, 'NZDJPY': {'b': '88.4800000000', 'o': '88.4710000000'}, 'GBPAUD': {'b': '2.0539400000', 'o': '2.0537800000'}, 'USDJPY': {'b': '148.7050000000',
2025-07-16 00:23:59,007 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9380000000', 'o': '37.9330000000'}, 'NZDJPY': {'b': '88.4800000000', 'o': '88.4710000000'}, 'GBPAUD': {'b': '2.0539400000', 'o': '2.0537800000'}, 'USDJPY': {'b': '148.7050000000',...
2025-07-16 00:23:59,008 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:23:59,899 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:23:59,902 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:24:00,921 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:24:00,926 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:24:01,323 - DEBUG - app.firebase_stream - Firebase listener triggered (48). Event Type: patch, Path: /. Timestamp: 1752650641.3238835
2025-07-16 00:24:01,324 - DEBUG - app.firebase_stream - Prepared batch update for 24 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0263000000', 'o': '13.0237400000'}, 'XAGUSD': {'b': '37.9380000000', 'o': '37.9310000000'}, 'NZDJPY': {'b': '88.4900000000', 'o': '88.4830000000'}, 'GBPAUD': {'b': '2.0539400000',
2025-07-16 00:24:01,324 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0263000000', 'o': '13.0237400000'}, 'XAGUSD': {'b': '37.9380000000', 'o': '37.9310000000'}, 'NZDJPY': {'b': '88.4900000000', 'o': '88.4830000000'}, 'GBPAUD': {'b': '2.0539400000',...
2025-07-16 00:24:01,324 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:24:01,954 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:24:01,956 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:24:02,972 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:24:02,977 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:24:03,654 - DEBUG - app.firebase_stream - Firebase listener triggered (49). Event Type: patch, Path: /. Timestamp: 1752650643.6544616
2025-07-16 00:24:03,655 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0265000000', 'o': '13.0239000000'}, 'GBPAUD': {'b': '2.0539700000', 'o': '2.0538000000'}, 'BTCUSD': {'b': '118241.7000000000', 'o': '118241.6000000000'}, 'USDJPY': {'b': '148.7240
2025-07-16 00:24:03,656 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0265000000', 'o': '13.0239000000'}, 'GBPAUD': {'b': '2.0539700000', 'o': '2.0538000000'}, 'BTCUSD': {'b': '118241.7000000000', 'o': '118241.6000000000'}, 'USDJPY': {'b': '148.7240...
2025-07-16 00:24:03,662 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:24:03,989 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:24:03,993 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:24:05,006 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:24:05,010 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:24:05,924 - DEBUG - app.firebase_stream - Firebase listener triggered (50). Event Type: patch, Path: /. Timestamp: 1752650645.9241993
2025-07-16 00:24:05,924 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0268400000', 'o': '13.0244000000'}, 'XAGUSD': {'b': '37.9410000000', 'o': '37.9350000000'}, 'NZDJPY': {'b': '88.4910000000', 'o': '88.4830000000'}, 'GBPAUD': {'b': '2.0539500000',
2025-07-16 00:24:05,925 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0268400000', 'o': '13.0244000000'}, 'XAGUSD': {'b': '37.9410000000', 'o': '37.9350000000'}, 'NZDJPY': {'b': '88.4910000000', 'o': '88.4830000000'}, 'GBPAUD': {'b': '2.0539500000',...
2025-07-16 00:24:05,927 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:24:06,016 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:24:06,032 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:24:07,045 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:24:07,051 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:24:08,059 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:24:08,063 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:24:08,248 - DEBUG - app.firebase_stream - Firebase listener triggered (51). Event Type: patch, Path: /. Timestamp: 1752650648.2485282
2025-07-16 00:24:08,248 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4910000000', 'o': '88.4840000000'}, 'GBPAUD': {'b': '2.0539400000', 'o': '2.0537900000'}, 'USDJPY': {'b': '148.7210000000', 'o': '148.7180000000'}, 'USDCNH': {'b': '7.1809300000',
2025-07-16 00:24:08,248 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4910000000', 'o': '88.4840000000'}, 'GBPAUD': {'b': '2.0539400000', 'o': '2.0537900000'}, 'USDJPY': {'b': '148.7210000000', 'o': '148.7180000000'}, 'USDCNH': {'b': '7.1809300000',...
2025-07-16 00:24:08,249 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:24:09,065 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:24:09,067 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:24:10,078 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:24:10,081 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:24:10,508 - DEBUG - app.firebase_stream - Firebase listener triggered (52). Event Type: patch, Path: /. Timestamp: 1752650650.5081336
2025-07-16 00:24:10,508 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0263500000', 'o': '13.0238000000'}, 'NZDJPY': {'b': '88.4920000000', 'o': '88.4890000000'}, 'GBPAUD': {'b': '2.0539600000', 'o': '2.0539400000'}, 'USDJPY': {'b': '148.7300000000',
2025-07-16 00:24:10,508 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0263500000', 'o': '13.0238000000'}, 'NZDJPY': {'b': '88.4920000000', 'o': '88.4890000000'}, 'GBPAUD': {'b': '2.0539600000', 'o': '2.0539400000'}, 'USDJPY': {'b': '148.7300000000',...
2025-07-16 00:24:10,508 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:24:11,094 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:24:11,098 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:24:12,002 - INFO - app - Application shutdown initiated
2025-07-16 00:24:12,003 - INFO - app - Scheduler shutdown completed
2025-07-16 00:24:12,369 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-07-16 00:24:12,796 - INFO - app.firebase_stream - Firebase listener closed.
2025-07-16 00:24:12,796 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-07-16 00:24:12,797 - INFO - app - Redis connection closed
2025-07-16 00:24:12,798 - INFO - app - Application shutdown completed
2025-07-16 00:24:14,430 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-07-16 00:24:14,456 - INFO - app.core.config - .env file loaded successfully.
2025-07-16 00:24:14,471 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-07-16 00:24:14,471 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-07-16 00:24:14,731 - INFO - app - Application starting up - Trading system initialized
2025-07-16 00:24:14,731 - INFO - app - SL/TP Epsilon accuracy configured: 0.00001
2025-07-16 00:24:14,731 - INFO - app - Environment: DEVELOPMENT
2025-07-16 00:24:14,783 - INFO - app - Application startup initiated
2025-07-16 00:24:14,784 - INFO - app - Initializing core services...
2025-07-16 00:24:14,835 - INFO - app - Firebase initialized
2025-07-16 00:24:14,836 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-07-16 00:24:16,879 - INFO - app - Redis initialized
2025-07-16 00:24:16,883 - INFO - app - [SWAP] daily_swap_charge_job triggered
2025-07-16 00:24:16,885 - INFO - app - Scheduler initialized
2025-07-16 00:24:16,888 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-07-16 00:24:16,888 - DEBUG - app.firebase_stream - Successfully got running event loop in process_firebase_events task.
2025-07-16 00:24:16,888 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-07-16 00:24:17,837 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-07-16 00:24:17,846 - DEBUG - app.firebase_stream - Firebase listener triggered (1). Event Type: put, Path: /. Timestamp: 1752650657.846411
2025-07-16 00:24:17,847 - DEBUG - app.firebase_stream - Prepared batch update for 48 symbols from root path for queue. Preview: {'AUDCAD': {'b': '0.8948000000', 'o': '0.8947500000'}, 'AUDCHF': {'b': '0.5226000000', 'o': '0.5225400000'}, 'AUDJPY': {'b': '97.0670000000', 'o': '97.0610000000'}, 'AUDNZD': {'b': '1.0000000000', 'o'
2025-07-16 00:24:17,847 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'AUDCAD': {'b': '0.8948000000', 'o': '0.8947500000'}, 'AUDCHF': {'b': '0.5226000000', 'o': '0.5225400000'}, 'AUDJPY': {'b': '97.0670000000', 'o': '97.0610000000'}, 'AUDNZD': {'b': '1.0000000000', 'o'...
2025-07-16 00:24:17,848 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type put at path /.
2025-07-16 00:24:17,848 - INFO - app - Starting stale cache cleanup task
2025-07-16 00:24:19,832 - DEBUG - app.firebase_stream - Firebase listener triggered (2). Event Type: patch, Path: /. Timestamp: 1752650659.832872
2025-07-16 00:24:19,833 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4840000000', 'o': '88.4750000000'}, 'GBPAUD': {'b': '2.0541100000', 'o': '2.0539600000'}, 'USDJPY': {'b': '148.7380000000', 'o': '148.7320000000'}, 'CADCHF': {'b': '0.5840800000',
2025-07-16 00:24:19,834 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4840000000', 'o': '88.4750000000'}, 'GBPAUD': {'b': '2.0541100000', 'o': '2.0539600000'}, 'USDJPY': {'b': '148.7380000000', 'o': '148.7320000000'}, 'CADCHF': {'b': '0.5840800000',...
2025-07-16 00:24:19,835 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:24:21,943 - INFO - app - Cleaned up pending order stream for new trigger price format
2025-07-16 00:24:21,943 - INFO - app - Background tasks initialized
2025-07-16 00:24:22,077 - DEBUG - app.firebase_stream - Firebase listener triggered (3). Event Type: patch, Path: /. Timestamp: 1752650662.0778904
2025-07-16 00:24:22,078 - DEBUG - app.firebase_stream - Prepared batch update for 25 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9340000000', 'o': '37.9270000000'}, 'NZDJPY': {'b': '88.4820000000', 'o': '88.4750000000'}, 'GBPAUD': {'b': '2.0541100000', 'o': '2.0539700000'}, 'BTCUSD': {'b': '118210.100000000
2025-07-16 00:24:22,078 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'XAGUSD': {'b': '37.9340000000', 'o': '37.9270000000'}, 'NZDJPY': {'b': '88.4820000000', 'o': '88.4750000000'}, 'GBPAUD': {'b': '2.0541100000', 'o': '2.0539700000'}, 'BTCUSD': {'b': '118210.100000000...
2025-07-16 00:24:22,079 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:24:22,679 - INFO - app - Service account JWT for 'barclays_service_provider' was generated and pushed to Firebase.
2025-07-16 00:24:22,679 - INFO - app - Application startup completed successfully
2025-07-16 00:24:22,680 - INFO - app - Starting cache validation task
2025-07-16 00:24:22,683 - INFO - app - Starting Barclays pending order margin checker task.
2025-07-16 00:24:22,683 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:24:22,686 - INFO - app - Starting auto-cutoff order monitoring task.
2025-07-16 00:24:22,728 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:24:22,732 - INFO - app - Validating cache for 30 users
2025-07-16 00:24:23,748 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:24:23,751 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:24:24,322 - DEBUG - app.firebase_stream - Firebase listener triggered (4). Event Type: patch, Path: /. Timestamp: 1752650664.3226664
2025-07-16 00:24:24,322 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'GBPAUD': {'b': '2.0539200000', 'o': '2.0538000000'}, 'BTCUSD': {'b': '118209.9000000000', 'o': '118209.8000000000'}, 'USDJPY': {'b': '148.7340000000', 'o': '148.7320000000'}, 'USDCNH': {'b': '7.1810
2025-07-16 00:24:24,323 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 2. Data preview: {'GBPAUD': {'b': '2.0539200000', 'o': '2.0538000000'}, 'BTCUSD': {'b': '118209.9000000000', 'o': '118209.8000000000'}, 'USDJPY': {'b': '148.7340000000', 'o': '148.7320000000'}, 'USDCNH': {'b': '7.1810...
2025-07-16 00:24:24,323 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:24:24,737 - INFO - app - Found 24 static orders cache entries to check
2025-07-16 00:24:24,764 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:24:24,768 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:24:25,771 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:24:25,774 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:24:26,596 - DEBUG - app.firebase_stream - Firebase listener triggered (5). Event Type: patch, Path: /. Timestamp: 1752650666.5965261
2025-07-16 00:24:26,596 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4890000000', 'o': '88.4830000000'}, 'GBPAUD': {'b': '2.0541000000', 'o': '2.0539700000'}, 'USDJPY': {'b': '148.7230000000', 'o': '148.7210000000'}, 'USDCNH': {'b': '7.1810500000',
2025-07-16 00:24:26,597 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 2. Data preview: {'NZDJPY': {'b': '88.4890000000', 'o': '88.4830000000'}, 'GBPAUD': {'b': '2.0541000000', 'o': '2.0539700000'}, 'USDJPY': {'b': '148.7230000000', 'o': '148.7210000000'}, 'USDCNH': {'b': '7.1810500000',...
2025-07-16 00:24:26,597 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:24:26,778 - WARNING - app - User 4: Missing balance/margin cache, refreshing...
2025-07-16 00:24:26,778 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:24:26,782 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:24:27,796 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:24:27,800 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:24:28,829 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:24:28,853 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:24:29,038 - DEBUG - app.firebase_stream - Firebase listener triggered (6). Event Type: patch, Path: /. Timestamp: 1752650669.0383656
2025-07-16 00:24:29,038 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0254700000', 'o': '13.0235000000'}, 'XAGUSD': {'b': '37.9340000000', 'o': '37.9260000000'}, 'NZDJPY': {'b': '88.4820000000', 'o': '88.4730000000'}, 'GBPAUD': {'b': '2.0541600000',
2025-07-16 00:24:29,038 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 2. Data preview: {'GBPSEK': {'b': '13.0254700000', 'o': '13.0235000000'}, 'XAGUSD': {'b': '37.9340000000', 'o': '37.9260000000'}, 'NZDJPY': {'b': '88.4820000000', 'o': '88.4730000000'}, 'GBPAUD': {'b': '2.0541600000',...
2025-07-16 00:24:29,039 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:24:29,865 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:24:29,867 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:24:30,873 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:24:30,876 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:24:30,890 - WARNING - app - Found stale cache entry for user 2, will be refreshed on next access
2025-07-16 00:24:30,901 - WARNING - app - Found stale cache entry for user 3, will be refreshed on next access
2025-07-16 00:24:30,916 - WARNING - app - Found stale cache entry for user 17, will be refreshed on next access
2025-07-16 00:24:30,920 - WARNING - app - Found stale cache entry for user 18, will be refreshed on next access
2025-07-16 00:24:30,925 - WARNING - app - User 5: Missing balance/margin cache, refreshing...
2025-07-16 00:24:30,930 - WARNING - app - Found stale cache entry for user 23, will be refreshed on next access
2025-07-16 00:24:30,936 - WARNING - app - Found stale cache entry for user 19, will be refreshed on next access
2025-07-16 00:24:30,940 - WARNING - app - User 8: Missing balance/margin cache, refreshing...
2025-07-16 00:24:30,942 - WARNING - app - Found stale cache entry for user 8, will be refreshed on next access
2025-07-16 00:24:30,949 - WARNING - app - Found stale cache entry for user 5, will be refreshed on next access
2025-07-16 00:24:30,953 - WARNING - app - Found stale cache entry for user 24, will be refreshed on next access
2025-07-16 00:24:30,956 - WARNING - app - Found stale cache entry for user 13, will be refreshed on next access
2025-07-16 00:24:30,959 - WARNING - app - Found stale cache entry for user 16, will be refreshed on next access
2025-07-16 00:24:31,286 - DEBUG - app.firebase_stream - Firebase listener triggered (7). Event Type: patch, Path: /. Timestamp: 1752650671.2869425
2025-07-16 00:24:31,287 - DEBUG - app.firebase_stream - Prepared batch update for 24 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9390000000', 'o': '37.9310000000'}, 'NZDJPY': {'b': '88.4820000000', 'o': '88.4770000000'}, 'USDJPY': {'b': '148.7410000000', 'o': '148.7410000000'}, 'USDCNH': {'b': '7.1808500000
2025-07-16 00:24:31,287 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9390000000', 'o': '37.9310000000'}, 'NZDJPY': {'b': '88.4820000000', 'o': '88.4770000000'}, 'USDJPY': {'b': '148.7410000000', 'o': '148.7410000000'}, 'USDCNH': {'b': '7.1808500000...
2025-07-16 00:24:31,288 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:24:31,884 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:24:31,888 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:24:32,895 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:24:32,899 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:24:32,984 - WARNING - app - Found stale cache entry for user 25, will be refreshed on next access
2025-07-16 00:24:33,014 - WARNING - app - User 9: Missing balance/margin cache, refreshing...
2025-07-16 00:24:33,015 - WARNING - app - Found stale cache entry for user 12, will be refreshed on next access
2025-07-16 00:24:33,051 - WARNING - app - Found stale cache entry for user 21, will be refreshed on next access
2025-07-16 00:24:33,066 - WARNING - app - Found stale cache entry for user 22, will be refreshed on next access
2025-07-16 00:24:33,082 - WARNING - app - Found stale cache entry for user 6, will be refreshed on next access
2025-07-16 00:24:33,086 - WARNING - app - User 10: Missing balance/margin cache, refreshing...
2025-07-16 00:24:33,093 - WARNING - app - Found stale cache entry for user 20, will be refreshed on next access
2025-07-16 00:24:33,093 - INFO - app - Completed stale cache cleanup task
2025-07-16 00:24:33,133 - WARNING - app - User 11: Missing balance/margin cache, refreshing...
2025-07-16 00:24:33,514 - DEBUG - app.firebase_stream - Firebase listener triggered (8). Event Type: patch, Path: /. Timestamp: 1752650673.5148468
2025-07-16 00:24:33,515 - DEBUG - app.firebase_stream - Prepared batch update for 36 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0255900000', 'o': '13.0232000000'}, 'XAGUSD': {'b': '37.9330000000', 'o': '37.9230000000'}, 'NZDJPY': {'b': '88.4830000000', 'o': '88.4750000000'}, 'GBPAUD': {'b': '2.0541900000',
2025-07-16 00:24:33,516 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0255900000', 'o': '13.0232000000'}, 'XAGUSD': {'b': '37.9330000000', 'o': '37.9230000000'}, 'NZDJPY': {'b': '88.4830000000', 'o': '88.4750000000'}, 'GBPAUD': {'b': '2.0541900000',...
2025-07-16 00:24:33,516 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:24:33,902 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:24:33,905 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:24:34,922 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:24:34,926 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:24:35,227 - WARNING - app - User 12: Missing balance/margin cache, refreshing...
2025-07-16 00:24:35,910 - DEBUG - app.firebase_stream - Firebase listener triggered (9). Event Type: patch, Path: /. Timestamp: 1752650675.91062
2025-07-16 00:24:35,911 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9280000000', 'o': '37.9230000000'}, 'NZDJPY': {'b': '88.4810000000', 'o': '88.4720000000'}, 'GBPAUD': {'b': '2.0542400000', 'o': '2.0540700000'}, 'USDJPY': {'b': '148.7450000000',
2025-07-16 00:24:35,911 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9280000000', 'o': '37.9230000000'}, 'NZDJPY': {'b': '88.4810000000', 'o': '88.4720000000'}, 'GBPAUD': {'b': '2.0542400000', 'o': '2.0540700000'}, 'USDJPY': {'b': '148.7450000000',...
2025-07-16 00:24:35,912 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:24:35,941 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:24:35,946 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:24:36,957 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:24:36,961 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:24:37,297 - WARNING - app - User 13: Missing balance/margin cache, refreshing...
2025-07-16 00:24:37,336 - WARNING - app - User 14: Missing balance/margin cache, refreshing...
2025-07-16 00:24:37,373 - WARNING - app - User 16: Missing balance/margin cache, refreshing...
2025-07-16 00:24:37,412 - WARNING - app - User 17: Missing balance/margin cache, refreshing...
2025-07-16 00:24:37,445 - WARNING - app - User 18: Missing balance/margin cache, refreshing...
2025-07-16 00:24:37,693 - INFO - app - Starting stale cache cleanup task
2025-07-16 00:24:37,970 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:24:37,975 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:24:38,147 - DEBUG - app.firebase_stream - Firebase listener triggered (10). Event Type: patch, Path: /. Timestamp: 1752650678.1468732
2025-07-16 00:24:38,147 - DEBUG - app.firebase_stream - Prepared batch update for 25 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0255900000', 'o': '13.0231000000'}, 'XAGUSD': {'b': '37.9380000000', 'o': '37.9310000000'}, 'NZDJPY': {'b': '88.4800000000', 'o': '88.4720000000'}, 'GBPAUD': {'b': '2.0542400000',
2025-07-16 00:24:38,147 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0255900000', 'o': '13.0231000000'}, 'XAGUSD': {'b': '37.9380000000', 'o': '37.9310000000'}, 'NZDJPY': {'b': '88.4800000000', 'o': '88.4720000000'}, 'GBPAUD': {'b': '2.0542400000',...
2025-07-16 00:24:38,148 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:24:38,987 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:24:38,991 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:24:39,509 - INFO - app - Found 24 static orders cache entries to check
2025-07-16 00:24:39,527 - WARNING - app - Found stale cache entry for user 2, will be refreshed on next access
2025-07-16 00:24:39,536 - WARNING - app - Found stale cache entry for user 3, will be refreshed on next access
2025-07-16 00:24:39,537 - WARNING - app - User 19: Missing balance/margin cache, refreshing...
2025-07-16 00:24:39,569 - WARNING - app - Found stale cache entry for user 17, will be refreshed on next access
2025-07-16 00:24:39,574 - WARNING - app - Found stale cache entry for user 18, will be refreshed on next access
2025-07-16 00:24:39,586 - WARNING - app - Found stale cache entry for user 23, will be refreshed on next access
2025-07-16 00:24:39,591 - WARNING - app - Found stale cache entry for user 19, will be refreshed on next access
2025-07-16 00:24:39,595 - WARNING - app - Found stale cache entry for user 8, will be refreshed on next access
2025-07-16 00:24:39,598 - WARNING - app - User 20: Missing balance/margin cache, refreshing...
2025-07-16 00:24:39,607 - WARNING - app - Found stale cache entry for user 5, will be refreshed on next access
2025-07-16 00:24:39,616 - WARNING - app - Found stale cache entry for user 24, will be refreshed on next access
2025-07-16 00:24:39,622 - WARNING - app - Found stale cache entry for user 13, will be refreshed on next access
2025-07-16 00:24:39,625 - WARNING - app - Found stale cache entry for user 16, will be refreshed on next access
2025-07-16 00:24:39,630 - WARNING - app - Found stale cache entry for user 25, will be refreshed on next access
2025-07-16 00:24:40,005 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:24:40,009 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:24:40,616 - DEBUG - app.firebase_stream - Firebase listener triggered (11). Event Type: patch, Path: /. Timestamp: 1752650680.6168168
2025-07-16 00:24:40,617 - DEBUG - app.firebase_stream - Prepared batch update for 25 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9290000000', 'o': '37.9260000000'}, 'NZDJPY': {'b': '88.4910000000', 'o': '88.4830000000'}, 'GBPAUD': {'b': '2.0542200000', 'o': '2.0540700000'}, 'USDJPY': {'b': '148.7420000000',
2025-07-16 00:24:40,618 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9290000000', 'o': '37.9260000000'}, 'NZDJPY': {'b': '88.4910000000', 'o': '88.4830000000'}, 'GBPAUD': {'b': '2.0542200000', 'o': '2.0540700000'}, 'USDJPY': {'b': '148.7420000000',...
2025-07-16 00:24:40,618 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:24:41,019 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:24:41,024 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:24:41,675 - WARNING - app - Found stale cache entry for user 12, will be refreshed on next access
2025-07-16 00:24:41,687 - WARNING - app - User 21: Missing balance/margin cache, refreshing...
2025-07-16 00:24:41,702 - WARNING - app - Found stale cache entry for user 21, will be refreshed on next access
2025-07-16 00:24:41,712 - WARNING - app - Found stale cache entry for user 22, will be refreshed on next access
2025-07-16 00:24:41,724 - WARNING - app - Found stale cache entry for user 6, will be refreshed on next access
2025-07-16 00:24:41,729 - WARNING - app - Found stale cache entry for user 20, will be refreshed on next access
2025-07-16 00:24:41,729 - INFO - app - Completed stale cache cleanup task
2025-07-16 00:24:41,737 - WARNING - app - User 22: Missing balance/margin cache, refreshing...
2025-07-16 00:24:41,762 - WARNING - app - User 23: Missing balance/margin cache, refreshing...
2025-07-16 00:24:41,804 - WARNING - app - User 25: Missing balance/margin cache, refreshing...
2025-07-16 00:24:41,843 - WARNING - app - User 26: Missing balance/margin cache, refreshing...
2025-07-16 00:24:41,878 - WARNING - app - User 2: Missing balance/margin cache, refreshing...
2025-07-16 00:24:41,924 - WARNING - app - User 3: Missing balance/margin cache, refreshing...
2025-07-16 00:24:42,008 - WARNING - app - User 5: Missing balance/margin cache, refreshing...
2025-07-16 00:24:42,028 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:24:42,030 - WARNING - app - User 6: Missing balance/margin cache, refreshing...
2025-07-16 00:24:42,031 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:24:42,080 - INFO - app - Cache validation completed
2025-07-16 00:24:42,858 - DEBUG - app.firebase_stream - Firebase listener triggered (12). Event Type: patch, Path: /. Timestamp: 1752650682.8582988
2025-07-16 00:24:42,858 - DEBUG - app.firebase_stream - Prepared batch update for 27 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0265000000', 'o': '13.0239000000'}, 'NZDJPY': {'b': '88.4790000000', 'o': '88.4720000000'}, 'GBPAUD': {'b': '2.0542100000', 'o': '2.0540800000'}, 'BTCUSD': {'b': '118201.670000000
2025-07-16 00:24:42,861 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0265000000', 'o': '13.0239000000'}, 'NZDJPY': {'b': '88.4790000000', 'o': '88.4720000000'}, 'GBPAUD': {'b': '2.0542100000', 'o': '2.0540800000'}, 'BTCUSD': {'b': '118201.670000000...
2025-07-16 00:24:42,861 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:24:43,044 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:24:43,046 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:24:43,256 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-07-16 00:24:43,317 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-07-16 00:24:43,424 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-07-16 00:24:43,428 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-07-16 00:24:43,452 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-07-16 00:24:43,488 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-07-16 00:24:43,488 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-07-16 00:24:43,489 - INFO - app.core.config - .env file loaded successfully.
2025-07-16 00:24:43,507 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-07-16 00:24:43,507 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-07-16 00:24:43,544 - INFO - app.core.config - .env file loaded successfully.
2025-07-16 00:24:43,559 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-07-16 00:24:43,559 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-07-16 00:24:43,639 - INFO - app.core.config - .env file loaded successfully.
2025-07-16 00:24:43,646 - INFO - app.core.config - .env file loaded successfully.
2025-07-16 00:24:43,659 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-07-16 00:24:43,660 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-07-16 00:24:43,663 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-07-16 00:24:43,663 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-07-16 00:24:43,669 - INFO - app.core.config - .env file loaded successfully.
2025-07-16 00:24:43,685 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-07-16 00:24:43,686 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-07-16 00:24:43,702 - INFO - app.core.config - .env file loaded successfully.
2025-07-16 00:24:43,703 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-07-16 00:24:43,703 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-07-16 00:24:43,714 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-07-16 00:24:43,714 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-07-16 00:24:44,048 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:24:44,050 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:24:45,052 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:24:45,055 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:24:45,215 - DEBUG - app.firebase_stream - Firebase listener triggered (13). Event Type: patch, Path: /. Timestamp: 1752650685.2155392
2025-07-16 00:24:45,217 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0255000000', 'o': '13.0229000000'}, 'XAGUSD': {'b': '37.9280000000', 'o': '37.9260000000'}, 'NZDJPY': {'b': '88.4920000000', 'o': '88.4870000000'}, 'GBPAUD': {'b': '2.0542300000',
2025-07-16 00:24:45,217 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0255000000', 'o': '13.0229000000'}, 'XAGUSD': {'b': '37.9280000000', 'o': '37.9260000000'}, 'NZDJPY': {'b': '88.4920000000', 'o': '88.4870000000'}, 'GBPAUD': {'b': '2.0542300000',...
2025-07-16 00:24:45,218 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:24:46,061 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:24:46,065 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:24:47,072 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:24:47,075 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:24:47,480 - DEBUG - app.firebase_stream - Firebase listener triggered (14). Event Type: patch, Path: /. Timestamp: 1752650687.4804468
2025-07-16 00:24:47,480 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0259000000', 'o': '13.0233000000'}, 'NZDJPY': {'b': '88.4790000000', 'o': '88.4720000000'}, 'GBPAUD': {'b': '2.0541800000', 'o': '2.0540400000'}, 'USDJPY': {'b': '148.7340000000',
2025-07-16 00:24:47,481 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0259000000', 'o': '13.0233000000'}, 'NZDJPY': {'b': '88.4790000000', 'o': '88.4720000000'}, 'GBPAUD': {'b': '2.0541800000', 'o': '2.0540400000'}, 'USDJPY': {'b': '148.7340000000',...
2025-07-16 00:24:47,483 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:24:48,091 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:24:48,095 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:24:49,108 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:24:49,113 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:24:49,742 - DEBUG - app.firebase_stream - Firebase listener triggered (15). Event Type: patch, Path: /. Timestamp: 1752650689.74264
2025-07-16 00:24:49,743 - DEBUG - app.firebase_stream - Prepared batch update for 30 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9330000000', 'o': '37.9270000000'}, 'NZDJPY': {'b': '88.4780000000', 'o': '88.4720000000'}, 'GBPAUD': {'b': '2.0541700000', 'o': '2.0540500000'}, 'BTCUSD': {'b': '118188.300000000
2025-07-16 00:24:49,743 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9330000000', 'o': '37.9270000000'}, 'NZDJPY': {'b': '88.4780000000', 'o': '88.4720000000'}, 'GBPAUD': {'b': '2.0541700000', 'o': '2.0540500000'}, 'BTCUSD': {'b': '118188.300000000...
2025-07-16 00:24:49,744 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:24:50,123 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:24:50,127 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:24:51,134 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:24:51,139 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:24:52,078 - DEBUG - app.firebase_stream - Firebase listener triggered (16). Event Type: patch, Path: /. Timestamp: 1752650692.0786335
2025-07-16 00:24:52,079 - DEBUG - app.firebase_stream - Prepared batch update for 22 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9320000000', 'o': '37.9270000000'}, 'NZDJPY': {'b': '88.4840000000', 'o': '88.4760000000'}, 'GBPAUD': {'b': '2.0541700000', 'o': '2.0540400000'}, 'USDJPY': {'b': '148.7390000000',
2025-07-16 00:24:52,080 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9320000000', 'o': '37.9270000000'}, 'NZDJPY': {'b': '88.4840000000', 'o': '88.4760000000'}, 'GBPAUD': {'b': '2.0541700000', 'o': '2.0540400000'}, 'USDJPY': {'b': '148.7390000000',...
2025-07-16 00:24:52,090 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:24:52,143 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:24:52,148 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:24:53,158 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:24:53,160 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:24:54,168 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:24:54,171 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:24:54,281 - DEBUG - app.firebase_stream - Firebase listener triggered (17). Event Type: patch, Path: /. Timestamp: 1752650694.281766
2025-07-16 00:24:54,282 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0254500000', 'o': '13.0229000000'}, 'XAGUSD': {'b': '37.9290000000', 'o': '37.9250000000'}, 'NZDJPY': {'b': '88.4760000000', 'o': '88.4700000000'}, 'GBPAUD': {'b': '2.0540700000',
2025-07-16 00:24:54,282 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0254500000', 'o': '13.0229000000'}, 'XAGUSD': {'b': '37.9290000000', 'o': '37.9250000000'}, 'NZDJPY': {'b': '88.4760000000', 'o': '88.4700000000'}, 'GBPAUD': {'b': '2.0540700000',...
2025-07-16 00:24:54,282 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:24:55,175 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:24:55,180 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:24:56,190 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:24:56,192 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:24:56,682 - DEBUG - app.firebase_stream - Firebase listener triggered (18). Event Type: patch, Path: /. Timestamp: 1752650696.682262
2025-07-16 00:24:56,682 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0249800000', 'o': '13.0224000000'}, 'NZDJPY': {'b': '88.4800000000', 'o': '88.4720000000'}, 'GBPAUD': {'b': '2.0540500000', 'o': '2.0538900000'}, 'BTCUSD': {'b': '118179.800000000
2025-07-16 00:24:56,682 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0249800000', 'o': '13.0224000000'}, 'NZDJPY': {'b': '88.4800000000', 'o': '88.4720000000'}, 'GBPAUD': {'b': '2.0540500000', 'o': '2.0538900000'}, 'BTCUSD': {'b': '118179.800000000...
2025-07-16 00:24:56,683 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:24:57,208 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:24:57,211 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:24:58,228 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:24:58,230 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:24:58,935 - DEBUG - app.firebase_stream - Firebase listener triggered (19). Event Type: patch, Path: /. Timestamp: 1752650698.935599
2025-07-16 00:24:58,935 - DEBUG - app.firebase_stream - Prepared batch update for 25 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4780000000', 'o': '88.4710000000'}, 'GBPAUD': {'b': '2.0540600000', 'o': '2.0539300000'}, 'USDJPY': {'b': '148.7390000000', 'o': '148.7340000000'}, 'USDCNH': {'b': '7.1810900000',
2025-07-16 00:24:58,936 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4780000000', 'o': '88.4710000000'}, 'GBPAUD': {'b': '2.0540600000', 'o': '2.0539300000'}, 'USDJPY': {'b': '148.7390000000', 'o': '148.7340000000'}, 'USDCNH': {'b': '7.1810900000',...
2025-07-16 00:24:58,936 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:24:59,237 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:24:59,240 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:00,253 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:00,257 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:01,188 - DEBUG - app.firebase_stream - Firebase listener triggered (20). Event Type: patch, Path: /. Timestamp: 1752650701.1882071
2025-07-16 00:25:01,188 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0249000000', 'o': '13.0223000000'}, 'NZDJPY': {'b': '88.4750000000', 'o': '88.4660000000'}, 'GBPAUD': {'b': '2.0541500000', 'o': '2.0540200000'}, 'USDJPY': {'b': '148.7490000000',
2025-07-16 00:25:01,188 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0249000000', 'o': '13.0223000000'}, 'NZDJPY': {'b': '88.4750000000', 'o': '88.4660000000'}, 'GBPAUD': {'b': '2.0541500000', 'o': '2.0540200000'}, 'USDJPY': {'b': '148.7490000000',...
2025-07-16 00:25:01,189 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:25:01,265 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:01,267 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:02,282 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:02,286 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:03,300 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:03,304 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:03,541 - DEBUG - app.firebase_stream - Firebase listener triggered (21). Event Type: patch, Path: /. Timestamp: 1752650703.5416887
2025-07-16 00:25:03,541 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0250000000', 'o': '13.0224000000'}, 'XAGUSD': {'b': '37.9290000000', 'o': '37.9260000000'}, 'NZDJPY': {'b': '88.4780000000', 'o': '88.4700000000'}, 'GBPAUD': {'b': '2.0541600000',
2025-07-16 00:25:03,542 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0250000000', 'o': '13.0224000000'}, 'XAGUSD': {'b': '37.9290000000', 'o': '37.9260000000'}, 'NZDJPY': {'b': '88.4780000000', 'o': '88.4700000000'}, 'GBPAUD': {'b': '2.0541600000',...
2025-07-16 00:25:03,542 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:25:04,313 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:04,316 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:05,332 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:05,334 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:05,797 - DEBUG - app.firebase_stream - Firebase listener triggered (22). Event Type: patch, Path: /. Timestamp: 1752650705.7972906
2025-07-16 00:25:05,797 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4710000000', 'o': '88.4700000000'}, 'GBPAUD': {'b': '2.0542100000', 'o': '2.0540600000'}, 'USDJPY': {'b': '148.7530000000', 'o': '148.7510000000'}, 'CADCHF': {'b': '0.5840700000',
2025-07-16 00:25:05,797 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4710000000', 'o': '88.4700000000'}, 'GBPAUD': {'b': '2.0542100000', 'o': '2.0540600000'}, 'USDJPY': {'b': '148.7530000000', 'o': '148.7510000000'}, 'CADCHF': {'b': '0.5840700000',...
2025-07-16 00:25:05,797 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:25:06,336 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:06,340 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:07,351 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:07,355 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:08,056 - DEBUG - app.firebase_stream - Firebase listener triggered (23). Event Type: patch, Path: /. Timestamp: 1752650708.0568197
2025-07-16 00:25:08,057 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9290000000', 'o': '37.9270000000'}, 'NZDJPY': {'b': '88.4680000000', 'o': '88.4610000000'}, 'GBPAUD': {'b': '2.0541500000', 'o': '2.0540600000'}, 'BTCUSD': {'b': '118209.900000000
2025-07-16 00:25:08,057 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9290000000', 'o': '37.9270000000'}, 'NZDJPY': {'b': '88.4680000000', 'o': '88.4610000000'}, 'GBPAUD': {'b': '2.0541500000', 'o': '2.0540600000'}, 'BTCUSD': {'b': '118209.900000000...
2025-07-16 00:25:08,057 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:25:08,371 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:08,375 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:09,377 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:09,380 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:10,382 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:10,385 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:10,428 - DEBUG - app.firebase_stream - Firebase listener triggered (24). Event Type: patch, Path: /. Timestamp: 1752650710.4284463
2025-07-16 00:25:10,428 - DEBUG - app.firebase_stream - Prepared batch update for 34 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0244000000', 'o': '13.0218000000'}, 'XAGUSD': {'b': '37.9280000000', 'o': '37.9220000000'}, 'NZDJPY': {'b': '88.4610000000', 'o': '88.4610000000'}, 'USDJPY': {'b': '148.7520000000
2025-07-16 00:25:10,429 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0244000000', 'o': '13.0218000000'}, 'XAGUSD': {'b': '37.9280000000', 'o': '37.9220000000'}, 'NZDJPY': {'b': '88.4610000000', 'o': '88.4610000000'}, 'USDJPY': {'b': '148.7520000000...
2025-07-16 00:25:10,431 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:25:11,399 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:11,403 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:12,419 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:12,422 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:12,699 - DEBUG - app.firebase_stream - Firebase listener triggered (25). Event Type: patch, Path: /. Timestamp: 1752650712.6996305
2025-07-16 00:25:12,700 - DEBUG - app.firebase_stream - Prepared batch update for 34 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0238400000', 'o': '13.0217000000'}, 'NZDJPY': {'b': '88.4630000000', 'o': '88.4540000000'}, 'GBPAUD': {'b': '2.0540600000', 'o': '2.0539700000'}, 'BTCUSD': {'b': '118172.620000000
2025-07-16 00:25:12,701 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0238400000', 'o': '13.0217000000'}, 'NZDJPY': {'b': '88.4630000000', 'o': '88.4540000000'}, 'GBPAUD': {'b': '2.0540600000', 'o': '2.0539700000'}, 'BTCUSD': {'b': '118172.620000000...
2025-07-16 00:25:12,702 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:25:13,424 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:13,427 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:14,430 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:14,433 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:14,998 - DEBUG - app.firebase_stream - Firebase listener triggered (26). Event Type: patch, Path: /. Timestamp: 1752650714.9984634
2025-07-16 00:25:14,999 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4610000000', 'o': '88.4530000000'}, 'GBPAUD': {'b': '2.0539700000', 'o': '2.0539100000'}, 'USDJPY': {'b': '148.7490000000', 'o': '148.7460000000'}, 'USDCNH': {'b': '7.1810000000',
2025-07-16 00:25:15,000 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4610000000', 'o': '88.4530000000'}, 'GBPAUD': {'b': '2.0539700000', 'o': '2.0539100000'}, 'USDJPY': {'b': '148.7490000000', 'o': '148.7460000000'}, 'USDCNH': {'b': '7.1810000000',...
2025-07-16 00:25:15,000 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:25:15,447 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:15,450 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:16,452 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:16,456 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:16,945 - WARNING - app - User 4 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:25:16,949 - WARNING - app - No user data found for user 5 (live). Skipping portfolio update.
2025-07-16 00:25:16,958 - WARNING - app - No group settings found for group string. Skipping portfolio update for user 8.
2025-07-16 00:25:16,990 - WARNING - app - User 9 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:25:17,021 - WARNING - app - User 10 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:25:17,054 - WARNING - app - User 11 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:25:17,086 - WARNING - app - User 12 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:25:17,118 - WARNING - app - User 13 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:25:17,281 - DEBUG - app.firebase_stream - Firebase listener triggered (27). Event Type: patch, Path: /. Timestamp: 1752650717.2812145
2025-07-16 00:25:17,281 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0237000000', 'o': '13.0211000000'}, 'XAGUSD': {'b': '37.9240000000', 'o': '37.9190000000'}, 'GBPAUD': {'b': '2.0542100000', 'o': '2.0540700000'}, 'BTCUSD': {'b': '118172.100000000
2025-07-16 00:25:17,282 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0237000000', 'o': '13.0211000000'}, 'XAGUSD': {'b': '37.9240000000', 'o': '37.9190000000'}, 'GBPAUD': {'b': '2.0542100000', 'o': '2.0540700000'}, 'BTCUSD': {'b': '118172.100000000...
2025-07-16 00:25:17,282 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:25:17,500 - DEBUG - app.services.portfolio_calculator - Position calculation for BTCUSD: Type=BUY, Entry=118908.50000000, Current=118122.62, Quantity=0.40000000, Contract Size=1.00000000, PnL=-314.352000000000000000000000, PnL USD=-314.352000000000000000000000, Commission=235.57000000, Final PnL=-549.922000000000000000000000
2025-07-16 00:25:17,500 - WARNING - app.services.portfolio_calculator - MARGIN CALL ALERT: User has margin level 99.25040832115533396372388894% which is below threshold 100.0%
2025-07-16 00:25:17,501 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:17,515 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:17,662 - WARNING - app - User 16 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:25:17,710 - WARNING - app - User 17 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:25:17,749 - WARNING - app - User 18 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:25:17,780 - WARNING - app - User 19 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:25:17,815 - WARNING - app - User 20 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:25:17,847 - WARNING - app - User 21 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:25:17,878 - WARNING - app - User 22 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:25:17,927 - WARNING - app - User 23 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:25:17,968 - WARNING - app - User 25 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:25:18,377 - DEBUG - app.services.portfolio_calculator - Position calculation for XAGUSD: Type=BUY, Entry=41.09800000, Current=37.906499999999994, Quantity=0.01000000, Contract Size=5000.00000000, PnL=-159.5750000000003000000000000, PnL USD=-159.5750000000003000000000000, Commission=0.10000000, Final PnL=-159.6750000000003000000000000
2025-07-16 00:25:18,377 - DEBUG - app.services.portfolio_calculator - Position calculation for BTCUSD: Type=BUY, Entry=132091.90000000, Current=118122.0, Quantity=6.00000000, Contract Size=1.00000000, PnL=-83819.40000000000000000000000, PnL USD=-83819.40000000000000000000000, Commission=3661.62000000, Final PnL=-87481.02000000000000000000000
2025-07-16 00:25:18,377 - WARNING - app.services.portfolio_calculator - MARGIN CALL ALERT: User has margin level 66.01731569223686285651987545% which is below threshold 100.0%
2025-07-16 00:25:18,799 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:18,800 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=96.66800000, Current=97.006, Quantity=0.01000000, Contract Size=100000.00000000, PnL=338.000000000000000000000000, PnL USD=2.272314735759376659697338434, Commission=0.10000000, Final PnL=2.172314735759376659697338434
2025-07-16 00:25:18,801 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=96.56000000, Current=97.111, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-551.000000000000000000000000, PnL USD=-3.704276388767504554713708512, Commission=0.10000000, Final PnL=-3.804276388767504554713708512
2025-07-16 00:25:18,804 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:18,806 - WARNING - app - User 2 has no group_name set. Skipping portfolio update.
2025-07-16 00:25:18,816 - WARNING - app - No group settings found for group string. Skipping portfolio update for user 3.
2025-07-16 00:25:18,847 - WARNING - app - User 4 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:25:18,848 - WARNING - app - User 5 has no group_name set. Skipping portfolio update.
2025-07-16 00:25:18,849 - WARNING - app - User 6 has no group_name set. Skipping portfolio update.
2025-07-16 00:25:19,298 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64743000, Current=0.65235, Quantity=0.10000000, Contract Size=100000.00000000, PnL=49.200000000000000000000000, PnL USD=49.200000000000000000000000, Commission=1.00000000, Final PnL=48.200000000000000000000000
2025-07-16 00:25:19,298 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=SELL, Entry=0.64707000, Current=0.65267, Quantity=0.22000000, Contract Size=100000.00000000, PnL=-123.200000000000000000000000, PnL USD=-123.200000000000000000000000, Commission=2.20000000, Final PnL=-125.400000000000000000000000
2025-07-16 00:25:19,300 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFSGD: Type=BUY, Entry=1.57561500, Current=1.6033350000000002, Quantity=0.10000000, Contract Size=100000.00000000, PnL=277.2000000000020000000000000, PnL USD=215.8491858934941560312405099, Commission=1.00000000, Final PnL=214.8491858934941560312405099
2025-07-16 00:25:19,300 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFSGD: Type=SELL, Entry=1.57505500, Current=1.6037249999999998, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-286.6999999999980000000000000, PnL USD=-223.2466147029722090279778544, Commission=1.00000000, Final PnL=-224.2466147029722090279778544
2025-07-16 00:25:19,301 - DEBUG - app.services.portfolio_calculator - Position calculation for CADJPY: Type=SELL, Entry=106.24150000, Current=108.4995, Quantity=0.15000000, Contract Size=100000.00000000, PnL=-33870.00000000000000000000000, PnL USD=-227.7020713022783652779551857, Commission=0E-8, Final PnL=-227.7020713022783652779551857
2025-07-16 00:25:19,302 - DEBUG - app.services.portfolio_calculator - Position calculation for CADJPY: Type=BUY, Entry=106.27050000, Current=108.4645, Quantity=0.15000000, Contract Size=100000.00000000, PnL=32910.00000000000000000000000, PnL USD=221.2481596267487747652053487, Commission=0E-8, Final PnL=221.2481596267487747652053487
2025-07-16 00:25:19,302 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=BUY, Entry=1.77481000, Current=1.7815599999999998, Quantity=0.22000000, Contract Size=100000.00000000, PnL=148.4999999999956000000000000, PnL USD=96.89921999999712891200000000, Commission=2.20000000, Final PnL=94.69921999999712891200000000
2025-07-16 00:25:19,302 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=SELL, Entry=1.77439000, Current=1.78186, Quantity=0.21000000, Contract Size=100000.00000000, PnL=-156.870000000000000000000000, PnL USD=-102.3608124000000000000000000, Commission=2.10000000, Final PnL=-104.4608124000000000000000000
2025-07-16 00:25:19,303 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFJPY: Type=BUY, Entry=178.15500000, Current=185.715, Quantity=0.10000000, Contract Size=100000.00000000, PnL=75600.00000000000000000000000, PnL USD=508.2455444479552528790496615, Commission=1.00000000, Final PnL=507.2455444479552528790496615
2025-07-16 00:25:19,304 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFJPY: Type=SELL, Entry=178.09500000, Current=185.765, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-76700.00000000000000000000000, PnL USD=-515.6406515761662420082421830, Commission=1.00000000, Final PnL=-516.6406515761662420082421830
2025-07-16 00:25:19,304 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=BUY, Entry=1.77480000, Current=1.7815599999999998, Quantity=0.05000000, Contract Size=100000.00000000, PnL=33.79999999999900000000000000, PnL USD=22.05517599999934748000000000, Commission=0.50000000, Final PnL=21.55517599999934748000000000
2025-07-16 00:25:19,304 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=SELL, Entry=1.77442000, Current=1.78186, Quantity=0.05000000, Contract Size=100000.00000000, PnL=-37.200000000000000000000000, PnL USD=-24.27374400000000000000000000, Commission=0.50000000, Final PnL=-24.77374400000000000000000000
2025-07-16 00:25:19,304 - DEBUG - app.services.portfolio_calculator - Position calculation for EURGBP: Type=SELL, Entry=0.85403000, Current=0.86765, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-136.200000000000000000000000, PnL USD=-182.5338780000000000000000000, Commission=1.00000000, Final PnL=-183.5338780000000000000000000
2025-07-16 00:25:19,305 - DEBUG - app.services.portfolio_calculator - Position calculation for EURJPY: Type=BUY, Entry=167.26050000, Current=172.9155, Quantity=0.10000000, Contract Size=100000.00000000, PnL=56550.00000000000000000000000, PnL USD=380.1757346366649411416700841, Commission=1.00000000, Final PnL=379.1757346366649411416700841
2025-07-16 00:25:19,306 - DEBUG - app.services.portfolio_calculator - Position calculation for EURJPY: Type=SELL, Entry=167.23150000, Current=172.94549999999998, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-57139.99999999980000000000000, PnL USD=-384.1422011872494907460318527, Commission=1.00000000, Final PnL=-385.1422011872494907460318527
2025-07-16 00:25:19,306 - DEBUG - app.services.portfolio_calculator - Position calculation for EURNZD: Type=SELL, Entry=1.91952500, Current=1.9552049999999999, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-356.7999999999990000000000000, PnL USD=-212.1889599999994053000000000, Commission=1.00000000, Final PnL=-213.1889599999994053000000000
2025-07-16 00:25:19,306 - DEBUG - app.services.portfolio_calculator - Position calculation for EURNZD: Type=BUY, Entry=1.92063500, Current=1.954815, Quantity=0.10000000, Contract Size=100000.00000000, PnL=341.800000000000000000000000, PnL USD=203.2684600000000000000000000, Commission=1.00000000, Final PnL=202.2684600000000000000000000
2025-07-16 00:25:19,306 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=SELL, Entry=1.34376000, Current=1.34029, Quantity=0.25000000, Contract Size=0E-8, PnL=0E-24, PnL USD=0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:25:19,306 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=SELL, Entry=1.34361000, Current=1.34029, Quantity=0.25000000, Contract Size=0E-8, PnL=0E-24, PnL USD=0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:25:19,306 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=BUY, Entry=1.34379000, Current=1.34008, Quantity=0.25000000, Contract Size=0E-8, PnL=-0E-24, PnL USD=-0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:25:19,307 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=BUY, Entry=1.34378000, Current=1.34008, Quantity=0.25000000, Contract Size=0E-8, PnL=-0E-24, PnL USD=-0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:25:19,307 - DEBUG - app.services.portfolio_calculator - Position calculation for NZDJPY: Type=BUY, Entry=87.10150000, Current=88.4405, Quantity=0.01000000, Contract Size=100000.00000000, PnL=1339.000000000000000000000000, PnL USD=9.001862222431376767262533026, Commission=0.10000000, Final PnL=8.901862222431376767262533026
2025-07-16 00:25:19,308 - DEBUG - app.services.portfolio_calculator - Position calculation for USDCHF: Type=SELL, Entry=0.81771000, Current=0.80101, Quantity=0.15000000, Contract Size=100000.00000000, PnL=250.500000000000000000000000, PnL USD=312.7887520915016357415778039, Commission=1.50000000, Final PnL=311.2887520915016357415778039
2025-07-16 00:25:19,309 - DEBUG - app.services.portfolio_calculator - Position calculation for USDCHF: Type=BUY, Entry=0.81805000, Current=0.80069, Quantity=0.15000000, Contract Size=100000.00000000, PnL=-260.400000000000000000000000, PnL USD=-325.1504632520040955972329746, Commission=1.50000000, Final PnL=-326.6504632520040955972329746
2025-07-16 00:25:19,310 - DEBUG - app.services.portfolio_calculator - Position calculation for USDNOK: Type=BUY, Entry=10.04973000, Current=10.255700000000001, Quantity=0.10000000, Contract Size=100000.00000000, PnL=2059.700000000010000000000000, PnL USD=200.8189928338136791303076098, Commission=1.00000000, Final PnL=199.8189928338136791303076098
2025-07-16 00:25:19,311 - DEBUG - app.services.portfolio_calculator - Position calculation for USDNOK: Type=BUY, Entry=10.05023000, Current=10.255700000000001, Quantity=0.10000000, Contract Size=100000.00000000, PnL=2054.700000000010000000000000, PnL USD=200.3314970994013552381416663, Commission=1.00000000, Final PnL=199.3314970994013552381416663
2025-07-16 00:25:19,312 - DEBUG - app.services.portfolio_calculator - Position calculation for USDSGD: Type=SELL, Entry=1.28795000, Current=1.28438, Quantity=0.31000000, Contract Size=100000.00000000, PnL=110.670000000000000000000000, PnL USD=86.17615224687166629030625355, Commission=3.10000000, Final PnL=83.07615224687166629030625355
2025-07-16 00:25:19,312 - DEBUG - app.services.portfolio_calculator - Position calculation for USDTRY: Type=SELL, Entry=39.56087000, Current=40.25721, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-6963.400000000000000000000000, PnL USD=-172.9733865314556005828542869, Commission=1.00000000, Final PnL=-173.9733865314556005828542869
2025-07-16 00:25:19,632 - DEBUG - app.firebase_stream - Firebase listener triggered (28). Event Type: patch, Path: /. Timestamp: 1752650719.6324348
2025-07-16 00:25:19,632 - DEBUG - app.firebase_stream - Prepared batch update for 35 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4610000000', 'o': '88.4520000000'}, 'GBPAUD': {'b': '2.0538800000', 'o': '2.0537700000'}, 'BTCUSD': {'b': '118201.6700000000', 'o': '118201.6700000000'}, 'USDJPY': {'b': '148.7450
2025-07-16 00:25:19,633 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4610000000', 'o': '88.4520000000'}, 'GBPAUD': {'b': '2.0538800000', 'o': '2.0537700000'}, 'BTCUSD': {'b': '118201.6700000000', 'o': '118201.6700000000'}, 'USDJPY': {'b': '148.7450...
2025-07-16 00:25:19,633 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:25:19,810 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:19,823 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:20,232 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.89752000, Current=0.89471, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-2.810000000000000000000000, PnL USD=-2.049255048387214398751485892, Commission=0.10000000, Final PnL=-2.149255048387214398751485892
2025-07-16 00:25:20,276 - WARNING - app - User 12 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:25:20,318 - WARNING - app - User 13 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:25:20,844 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:20,848 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:21,876 - DEBUG - app.firebase_stream - Firebase listener triggered (29). Event Type: patch, Path: /. Timestamp: 1752650721.876383
2025-07-16 00:25:21,876 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:21,877 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0234800000', 'o': '13.0209000000'}, 'GBPAUD': {'b': '2.0539200000', 'o': '2.0538000000'}, 'BTCUSD': {'b': '118172.1000000000', 'o': '118172.0000000000'}, 'USDJPY': {'b': '148.7470
2025-07-16 00:25:21,878 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0234800000', 'o': '13.0209000000'}, 'GBPAUD': {'b': '2.0539200000', 'o': '2.0538000000'}, 'BTCUSD': {'b': '118172.1000000000', 'o': '118172.0000000000'}, 'USDJPY': {'b': '148.7470...
2025-07-16 00:25:21,878 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:25:21,884 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:22,921 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:22,923 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:23,929 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:23,933 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:24,236 - DEBUG - app.firebase_stream - Firebase listener triggered (30). Event Type: patch, Path: /. Timestamp: 1752650724.2366333
2025-07-16 00:25:24,237 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0259000000', 'o': '13.0233000000'}, 'NZDJPY': {'b': '88.4800000000', 'o': '88.4720000000'}, 'GBPAUD': {'b': '2.0539400000', 'o': '2.0538000000'}, 'USDJPY': {'b': '148.7480000000',
2025-07-16 00:25:24,237 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0259000000', 'o': '13.0233000000'}, 'NZDJPY': {'b': '88.4800000000', 'o': '88.4720000000'}, 'GBPAUD': {'b': '2.0539400000', 'o': '2.0538000000'}, 'USDJPY': {'b': '148.7480000000',...
2025-07-16 00:25:24,237 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:25:24,949 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:24,951 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:25,966 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:25,969 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:26,485 - DEBUG - app.firebase_stream - Firebase listener triggered (31). Event Type: patch, Path: /. Timestamp: 1752650726.485885
2025-07-16 00:25:26,486 - DEBUG - app.firebase_stream - Prepared batch update for 37 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0236000000', 'o': '13.0212000000'}, 'XAGUSD': {'b': '37.9230000000', 'o': '37.9180000000'}, 'NZDJPY': {'b': '88.4510000000', 'o': '88.4430000000'}, 'GBPAUD': {'b': '2.0541700000',
2025-07-16 00:25:26,487 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0236000000', 'o': '13.0212000000'}, 'XAGUSD': {'b': '37.9230000000', 'o': '37.9180000000'}, 'NZDJPY': {'b': '88.4510000000', 'o': '88.4430000000'}, 'GBPAUD': {'b': '2.0541700000',...
2025-07-16 00:25:26,490 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:25:26,982 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:26,985 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:28,003 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:28,007 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:28,857 - DEBUG - app.firebase_stream - Firebase listener triggered (32). Event Type: patch, Path: /. Timestamp: 1752650728.8579466
2025-07-16 00:25:28,858 - DEBUG - app.firebase_stream - Prepared batch update for 34 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0235000000', 'o': '13.0209000000'}, 'NZDJPY': {'b': '88.4550000000', 'o': '88.4440000000'}, 'GBPAUD': {'b': '2.0539300000', 'o': '2.0538200000'}, 'BTCUSD': {'b': '118168.700000000
2025-07-16 00:25:28,858 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0235000000', 'o': '13.0209000000'}, 'NZDJPY': {'b': '88.4550000000', 'o': '88.4440000000'}, 'GBPAUD': {'b': '2.0539300000', 'o': '2.0538200000'}, 'BTCUSD': {'b': '118168.700000000...
2025-07-16 00:25:28,859 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:25:29,010 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:29,011 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:30,022 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:30,025 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:31,032 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:31,069 - DEBUG - app.firebase_stream - Firebase listener triggered (33). Event Type: patch, Path: /. Timestamp: 1752650731.0698867
2025-07-16 00:25:31,070 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:31,071 - DEBUG - app.firebase_stream - Prepared batch update for 36 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9290000000', 'o': '37.9250000000'}, 'NZDJPY': {'b': '88.4520000000', 'o': '88.4440000000'}, 'GBPAUD': {'b': '2.0540200000', 'o': '2.0539000000'}, 'USDJPY': {'b': '148.7580000000',
2025-07-16 00:25:31,072 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9290000000', 'o': '37.9250000000'}, 'NZDJPY': {'b': '88.4520000000', 'o': '88.4440000000'}, 'GBPAUD': {'b': '2.0540200000', 'o': '2.0539000000'}, 'USDJPY': {'b': '148.7580000000',...
2025-07-16 00:25:31,073 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:25:32,089 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:32,094 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:33,106 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:33,110 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:33,463 - DEBUG - app.firebase_stream - Firebase listener triggered (34). Event Type: patch, Path: /. Timestamp: 1752650733.4632456
2025-07-16 00:25:33,463 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0249800000', 'o': '13.0226000000'}, 'XAGUSD': {'b': '37.9180000000', 'o': '37.9140000000'}, 'NZDJPY': {'b': '88.4520000000', 'o': '88.4410000000'}, 'GBPAUD': {'b': '2.0539700000',
2025-07-16 00:25:33,465 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0249800000', 'o': '13.0226000000'}, 'XAGUSD': {'b': '37.9180000000', 'o': '37.9140000000'}, 'NZDJPY': {'b': '88.4520000000', 'o': '88.4410000000'}, 'GBPAUD': {'b': '2.0539700000',...
2025-07-16 00:25:33,479 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:25:34,124 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:34,128 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:35,134 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:35,136 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:35,706 - DEBUG - app.firebase_stream - Firebase listener triggered (35). Event Type: patch, Path: /. Timestamp: 1752650735.7065578
2025-07-16 00:25:35,707 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0233600000', 'o': '13.0210000000'}, 'NZDJPY': {'b': '88.4530000000', 'o': '88.4420000000'}, 'GBPAUD': {'b': '2.0539500000', 'o': '2.0538500000'}, 'USDJPY': {'b': '148.7590000000',
2025-07-16 00:25:35,708 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0233600000', 'o': '13.0210000000'}, 'NZDJPY': {'b': '88.4530000000', 'o': '88.4420000000'}, 'GBPAUD': {'b': '2.0539500000', 'o': '2.0538500000'}, 'USDJPY': {'b': '148.7590000000',...
2025-07-16 00:25:35,709 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:25:36,145 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:36,149 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:37,165 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:37,169 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:38,064 - DEBUG - app.firebase_stream - Firebase listener triggered (36). Event Type: patch, Path: /. Timestamp: 1752650738.0639675
2025-07-16 00:25:38,064 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0234000000', 'o': '13.0208000000'}, 'NZDJPY': {'b': '88.4780000000', 'o': '88.4700000000'}, 'GBPAUD': {'b': '2.0541600000', 'o': '2.0540300000'}, 'BTCUSD': {'b': '118179.800000000
2025-07-16 00:25:38,065 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0234000000', 'o': '13.0208000000'}, 'NZDJPY': {'b': '88.4780000000', 'o': '88.4700000000'}, 'GBPAUD': {'b': '2.0541600000', 'o': '2.0540300000'}, 'BTCUSD': {'b': '118179.800000000...
2025-07-16 00:25:38,067 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:25:38,172 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:38,174 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:39,182 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:39,184 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:40,190 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:40,194 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:40,316 - DEBUG - app.firebase_stream - Firebase listener triggered (37). Event Type: patch, Path: /. Timestamp: 1752650740.3167903
2025-07-16 00:25:40,317 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4700000000', 'o': '88.4700000000'}, 'GBPAUD': {'b': '2.0540000000', 'o': '2.0538600000'}, 'BTCUSD': {'b': '118176.3200000000', 'o': '118176.3200000000'}, 'USDJPY': {'b': '148.7580
2025-07-16 00:25:40,318 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4700000000', 'o': '88.4700000000'}, 'GBPAUD': {'b': '2.0540000000', 'o': '2.0538600000'}, 'BTCUSD': {'b': '118176.3200000000', 'o': '118176.3200000000'}, 'USDJPY': {'b': '148.7580...
2025-07-16 00:25:40,321 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:25:41,210 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:41,215 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:42,230 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:42,235 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:42,669 - DEBUG - app.firebase_stream - Firebase listener triggered (38). Event Type: patch, Path: /. Timestamp: 1752650742.6692054
2025-07-16 00:25:42,669 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4540000000', 'o': '88.4490000000'}, 'GBPAUD': {'b': '2.0539800000', 'o': '2.0538300000'}, 'BTCUSD': {'b': '118179.8000000000', 'o': '118179.7000000000'}, 'USDJPY': {'b': '148.7620
2025-07-16 00:25:42,670 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4540000000', 'o': '88.4490000000'}, 'GBPAUD': {'b': '2.0539800000', 'o': '2.0538300000'}, 'BTCUSD': {'b': '118179.8000000000', 'o': '118179.7000000000'}, 'USDJPY': {'b': '148.7620...
2025-07-16 00:25:42,672 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:25:43,246 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:43,250 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:44,264 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:44,268 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:44,933 - DEBUG - app.firebase_stream - Firebase listener triggered (39). Event Type: patch, Path: /. Timestamp: 1752650744.9334486
2025-07-16 00:25:44,933 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0239000000', 'o': '13.0213000000'}, 'XAGUSD': {'b': '37.9220000000', 'o': '37.9180000000'}, 'NZDJPY': {'b': '88.4560000000', 'o': '88.4490000000'}, 'GBPAUD': {'b': '2.0539800000',
2025-07-16 00:25:44,934 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0239000000', 'o': '13.0213000000'}, 'XAGUSD': {'b': '37.9220000000', 'o': '37.9180000000'}, 'NZDJPY': {'b': '88.4560000000', 'o': '88.4490000000'}, 'GBPAUD': {'b': '2.0539800000',...
2025-07-16 00:25:44,935 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:25:45,283 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:45,286 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:46,303 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:46,307 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:47,207 - DEBUG - app.firebase_stream - Firebase listener triggered (40). Event Type: patch, Path: /. Timestamp: 1752650747.20707
2025-07-16 00:25:47,207 - DEBUG - app.firebase_stream - Prepared batch update for 34 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0243000000', 'o': '13.0217000000'}, 'NZDJPY': {'b': '88.4610000000', 'o': '88.4540000000'}, 'GBPAUD': {'b': '2.0539300000', 'o': '2.0537500000'}, 'BTCUSD': {'b': '118176.930000000
2025-07-16 00:25:47,208 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0243000000', 'o': '13.0217000000'}, 'NZDJPY': {'b': '88.4610000000', 'o': '88.4540000000'}, 'GBPAUD': {'b': '2.0539300000', 'o': '2.0537500000'}, 'BTCUSD': {'b': '118176.930000000...
2025-07-16 00:25:47,209 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:25:47,309 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:47,312 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:48,320 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:48,324 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:49,338 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:49,342 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:49,563 - DEBUG - app.firebase_stream - Firebase listener triggered (41). Event Type: patch, Path: /. Timestamp: 1752650749.5631058
2025-07-16 00:25:49,563 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0238400000', 'o': '13.0216000000'}, 'XAGUSD': {'b': '37.9220000000', 'o': '37.9160000000'}, 'NZDJPY': {'b': '88.4600000000', 'o': '88.4510000000'}, 'GBPAUD': {'b': '2.0539200000',
2025-07-16 00:25:49,565 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0238400000', 'o': '13.0216000000'}, 'XAGUSD': {'b': '37.9220000000', 'o': '37.9160000000'}, 'NZDJPY': {'b': '88.4600000000', 'o': '88.4510000000'}, 'GBPAUD': {'b': '2.0539200000',...
2025-07-16 00:25:49,566 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:25:49,830 - INFO - app.api.v1.endpoints.users - User ID 26 updated successfully by admin 5.
2025-07-16 00:25:50,348 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:50,351 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:51,361 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:51,366 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:52,186 - DEBUG - app.firebase_stream - Firebase listener triggered (42). Event Type: patch, Path: /. Timestamp: 1752650752.1868086
2025-07-16 00:25:52,187 - DEBUG - app.firebase_stream - Prepared batch update for 23 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0244000000', 'o': '13.0218000000'}, 'USDJPY': {'b': '148.7790000000', 'o': '148.7740000000'}, 'USDCNH': {'b': '7.1810700000', 'o': '7.1810700000'}, 'EURZAR': {'b': '20.8210300000'
2025-07-16 00:25:52,187 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0244000000', 'o': '13.0218000000'}, 'USDJPY': {'b': '148.7790000000', 'o': '148.7740000000'}, 'USDCNH': {'b': '7.1810700000', 'o': '7.1810700000'}, 'EURZAR': {'b': '20.8210300000'...
2025-07-16 00:25:52,188 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:25:52,374 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:52,377 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:53,386 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:53,390 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:54,392 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:54,395 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:54,566 - DEBUG - app.firebase_stream - Firebase listener triggered (43). Event Type: patch, Path: /. Timestamp: 1752650754.56631
2025-07-16 00:25:54,566 - DEBUG - app.firebase_stream - Prepared batch update for 34 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9250000000', 'o': '37.9170000000'}, 'NZDJPY': {'b': '88.4620000000', 'o': '88.4530000000'}, 'GBPAUD': {'b': '2.0538900000', 'o': '2.0537400000'}, 'USDJPY': {'b': '148.7470000000',
2025-07-16 00:25:54,567 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9250000000', 'o': '37.9170000000'}, 'NZDJPY': {'b': '88.4620000000', 'o': '88.4530000000'}, 'GBPAUD': {'b': '2.0538900000', 'o': '2.0537400000'}, 'USDJPY': {'b': '148.7470000000',...
2025-07-16 00:25:54,567 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:25:55,397 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:55,401 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:56,412 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:56,415 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:56,800 - DEBUG - app.firebase_stream - Firebase listener triggered (44). Event Type: patch, Path: /. Timestamp: 1752650756.8006058
2025-07-16 00:25:56,801 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0241900000', 'o': '13.0219000000'}, 'NZDJPY': {'b': '88.4610000000', 'o': '88.4540000000'}, 'GBPAUD': {'b': '2.0538900000', 'o': '2.0537600000'}, 'USDJPY': {'b': '148.7770000000',
2025-07-16 00:25:56,801 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0241900000', 'o': '13.0219000000'}, 'NZDJPY': {'b': '88.4610000000', 'o': '88.4540000000'}, 'GBPAUD': {'b': '2.0538900000', 'o': '2.0537600000'}, 'USDJPY': {'b': '148.7770000000',...
2025-07-16 00:25:56,802 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:25:57,430 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:57,433 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:58,449 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:58,453 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:25:59,145 - DEBUG - app.firebase_stream - Firebase listener triggered (45). Event Type: patch, Path: /. Timestamp: 1752650759.1459162
2025-07-16 00:25:59,146 - DEBUG - app.firebase_stream - Prepared batch update for 25 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0241900000', 'o': '13.0218000000'}, 'XAGUSD': {'b': '37.9220000000', 'o': '37.9170000000'}, 'NZDJPY': {'b': '88.4620000000', 'o': '88.4530000000'}, 'GBPAUD': {'b': '2.0539200000',
2025-07-16 00:25:59,146 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0241900000', 'o': '13.0218000000'}, 'XAGUSD': {'b': '37.9220000000', 'o': '37.9170000000'}, 'NZDJPY': {'b': '88.4620000000', 'o': '88.4530000000'}, 'GBPAUD': {'b': '2.0539200000',...
2025-07-16 00:25:59,147 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:25:59,470 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:25:59,475 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:26:00,478 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:26:00,482 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:26:01,416 - DEBUG - app.firebase_stream - Firebase listener triggered (46). Event Type: patch, Path: /. Timestamp: 1752650761.4166665
2025-07-16 00:26:01,417 - DEBUG - app.firebase_stream - Prepared batch update for 37 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9220000000', 'o': '37.9150000000'}, 'NZDJPY': {'b': '88.4520000000', 'o': '88.4450000000'}, 'GBPAUD': {'b': '2.0538300000', 'o': '2.0536900000'}, 'BTCUSD': {'b': '118168.700000000
2025-07-16 00:26:01,418 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9220000000', 'o': '37.9150000000'}, 'NZDJPY': {'b': '88.4520000000', 'o': '88.4450000000'}, 'GBPAUD': {'b': '2.0538300000', 'o': '2.0536900000'}, 'BTCUSD': {'b': '118168.700000000...
2025-07-16 00:26:01,419 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:26:01,489 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:26:01,495 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:26:02,519 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:26:02,522 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:26:03,527 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:26:03,530 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:26:03,661 - DEBUG - app.firebase_stream - Firebase listener triggered (47). Event Type: patch, Path: /. Timestamp: 1752650763.6613038
2025-07-16 00:26:03,661 - DEBUG - app.firebase_stream - Prepared batch update for 25 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0246300000', 'o': '13.0223000000'}, 'XAGUSD': {'b': '37.9220000000', 'o': '37.9180000000'}, 'NZDJPY': {'b': '88.4610000000', 'o': '88.4530000000'}, 'USDJPY': {'b': '148.7740000000
2025-07-16 00:26:03,662 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0246300000', 'o': '13.0223000000'}, 'XAGUSD': {'b': '37.9220000000', 'o': '37.9180000000'}, 'NZDJPY': {'b': '88.4610000000', 'o': '88.4530000000'}, 'USDJPY': {'b': '148.7740000000...
2025-07-16 00:26:03,664 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:26:04,535 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:26:04,539 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:26:05,544 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:26:05,548 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:26:06,020 - DEBUG - app.firebase_stream - Firebase listener triggered (48). Event Type: patch, Path: /. Timestamp: 1752650766.0205097
2025-07-16 00:26:06,021 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0242000000', 'o': '13.0216000000'}, 'XAGUSD': {'b': '37.9160000000', 'o': '37.9150000000'}, 'NZDJPY': {'b': '88.4610000000', 'o': '88.4520000000'}, 'GBPAUD': {'b': '2.0539800000',
2025-07-16 00:26:06,022 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0242000000', 'o': '13.0216000000'}, 'XAGUSD': {'b': '37.9160000000', 'o': '37.9150000000'}, 'NZDJPY': {'b': '88.4610000000', 'o': '88.4520000000'}, 'GBPAUD': {'b': '2.0539800000',...
2025-07-16 00:26:06,025 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:26:06,551 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:26:06,555 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:26:07,573 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:26:07,577 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:26:08,262 - DEBUG - app.firebase_stream - Firebase listener triggered (49). Event Type: patch, Path: /. Timestamp: 1752650768.2626586
2025-07-16 00:26:08,263 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0233600000', 'o': '13.0210000000'}, 'NZDJPY': {'b': '88.4620000000', 'o': '88.4530000000'}, 'GBPAUD': {'b': '2.0539700000', 'o': '2.0538300000'}, 'BTCUSD': {'b': '118207.250000000
2025-07-16 00:26:08,264 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0233600000', 'o': '13.0210000000'}, 'NZDJPY': {'b': '88.4620000000', 'o': '88.4530000000'}, 'GBPAUD': {'b': '2.0539700000', 'o': '2.0538300000'}, 'BTCUSD': {'b': '118207.250000000...
2025-07-16 00:26:08,267 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:26:08,595 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:26:08,598 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:26:09,601 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:26:09,605 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:26:10,622 - DEBUG - app.firebase_stream - Firebase listener triggered (50). Event Type: patch, Path: /. Timestamp: 1752650770.6222765
2025-07-16 00:26:10,622 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:26:10,623 - DEBUG - app.firebase_stream - Prepared batch update for 27 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9190000000', 'o': '37.9160000000'}, 'GBPAUD': {'b': '2.0538400000', 'o': '2.0537000000'}, 'BTCUSD': {'b': '118208.0000000000', 'o': '118207.9000000000'}, 'USDJPY': {'b': '148.7760
2025-07-16 00:26:10,625 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9190000000', 'o': '37.9160000000'}, 'GBPAUD': {'b': '2.0538400000', 'o': '2.0537000000'}, 'BTCUSD': {'b': '118208.0000000000', 'o': '118207.9000000000'}, 'USDJPY': {'b': '148.7760...
2025-07-16 00:26:10,625 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:26:10,627 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:26:11,664 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:26:11,668 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:26:12,671 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:26:12,673 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:26:12,880 - DEBUG - app.firebase_stream - Firebase listener triggered (51). Event Type: patch, Path: /. Timestamp: 1752650772.8802676
2025-07-16 00:26:12,880 - DEBUG - app.firebase_stream - Prepared batch update for 26 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0244700000', 'o': '13.0223000000'}, 'NZDJPY': {'b': '88.4590000000', 'o': '88.4510000000'}, 'GBPAUD': {'b': '2.0539200000', 'o': '2.0538100000'}, 'USDJPY': {'b': '148.7730000000',
2025-07-16 00:26:12,882 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0244700000', 'o': '13.0223000000'}, 'NZDJPY': {'b': '88.4590000000', 'o': '88.4510000000'}, 'GBPAUD': {'b': '2.0539200000', 'o': '2.0538100000'}, 'USDJPY': {'b': '148.7730000000',...
2025-07-16 00:26:12,882 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:26:13,690 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:26:13,694 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:26:14,708 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:26:14,712 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:26:15,129 - DEBUG - app.firebase_stream - Firebase listener triggered (52). Event Type: patch, Path: /. Timestamp: 1752650775.12969
2025-07-16 00:26:15,130 - DEBUG - app.firebase_stream - Prepared batch update for 35 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0248000000', 'o': '13.0222000000'}, 'XAGUSD': {'b': '37.9150000000', 'o': '37.9100000000'}, 'NZDJPY': {'b': '88.4590000000', 'o': '88.4490000000'}, 'GBPAUD': {'b': '2.0539200000',
2025-07-16 00:26:15,130 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0248000000', 'o': '13.0222000000'}, 'XAGUSD': {'b': '37.9150000000', 'o': '37.9100000000'}, 'NZDJPY': {'b': '88.4590000000', 'o': '88.4490000000'}, 'GBPAUD': {'b': '2.0539200000',...
2025-07-16 00:26:15,130 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:26:15,726 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:26:15,729 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:26:16,733 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:26:16,737 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:26:16,934 - WARNING - app - User 4 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:26:16,938 - WARNING - app - No user data found for user 5 (live). Skipping portfolio update.
2025-07-16 00:26:16,947 - WARNING - app - No group settings found for group string. Skipping portfolio update for user 8.
2025-07-16 00:26:16,976 - WARNING - app - User 9 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:26:17,013 - WARNING - app - User 10 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:26:17,047 - WARNING - app - User 11 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:26:17,079 - WARNING - app - User 12 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:26:17,106 - WARNING - app - User 13 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:26:17,484 - DEBUG - app.firebase_stream - Firebase listener triggered (53). Event Type: patch, Path: /. Timestamp: 1752650777.4843268
2025-07-16 00:26:17,485 - DEBUG - app.services.portfolio_calculator - Position calculation for BTCUSD: Type=BUY, Entry=118908.50000000, Current=118158.4, Quantity=0.40000000, Contract Size=1.00000000, PnL=-300.040000000000000000000000, PnL USD=-300.040000000000000000000000, Commission=235.57000000, Final PnL=-535.610000000000000000000000
2025-07-16 00:26:17,485 - WARNING - app.services.portfolio_calculator - MARGIN CALL ALERT: User has margin level 99.40229636209463711684405687% which is below threshold 100.0%
2025-07-16 00:26:17,485 - DEBUG - app.firebase_stream - Prepared batch update for 30 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9180000000', 'o': '37.9140000000'}, 'NZDJPY': {'b': '88.4540000000', 'o': '88.4450000000'}, 'GBPAUD': {'b': '2.0539000000', 'o': '2.0538000000'}, 'BTCUSD': {'b': '118214.900000000
2025-07-16 00:26:17,487 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9180000000', 'o': '37.9140000000'}, 'NZDJPY': {'b': '88.4540000000', 'o': '88.4450000000'}, 'GBPAUD': {'b': '2.0539000000', 'o': '2.0538000000'}, 'BTCUSD': {'b': '118214.900000000...
2025-07-16 00:26:17,487 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:26:17,609 - WARNING - app - User 16 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:26:17,675 - WARNING - app - User 17 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:26:17,711 - WARNING - app - User 18 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:26:17,740 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:26:17,744 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:26:17,751 - WARNING - app - User 19 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:26:17,785 - WARNING - app - User 20 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:26:17,814 - WARNING - app - User 21 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:26:17,853 - WARNING - app - User 22 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:26:17,888 - WARNING - app - User 23 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:26:17,905 - WARNING - app - User 25 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:26:18,284 - DEBUG - app.services.portfolio_calculator - Position calculation for XAGUSD: Type=BUY, Entry=41.09800000, Current=37.9015, Quantity=0.01000000, Contract Size=5000.00000000, PnL=-159.825000000000000000000000, PnL USD=-159.825000000000000000000000, Commission=0.10000000, Final PnL=-159.925000000000000000000000
2025-07-16 00:26:18,284 - DEBUG - app.services.portfolio_calculator - Position calculation for BTCUSD: Type=BUY, Entry=132091.90000000, Current=118164.8, Quantity=6.00000000, Contract Size=1.00000000, PnL=-83562.60000000000000000000000, PnL USD=-83562.60000000000000000000000, Commission=3661.62000000, Final PnL=-87224.22000000000000000000000
2025-07-16 00:26:18,284 - WARNING - app.services.portfolio_calculator - MARGIN CALL ALERT: User has margin level 66.19245371198735265246889312% which is below threshold 100.0%
2025-07-16 00:26:18,633 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=96.66800000, Current=97.01100000000001, Quantity=0.01000000, Contract Size=100000.00000000, PnL=343.0000000000100000000000000, PnL USD=2.305525868269175186357739644, Commission=0.10000000, Final PnL=2.205525868269175186357739644
2025-07-16 00:26:18,634 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=96.56000000, Current=97.118, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-558.000000000000000000000000, PnL USD=-3.750680567038373898489645299, Commission=0.10000000, Final PnL=-3.850680567038373898489645299
2025-07-16 00:26:18,635 - WARNING - app - User 2 has no group_name set. Skipping portfolio update.
2025-07-16 00:26:18,638 - WARNING - app - No group settings found for group string. Skipping portfolio update for user 3.
2025-07-16 00:26:18,645 - WARNING - app - User 4 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:26:18,645 - WARNING - app - User 5 has no group_name set. Skipping portfolio update.
2025-07-16 00:26:18,645 - WARNING - app - User 6 has no group_name set. Skipping portfolio update.
2025-07-16 00:26:18,946 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64743000, Current=0.6523100000000001, Quantity=0.10000000, Contract Size=100000.00000000, PnL=48.80000000000100000000000000, PnL USD=48.80000000000100000000000000, Commission=1.00000000, Final PnL=47.80000000000100000000000000
2025-07-16 00:26:18,946 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=SELL, Entry=0.64707000, Current=0.65261, Quantity=0.22000000, Contract Size=100000.00000000, PnL=-121.880000000000000000000000, PnL USD=-121.880000000000000000000000, Commission=2.20000000, Final PnL=-124.080000000000000000000000
2025-07-16 00:26:18,947 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:26:18,949 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFSGD: Type=BUY, Entry=1.57561500, Current=1.603175, Quantity=0.10000000, Contract Size=100000.00000000, PnL=275.600000000000000000000000, PnL USD=214.5799107733752734803833786, Commission=1.00000000, Final PnL=213.5799107733752734803833786
2025-07-16 00:26:18,950 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFSGD: Type=SELL, Entry=1.57505500, Current=1.6035949999999999, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-285.3999999999990000000000000, PnL USD=-222.2101107936178826973535663, Commission=1.00000000, Final PnL=-223.2101107936178826973535663
2025-07-16 00:26:18,951 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:26:18,952 - DEBUG - app.services.portfolio_calculator - Position calculation for CADJPY: Type=SELL, Entry=106.24150000, Current=108.5115, Quantity=0.15000000, Contract Size=100000.00000000, PnL=-34050.00000000000000000000000, PnL USD=-228.8721743864814179992337319, Commission=0E-8, Final PnL=-228.8721743864814179992337319
2025-07-16 00:26:18,952 - DEBUG - app.services.portfolio_calculator - Position calculation for CADJPY: Type=BUY, Entry=106.27050000, Current=108.4755, Quantity=0.15000000, Contract Size=100000.00000000, PnL=33075.00000000000000000000000, PnL USD=222.3185658688068399507975237, Commission=0E-8, Final PnL=222.3185658688068399507975237
2025-07-16 00:26:18,953 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=BUY, Entry=1.77481000, Current=1.78135, Quantity=0.22000000, Contract Size=100000.00000000, PnL=143.880000000000000000000000, PnL USD=93.87594480000000000000000000, Commission=2.20000000, Final PnL=91.67594480000000000000000000
2025-07-16 00:26:18,953 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=SELL, Entry=1.77439000, Current=1.78176, Quantity=0.21000000, Contract Size=100000.00000000, PnL=-154.770000000000000000000000, PnL USD=-100.9812342000000000000000000, Commission=2.10000000, Final PnL=-103.0812342000000000000000000
2025-07-16 00:26:18,953 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFJPY: Type=BUY, Entry=178.15500000, Current=185.705, Quantity=0.10000000, Contract Size=100000.00000000, PnL=75500.00000000000000000000000, PnL USD=507.4845570096724540071115054, Commission=1.00000000, Final PnL=506.4845570096724540071115054
2025-07-16 00:26:18,954 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFJPY: Type=SELL, Entry=178.09500000, Current=185.74499999999998, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-76499.99999999980000000000000, PnL USD=-514.2062067713886256242732216, Commission=1.00000000, Final PnL=-515.2062067713886256242732216
2025-07-16 00:26:18,954 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=BUY, Entry=1.77480000, Current=1.78135, Quantity=0.05000000, Contract Size=100000.00000000, PnL=32.750000000000000000000000, PnL USD=21.36806500000000000000000000, Commission=0.50000000, Final PnL=20.86806500000000000000000000
2025-07-16 00:26:18,955 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=SELL, Entry=1.77442000, Current=1.78176, Quantity=0.05000000, Contract Size=100000.00000000, PnL=-36.700000000000000000000000, PnL USD=-23.94528200000000000000000000, Commission=0.50000000, Final PnL=-24.44528200000000000000000000
2025-07-16 00:26:18,955 - DEBUG - app.services.portfolio_calculator - Position calculation for EURGBP: Type=SELL, Entry=0.85403000, Current=0.86764, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-136.100000000000000000000000, PnL USD=-182.3767220000000000000000000, Commission=1.00000000, Final PnL=-183.3767220000000000000000000
2025-07-16 00:26:18,956 - DEBUG - app.services.portfolio_calculator - Position calculation for EURJPY: Type=BUY, Entry=167.26050000, Current=172.91150000000002, Quantity=0.10000000, Contract Size=100000.00000000, PnL=56510.00000000020000000000000, PnL USD=379.8404280346581705013678557, Commission=1.00000000, Final PnL=378.8404280346581705013678557
2025-07-16 00:26:18,956 - DEBUG - app.services.portfolio_calculator - Position calculation for EURJPY: Type=SELL, Entry=167.23150000, Current=172.9405, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-57090.00000000000000000000000, PnL USD=-383.7389848964529854207416668, Commission=1.00000000, Final PnL=-384.7389848964529854207416668
2025-07-16 00:26:18,957 - DEBUG - app.services.portfolio_calculator - Position calculation for EURNZD: Type=SELL, Entry=1.91952500, Current=1.9552049999999999, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-356.7999999999990000000000000, PnL USD=-212.1461439999994054200000000, Commission=1.00000000, Final PnL=-213.1461439999994054200000000
2025-07-16 00:26:18,957 - DEBUG - app.services.portfolio_calculator - Position calculation for EURNZD: Type=BUY, Entry=1.92063500, Current=1.954885, Quantity=0.10000000, Contract Size=100000.00000000, PnL=342.500000000000000000000000, PnL USD=203.6436500000000000000000000, Commission=1.00000000, Final PnL=202.6436500000000000000000000
2025-07-16 00:26:18,957 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=SELL, Entry=1.34376000, Current=1.34012, Quantity=0.25000000, Contract Size=0E-8, PnL=0E-24, PnL USD=0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:26:18,957 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=SELL, Entry=1.34361000, Current=1.34012, Quantity=0.25000000, Contract Size=0E-8, PnL=0E-24, PnL USD=0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:26:18,957 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=BUY, Entry=1.34379000, Current=1.33991, Quantity=0.25000000, Contract Size=0E-8, PnL=-0E-24, PnL USD=-0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:26:18,957 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=BUY, Entry=1.34378000, Current=1.33991, Quantity=0.25000000, Contract Size=0E-8, PnL=-0E-24, PnL USD=-0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 00:26:18,958 - DEBUG - app.services.portfolio_calculator - Position calculation for NZDJPY: Type=BUY, Entry=87.10150000, Current=88.43249999999999, Quantity=0.01000000, Contract Size=100000.00000000, PnL=1330.999999999990000000000000, PnL USD=8.946515832845946509111196252, Commission=0.10000000, Final PnL=8.846515832845946509111196252
2025-07-16 00:26:18,959 - DEBUG - app.services.portfolio_calculator - Position calculation for USDCHF: Type=SELL, Entry=0.81771000, Current=0.80119, Quantity=0.15000000, Contract Size=100000.00000000, PnL=247.800000000000000000000000, PnL USD=309.3478477978627783880954759, Commission=1.50000000, Final PnL=307.8478477978627783880954759
2025-07-16 00:26:18,960 - DEBUG - app.services.portfolio_calculator - Position calculation for USDCHF: Type=BUY, Entry=0.81805000, Current=0.80087, Quantity=0.15000000, Contract Size=100000.00000000, PnL=-257.700000000000000000000000, PnL USD=-321.7067811844602017377409368, Commission=1.50000000, Final PnL=-323.2067811844602017377409368
2025-07-16 00:26:18,960 - DEBUG - app.services.portfolio_calculator - Position calculation for USDNOK: Type=BUY, Entry=10.04973000, Current=10.25765, Quantity=0.10000000, Contract Size=100000.00000000, PnL=2079.200000000000000000000000, PnL USD=202.6765548494888733573714434, Commission=1.00000000, Final PnL=201.6765548494888733573714434
2025-07-16 00:26:18,961 - DEBUG - app.services.portfolio_calculator - Position calculation for USDNOK: Type=BUY, Entry=10.05023000, Current=10.25765, Quantity=0.10000000, Contract Size=100000.00000000, PnL=2074.200000000000000000000000, PnL USD=202.1891641346719031925066602, Commission=1.00000000, Final PnL=201.1891641346719031925066602
2025-07-16 00:26:18,962 - DEBUG - app.services.portfolio_calculator - Position calculation for USDSGD: Type=SELL, Entry=1.28795000, Current=1.28452, Quantity=0.31000000, Contract Size=100000.00000000, PnL=106.330000000000000000000000, PnL USD=82.78767021964075772557752050, Commission=3.10000000, Final PnL=79.68767021964075772557752050
2025-07-16 00:26:18,963 - DEBUG - app.services.portfolio_calculator - Position calculation for USDTRY: Type=SELL, Entry=39.56087000, Current=40.25709, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-6962.200000000000000000000000, PnL USD=-172.9440936146661917175026219, Commission=1.00000000, Final PnL=-173.9440936146661917175026219
2025-07-16 00:26:19,652 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.89752000, Current=0.89461, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-2.910000000000000000000000, PnL USD=-2.122166797934716023453224818, Commission=0.10000000, Final PnL=-2.222166797934716023453224818
2025-07-16 00:26:19,694 - WARNING - app - User 12 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:26:19,732 - DEBUG - app.firebase_stream - Firebase listener triggered (54). Event Type: patch, Path: /. Timestamp: 1752650779.7321334
2025-07-16 00:26:19,735 - DEBUG - app.firebase_stream - Prepared batch update for 35 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0245300000', 'o': '13.0222000000'}, 'XAGUSD': {'b': '37.9180000000', 'o': '37.9100000000'}, 'NZDJPY': {'b': '88.4540000000', 'o': '88.4480000000'}, 'GBPAUD': {'b': '2.0539400000',
2025-07-16 00:26:19,736 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0245300000', 'o': '13.0222000000'}, 'XAGUSD': {'b': '37.9180000000', 'o': '37.9100000000'}, 'NZDJPY': {'b': '88.4540000000', 'o': '88.4480000000'}, 'GBPAUD': {'b': '2.0539400000',...
2025-07-16 00:26:19,736 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:26:19,806 - WARNING - app - User 13 has no open or pending orders. Skipping portfolio update.
2025-07-16 00:26:19,954 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:26:19,960 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:26:20,969 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:26:20,973 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:26:21,986 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:26:21,991 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:26:22,088 - DEBUG - app.firebase_stream - Firebase listener triggered (55). Event Type: patch, Path: /. Timestamp: 1752650782.0881076
2025-07-16 00:26:22,088 - DEBUG - app.firebase_stream - Prepared batch update for 41 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0234000000', 'o': '13.0208000000'}, 'XAGUSD': {'b': '37.9190000000', 'o': '37.9100000000'}, 'NZDJPY': {'b': '88.4580000000', 'o': '88.4540000000'}, 'GBPAUD': {'b': '2.0538900000',
2025-07-16 00:26:22,089 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0234000000', 'o': '13.0208000000'}, 'XAGUSD': {'b': '37.9190000000', 'o': '37.9100000000'}, 'NZDJPY': {'b': '88.4580000000', 'o': '88.4540000000'}, 'GBPAUD': {'b': '2.0538900000',...
2025-07-16 00:26:22,091 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:26:23,005 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:26:23,013 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:26:24,024 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 00:26:24,029 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 00:26:24,300 - INFO - app - Application shutdown initiated
2025-07-16 00:26:24,301 - INFO - app - Scheduler shutdown completed
2025-07-16 00:26:24,447 - DEBUG - app.firebase_stream - Firebase listener triggered (56). Event Type: patch, Path: /. Timestamp: 1752650784.447804
2025-07-16 00:26:24,448 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0239100000', 'o': '13.0215000000'}, 'NZDJPY': {'b': '88.4590000000', 'o': '88.4500000000'}, 'GBPAUD': {'b': '2.0538400000', 'o': '2.0537400000'}, 'BTCUSD': {'b': '118224.800000000
2025-07-16 00:26:24,449 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0239100000', 'o': '13.0215000000'}, 'NZDJPY': {'b': '88.4590000000', 'o': '88.4500000000'}, 'GBPAUD': {'b': '2.0538400000', 'o': '2.0537400000'}, 'BTCUSD': {'b': '118224.800000000...
2025-07-16 00:26:24,451 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 00:26:25,191 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-07-16 00:26:26,680 - INFO - app.firebase_stream - Firebase listener closed.
2025-07-16 00:26:26,680 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-07-16 00:26:26,684 - INFO - app - Redis connection closed
2025-07-16 00:26:26,684 - INFO - app - Application shutdown completed
2025-07-16 01:30:31,914 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-07-16 01:30:31,972 - INFO - app.core.config - .env file loaded successfully.
2025-07-16 01:30:31,984 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-07-16 01:30:31,984 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-07-16 01:30:32,354 - INFO - app - Application starting up - Trading system initialized
2025-07-16 01:30:32,354 - INFO - app - SL/TP Epsilon accuracy configured: 0.00001
2025-07-16 01:30:32,354 - INFO - app - Environment: DEVELOPMENT
2025-07-16 01:30:32,402 - INFO - app - Application startup initiated
2025-07-16 01:30:32,402 - INFO - app - Initializing core services...
2025-07-16 01:30:32,452 - INFO - app - Firebase initialized
2025-07-16 01:30:32,452 - WARNING - app.dependencies.redis_client - Redis client not initialized, attempting late connection.
2025-07-16 01:30:34,495 - INFO - app - Redis initialized
2025-07-16 01:30:34,498 - INFO - app - [SWAP] daily_swap_charge_job triggered
2025-07-16 01:30:34,499 - INFO - app - Scheduler initialized
2025-07-16 01:30:34,502 - INFO - app.firebase_stream - Starting Firebase Admin event processing task for path: 'datafeeds'. Queuing data for Redis publishing.
2025-07-16 01:30:34,502 - DEBUG - app.firebase_stream - Successfully got running event loop in process_firebase_events task.
2025-07-16 01:30:34,502 - INFO - app.firebase_stream - Attempting to start Firebase Admin listener for path: 'datafeeds'.
2025-07-16 01:30:35,612 - DEBUG - app.firebase_stream - Firebase listener triggered (1). Event Type: put, Path: /. Timestamp: 1752654635.6120915
2025-07-16 01:30:35,612 - INFO - app.firebase_stream - Firebase Admin listener started successfully for path: 'datafeeds'. Queuing data for Redis publishing.
2025-07-16 01:30:35,612 - DEBUG - app.firebase_stream - Prepared batch update for 48 symbols from root path for queue. Preview: {'AUDCAD': {'b': '0.8951100000', 'o': '0.8950700000'}, 'AUDCHF': {'b': '0.5229600000', 'o': '0.5229300000'}, 'AUDJPY': {'b': '97.1300000000', 'o': '97.1240000000'}, 'AUDNZD': {'b': '1.0000000000', 'o'
2025-07-16 01:30:35,613 - INFO - app - Starting stale cache cleanup task
2025-07-16 01:30:35,614 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'AUDCAD': {'b': '0.8951100000', 'o': '0.8950700000'}, 'AUDCHF': {'b': '0.5229600000', 'o': '0.5229300000'}, 'AUDJPY': {'b': '97.1300000000', 'o': '97.1240000000'}, 'AUDNZD': {'b': '1.0000000000', 'o'...
2025-07-16 01:30:35,614 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type put at path /.
2025-07-16 01:30:37,802 - DEBUG - app.firebase_stream - Firebase listener triggered (2). Event Type: patch, Path: /. Timestamp: 1752654637.8019955
2025-07-16 01:30:37,802 - DEBUG - app.firebase_stream - Prepared batch update for 43 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0391000000', 'o': '13.0365000000'}, 'NZDJPY': {'b': '88.4970000000', 'o': '88.4930000000'}, 'GBPAUD': {'b': '2.0532300000', 'o': '2.0530800000'}, 'BTCUSD': {'b': '118252.050000000
2025-07-16 01:30:37,802 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0391000000', 'o': '13.0365000000'}, 'NZDJPY': {'b': '88.4970000000', 'o': '88.4930000000'}, 'GBPAUD': {'b': '2.0532300000', 'o': '2.0530800000'}, 'BTCUSD': {'b': '118252.050000000...
2025-07-16 01:30:37,802 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:30:39,684 - INFO - app - Cleaned up pending order stream for new trigger price format
2025-07-16 01:30:39,684 - INFO - app - Background tasks initialized
2025-07-16 01:30:40,117 - DEBUG - app.firebase_stream - Firebase listener triggered (3). Event Type: patch, Path: /. Timestamp: 1752654640.117456
2025-07-16 01:30:40,117 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0395000000', 'o': '13.0369000000'}, 'NZDJPY': {'b': '88.4960000000', 'o': '88.4880000000'}, 'GBPAUD': {'b': '2.0532100000', 'o': '2.0530500000'}, 'BTCUSD': {'b': '118287.000000000
2025-07-16 01:30:40,117 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0395000000', 'o': '13.0369000000'}, 'NZDJPY': {'b': '88.4960000000', 'o': '88.4880000000'}, 'GBPAUD': {'b': '2.0532100000', 'o': '2.0530500000'}, 'BTCUSD': {'b': '118287.000000000...
2025-07-16 01:30:40,117 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:30:40,312 - INFO - app - Service account JWT for 'barclays_service_provider' was generated and pushed to Firebase.
2025-07-16 01:30:40,312 - INFO - app - Application startup completed successfully
2025-07-16 01:30:40,312 - INFO - app - Starting cache validation task
2025-07-16 01:30:40,315 - INFO - app - Starting Barclays pending order margin checker task.
2025-07-16 01:30:40,315 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:30:40,317 - INFO - app - Starting auto-cutoff order monitoring task.
2025-07-16 01:30:40,325 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:30:40,364 - INFO - app - Validating cache for 30 users
2025-07-16 01:30:41,341 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:30:41,343 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:30:42,345 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:30:42,349 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:30:42,349 - INFO - app - Found 24 static orders cache entries to check
2025-07-16 01:30:42,484 - DEBUG - app.firebase_stream - Firebase listener triggered (4). Event Type: patch, Path: /. Timestamp: 1752654642.4845154
2025-07-16 01:30:42,484 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0392000000', 'o': '13.0366000000'}, 'NZDJPY': {'b': '88.4920000000', 'o': '88.4880000000'}, 'GBPAUD': {'b': '2.0531500000', 'o': '2.0530100000'}, 'BTCUSD': {'b': '118293.740000000
2025-07-16 01:30:42,485 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0392000000', 'o': '13.0366000000'}, 'NZDJPY': {'b': '88.4920000000', 'o': '88.4880000000'}, 'GBPAUD': {'b': '2.0531500000', 'o': '2.0530100000'}, 'BTCUSD': {'b': '118293.740000000...
2025-07-16 01:30:42,486 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:30:43,364 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:30:43,366 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:30:44,367 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:30:44,372 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:30:44,373 - WARNING - app - User 4: Missing balance/margin cache, refreshing...
2025-07-16 01:30:44,832 - DEBUG - app.firebase_stream - Firebase listener triggered (5). Event Type: patch, Path: /. Timestamp: 1752654644.8325796
2025-07-16 01:30:44,833 - DEBUG - app.firebase_stream - Prepared batch update for 38 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0391000000', 'o': '13.0365000000'}, 'XAGUSD': {'b': '37.9950000000', 'o': '37.9880000000'}, 'NZDJPY': {'b': '88.4920000000', 'o': '88.4830000000'}, 'GBPAUD': {'b': '2.0530900000',
2025-07-16 01:30:44,833 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 2. Data preview: {'GBPSEK': {'b': '13.0391000000', 'o': '13.0365000000'}, 'XAGUSD': {'b': '37.9950000000', 'o': '37.9880000000'}, 'NZDJPY': {'b': '88.4920000000', 'o': '88.4830000000'}, 'GBPAUD': {'b': '2.0530900000',...
2025-07-16 01:30:44,833 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:30:45,375 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:30:45,377 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:30:46,392 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:30:46,395 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:30:47,069 - DEBUG - app.firebase_stream - Firebase listener triggered (6). Event Type: patch, Path: /. Timestamp: 1752654647.0698864
2025-07-16 01:30:47,070 - DEBUG - app.firebase_stream - Prepared batch update for 34 symbols from root path for queue. Preview: {'XAGUSD': {'b': '38.0000000000', 'o': '37.9940000000'}, 'NZDJPY': {'b': '88.4920000000', 'o': '88.4860000000'}, 'BTCUSD': {'b': '118299.8000000000', 'o': '118299.7000000000'}, 'USDCNH': {'b': '7.1808
2025-07-16 01:30:47,070 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 3. Data preview: {'XAGUSD': {'b': '38.0000000000', 'o': '37.9940000000'}, 'NZDJPY': {'b': '88.4920000000', 'o': '88.4860000000'}, 'BTCUSD': {'b': '118299.8000000000', 'o': '118299.7000000000'}, 'USDCNH': {'b': '7.1808...
2025-07-16 01:30:47,070 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:30:47,402 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:30:47,411 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:30:48,445 - WARNING - app - Found stale cache entry for user 2, will be refreshed on next access
2025-07-16 01:30:48,446 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:30:48,449 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:30:48,451 - WARNING - app - Found stale cache entry for user 3, will be refreshed on next access
2025-07-16 01:30:49,433 - DEBUG - app.firebase_stream - Firebase listener triggered (7). Event Type: patch, Path: /. Timestamp: 1752654649.4332058
2025-07-16 01:30:49,433 - DEBUG - app.firebase_stream - Prepared batch update for 36 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0393000000', 'o': '13.0367000000'}, 'XAGUSD': {'b': '37.9930000000', 'o': '37.9850000000'}, 'NZDJPY': {'b': '88.4930000000', 'o': '88.4870000000'}, 'GBPAUD': {'b': '2.0531200000',
2025-07-16 01:30:49,433 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0393000000', 'o': '13.0367000000'}, 'XAGUSD': {'b': '37.9930000000', 'o': '37.9850000000'}, 'NZDJPY': {'b': '88.4930000000', 'o': '88.4870000000'}, 'GBPAUD': {'b': '2.0531200000',...
2025-07-16 01:30:49,433 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:30:49,461 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:30:49,463 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:30:50,471 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:30:50,472 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:30:50,542 - WARNING - app - Found stale cache entry for user 17, will be refreshed on next access
2025-07-16 01:30:50,546 - WARNING - app - Found stale cache entry for user 18, will be refreshed on next access
2025-07-16 01:30:50,559 - WARNING - app - User 5: Missing balance/margin cache, refreshing...
2025-07-16 01:30:50,562 - WARNING - app - Found stale cache entry for user 23, will be refreshed on next access
2025-07-16 01:30:50,571 - WARNING - app - Found stale cache entry for user 19, will be refreshed on next access
2025-07-16 01:30:50,572 - WARNING - app - User 8: Missing balance/margin cache, refreshing...
2025-07-16 01:30:50,576 - WARNING - app - Found stale cache entry for user 8, will be refreshed on next access
2025-07-16 01:30:50,584 - WARNING - app - Found stale cache entry for user 5, will be refreshed on next access
2025-07-16 01:30:50,586 - WARNING - app - Found stale cache entry for user 24, will be refreshed on next access
2025-07-16 01:30:51,488 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:30:51,490 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:30:51,654 - DEBUG - app.firebase_stream - Firebase listener triggered (8). Event Type: patch, Path: /. Timestamp: 1752654651.6543777
2025-07-16 01:30:51,654 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9930000000', 'o': '37.9860000000'}, 'NZDJPY': {'b': '88.4960000000', 'o': '88.4870000000'}, 'GBPAUD': {'b': '2.0531100000', 'o': '2.0529500000'}, 'BTCUSD': {'b': '118293.600000000
2025-07-16 01:30:51,654 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9930000000', 'o': '37.9860000000'}, 'NZDJPY': {'b': '88.4960000000', 'o': '88.4870000000'}, 'GBPAUD': {'b': '2.0531100000', 'o': '2.0529500000'}, 'BTCUSD': {'b': '118293.600000000...
2025-07-16 01:30:51,654 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:30:52,505 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:30:52,508 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:30:52,635 - WARNING - app - Found stale cache entry for user 13, will be refreshed on next access
2025-07-16 01:30:52,641 - WARNING - app - Found stale cache entry for user 16, will be refreshed on next access
2025-07-16 01:30:52,643 - WARNING - app - User 9: Missing balance/margin cache, refreshing...
2025-07-16 01:30:52,644 - WARNING - app - Found stale cache entry for user 25, will be refreshed on next access
2025-07-16 01:30:52,648 - WARNING - app - Found stale cache entry for user 12, will be refreshed on next access
2025-07-16 01:30:52,661 - WARNING - app - Found stale cache entry for user 21, will be refreshed on next access
2025-07-16 01:30:52,663 - WARNING - app - Found stale cache entry for user 22, will be refreshed on next access
2025-07-16 01:30:52,668 - WARNING - app - Found stale cache entry for user 6, will be refreshed on next access
2025-07-16 01:30:52,669 - WARNING - app - User 10: Missing balance/margin cache, refreshing...
2025-07-16 01:30:52,669 - WARNING - app - Found stale cache entry for user 20, will be refreshed on next access
2025-07-16 01:30:52,670 - INFO - app - Completed stale cache cleanup task
2025-07-16 01:30:53,514 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:30:53,516 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:30:54,040 - DEBUG - app.firebase_stream - Firebase listener triggered (9). Event Type: patch, Path: /. Timestamp: 1752654654.0405574
2025-07-16 01:30:54,040 - DEBUG - app.firebase_stream - Prepared batch update for 24 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4970000000', 'o': '88.4890000000'}, 'GBPAUD': {'b': '2.0531200000', 'o': '2.0529500000'}, 'USDCNH': {'b': '7.1808000000', 'o': '7.1807100000'}, 'CADCHF': {'b': '0.5842900000', 'o'
2025-07-16 01:30:54,041 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4970000000', 'o': '88.4890000000'}, 'GBPAUD': {'b': '2.0531200000', 'o': '2.0529500000'}, 'USDCNH': {'b': '7.1808000000', 'o': '7.1807100000'}, 'CADCHF': {'b': '0.5842900000', 'o'...
2025-07-16 01:30:54,041 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:30:54,522 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:30:54,523 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:30:54,718 - WARNING - app - User 11: Missing balance/margin cache, refreshing...
2025-07-16 01:30:54,742 - WARNING - app - User 12: Missing balance/margin cache, refreshing...
2025-07-16 01:30:55,317 - INFO - app - Starting stale cache cleanup task
2025-07-16 01:30:55,540 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:30:55,542 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:30:56,357 - DEBUG - app.firebase_stream - Firebase listener triggered (10). Event Type: patch, Path: /. Timestamp: 1752654656.357301
2025-07-16 01:30:56,357 - DEBUG - app.firebase_stream - Prepared batch update for 37 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0390000000', 'o': '13.0368300000'}, 'XAGUSD': {'b': '38.0000000000', 'o': '37.9930000000'}, 'NZDJPY': {'b': '88.4960000000', 'o': '88.4880000000'}, 'GBPAUD': {'b': '2.0531800000',
2025-07-16 01:30:56,357 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0390000000', 'o': '13.0368300000'}, 'XAGUSD': {'b': '38.0000000000', 'o': '37.9930000000'}, 'NZDJPY': {'b': '88.4960000000', 'o': '88.4880000000'}, 'GBPAUD': {'b': '2.0531800000',...
2025-07-16 01:30:56,357 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:30:56,557 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:30:56,561 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:30:56,785 - INFO - app - Found 24 static orders cache entries to check
2025-07-16 01:30:56,787 - WARNING - app - User 13: Missing balance/margin cache, refreshing...
2025-07-16 01:30:56,792 - WARNING - app - Found stale cache entry for user 2, will be refreshed on next access
2025-07-16 01:30:56,796 - WARNING - app - Found stale cache entry for user 3, will be refreshed on next access
2025-07-16 01:30:56,798 - WARNING - app - Found stale cache entry for user 17, will be refreshed on next access
2025-07-16 01:30:56,800 - WARNING - app - Found stale cache entry for user 18, will be refreshed on next access
2025-07-16 01:30:56,803 - WARNING - app - User 14: Missing balance/margin cache, refreshing...
2025-07-16 01:30:56,804 - WARNING - app - Found stale cache entry for user 23, will be refreshed on next access
2025-07-16 01:30:56,807 - WARNING - app - Found stale cache entry for user 19, will be refreshed on next access
2025-07-16 01:30:56,809 - WARNING - app - Found stale cache entry for user 8, will be refreshed on next access
2025-07-16 01:30:56,813 - WARNING - app - Found stale cache entry for user 5, will be refreshed on next access
2025-07-16 01:30:56,815 - WARNING - app - Found stale cache entry for user 24, will be refreshed on next access
2025-07-16 01:30:56,817 - WARNING - app - Found stale cache entry for user 13, will be refreshed on next access
2025-07-16 01:30:56,818 - WARNING - app - User 16: Missing balance/margin cache, refreshing...
2025-07-16 01:30:56,819 - WARNING - app - Found stale cache entry for user 16, will be refreshed on next access
2025-07-16 01:30:56,822 - WARNING - app - Found stale cache entry for user 25, will be refreshed on next access
2025-07-16 01:30:56,823 - WARNING - app - Found stale cache entry for user 12, will be refreshed on next access
2025-07-16 01:30:56,828 - WARNING - app - Found stale cache entry for user 21, will be refreshed on next access
2025-07-16 01:30:56,829 - WARNING - app - User 17: Missing balance/margin cache, refreshing...
2025-07-16 01:30:56,830 - WARNING - app - Found stale cache entry for user 22, will be refreshed on next access
2025-07-16 01:30:56,832 - WARNING - app - Found stale cache entry for user 6, will be refreshed on next access
2025-07-16 01:30:56,833 - WARNING - app - Found stale cache entry for user 20, will be refreshed on next access
2025-07-16 01:30:56,833 - INFO - app - Completed stale cache cleanup task
2025-07-16 01:30:56,843 - WARNING - app - User 18: Missing balance/margin cache, refreshing...
2025-07-16 01:30:56,856 - WARNING - app - User 19: Missing balance/margin cache, refreshing...
2025-07-16 01:30:56,874 - WARNING - app - User 20: Missing balance/margin cache, refreshing...
2025-07-16 01:30:56,884 - WARNING - app - User 21: Missing balance/margin cache, refreshing...
2025-07-16 01:30:56,899 - WARNING - app - User 22: Missing balance/margin cache, refreshing...
2025-07-16 01:30:56,914 - WARNING - app - User 23: Missing balance/margin cache, refreshing...
2025-07-16 01:30:56,922 - WARNING - app - User 25: Missing balance/margin cache, refreshing...
2025-07-16 01:30:56,952 - WARNING - app - User 26: Missing balance/margin cache, refreshing...
2025-07-16 01:30:56,974 - WARNING - app - User 1: Missing balance/margin cache, refreshing...
2025-07-16 01:30:56,993 - WARNING - app - User 2: Missing balance/margin cache, refreshing...
2025-07-16 01:30:57,008 - WARNING - app - User 3: Missing balance/margin cache, refreshing...
2025-07-16 01:30:57,041 - WARNING - app - User 5: Missing balance/margin cache, refreshing...
2025-07-16 01:30:57,059 - WARNING - app - User 6: Missing balance/margin cache, refreshing...
2025-07-16 01:30:57,103 - INFO - app - Cache validation completed
2025-07-16 01:30:57,578 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:30:57,580 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:30:58,359 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-07-16 01:30:58,459 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-07-16 01:30:58,460 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-07-16 01:30:58,545 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-07-16 01:30:58,551 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-07-16 01:30:58,552 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-07-16 01:30:58,555 - INFO - app.shared_state - Initialized redis_publish_queue in shared_state with maxsize=500.
2025-07-16 01:30:58,582 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:30:58,585 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:30:58,599 - INFO - app.core.config - .env file loaded successfully.
2025-07-16 01:30:58,620 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-07-16 01:30:58,620 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-07-16 01:30:58,667 - DEBUG - app.firebase_stream - Firebase listener triggered (11). Event Type: patch, Path: /. Timestamp: 1752654658.6673305
2025-07-16 01:30:58,668 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0396000000', 'o': '13.0370000000'}, 'XAGUSD': {'b': '37.9960000000', 'o': '37.9900000000'}, 'NZDJPY': {'b': '88.4970000000', 'o': '88.4880000000'}, 'GBPAUD': {'b': '2.0531500000',
2025-07-16 01:30:58,668 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0396000000', 'o': '13.0370000000'}, 'XAGUSD': {'b': '37.9960000000', 'o': '37.9900000000'}, 'NZDJPY': {'b': '88.4970000000', 'o': '88.4880000000'}, 'GBPAUD': {'b': '2.0531500000',...
2025-07-16 01:30:58,669 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:30:58,707 - INFO - app.core.config - .env file loaded successfully.
2025-07-16 01:30:58,725 - INFO - app.core.config - .env file loaded successfully.
2025-07-16 01:30:58,730 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-07-16 01:30:58,730 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-07-16 01:30:58,756 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-07-16 01:30:58,756 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-07-16 01:30:58,813 - INFO - app.core.config - .env file loaded successfully.
2025-07-16 01:30:58,817 - INFO - app.core.config - .env file loaded successfully.
2025-07-16 01:30:58,823 - INFO - app.core.config - .env file loaded successfully.
2025-07-16 01:30:58,831 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-07-16 01:30:58,831 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-07-16 01:30:58,838 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-07-16 01:30:58,839 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-07-16 01:30:58,844 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-07-16 01:30:58,844 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-07-16 01:30:58,848 - INFO - app.core.config - .env file loaded successfully.
2025-07-16 01:30:58,865 - INFO - app.core.config - Settings instance loaded. Project: Trading App, API Prefix: /api/v1
2025-07-16 01:30:58,865 - INFO - app.database.session - Attempting to connect to database using URL: mysql+aiomysql://roo...
2025-07-16 01:30:59,589 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:30:59,591 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:31:00,604 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:31:00,606 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:31:01,009 - DEBUG - app.firebase_stream - Firebase listener triggered (12). Event Type: patch, Path: /. Timestamp: 1752654661.0089946
2025-07-16 01:31:01,009 - DEBUG - app.firebase_stream - Prepared batch update for 30 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0403000000', 'o': '13.0378000000'}, 'XAGUSD': {'b': '37.9960000000', 'o': '37.9890000000'}, 'GBPAUD': {'b': '2.0531700000', 'o': '2.0530700000'}, 'BTCUSD': {'b': '118294.380000000
2025-07-16 01:31:01,009 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0403000000', 'o': '13.0378000000'}, 'XAGUSD': {'b': '37.9960000000', 'o': '37.9890000000'}, 'GBPAUD': {'b': '2.0531700000', 'o': '2.0530700000'}, 'BTCUSD': {'b': '118294.380000000...
2025-07-16 01:31:01,009 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:31:01,617 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:31:01,620 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:31:02,634 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:31:02,636 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:31:03,258 - DEBUG - app.firebase_stream - Firebase listener triggered (13). Event Type: patch, Path: /. Timestamp: 1752654663.2584405
2025-07-16 01:31:03,258 - DEBUG - app.firebase_stream - Prepared batch update for 38 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0399000000', 'o': '13.0373000000'}, 'XAGUSD': {'b': '37.9930000000', 'o': '37.9860000000'}, 'NZDJPY': {'b': '88.4990000000', 'o': '88.4950000000'}, 'GBPAUD': {'b': '2.0532000000',
2025-07-16 01:31:03,258 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0399000000', 'o': '13.0373000000'}, 'XAGUSD': {'b': '37.9930000000', 'o': '37.9860000000'}, 'NZDJPY': {'b': '88.4990000000', 'o': '88.4950000000'}, 'GBPAUD': {'b': '2.0532000000',...
2025-07-16 01:31:03,258 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:31:03,639 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:31:03,641 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:31:04,647 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:31:04,649 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:31:05,613 - DEBUG - app.firebase_stream - Firebase listener triggered (14). Event Type: patch, Path: /. Timestamp: 1752654665.61327
2025-07-16 01:31:05,613 - DEBUG - app.firebase_stream - Prepared batch update for 41 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0391000000', 'o': '13.0365000000'}, 'NZDJPY': {'b': '88.5010000000', 'o': '88.4940000000'}, 'GBPAUD': {'b': '2.0531700000', 'o': '2.0530200000'}, 'BTCUSD': {'b': '118320.000000000
2025-07-16 01:31:05,613 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0391000000', 'o': '13.0365000000'}, 'NZDJPY': {'b': '88.5010000000', 'o': '88.4940000000'}, 'GBPAUD': {'b': '2.0531700000', 'o': '2.0530200000'}, 'BTCUSD': {'b': '118320.000000000...
2025-07-16 01:31:05,614 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:31:05,653 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:31:05,656 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:31:06,673 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:31:06,675 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:31:07,676 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:31:07,678 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:31:08,071 - DEBUG - app.firebase_stream - Firebase listener triggered (15). Event Type: patch, Path: /. Timestamp: 1752654668.0713656
2025-07-16 01:31:08,071 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9920000000', 'o': '37.9850000000'}, 'NZDJPY': {'b': '88.5010000000', 'o': '88.4930000000'}, 'GBPAUD': {'b': '2.0532300000', 'o': '2.0530700000'}, 'USDJPY': {'b': '148.8640000000',
2025-07-16 01:31:08,072 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9920000000', 'o': '37.9850000000'}, 'NZDJPY': {'b': '88.5010000000', 'o': '88.4930000000'}, 'GBPAUD': {'b': '2.0532300000', 'o': '2.0530700000'}, 'USDJPY': {'b': '148.8640000000',...
2025-07-16 01:31:08,072 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:31:08,692 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:31:08,694 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:31:09,711 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:31:09,713 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:31:10,425 - DEBUG - app.firebase_stream - Firebase listener triggered (16). Event Type: patch, Path: /. Timestamp: 1752654670.4250355
2025-07-16 01:31:10,425 - DEBUG - app.firebase_stream - Prepared batch update for 34 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0395000000', 'o': '13.0369700000'}, 'XAGUSD': {'b': '37.9940000000', 'o': '37.9860000000'}, 'NZDJPY': {'b': '88.4960000000', 'o': '88.4890000000'}, 'GBPAUD': {'b': '2.0532300000',
2025-07-16 01:31:10,425 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0395000000', 'o': '13.0369700000'}, 'XAGUSD': {'b': '37.9940000000', 'o': '37.9860000000'}, 'NZDJPY': {'b': '88.4960000000', 'o': '88.4890000000'}, 'GBPAUD': {'b': '2.0532300000',...
2025-07-16 01:31:10,425 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:31:10,719 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:31:10,721 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:31:11,736 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:31:11,751 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:31:12,676 - DEBUG - app.firebase_stream - Firebase listener triggered (17). Event Type: patch, Path: /. Timestamp: 1752654672.6766431
2025-07-16 01:31:12,676 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0397000000', 'o': '13.0371000000'}, 'XAGUSD': {'b': '37.9900000000', 'o': '37.9830000000'}, 'NZDJPY': {'b': '88.4960000000', 'o': '88.4870000000'}, 'GBPAUD': {'b': '2.0532800000',
2025-07-16 01:31:12,677 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0397000000', 'o': '13.0371000000'}, 'XAGUSD': {'b': '37.9900000000', 'o': '37.9830000000'}, 'NZDJPY': {'b': '88.4960000000', 'o': '88.4870000000'}, 'GBPAUD': {'b': '2.0532800000',...
2025-07-16 01:31:12,677 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:31:12,754 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:31:12,756 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:31:13,769 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:31:13,771 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:31:14,786 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:31:14,788 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:31:14,918 - DEBUG - app.firebase_stream - Firebase listener triggered (18). Event Type: patch, Path: /. Timestamp: 1752654674.9183633
2025-07-16 01:31:14,918 - DEBUG - app.firebase_stream - Prepared batch update for 40 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0398000000', 'o': '13.0373300000'}, 'XAGUSD': {'b': '37.9890000000', 'o': '37.9830000000'}, 'NZDJPY': {'b': '88.4950000000', 'o': '88.4860000000'}, 'GBPAUD': {'b': '2.0533600000',
2025-07-16 01:31:14,918 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0398000000', 'o': '13.0373300000'}, 'XAGUSD': {'b': '37.9890000000', 'o': '37.9830000000'}, 'NZDJPY': {'b': '88.4950000000', 'o': '88.4860000000'}, 'GBPAUD': {'b': '2.0533600000',...
2025-07-16 01:31:14,918 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:31:15,794 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:31:15,796 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:31:16,799 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:31:16,803 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:31:17,272 - DEBUG - app.firebase_stream - Firebase listener triggered (19). Event Type: patch, Path: /. Timestamp: 1752654677.272029
2025-07-16 01:31:17,272 - DEBUG - app.firebase_stream - Prepared batch update for 36 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0396000000', 'o': '13.0370000000'}, 'NZDJPY': {'b': '88.4950000000', 'o': '88.4870000000'}, 'GBPAUD': {'b': '2.0530900000', 'o': '2.0529400000'}, 'BTCUSD': {'b': '118311.600000000
2025-07-16 01:31:17,272 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0396000000', 'o': '13.0370000000'}, 'NZDJPY': {'b': '88.4950000000', 'o': '88.4870000000'}, 'GBPAUD': {'b': '2.0530900000', 'o': '2.0529400000'}, 'BTCUSD': {'b': '118311.600000000...
2025-07-16 01:31:17,272 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:31:17,817 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:31:17,819 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:31:18,823 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:31:18,825 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:31:19,548 - DEBUG - app.firebase_stream - Firebase listener triggered (20). Event Type: patch, Path: /. Timestamp: 1752654679.5488846
2025-07-16 01:31:19,549 - DEBUG - app.firebase_stream - Prepared batch update for 35 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0396000000', 'o': '13.0372200000'}, 'NZDJPY': {'b': '88.4940000000', 'o': '88.4870000000'}, 'GBPAUD': {'b': '2.0534000000', 'o': '2.0532500000'}, 'USDJPY': {'b': '148.8470000000',
2025-07-16 01:31:19,549 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0396000000', 'o': '13.0372200000'}, 'NZDJPY': {'b': '88.4940000000', 'o': '88.4870000000'}, 'GBPAUD': {'b': '2.0534000000', 'o': '2.0532500000'}, 'USDJPY': {'b': '148.8470000000',...
2025-07-16 01:31:19,550 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:31:19,830 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:31:19,833 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:31:20,850 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:31:20,853 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:31:21,804 - DEBUG - app.firebase_stream - Firebase listener triggered (21). Event Type: patch, Path: /. Timestamp: 1752654681.8049178
2025-07-16 01:31:21,805 - DEBUG - app.firebase_stream - Prepared batch update for 36 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4880000000', 'o': '88.4800000000'}, 'GBPAUD': {'b': '2.0533100000', 'o': '2.0531800000'}, 'USDJPY': {'b': '148.8660000000', 'o': '148.8610000000'}, 'CADCHF': {'b': '0.5842700000',
2025-07-16 01:31:21,805 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4880000000', 'o': '88.4800000000'}, 'GBPAUD': {'b': '2.0533100000', 'o': '2.0531800000'}, 'USDJPY': {'b': '148.8660000000', 'o': '148.8610000000'}, 'CADCHF': {'b': '0.5842700000',...
2025-07-16 01:31:21,806 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:31:21,855 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:31:21,861 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:31:22,869 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:31:22,871 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:31:23,873 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:31:23,874 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:31:24,147 - DEBUG - app.firebase_stream - Firebase listener triggered (22). Event Type: patch, Path: /. Timestamp: 1752654684.1473637
2025-07-16 01:31:24,147 - DEBUG - app.firebase_stream - Prepared batch update for 37 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0388000000', 'o': '13.0362400000'}, 'XAGUSD': {'b': '37.9880000000', 'o': '37.9880000000'}, 'GBPAUD': {'b': '2.0533000000', 'o': '2.0531200000'}, 'BTCUSD': {'b': '118293.600000000
2025-07-16 01:31:24,148 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0388000000', 'o': '13.0362400000'}, 'XAGUSD': {'b': '37.9880000000', 'o': '37.9880000000'}, 'GBPAUD': {'b': '2.0533000000', 'o': '2.0531200000'}, 'BTCUSD': {'b': '118293.600000000...
2025-07-16 01:31:24,148 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:31:24,887 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:31:24,888 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:31:25,897 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:31:25,899 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:31:26,395 - DEBUG - app.firebase_stream - Firebase listener triggered (23). Event Type: patch, Path: /. Timestamp: 1752654686.3950102
2025-07-16 01:31:26,395 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0387000000', 'o': '13.0362400000'}, 'XAGUSD': {'b': '37.9930000000', 'o': '37.9870000000'}, 'NZDJPY': {'b': '88.4870000000', 'o': '88.4800000000'}, 'GBPAUD': {'b': '2.0533000000',
2025-07-16 01:31:26,395 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0387000000', 'o': '13.0362400000'}, 'XAGUSD': {'b': '37.9930000000', 'o': '37.9870000000'}, 'NZDJPY': {'b': '88.4870000000', 'o': '88.4800000000'}, 'GBPAUD': {'b': '2.0533000000',...
2025-07-16 01:31:26,395 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:31:26,907 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:31:26,911 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:31:27,914 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:31:27,916 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:31:28,752 - DEBUG - app.firebase_stream - Firebase listener triggered (24). Event Type: patch, Path: /. Timestamp: 1752654688.752376
2025-07-16 01:31:28,752 - DEBUG - app.firebase_stream - Prepared batch update for 30 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0387000000', 'o': '13.0361900000'}, 'XAGUSD': {'b': '37.9930000000', 'o': '37.9860000000'}, 'BTCUSD': {'b': '118318.2000000000', 'o': '118318.1000000000'}, 'USDJPY': {'b': '148.86
2025-07-16 01:31:28,752 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0387000000', 'o': '13.0361900000'}, 'XAGUSD': {'b': '37.9930000000', 'o': '37.9860000000'}, 'BTCUSD': {'b': '118318.2000000000', 'o': '118318.1000000000'}, 'USDJPY': {'b': '148.86...
2025-07-16 01:31:28,753 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:31:28,927 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:31:28,929 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:31:29,938 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:31:29,940 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:31:30,942 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:31:30,945 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:31:31,006 - DEBUG - app.firebase_stream - Firebase listener triggered (25). Event Type: patch, Path: /. Timestamp: 1752654691.0062366
2025-07-16 01:31:31,006 - DEBUG - app.firebase_stream - Prepared batch update for 37 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0395000000', 'o': '13.0369000000'}, 'XAGUSD': {'b': '37.9960000000', 'o': '37.9900000000'}, 'NZDJPY': {'b': '88.4880000000', 'o': '88.4790000000'}, 'GBPAUD': {'b': '2.0533300000',
2025-07-16 01:31:31,007 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0395000000', 'o': '13.0369000000'}, 'XAGUSD': {'b': '37.9960000000', 'o': '37.9900000000'}, 'NZDJPY': {'b': '88.4880000000', 'o': '88.4790000000'}, 'GBPAUD': {'b': '2.0533300000',...
2025-07-16 01:31:31,007 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:31:31,956 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:31:31,959 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:31:32,975 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:31:32,977 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:31:33,360 - DEBUG - app.firebase_stream - Firebase listener triggered (26). Event Type: patch, Path: /. Timestamp: 1752654693.3605278
2025-07-16 01:31:33,360 - DEBUG - app.firebase_stream - Prepared batch update for 30 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0386000000', 'o': '13.0360000000'}, 'GBPAUD': {'b': '2.0533300000', 'o': '2.0531700000'}, 'BTCUSD': {'b': '118307.5000000000', 'o': '118307.4000000000'}, 'USDJPY': {'b': '148.8640
2025-07-16 01:31:33,360 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0386000000', 'o': '13.0360000000'}, 'GBPAUD': {'b': '2.0533300000', 'o': '2.0531700000'}, 'BTCUSD': {'b': '118307.5000000000', 'o': '118307.4000000000'}, 'USDJPY': {'b': '148.8640...
2025-07-16 01:31:33,361 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:31:33,989 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:31:33,991 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:31:34,537 - WARNING - app - User 4 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:31:34,540 - WARNING - app - No user data found for user 5 (live). Skipping portfolio update.
2025-07-16 01:31:34,545 - WARNING - app - No group settings found for group string. Skipping portfolio update for user 8.
2025-07-16 01:31:34,559 - WARNING - app - User 9 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:31:34,574 - WARNING - app - User 10 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:31:34,589 - WARNING - app - User 11 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:31:34,604 - WARNING - app - User 12 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:31:34,619 - WARNING - app - User 13 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:31:34,995 - DEBUG - app.services.portfolio_calculator - Position calculation for BTCUSD: Type=BUY, Entry=118908.50000000, Current=118257.4, Quantity=0.40000000, Contract Size=1.00000000, PnL=-260.440000000000000000000000, PnL USD=-260.440000000000000000000000, Commission=235.57000000, Final PnL=-496.010000000000000000000000
2025-07-16 01:31:34,995 - WARNING - app.services.portfolio_calculator - MARGIN CALL ALERT: User has margin level 99.82255673249684539406307938% which is below threshold 100.0%
2025-07-16 01:31:34,996 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:31:34,998 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:31:35,015 - WARNING - app - User 16 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:31:35,032 - WARNING - app - User 17 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:31:35,047 - WARNING - app - User 18 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:31:35,062 - WARNING - app - User 19 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:31:35,077 - WARNING - app - User 20 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:31:35,092 - WARNING - app - User 21 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:31:35,107 - WARNING - app - User 22 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:31:35,123 - WARNING - app - User 23 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:31:35,137 - WARNING - app - User 25 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:31:35,507 - DEBUG - app.services.portfolio_calculator - Position calculation for XAGUSD: Type=BUY, Entry=41.09800000, Current=37.9775, Quantity=0.01000000, Contract Size=5000.00000000, PnL=-156.025000000000000000000000, PnL USD=-156.025000000000000000000000, Commission=0.10000000, Final PnL=-156.125000000000000000000000
2025-07-16 01:31:35,507 - DEBUG - app.services.portfolio_calculator - Position calculation for BTCUSD: Type=BUY, Entry=132091.90000000, Current=118257.4, Quantity=6.00000000, Contract Size=1.00000000, PnL=-83007.00000000000000000000000, PnL USD=-83007.00000000000000000000000, Commission=3661.62000000, Final PnL=-86668.62000000000000000000000
2025-07-16 01:31:35,507 - WARNING - app.services.portfolio_calculator - MARGIN CALL ALERT: User has margin level 66.57433719765651607982743836% which is below threshold 100.0%
2025-07-16 01:31:35,597 - DEBUG - app.firebase_stream - Firebase listener triggered (27). Event Type: patch, Path: /. Timestamp: 1752654695.5970316
2025-07-16 01:31:35,597 - DEBUG - app.firebase_stream - Prepared batch update for 34 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0388000000', 'o': '13.0362000000'}, 'NZDJPY': {'b': '88.4870000000', 'o': '88.4790000000'}, 'BTCUSD': {'b': '118320.0000000000', 'o': '118319.9000000000'}, 'USDJPY': {'b': '148.86
2025-07-16 01:31:35,597 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0388000000', 'o': '13.0362000000'}, 'NZDJPY': {'b': '88.4870000000', 'o': '88.4790000000'}, 'BTCUSD': {'b': '118320.0000000000', 'o': '118319.9000000000'}, 'USDJPY': {'b': '148.86...
2025-07-16 01:31:35,597 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:31:35,916 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=96.66800000, Current=97.08200000000001, Quantity=0.01000000, Contract Size=100000.00000000, PnL=414.0000000000100000000000000, PnL USD=2.781043227085009908306183455, Commission=0.10000000, Final PnL=2.681043227085009908306183455
2025-07-16 01:31:35,919 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=96.56000000, Current=97.18599999999999, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-625.9999999999900000000000000, PnL USD=-4.205152319215329325227555167, Commission=0.10000000, Final PnL=-4.305152319215329325227555167
2025-07-16 01:31:35,930 - WARNING - app - User 2 has no group_name set. Skipping portfolio update.
2025-07-16 01:31:35,954 - WARNING - app - No group settings found for group string. Skipping portfolio update for user 3.
2025-07-16 01:31:35,971 - WARNING - app - User 4 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:31:35,972 - WARNING - app - User 5 has no group_name set. Skipping portfolio update.
2025-07-16 01:31:35,972 - WARNING - app - User 6 has no group_name set. Skipping portfolio update.
2025-07-16 01:31:35,999 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:31:36,001 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:31:36,326 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64743000, Current=0.65229, Quantity=0.10000000, Contract Size=100000.00000000, PnL=48.600000000000000000000000, PnL USD=48.600000000000000000000000, Commission=1.00000000, Final PnL=47.600000000000000000000000
2025-07-16 01:31:36,326 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=SELL, Entry=0.64707000, Current=0.6526, Quantity=0.22000000, Contract Size=100000.00000000, PnL=-121.660000000000000000000000, PnL USD=-121.660000000000000000000000, Commission=2.20000000, Final PnL=-123.860000000000000000000000
2025-07-16 01:31:36,327 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFSGD: Type=BUY, Entry=1.57561500, Current=1.602745, Quantity=0.10000000, Contract Size=100000.00000000, PnL=271.300000000000000000000000, PnL USD=211.1892140149303690556814024, Commission=1.00000000, Final PnL=210.1892140149303690556814024
2025-07-16 01:31:36,328 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFSGD: Type=SELL, Entry=1.57505500, Current=1.6032149999999998, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-281.5999999999980000000000000, PnL USD=-219.2070868654772191214590972, Commission=1.00000000, Final PnL=-220.2070868654772191214590972
2025-07-16 01:31:36,328 - DEBUG - app.services.portfolio_calculator - Position calculation for CADJPY: Type=SELL, Entry=106.24150000, Current=108.5365, Quantity=0.15000000, Contract Size=100000.00000000, PnL=-34425.00000000000000000000000, PnL USD=-231.2497900782588251099989924, Commission=0E-8, Final PnL=-231.2497900782588251099989924
2025-07-16 01:31:36,329 - DEBUG - app.services.portfolio_calculator - Position calculation for CADJPY: Type=BUY, Entry=106.27050000, Current=108.5045, Quantity=0.15000000, Contract Size=100000.00000000, PnL=33510.00000000000000000000000, PnL USD=225.1032814966580458804957512, Commission=0E-8, Final PnL=225.1032814966580458804957512
2025-07-16 01:31:36,329 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=BUY, Entry=1.77481000, Current=1.7812199999999998, Quantity=0.22000000, Contract Size=100000.00000000, PnL=141.0199999999956000000000000, PnL USD=92.00849899999712922000000000, Commission=2.20000000, Final PnL=89.80849899999712922000000000
2025-07-16 01:31:36,329 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=SELL, Entry=1.77439000, Current=1.78159, Quantity=0.21000000, Contract Size=100000.00000000, PnL=-151.200000000000000000000000, PnL USD=-98.65044000000000000000000000, Commission=2.10000000, Final PnL=-100.7504400000000000000000000
2025-07-16 01:31:36,330 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFJPY: Type=BUY, Entry=178.15500000, Current=185.72500000000002, Quantity=0.10000000, Contract Size=100000.00000000, PnL=75700.00000000020000000000000, PnL USD=508.5144258220548819400127632, Commission=1.00000000, Final PnL=507.5144258220548819400127632
2025-07-16 01:31:36,330 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFJPY: Type=SELL, Entry=178.09500000, Current=185.765, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-76700.00000000000000000000000, PnL USD=-515.2319215396500184731132234, Commission=1.00000000, Final PnL=-516.2319215396500184731132234
2025-07-16 01:31:36,330 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=BUY, Entry=1.77480000, Current=1.7812199999999998, Quantity=0.05000000, Contract Size=100000.00000000, PnL=32.09999999999900000000000000, PnL USD=20.94364499999934755000000000, Commission=0.50000000, Final PnL=20.44364499999934755000000000
2025-07-16 01:31:36,331 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=SELL, Entry=1.77442000, Current=1.78159, Quantity=0.05000000, Contract Size=100000.00000000, PnL=-35.850000000000000000000000, PnL USD=-23.39033250000000000000000000, Commission=0.50000000, Final PnL=-23.89033250000000000000000000
2025-07-16 01:31:36,331 - DEBUG - app.services.portfolio_calculator - Position calculation for EURGBP: Type=SELL, Entry=0.85403000, Current=0.8677699999999999, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-137.3999999999990000000000000, PnL USD=-184.0775279999986602800000000, Commission=1.00000000, Final PnL=-185.0775279999986602800000000
2025-07-16 01:31:36,332 - DEBUG - app.services.portfolio_calculator - Position calculation for EURJPY: Type=BUY, Entry=167.26050000, Current=173.00150000000002, Quantity=0.10000000, Contract Size=100000.00000000, PnL=57410.00000000020000000000000, PnL USD=385.6514291472152621502703792, Commission=1.00000000, Final PnL=384.6514291472152621502703792
2025-07-16 01:31:36,332 - DEBUG - app.services.portfolio_calculator - Position calculation for EURJPY: Type=SELL, Entry=167.23150000, Current=173.0315, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-58000.00000000000000000000000, PnL USD=-389.6147516205958418701508078, Commission=1.00000000, Final PnL=-390.6147516205958418701508078
2025-07-16 01:31:36,332 - DEBUG - app.services.portfolio_calculator - Position calculation for EURNZD: Type=SELL, Entry=1.91952500, Current=1.955595, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-360.700000000000000000000000, PnL USD=-214.4036870000000000000000000, Commission=1.00000000, Final PnL=-215.4036870000000000000000000
2025-07-16 01:31:36,332 - DEBUG - app.services.portfolio_calculator - Position calculation for EURNZD: Type=BUY, Entry=1.92063500, Current=1.9551450000000001, Quantity=0.10000000, Contract Size=100000.00000000, PnL=345.1000000000010000000000000, PnL USD=205.1308910000005944100000000, Commission=1.00000000, Final PnL=204.1308910000005944100000000
2025-07-16 01:31:36,333 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=SELL, Entry=1.34376000, Current=1.33975, Quantity=0.25000000, Contract Size=0E-8, PnL=0E-24, PnL USD=0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 01:31:36,333 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=SELL, Entry=1.34361000, Current=1.33975, Quantity=0.25000000, Contract Size=0E-8, PnL=0E-24, PnL USD=0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 01:31:36,333 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=BUY, Entry=1.34379000, Current=1.33954, Quantity=0.25000000, Contract Size=0E-8, PnL=-0E-24, PnL USD=-0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 01:31:36,333 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=BUY, Entry=1.34378000, Current=1.33954, Quantity=0.25000000, Contract Size=0E-8, PnL=-0E-24, PnL USD=-0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 01:31:36,333 - DEBUG - app.services.portfolio_calculator - Position calculation for NZDJPY: Type=BUY, Entry=87.10150000, Current=88.4665, Quantity=0.01000000, Contract Size=100000.00000000, PnL=1365.000000000000000000000000, PnL USD=9.169381654519195244013031942, Commission=0.10000000, Final PnL=9.069381654519195244013031942
2025-07-16 01:31:36,334 - DEBUG - app.services.portfolio_calculator - Position calculation for USDCHF: Type=SELL, Entry=0.81771000, Current=0.80157, Quantity=0.15000000, Contract Size=100000.00000000, PnL=242.100000000000000000000000, PnL USD=302.0887923935015347757730029, Commission=1.50000000, Final PnL=300.5887923935015347757730029
2025-07-16 01:31:36,335 - DEBUG - app.services.portfolio_calculator - Position calculation for USDCHF: Type=BUY, Entry=0.81805000, Current=0.8012400000000001, Quantity=0.15000000, Contract Size=100000.00000000, PnL=-252.1499999999985000000000000, PnL USD=-314.6290334655966908736991839, Commission=1.50000000, Final PnL=-316.1290334655966908736991839
2025-07-16 01:31:36,335 - DEBUG - app.services.portfolio_calculator - Position calculation for USDNOK: Type=BUY, Entry=10.04973000, Current=10.27133, Quantity=0.10000000, Contract Size=100000.00000000, PnL=2216.000000000000000000000000, PnL USD=215.7192767952837691686922798, Commission=1.00000000, Final PnL=214.7192767952837691686922798
2025-07-16 01:31:36,336 - DEBUG - app.services.portfolio_calculator - Position calculation for USDNOK: Type=BUY, Entry=10.05023000, Current=10.27133, Quantity=0.10000000, Contract Size=100000.00000000, PnL=2211.000000000000000000000000, PnL USD=215.2325455750778039855499235, Commission=1.00000000, Final PnL=214.2325455750778039855499235
2025-07-16 01:31:36,337 - DEBUG - app.services.portfolio_calculator - Position calculation for USDSGD: Type=SELL, Entry=1.28795000, Current=1.28478, Quantity=0.31000000, Contract Size=100000.00000000, PnL=98.270000000000000000000000, PnL USD=76.49673446829048052746705277, Commission=3.10000000, Final PnL=73.39673446829048052746705277
2025-07-16 01:31:36,337 - DEBUG - app.services.portfolio_calculator - Position calculation for USDTRY: Type=SELL, Entry=39.56087000, Current=40.2590600000, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-6981.900000000000000000000000, PnL USD=-173.4243174083051119425043704, Commission=1.00000000, Final PnL=-174.4243174083051119425043704
2025-07-16 01:31:37,106 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:31:37,107 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.89752000, Current=0.89503, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-2.490000000000000000000000, PnL USD=-1.815001093374152635031707850, Commission=0.10000000, Final PnL=-1.915001093374152635031707850
2025-07-16 01:31:37,109 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:31:37,133 - WARNING - app - User 12 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:31:37,149 - WARNING - app - User 13 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:31:37,973 - DEBUG - app.firebase_stream - Firebase listener triggered (28). Event Type: patch, Path: /. Timestamp: 1752654697.9734063
2025-07-16 01:31:37,973 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9960000000', 'o': '37.9890000000'}, 'NZDJPY': {'b': '88.5010000000', 'o': '88.4930000000'}, 'GBPAUD': {'b': '2.0533300000', 'o': '2.0531500000'}, 'BTCUSD': {'b': '118324.800000000
2025-07-16 01:31:37,974 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9960000000', 'o': '37.9890000000'}, 'NZDJPY': {'b': '88.5010000000', 'o': '88.4930000000'}, 'GBPAUD': {'b': '2.0533300000', 'o': '2.0531500000'}, 'BTCUSD': {'b': '118324.800000000...
2025-07-16 01:31:37,974 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:31:38,111 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:31:38,113 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:31:39,118 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:31:39,119 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:31:40,135 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:31:40,138 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:31:40,332 - DEBUG - app.firebase_stream - Firebase listener triggered (29). Event Type: patch, Path: /. Timestamp: 1752654700.3323429
2025-07-16 01:31:40,332 - DEBUG - app.firebase_stream - Prepared batch update for 34 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0387000000', 'o': '13.0361600000'}, 'XAGUSD': {'b': '37.9920000000', 'o': '37.9850000000'}, 'NZDJPY': {'b': '88.4840000000', 'o': '88.4760000000'}, 'GBPAUD': {'b': '2.0533700000',
2025-07-16 01:31:40,333 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0387000000', 'o': '13.0361600000'}, 'XAGUSD': {'b': '37.9920000000', 'o': '37.9850000000'}, 'NZDJPY': {'b': '88.4840000000', 'o': '88.4760000000'}, 'GBPAUD': {'b': '2.0533700000',...
2025-07-16 01:31:40,333 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:31:41,153 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:31:41,155 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:31:42,172 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:31:42,174 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:31:42,540 - DEBUG - app.firebase_stream - Firebase listener triggered (30). Event Type: patch, Path: /. Timestamp: 1752654702.540316
2025-07-16 01:31:42,540 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9950000000', 'o': '37.9880000000'}, 'NZDJPY': {'b': '88.4830000000', 'o': '88.4760000000'}, 'GBPAUD': {'b': '2.0533900000', 'o': '2.0532300000'}, 'USDJPY': {'b': '148.8670000000',
2025-07-16 01:31:42,541 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9950000000', 'o': '37.9880000000'}, 'NZDJPY': {'b': '88.4830000000', 'o': '88.4760000000'}, 'GBPAUD': {'b': '2.0533900000', 'o': '2.0532300000'}, 'USDJPY': {'b': '148.8670000000',...
2025-07-16 01:31:42,541 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:31:43,176 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:31:43,178 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:31:44,184 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:31:44,186 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:31:44,785 - DEBUG - app.firebase_stream - Firebase listener triggered (31). Event Type: patch, Path: /. Timestamp: 1752654704.7859666
2025-07-16 01:31:44,786 - DEBUG - app.firebase_stream - Prepared batch update for 27 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4820000000', 'o': '88.4730000000'}, 'GBPAUD': {'b': '2.0534100000', 'o': '2.0532500000'}, 'USDJPY': {'b': '148.8670000000', 'o': '148.8640000000'}, 'EURNZD': {'b': '1.9555500000',
2025-07-16 01:31:44,786 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'NZDJPY': {'b': '88.4820000000', 'o': '88.4730000000'}, 'GBPAUD': {'b': '2.0534100000', 'o': '2.0532500000'}, 'USDJPY': {'b': '148.8670000000', 'o': '148.8640000000'}, 'EURNZD': {'b': '1.9555500000',...
2025-07-16 01:31:44,786 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:31:45,192 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:31:45,194 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:31:46,210 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:31:46,213 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:31:47,086 - DEBUG - app.firebase_stream - Firebase listener triggered (32). Event Type: patch, Path: /. Timestamp: 1752654707.0867863
2025-07-16 01:31:47,087 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9970000000', 'o': '37.9900000000'}, 'NZDJPY': {'b': '88.4950000000', 'o': '88.4860000000'}, 'GBPAUD': {'b': '2.0533600000', 'o': '2.0532000000'}, 'USDJPY': {'b': '148.8670000000',
2025-07-16 01:31:47,087 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9970000000', 'o': '37.9900000000'}, 'NZDJPY': {'b': '88.4950000000', 'o': '88.4860000000'}, 'GBPAUD': {'b': '2.0533600000', 'o': '2.0532000000'}, 'USDJPY': {'b': '148.8670000000',...
2025-07-16 01:31:47,087 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:31:47,214 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:31:47,216 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:31:48,232 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:31:48,235 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:31:49,251 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:31:49,254 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:31:49,442 - DEBUG - app.firebase_stream - Firebase listener triggered (33). Event Type: patch, Path: /. Timestamp: 1752654709.4423409
2025-07-16 01:31:49,442 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0390000000', 'o': '13.0364000000'}, 'XAGUSD': {'b': '37.9960000000', 'o': '37.9900000000'}, 'NZDJPY': {'b': '88.4850000000', 'o': '88.4770000000'}, 'GBPAUD': {'b': '2.0534000000',
2025-07-16 01:31:49,442 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0390000000', 'o': '13.0364000000'}, 'XAGUSD': {'b': '37.9960000000', 'o': '37.9900000000'}, 'NZDJPY': {'b': '88.4850000000', 'o': '88.4770000000'}, 'GBPAUD': {'b': '2.0534000000',...
2025-07-16 01:31:49,443 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:31:50,261 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:31:50,264 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:31:51,270 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:31:51,273 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:31:51,689 - DEBUG - app.firebase_stream - Firebase listener triggered (34). Event Type: patch, Path: /. Timestamp: 1752654711.6892567
2025-07-16 01:31:51,689 - DEBUG - app.firebase_stream - Prepared batch update for 25 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0389000000', 'o': '13.0363000000'}, 'XAGUSD': {'b': '37.9940000000', 'o': '37.9880000000'}, 'GBPAUD': {'b': '2.0533800000', 'o': '2.0532300000'}, 'BTCUSD': {'b': '118312.800000000
2025-07-16 01:31:51,689 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0389000000', 'o': '13.0363000000'}, 'XAGUSD': {'b': '37.9940000000', 'o': '37.9880000000'}, 'GBPAUD': {'b': '2.0533800000', 'o': '2.0532300000'}, 'BTCUSD': {'b': '118312.800000000...
2025-07-16 01:31:51,689 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:31:52,281 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:31:52,285 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:31:53,291 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:31:53,292 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:31:54,057 - DEBUG - app.firebase_stream - Firebase listener triggered (35). Event Type: patch, Path: /. Timestamp: 1752654714.0570192
2025-07-16 01:31:54,057 - DEBUG - app.firebase_stream - Prepared batch update for 21 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0388000000', 'o': '13.0362400000'}, 'XAGUSD': {'b': '37.9950000000', 'o': '37.9890000000'}, 'NZDJPY': {'b': '88.4840000000', 'o': '88.4770000000'}, 'GBPAUD': {'b': '2.0533900000',
2025-07-16 01:31:54,057 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0388000000', 'o': '13.0362400000'}, 'XAGUSD': {'b': '37.9950000000', 'o': '37.9890000000'}, 'NZDJPY': {'b': '88.4840000000', 'o': '88.4770000000'}, 'GBPAUD': {'b': '2.0533900000',...
2025-07-16 01:31:54,057 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:31:54,302 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:31:54,304 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:31:55,319 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:31:55,322 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:31:56,264 - DEBUG - app.firebase_stream - Firebase listener triggered (36). Event Type: patch, Path: /. Timestamp: 1752654716.2648156
2025-07-16 01:31:56,265 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0387000000', 'o': '13.0362200000'}, 'NZDJPY': {'b': '88.4850000000', 'o': '88.4780000000'}, 'GBPAUD': {'b': '2.0533600000', 'o': '2.0532200000'}, 'USDJPY': {'b': '148.8670000000',
2025-07-16 01:31:56,265 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0387000000', 'o': '13.0362200000'}, 'NZDJPY': {'b': '88.4850000000', 'o': '88.4780000000'}, 'GBPAUD': {'b': '2.0533600000', 'o': '2.0532200000'}, 'USDJPY': {'b': '148.8670000000',...
2025-07-16 01:31:56,265 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:31:56,324 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:31:56,326 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:31:57,335 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:31:57,337 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:31:58,346 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:31:58,348 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:31:58,660 - DEBUG - app.firebase_stream - Firebase listener triggered (37). Event Type: patch, Path: /. Timestamp: 1752654718.6599832
2025-07-16 01:31:58,660 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0386000000', 'o': '13.0362200000'}, 'XAGUSD': {'b': '37.9930000000', 'o': '37.9870000000'}, 'NZDJPY': {'b': '88.4850000000', 'o': '88.4770000000'}, 'GBPAUD': {'b': '2.0532700000',
2025-07-16 01:31:58,660 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0386000000', 'o': '13.0362200000'}, 'XAGUSD': {'b': '37.9930000000', 'o': '37.9870000000'}, 'NZDJPY': {'b': '88.4850000000', 'o': '88.4770000000'}, 'GBPAUD': {'b': '2.0532700000',...
2025-07-16 01:31:58,660 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:31:59,355 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:31:59,358 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:32:00,362 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:32:00,366 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:32:00,919 - DEBUG - app.firebase_stream - Firebase listener triggered (38). Event Type: patch, Path: /. Timestamp: 1752654720.9192727
2025-07-16 01:32:00,919 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0376000000', 'o': '13.0350000000'}, 'XAGUSD': {'b': '37.9940000000', 'o': '37.9880000000'}, 'NZDJPY': {'b': '88.4900000000', 'o': '88.4810000000'}, 'GBPAUD': {'b': '2.0532500000',
2025-07-16 01:32:00,920 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0376000000', 'o': '13.0350000000'}, 'XAGUSD': {'b': '37.9940000000', 'o': '37.9880000000'}, 'NZDJPY': {'b': '88.4900000000', 'o': '88.4810000000'}, 'GBPAUD': {'b': '2.0532500000',...
2025-07-16 01:32:00,920 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:32:01,379 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:32:01,381 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:32:02,387 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:32:02,389 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:32:03,210 - DEBUG - app.firebase_stream - Firebase listener triggered (39). Event Type: patch, Path: /. Timestamp: 1752654723.2104619
2025-07-16 01:32:03,210 - DEBUG - app.firebase_stream - Prepared batch update for 34 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0388000000', 'o': '13.0362000000'}, 'XAGUSD': {'b': '37.9920000000', 'o': '37.9850000000'}, 'NZDJPY': {'b': '88.4900000000', 'o': '88.4820000000'}, 'GBPAUD': {'b': '2.0532900000',
2025-07-16 01:32:03,210 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0388000000', 'o': '13.0362000000'}, 'XAGUSD': {'b': '37.9920000000', 'o': '37.9850000000'}, 'NZDJPY': {'b': '88.4900000000', 'o': '88.4820000000'}, 'GBPAUD': {'b': '2.0532900000',...
2025-07-16 01:32:03,211 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:32:03,406 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:32:03,408 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:32:04,417 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:32:04,420 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:32:05,437 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:32:05,440 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:32:05,523 - DEBUG - app.firebase_stream - Firebase listener triggered (40). Event Type: patch, Path: /. Timestamp: 1752654725.523641
2025-07-16 01:32:05,524 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0380000000', 'o': '13.0355900000'}, 'XAGUSD': {'b': '37.9950000000', 'o': '37.9880000000'}, 'NZDJPY': {'b': '88.4890000000', 'o': '88.4810000000'}, 'BTCUSD': {'b': '118324.8000000
2025-07-16 01:32:05,524 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0380000000', 'o': '13.0355900000'}, 'XAGUSD': {'b': '37.9950000000', 'o': '37.9880000000'}, 'NZDJPY': {'b': '88.4890000000', 'o': '88.4810000000'}, 'BTCUSD': {'b': '118324.8000000...
2025-07-16 01:32:05,524 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:32:06,456 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:32:06,459 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:32:07,464 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:32:07,466 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:32:07,862 - DEBUG - app.firebase_stream - Firebase listener triggered (41). Event Type: patch, Path: /. Timestamp: 1752654727.8627021
2025-07-16 01:32:07,863 - DEBUG - app.firebase_stream - Prepared batch update for 27 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9920000000', 'o': '37.9850000000'}, 'NZDJPY': {'b': '88.4880000000', 'o': '88.4800000000'}, 'GBPAUD': {'b': '2.0532800000', 'o': '2.0531500000'}, 'BTCUSD': {'b': '118301.100000000
2025-07-16 01:32:07,863 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9920000000', 'o': '37.9850000000'}, 'NZDJPY': {'b': '88.4880000000', 'o': '88.4800000000'}, 'GBPAUD': {'b': '2.0532800000', 'o': '2.0531500000'}, 'BTCUSD': {'b': '118301.100000000...
2025-07-16 01:32:07,863 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:32:08,482 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:32:08,484 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:32:09,496 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:32:09,498 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:32:10,126 - DEBUG - app.firebase_stream - Firebase listener triggered (42). Event Type: patch, Path: /. Timestamp: 1752654730.1267655
2025-07-16 01:32:10,127 - DEBUG - app.firebase_stream - Prepared batch update for 36 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0383000000', 'o': '13.0357000000'}, 'XAGUSD': {'b': '37.9960000000', 'o': '37.9890000000'}, 'NZDJPY': {'b': '88.4920000000', 'o': '88.4830000000'}, 'GBPAUD': {'b': '2.0533000000',
2025-07-16 01:32:10,127 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0383000000', 'o': '13.0357000000'}, 'XAGUSD': {'b': '37.9960000000', 'o': '37.9890000000'}, 'NZDJPY': {'b': '88.4920000000', 'o': '88.4830000000'}, 'GBPAUD': {'b': '2.0533000000',...
2025-07-16 01:32:10,127 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:32:10,511 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:32:10,513 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:32:11,517 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:32:11,519 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:32:12,486 - DEBUG - app.firebase_stream - Firebase listener triggered (43). Event Type: patch, Path: /. Timestamp: 1752654732.4866276
2025-07-16 01:32:12,487 - DEBUG - app.firebase_stream - Prepared batch update for 27 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0382000000', 'o': '13.0356000000'}, 'GBPAUD': {'b': '2.0533400000', 'o': '2.0532000000'}, 'USDCNH': {'b': '7.1810800000', 'o': '7.1810800000'}, 'CADCHF': {'b': '0.5842400000', 'o'
2025-07-16 01:32:12,487 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0382000000', 'o': '13.0356000000'}, 'GBPAUD': {'b': '2.0533400000', 'o': '2.0532000000'}, 'USDCNH': {'b': '7.1810800000', 'o': '7.1810800000'}, 'CADCHF': {'b': '0.5842400000', 'o'...
2025-07-16 01:32:12,487 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:32:12,521 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:32:12,523 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:32:13,533 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:32:13,537 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:32:14,552 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:32:14,555 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:32:14,837 - DEBUG - app.firebase_stream - Firebase listener triggered (44). Event Type: patch, Path: /. Timestamp: 1752654734.8372724
2025-07-16 01:32:14,837 - DEBUG - app.firebase_stream - Prepared batch update for 34 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9950000000', 'o': '37.9890000000'}, 'NZDJPY': {'b': '88.4900000000', 'o': '88.4830000000'}, 'GBPAUD': {'b': '2.0533200000', 'o': '2.0531900000'}, 'USDJPY': {'b': '148.8780000000',
2025-07-16 01:32:14,837 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9950000000', 'o': '37.9890000000'}, 'NZDJPY': {'b': '88.4900000000', 'o': '88.4830000000'}, 'GBPAUD': {'b': '2.0533200000', 'o': '2.0531900000'}, 'USDJPY': {'b': '148.8780000000',...
2025-07-16 01:32:14,838 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:32:15,570 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:32:15,573 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:32:16,590 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:32:16,593 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:32:17,096 - DEBUG - app.firebase_stream - Firebase listener triggered (45). Event Type: patch, Path: /. Timestamp: 1752654737.0968459
2025-07-16 01:32:17,097 - DEBUG - app.firebase_stream - Prepared batch update for 34 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9980000000', 'o': '37.9910000000'}, 'NZDJPY': {'b': '88.4890000000', 'o': '88.4810000000'}, 'GBPAUD': {'b': '2.0533400000', 'o': '2.0531600000'}, 'BTCUSD': {'b': '118324.800000000
2025-07-16 01:32:17,097 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9980000000', 'o': '37.9910000000'}, 'NZDJPY': {'b': '88.4890000000', 'o': '88.4810000000'}, 'GBPAUD': {'b': '2.0533400000', 'o': '2.0531600000'}, 'BTCUSD': {'b': '118324.800000000...
2025-07-16 01:32:17,097 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:32:17,602 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:32:17,606 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:32:18,618 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:32:18,622 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:32:19,451 - DEBUG - app.firebase_stream - Firebase listener triggered (46). Event Type: patch, Path: /. Timestamp: 1752654739.4510133
2025-07-16 01:32:19,451 - DEBUG - app.firebase_stream - Prepared batch update for 30 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9990000000', 'o': '37.9910000000'}, 'NZDJPY': {'b': '88.4880000000', 'o': '88.4800000000'}, 'GBPAUD': {'b': '2.0533200000', 'o': '2.0531700000'}, 'BTCUSD': {'b': '118300.100000000
2025-07-16 01:32:19,451 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9990000000', 'o': '37.9910000000'}, 'NZDJPY': {'b': '88.4880000000', 'o': '88.4800000000'}, 'GBPAUD': {'b': '2.0533200000', 'o': '2.0531700000'}, 'BTCUSD': {'b': '118300.100000000...
2025-07-16 01:32:19,451 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:32:19,626 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:32:19,629 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:32:20,645 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:32:20,648 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:32:21,658 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:32:21,661 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:32:21,700 - DEBUG - app.firebase_stream - Firebase listener triggered (47). Event Type: patch, Path: /. Timestamp: 1752654741.700506
2025-07-16 01:32:21,700 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0383000000', 'o': '13.0357000000'}, 'XAGUSD': {'b': '37.9990000000', 'o': '37.9920000000'}, 'NZDJPY': {'b': '88.4870000000', 'o': '88.4790000000'}, 'GBPAUD': {'b': '2.0532800000',
2025-07-16 01:32:21,700 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0383000000', 'o': '13.0357000000'}, 'XAGUSD': {'b': '37.9990000000', 'o': '37.9920000000'}, 'NZDJPY': {'b': '88.4870000000', 'o': '88.4790000000'}, 'GBPAUD': {'b': '2.0532800000',...
2025-07-16 01:32:21,701 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:32:22,675 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:32:22,678 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:32:23,680 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:32:23,683 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:32:24,057 - DEBUG - app.firebase_stream - Firebase listener triggered (48). Event Type: patch, Path: /. Timestamp: 1752654744.0573516
2025-07-16 01:32:24,057 - DEBUG - app.firebase_stream - Prepared batch update for 26 symbols from root path for queue. Preview: {'XAGUSD': {'b': '38.0000000000', 'o': '37.9930000000'}, 'NZDJPY': {'b': '88.4880000000', 'o': '88.4800000000'}, 'BTCUSD': {'b': '118312.8000000000', 'o': '118312.7000000000'}, 'USDJPY': {'b': '148.86
2025-07-16 01:32:24,057 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '38.0000000000', 'o': '37.9930000000'}, 'NZDJPY': {'b': '88.4880000000', 'o': '88.4800000000'}, 'BTCUSD': {'b': '118312.8000000000', 'o': '118312.7000000000'}, 'USDJPY': {'b': '148.86...
2025-07-16 01:32:24,057 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:32:24,688 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:32:24,692 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:32:25,700 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:32:25,705 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:32:26,411 - DEBUG - app.firebase_stream - Firebase listener triggered (49). Event Type: patch, Path: /. Timestamp: 1752654746.4109883
2025-07-16 01:32:26,411 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0377000000', 'o': '13.0351800000'}, 'XAGUSD': {'b': '37.9990000000', 'o': '37.9930000000'}, 'GBPAUD': {'b': '2.0532100000', 'o': '2.0530700000'}, 'CADCHF': {'b': '0.5842600000', '
2025-07-16 01:32:26,411 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0377000000', 'o': '13.0351800000'}, 'XAGUSD': {'b': '37.9990000000', 'o': '37.9930000000'}, 'GBPAUD': {'b': '2.0532100000', 'o': '2.0530700000'}, 'CADCHF': {'b': '0.5842600000', '...
2025-07-16 01:32:26,411 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:32:26,715 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:32:26,720 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:32:27,735 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:32:27,740 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:32:28,667 - DEBUG - app.firebase_stream - Firebase listener triggered (50). Event Type: patch, Path: /. Timestamp: 1752654748.66704
2025-07-16 01:32:28,667 - DEBUG - app.firebase_stream - Prepared batch update for 37 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0379000000', 'o': '13.0353000000'}, 'NZDJPY': {'b': '88.4880000000', 'o': '88.4830000000'}, 'GBPAUD': {'b': '2.0532400000', 'o': '2.0530700000'}, 'USDJPY': {'b': '148.8790000000',
2025-07-16 01:32:28,667 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0379000000', 'o': '13.0353000000'}, 'NZDJPY': {'b': '88.4880000000', 'o': '88.4830000000'}, 'GBPAUD': {'b': '2.0532400000', 'o': '2.0530700000'}, 'USDJPY': {'b': '148.8790000000',...
2025-07-16 01:32:28,668 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:32:28,742 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:32:28,744 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:32:29,761 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:32:29,765 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:32:30,770 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:32:30,774 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:32:31,025 - DEBUG - app.firebase_stream - Firebase listener triggered (51). Event Type: patch, Path: /. Timestamp: 1752654751.0259466
2025-07-16 01:32:31,026 - DEBUG - app.firebase_stream - Prepared batch update for 37 symbols from root path for queue. Preview: {'XAGUSD': {'b': '38.0000000000', 'o': '37.9940000000'}, 'NZDJPY': {'b': '88.4790000000', 'o': '88.4790000000'}, 'GBPAUD': {'b': '2.0534900000', 'o': '2.0533600000'}, 'USDJPY': {'b': '148.8830000000',
2025-07-16 01:32:31,026 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '38.0000000000', 'o': '37.9940000000'}, 'NZDJPY': {'b': '88.4790000000', 'o': '88.4790000000'}, 'GBPAUD': {'b': '2.0534900000', 'o': '2.0533600000'}, 'USDJPY': {'b': '148.8830000000',...
2025-07-16 01:32:31,026 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:32:31,810 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:32:31,814 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:32:32,817 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:32:32,821 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:32:33,282 - DEBUG - app.firebase_stream - Firebase listener triggered (52). Event Type: patch, Path: /. Timestamp: 1752654753.2823634
2025-07-16 01:32:33,282 - DEBUG - app.firebase_stream - Prepared batch update for 38 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0376000000', 'o': '13.0350000000'}, 'XAGUSD': {'b': '37.9980000000', 'o': '37.9930000000'}, 'NZDJPY': {'b': '88.4760000000', 'o': '88.4690000000'}, 'GBPAUD': {'b': '2.0535700000',
2025-07-16 01:32:33,282 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0376000000', 'o': '13.0350000000'}, 'XAGUSD': {'b': '37.9980000000', 'o': '37.9930000000'}, 'NZDJPY': {'b': '88.4760000000', 'o': '88.4690000000'}, 'GBPAUD': {'b': '2.0535700000',...
2025-07-16 01:32:33,283 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:32:33,838 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:32:33,842 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:32:34,577 - WARNING - app - User 4 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:32:34,580 - WARNING - app - No user data found for user 5 (live). Skipping portfolio update.
2025-07-16 01:32:34,586 - WARNING - app - No group settings found for group string. Skipping portfolio update for user 8.
2025-07-16 01:32:34,602 - WARNING - app - User 9 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:32:34,620 - WARNING - app - User 10 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:32:34,639 - WARNING - app - User 11 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:32:34,655 - WARNING - app - User 12 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:32:34,668 - WARNING - app - User 13 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:32:35,001 - DEBUG - app.services.portfolio_calculator - Position calculation for BTCUSD: Type=BUY, Entry=118908.50000000, Current=118262.7, Quantity=0.40000000, Contract Size=1.00000000, PnL=-258.320000000000000000000000, PnL USD=-258.320000000000000000000000, Commission=235.57000000, Final PnL=-493.890000000000000000000000
2025-07-16 01:32:35,001 - WARNING - app.services.portfolio_calculator - MARGIN CALL ALERT: User has margin level 99.84505552000322624122733008% which is below threshold 100.0%
2025-07-16 01:32:35,002 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:32:35,005 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:32:35,030 - WARNING - app - User 16 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:32:35,044 - WARNING - app - User 17 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:32:35,059 - WARNING - app - User 18 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:32:35,073 - WARNING - app - User 19 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:32:35,086 - WARNING - app - User 20 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:32:35,100 - WARNING - app - User 21 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:32:35,113 - WARNING - app - User 22 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:32:35,125 - WARNING - app - User 23 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:32:35,135 - WARNING - app - User 25 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:32:35,512 - DEBUG - app.services.portfolio_calculator - Position calculation for XAGUSD: Type=BUY, Entry=41.09800000, Current=37.9805, Quantity=0.01000000, Contract Size=5000.00000000, PnL=-155.875000000000000000000000, PnL USD=-155.875000000000000000000000, Commission=0.10000000, Final PnL=-155.975000000000000000000000
2025-07-16 01:32:35,513 - DEBUG - app.services.portfolio_calculator - Position calculation for BTCUSD: Type=BUY, Entry=132091.90000000, Current=118262.7, Quantity=6.00000000, Contract Size=1.00000000, PnL=-82975.20000000000000000000000, PnL USD=-82975.20000000000000000000000, Commission=3661.62000000, Final PnL=-86636.82000000000000000000000
2025-07-16 01:32:35,513 - WARNING - app.services.portfolio_calculator - MARGIN CALL ALERT: User has margin level 66.59614838351123501351371924% which is below threshold 100.0%
2025-07-16 01:32:35,593 - DEBUG - app.firebase_stream - Firebase listener triggered (53). Event Type: patch, Path: /. Timestamp: 1752654755.5937657
2025-07-16 01:32:35,593 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0377000000', 'o': '13.0351000000'}, 'XAGUSD': {'b': '37.9970000000', 'o': '37.9910000000'}, 'NZDJPY': {'b': '88.4750000000', 'o': '88.4670000000'}, 'GBPAUD': {'b': '2.0536000000',
2025-07-16 01:32:35,594 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0377000000', 'o': '13.0351000000'}, 'XAGUSD': {'b': '37.9970000000', 'o': '37.9910000000'}, 'NZDJPY': {'b': '88.4750000000', 'o': '88.4670000000'}, 'GBPAUD': {'b': '2.0536000000',...
2025-07-16 01:32:35,594 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:32:35,924 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=96.66800000, Current=97.055, Quantity=0.01000000, Contract Size=100000.00000000, PnL=387.000000000000000000000000, PnL USD=2.599443839922621206625559183, Commission=0.10000000, Final PnL=2.499443839922621206625559183
2025-07-16 01:32:35,927 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=96.56000000, Current=97.16, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-600.000000000000000000000000, PnL USD=-4.030145488252125901745052996, Commission=0.10000000, Final PnL=-4.130145488252125901745052996
2025-07-16 01:32:35,948 - WARNING - app - User 2 has no group_name set. Skipping portfolio update.
2025-07-16 01:32:35,970 - WARNING - app - No group settings found for group string. Skipping portfolio update for user 3.
2025-07-16 01:32:35,984 - WARNING - app - User 4 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:32:35,984 - WARNING - app - User 5 has no group_name set. Skipping portfolio update.
2025-07-16 01:32:35,984 - WARNING - app - User 6 has no group_name set. Skipping portfolio update.
2025-07-16 01:32:36,008 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:32:36,010 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:32:36,332 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64743000, Current=0.6521, Quantity=0.10000000, Contract Size=100000.00000000, PnL=46.700000000000000000000000, PnL USD=46.700000000000000000000000, Commission=1.00000000, Final PnL=45.700000000000000000000000
2025-07-16 01:32:36,332 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=SELL, Entry=0.64707000, Current=0.6524099999999999, Quantity=0.22000000, Contract Size=100000.00000000, PnL=-117.4799999999978000000000000, PnL USD=-117.4799999999978000000000000, Commission=2.20000000, Final PnL=-119.6799999999978000000000000
2025-07-16 01:32:36,333 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFSGD: Type=BUY, Entry=1.57561500, Current=1.602705, Quantity=0.10000000, Contract Size=100000.00000000, PnL=270.900000000000000000000000, PnL USD=210.8761987794245858761987794, Commission=1.00000000, Final PnL=209.8761987794245858761987794
2025-07-16 01:32:36,334 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFSGD: Type=SELL, Entry=1.57505500, Current=1.6031549999999999, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-280.9999999999990000000000000, PnL USD=-218.7383235770324760244115083, Commission=1.00000000, Final PnL=-219.7383235770324760244115083
2025-07-16 01:32:36,335 - DEBUG - app.services.portfolio_calculator - Position calculation for CADJPY: Type=SELL, Entry=106.24150000, Current=108.53450000000001, Quantity=0.15000000, Contract Size=100000.00000000, PnL=-34395.00000000015000000000000, PnL USD=-231.0280901140541248539072261, Commission=0E-8, Final PnL=-231.0280901140541248539072261
2025-07-16 01:32:36,336 - DEBUG - app.services.portfolio_calculator - Position calculation for CADJPY: Type=BUY, Entry=106.27050000, Current=108.4995, Quantity=0.15000000, Contract Size=100000.00000000, PnL=33435.00000000000000000000000, PnL USD=224.5798573328497158747430782, Commission=0E-8, Final PnL=224.5798573328497158747430782
2025-07-16 01:32:36,336 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=BUY, Entry=1.77481000, Current=1.78162, Quantity=0.22000000, Contract Size=100000.00000000, PnL=149.820000000000000000000000, PnL USD=97.72159320000000000000000000, Commission=2.20000000, Final PnL=95.52159320000000000000000000
2025-07-16 01:32:36,337 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=SELL, Entry=1.77439000, Current=1.78201, Quantity=0.21000000, Contract Size=100000.00000000, PnL=-160.020000000000000000000000, PnL USD=-104.3746452000000000000000000, Commission=2.10000000, Final PnL=-106.4746452000000000000000000
2025-07-16 01:32:36,338 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFJPY: Type=BUY, Entry=178.15500000, Current=185.745, Quantity=0.10000000, Contract Size=100000.00000000, PnL=75900.00000000000000000000000, PnL USD=509.8134042638939265707492040, Commission=1.00000000, Final PnL=508.8134042638939265707492040
2025-07-16 01:32:36,339 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFJPY: Type=SELL, Entry=178.09500000, Current=185.785, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-76900.00000000000000000000000, PnL USD=-516.5303134109808030736576257, Commission=1.00000000, Final PnL=-517.5303134109808030736576257
2025-07-16 01:32:36,339 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=BUY, Entry=1.77480000, Current=1.78162, Quantity=0.05000000, Contract Size=100000.00000000, PnL=34.100000000000000000000000, PnL USD=22.24206600000000000000000000, Commission=0.50000000, Final PnL=21.74206600000000000000000000
2025-07-16 01:32:36,339 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=SELL, Entry=1.77442000, Current=1.78201, Quantity=0.05000000, Contract Size=100000.00000000, PnL=-37.950000000000000000000000, PnL USD=-24.75326700000000000000000000, Commission=0.50000000, Final PnL=-25.25326700000000000000000000
2025-07-16 01:32:36,339 - DEBUG - app.services.portfolio_calculator - Position calculation for EURGBP: Type=SELL, Entry=0.85403000, Current=0.86786, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-138.300000000000000000000000, PnL USD=-185.2390200000000000000000000, Commission=1.00000000, Final PnL=-186.2390200000000000000000000
2025-07-16 01:32:36,340 - DEBUG - app.services.portfolio_calculator - Position calculation for EURJPY: Type=BUY, Entry=167.26050000, Current=173.0115, Quantity=0.10000000, Contract Size=100000.00000000, PnL=57510.00000000000000000000000, PnL USD=386.2894450489662676822633297, Commission=1.00000000, Final PnL=385.2894450489662676822633297
2025-07-16 01:32:36,341 - DEBUG - app.services.portfolio_calculator - Position calculation for EURJPY: Type=SELL, Entry=167.23150000, Current=173.04149999999998, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-58099.99999999980000000000000, PnL USD=-390.2524214457461814371498811, Commission=1.00000000, Final PnL=-391.2524214457461814371498811
2025-07-16 01:32:36,341 - DEBUG - app.services.portfolio_calculator - Position calculation for EURNZD: Type=SELL, Entry=1.91952500, Current=1.9559549999999999, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-364.2999999999990000000000000, PnL USD=-216.4889179999994057400000000, Commission=1.00000000, Final PnL=-217.4889179999994057400000000
2025-07-16 01:32:36,341 - DEBUG - app.services.portfolio_calculator - Position calculation for EURNZD: Type=BUY, Entry=1.92063500, Current=1.955535, Quantity=0.10000000, Contract Size=100000.00000000, PnL=349.000000000000000000000000, PnL USD=207.3967400000000000000000000, Commission=1.00000000, Final PnL=206.3967400000000000000000000
2025-07-16 01:32:36,341 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=SELL, Entry=1.34376000, Current=1.33948, Quantity=0.25000000, Contract Size=0E-8, PnL=0E-24, PnL USD=0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 01:32:36,341 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=SELL, Entry=1.34361000, Current=1.33948, Quantity=0.25000000, Contract Size=0E-8, PnL=0E-24, PnL USD=0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 01:32:36,341 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=BUY, Entry=1.34379000, Current=1.33927, Quantity=0.25000000, Contract Size=0E-8, PnL=-0E-24, PnL USD=-0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 01:32:36,341 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=BUY, Entry=1.34378000, Current=1.33927, Quantity=0.25000000, Contract Size=0E-8, PnL=-0E-24, PnL USD=-0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 01:32:36,342 - DEBUG - app.services.portfolio_calculator - Position calculation for NZDJPY: Type=BUY, Entry=87.10150000, Current=88.45649999999999, Quantity=0.01000000, Contract Size=100000.00000000, PnL=1354.999999999990000000000000, PnL USD=9.101411894302650492349440481, Commission=0.10000000, Final PnL=9.001411894302650492349440481
2025-07-16 01:32:36,343 - DEBUG - app.services.portfolio_calculator - Position calculation for USDCHF: Type=SELL, Entry=0.81771000, Current=0.8016, Quantity=0.15000000, Contract Size=100000.00000000, PnL=241.650000000000000000000000, PnL USD=301.5160022459292532285233015, Commission=1.50000000, Final PnL=300.0160022459292532285233015
2025-07-16 01:32:36,343 - DEBUG - app.services.portfolio_calculator - Position calculation for USDCHF: Type=BUY, Entry=0.81805000, Current=0.80127, Quantity=0.15000000, Contract Size=100000.00000000, PnL=-251.700000000000000000000000, PnL USD=-314.0557739097885083286543141, Commission=1.50000000, Final PnL=-315.5557739097885083286543141
2025-07-16 01:32:36,344 - DEBUG - app.services.portfolio_calculator - Position calculation for USDNOK: Type=BUY, Entry=10.04973000, Current=10.2733, Quantity=0.10000000, Contract Size=100000.00000000, PnL=2235.700000000000000000000000, PnL USD=217.5630832708907075641537159, Commission=1.00000000, Final PnL=216.5630832708907075641537159
2025-07-16 01:32:36,345 - DEBUG - app.services.portfolio_calculator - Position calculation for USDNOK: Type=BUY, Entry=10.05023000, Current=10.2733, Quantity=0.10000000, Contract Size=100000.00000000, PnL=2230.700000000000000000000000, PnL USD=217.0765173558061910647035354, Commission=1.00000000, Final PnL=216.0765173558061910647035354
2025-07-16 01:32:36,345 - DEBUG - app.services.portfolio_calculator - Position calculation for USDSGD: Type=SELL, Entry=1.28795000, Current=1.28481, Quantity=0.31000000, Contract Size=100000.00000000, PnL=97.340000000000000000000000, PnL USD=75.77220077220077220077220077, Commission=3.10000000, Final PnL=72.67220077220077220077220077
2025-07-16 01:32:36,346 - DEBUG - app.services.portfolio_calculator - Position calculation for USDTRY: Type=SELL, Entry=39.56087000, Current=40.259209999999996, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-6983.399999999960000000000000, PnL USD=-173.4615761023719878208780831, Commission=1.00000000, Final PnL=-174.4615761023719878208780831
2025-07-16 01:32:37,114 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:32:37,115 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.89752000, Current=0.89485, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-2.670000000000000000000000, PnL USD=-1.946021588449232159646654957, Commission=0.10000000, Final PnL=-2.046021588449232159646654957
2025-07-16 01:32:37,117 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:32:37,138 - WARNING - app - User 12 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:32:37,152 - WARNING - app - User 13 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:32:37,968 - DEBUG - app.firebase_stream - Firebase listener triggered (54). Event Type: patch, Path: /. Timestamp: 1752654757.9684684
2025-07-16 01:32:37,968 - DEBUG - app.firebase_stream - Prepared batch update for 35 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0378000000', 'o': '13.0352000000'}, 'XAGUSD': {'b': '37.9990000000', 'o': '37.9940000000'}, 'GBPAUD': {'b': '2.0536400000', 'o': '2.0534800000'}, 'BTCUSD': {'b': '118300.100000000
2025-07-16 01:32:37,968 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0378000000', 'o': '13.0352000000'}, 'XAGUSD': {'b': '37.9990000000', 'o': '37.9940000000'}, 'GBPAUD': {'b': '2.0536400000', 'o': '2.0534800000'}, 'BTCUSD': {'b': '118300.100000000...
2025-07-16 01:32:37,969 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:32:38,121 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:32:38,125 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:32:39,129 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:32:39,133 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:32:40,147 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:32:40,152 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:32:40,237 - DEBUG - app.firebase_stream - Firebase listener triggered (55). Event Type: patch, Path: /. Timestamp: 1752654760.2369978
2025-07-16 01:32:40,237 - DEBUG - app.firebase_stream - Prepared batch update for 36 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0382000000', 'o': '13.0356000000'}, 'XAGUSD': {'b': '37.9980000000', 'o': '37.9930000000'}, 'NZDJPY': {'b': '88.4690000000', 'o': '88.4630000000'}, 'GBPAUD': {'b': '2.0536400000',
2025-07-16 01:32:40,237 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0382000000', 'o': '13.0356000000'}, 'XAGUSD': {'b': '37.9980000000', 'o': '37.9930000000'}, 'NZDJPY': {'b': '88.4690000000', 'o': '88.4630000000'}, 'GBPAUD': {'b': '2.0536400000',...
2025-07-16 01:32:40,238 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:32:41,166 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:32:41,170 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:32:42,176 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:32:42,180 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:32:42,590 - DEBUG - app.firebase_stream - Firebase listener triggered (56). Event Type: patch, Path: /. Timestamp: 1752654762.5900388
2025-07-16 01:32:42,590 - DEBUG - app.firebase_stream - Prepared batch update for 34 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9990000000', 'o': '37.9940000000'}, 'NZDJPY': {'b': '88.4680000000', 'o': '88.4590000000'}, 'GBPAUD': {'b': '2.0537500000', 'o': '2.0536000000'}, 'USDCNH': {'b': '7.1809700000', '
2025-07-16 01:32:42,590 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9990000000', 'o': '37.9940000000'}, 'NZDJPY': {'b': '88.4680000000', 'o': '88.4590000000'}, 'GBPAUD': {'b': '2.0537500000', 'o': '2.0536000000'}, 'USDCNH': {'b': '7.1809700000', '...
2025-07-16 01:32:42,590 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:32:43,198 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:32:43,202 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:32:44,215 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:32:44,220 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:32:44,942 - DEBUG - app.firebase_stream - Firebase listener triggered (57). Event Type: patch, Path: /. Timestamp: 1752654764.942487
2025-07-16 01:32:44,942 - DEBUG - app.firebase_stream - Prepared batch update for 30 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0377000000', 'o': '13.0351000000'}, 'NZDJPY': {'b': '88.4660000000', 'o': '88.4590000000'}, 'GBPAUD': {'b': '2.0537500000', 'o': '2.0535700000'}, 'USDCNH': {'b': '7.1809500000', '
2025-07-16 01:32:44,943 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0377000000', 'o': '13.0351000000'}, 'NZDJPY': {'b': '88.4660000000', 'o': '88.4590000000'}, 'GBPAUD': {'b': '2.0537500000', 'o': '2.0535700000'}, 'USDCNH': {'b': '7.1809500000', '...
2025-07-16 01:32:44,943 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:32:45,233 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:32:45,236 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:32:46,251 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:32:46,254 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:32:47,271 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:32:47,275 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:32:47,504 - DEBUG - app.firebase_stream - Firebase listener triggered (58). Event Type: patch, Path: /. Timestamp: 1752654767.5046058
2025-07-16 01:32:47,504 - DEBUG - app.firebase_stream - Prepared batch update for 24 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4680000000', 'o': '88.4590000000'}, 'GBPAUD': {'b': '2.0537100000', 'o': '2.0535300000'}, 'BTCUSD': {'b': '118330.0000000000', 'o': '118329.9000000000'}, 'USDJPY': {'b': '148.8810
2025-07-16 01:32:47,505 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4680000000', 'o': '88.4590000000'}, 'GBPAUD': {'b': '2.0537100000', 'o': '2.0535300000'}, 'BTCUSD': {'b': '118330.0000000000', 'o': '118329.9000000000'}, 'USDJPY': {'b': '148.8810...
2025-07-16 01:32:47,505 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:32:48,288 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:32:48,292 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:32:49,296 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:32:49,300 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:32:49,461 - DEBUG - app.firebase_stream - Firebase listener triggered (59). Event Type: patch, Path: /. Timestamp: 1752654769.461845
2025-07-16 01:32:49,462 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0375000000', 'o': '13.0349700000'}, 'XAGUSD': {'b': '37.9940000000', 'o': '37.9890000000'}, 'NZDJPY': {'b': '88.4650000000', 'o': '88.4590000000'}, 'GBPAUD': {'b': '2.0537300000',
2025-07-16 01:32:49,462 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0375000000', 'o': '13.0349700000'}, 'XAGUSD': {'b': '37.9940000000', 'o': '37.9890000000'}, 'NZDJPY': {'b': '88.4650000000', 'o': '88.4590000000'}, 'GBPAUD': {'b': '2.0537300000',...
2025-07-16 01:32:49,462 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:32:50,315 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:32:50,319 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:32:51,324 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:32:51,325 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:32:51,802 - DEBUG - app.firebase_stream - Firebase listener triggered (60). Event Type: patch, Path: /. Timestamp: 1752654771.8029492
2025-07-16 01:32:51,803 - DEBUG - app.firebase_stream - Prepared batch update for 24 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9930000000', 'o': '37.9880000000'}, 'NZDJPY': {'b': '88.4660000000', 'o': '88.4590000000'}, 'GBPAUD': {'b': '2.0537100000', 'o': '2.0536100000'}, 'BTCUSD': {'b': '118333.000000000
2025-07-16 01:32:51,803 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9930000000', 'o': '37.9880000000'}, 'NZDJPY': {'b': '88.4660000000', 'o': '88.4590000000'}, 'GBPAUD': {'b': '2.0537100000', 'o': '2.0536100000'}, 'BTCUSD': {'b': '118333.000000000...
2025-07-16 01:32:51,803 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:32:52,333 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:32:52,336 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:32:53,343 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:32:53,347 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:32:54,061 - DEBUG - app.firebase_stream - Firebase listener triggered (61). Event Type: patch, Path: /. Timestamp: 1752654774.0617187
2025-07-16 01:32:54,062 - DEBUG - app.firebase_stream - Prepared batch update for 39 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0366000000', 'o': '13.0340000000'}, 'XAGUSD': {'b': '37.9930000000', 'o': '37.9860000000'}, 'NZDJPY': {'b': '88.4650000000', 'o': '88.4580000000'}, 'GBPAUD': {'b': '2.0536500000',
2025-07-16 01:32:54,062 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0366000000', 'o': '13.0340000000'}, 'XAGUSD': {'b': '37.9930000000', 'o': '37.9860000000'}, 'NZDJPY': {'b': '88.4650000000', 'o': '88.4580000000'}, 'GBPAUD': {'b': '2.0536500000',...
2025-07-16 01:32:54,062 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:32:54,365 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:32:54,367 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:32:55,370 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:32:55,374 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:32:56,388 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:32:56,392 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:32:56,416 - DEBUG - app.firebase_stream - Firebase listener triggered (62). Event Type: patch, Path: /. Timestamp: 1752654776.416305
2025-07-16 01:32:56,416 - DEBUG - app.firebase_stream - Prepared batch update for 35 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0362000000', 'o': '13.0337300000'}, 'XAGUSD': {'b': '37.9920000000', 'o': '37.9870000000'}, 'NZDJPY': {'b': '88.4650000000', 'o': '88.4570000000'}, 'GBPAUD': {'b': '2.0536700000',
2025-07-16 01:32:56,416 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0362000000', 'o': '13.0337300000'}, 'XAGUSD': {'b': '37.9920000000', 'o': '37.9870000000'}, 'NZDJPY': {'b': '88.4650000000', 'o': '88.4570000000'}, 'GBPAUD': {'b': '2.0536700000',...
2025-07-16 01:32:56,417 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:32:57,405 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:32:57,409 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:32:58,423 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:32:58,427 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:32:58,668 - DEBUG - app.firebase_stream - Firebase listener triggered (63). Event Type: patch, Path: /. Timestamp: 1752654778.6686013
2025-07-16 01:32:58,668 - DEBUG - app.firebase_stream - Prepared batch update for 34 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0366000000', 'o': '13.0340000000'}, 'XAGUSD': {'b': '37.9910000000', 'o': '37.9860000000'}, 'NZDJPY': {'b': '88.4610000000', 'o': '88.4520000000'}, 'GBPAUD': {'b': '2.0532400000',
2025-07-16 01:32:58,669 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0366000000', 'o': '13.0340000000'}, 'XAGUSD': {'b': '37.9910000000', 'o': '37.9860000000'}, 'NZDJPY': {'b': '88.4610000000', 'o': '88.4520000000'}, 'GBPAUD': {'b': '2.0532400000',...
2025-07-16 01:32:58,669 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:32:59,430 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:32:59,434 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:33:00,451 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:33:00,455 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:33:01,023 - DEBUG - app.firebase_stream - Firebase listener triggered (64). Event Type: patch, Path: /. Timestamp: 1752654781.0238476
2025-07-16 01:33:01,024 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'XAGUSD': {'b': '38.0000000000', 'o': '37.9940000000'}, 'GBPAUD': {'b': '2.0537200000', 'o': '2.0535500000'}, 'USDJPY': {'b': '148.8830000000', 'o': '148.8800000000'}, 'USDCNH': {'b': '7.1810500000',
2025-07-16 01:33:01,024 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '38.0000000000', 'o': '37.9940000000'}, 'GBPAUD': {'b': '2.0537200000', 'o': '2.0535500000'}, 'USDJPY': {'b': '148.8830000000', 'o': '148.8800000000'}, 'USDCNH': {'b': '7.1810500000',...
2025-07-16 01:33:01,024 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:33:01,460 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:33:01,464 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:33:02,469 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:33:02,473 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:33:03,275 - DEBUG - app.firebase_stream - Firebase listener triggered (65). Event Type: patch, Path: /. Timestamp: 1752654783.2754993
2025-07-16 01:33:03,275 - DEBUG - app.firebase_stream - Prepared batch update for 37 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9910000000', 'o': '37.9860000000'}, 'NZDJPY': {'b': '88.4590000000', 'o': '88.4520000000'}, 'GBPAUD': {'b': '2.0537000000', 'o': '2.0535400000'}, 'BTCUSD': {'b': '118337.200000000
2025-07-16 01:33:03,276 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9910000000', 'o': '37.9860000000'}, 'NZDJPY': {'b': '88.4590000000', 'o': '88.4520000000'}, 'GBPAUD': {'b': '2.0537000000', 'o': '2.0535400000'}, 'BTCUSD': {'b': '118337.200000000...
2025-07-16 01:33:03,276 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:33:03,480 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:33:03,484 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:33:04,498 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:33:04,502 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:33:05,509 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:33:05,512 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:33:05,632 - DEBUG - app.firebase_stream - Firebase listener triggered (66). Event Type: patch, Path: /. Timestamp: 1752654785.6327417
2025-07-16 01:33:05,632 - DEBUG - app.firebase_stream - Prepared batch update for 38 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0366000000', 'o': '13.0341900000'}, 'XAGUSD': {'b': '37.9970000000', 'o': '37.9910000000'}, 'NZDJPY': {'b': '88.4640000000', 'o': '88.4550000000'}, 'GBPAUD': {'b': '2.0537100000',
2025-07-16 01:33:05,633 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0366000000', 'o': '13.0341900000'}, 'XAGUSD': {'b': '37.9970000000', 'o': '37.9910000000'}, 'NZDJPY': {'b': '88.4640000000', 'o': '88.4550000000'}, 'GBPAUD': {'b': '2.0537100000',...
2025-07-16 01:33:05,633 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:33:06,526 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:33:06,530 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:33:07,537 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:33:07,541 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:33:07,888 - DEBUG - app.firebase_stream - Firebase listener triggered (67). Event Type: patch, Path: /. Timestamp: 1752654787.8883328
2025-07-16 01:33:07,888 - DEBUG - app.firebase_stream - Prepared batch update for 37 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0364000000', 'o': '13.0338600000'}, 'NZDJPY': {'b': '88.4600000000', 'o': '88.4510000000'}, 'GBPAUD': {'b': '2.0536600000', 'o': '2.0535000000'}, 'USDJPY': {'b': '148.8810000000',
2025-07-16 01:33:07,889 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0364000000', 'o': '13.0338600000'}, 'NZDJPY': {'b': '88.4600000000', 'o': '88.4510000000'}, 'GBPAUD': {'b': '2.0536600000', 'o': '2.0535000000'}, 'USDJPY': {'b': '148.8810000000',...
2025-07-16 01:33:07,889 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:33:08,549 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:33:08,552 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:33:09,569 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:33:09,574 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:33:10,238 - DEBUG - app.firebase_stream - Firebase listener triggered (68). Event Type: patch, Path: /. Timestamp: 1752654790.238375
2025-07-16 01:33:10,238 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9910000000', 'o': '37.9850000000'}, 'NZDJPY': {'b': '88.4620000000', 'o': '88.4540000000'}, 'GBPAUD': {'b': '2.0537400000', 'o': '2.0535500000'}, 'USDJPY': {'b': '148.8960000000',
2025-07-16 01:33:10,239 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9910000000', 'o': '37.9850000000'}, 'NZDJPY': {'b': '88.4620000000', 'o': '88.4540000000'}, 'GBPAUD': {'b': '2.0537400000', 'o': '2.0535500000'}, 'USDJPY': {'b': '148.8960000000',...
2025-07-16 01:33:10,239 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:33:10,584 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:33:10,587 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:33:11,597 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:33:11,601 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:33:12,493 - DEBUG - app.firebase_stream - Firebase listener triggered (69). Event Type: patch, Path: /. Timestamp: 1752654792.493338
2025-07-16 01:33:12,493 - DEBUG - app.firebase_stream - Prepared batch update for 37 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0366000000', 'o': '13.0343700000'}, 'NZDJPY': {'b': '88.4600000000', 'o': '88.4520000000'}, 'GBPAUD': {'b': '2.0537500000', 'o': '2.0536000000'}, 'USDJPY': {'b': '148.8940000000',
2025-07-16 01:33:12,493 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0366000000', 'o': '13.0343700000'}, 'NZDJPY': {'b': '88.4600000000', 'o': '88.4520000000'}, 'GBPAUD': {'b': '2.0537500000', 'o': '2.0536000000'}, 'USDJPY': {'b': '148.8940000000',...
2025-07-16 01:33:12,493 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:33:12,617 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:33:12,620 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:33:13,623 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:33:13,627 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:33:14,644 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:33:14,647 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:33:14,801 - DEBUG - app.firebase_stream - Firebase listener triggered (70). Event Type: patch, Path: /. Timestamp: 1752654794.801825
2025-07-16 01:33:14,802 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0370000000', 'o': '13.0344000000'}, 'NZDJPY': {'b': '88.4590000000', 'o': '88.4520000000'}, 'GBPAUD': {'b': '2.0538000000', 'o': '2.0536200000'}, 'USDJPY': {'b': '148.8910000000',
2025-07-16 01:33:14,802 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0370000000', 'o': '13.0344000000'}, 'NZDJPY': {'b': '88.4590000000', 'o': '88.4520000000'}, 'GBPAUD': {'b': '2.0538000000', 'o': '2.0536200000'}, 'USDJPY': {'b': '148.8910000000',...
2025-07-16 01:33:14,802 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:33:15,661 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:33:15,664 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:33:16,668 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:33:16,671 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:33:17,097 - DEBUG - app.firebase_stream - Firebase listener triggered (71). Event Type: patch, Path: /. Timestamp: 1752654797.0975685
2025-07-16 01:33:17,097 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0368000000', 'o': '13.0343700000'}, 'NZDJPY': {'b': '88.4590000000', 'o': '88.4510000000'}, 'GBPAUD': {'b': '2.0536900000', 'o': '2.0536300000'}, 'BTCUSD': {'b': '118338.000000000
2025-07-16 01:33:17,098 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0368000000', 'o': '13.0343700000'}, 'NZDJPY': {'b': '88.4590000000', 'o': '88.4510000000'}, 'GBPAUD': {'b': '2.0536900000', 'o': '2.0536300000'}, 'BTCUSD': {'b': '118338.000000000...
2025-07-16 01:33:17,098 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:33:17,674 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:33:17,678 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:33:18,681 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:33:18,684 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:33:19,452 - DEBUG - app.firebase_stream - Firebase listener triggered (72). Event Type: patch, Path: /. Timestamp: 1752654799.45259
2025-07-16 01:33:19,452 - DEBUG - app.firebase_stream - Prepared batch update for 34 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0369000000', 'o': '13.0343700000'}, 'XAGUSD': {'b': '37.9870000000', 'o': '37.9810000000'}, 'NZDJPY': {'b': '88.4600000000', 'o': '88.4510000000'}, 'GBPAUD': {'b': '2.0537200000',
2025-07-16 01:33:19,453 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0369000000', 'o': '13.0343700000'}, 'XAGUSD': {'b': '37.9870000000', 'o': '37.9810000000'}, 'NZDJPY': {'b': '88.4600000000', 'o': '88.4510000000'}, 'GBPAUD': {'b': '2.0537200000',...
2025-07-16 01:33:19,453 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:33:19,700 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:33:19,704 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:33:20,709 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:33:20,713 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:33:21,709 - DEBUG - app.firebase_stream - Firebase listener triggered (73). Event Type: patch, Path: /. Timestamp: 1752654801.7098153
2025-07-16 01:33:21,710 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9940000000', 'o': '37.9890000000'}, 'NZDJPY': {'b': '88.4670000000', 'o': '88.4590000000'}, 'GBPAUD': {'b': '2.0537100000', 'o': '2.0535600000'}, 'USDJPY': {'b': '148.8780000000',
2025-07-16 01:33:21,710 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9940000000', 'o': '37.9890000000'}, 'NZDJPY': {'b': '88.4670000000', 'o': '88.4590000000'}, 'GBPAUD': {'b': '2.0537100000', 'o': '2.0535600000'}, 'USDJPY': {'b': '148.8780000000',...
2025-07-16 01:33:21,710 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:33:21,716 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:33:21,724 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:33:22,742 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:33:22,746 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:33:23,755 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:33:23,759 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:33:24,080 - DEBUG - app.firebase_stream - Firebase listener triggered (74). Event Type: patch, Path: /. Timestamp: 1752654804.0808043
2025-07-16 01:33:24,081 - DEBUG - app.firebase_stream - Prepared batch update for 34 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9840000000', 'o': '37.9790000000'}, 'NZDJPY': {'b': '88.4610000000', 'o': '88.4520000000'}, 'GBPAUD': {'b': '2.0537200000', 'o': '2.0535700000'}, 'USDJPY': {'b': '148.8770000000',
2025-07-16 01:33:24,081 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9840000000', 'o': '37.9790000000'}, 'NZDJPY': {'b': '88.4610000000', 'o': '88.4520000000'}, 'GBPAUD': {'b': '2.0537200000', 'o': '2.0535700000'}, 'USDJPY': {'b': '148.8770000000',...
2025-07-16 01:33:24,081 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:33:24,770 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:33:24,774 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:33:25,776 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:33:25,780 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:33:26,316 - DEBUG - app.firebase_stream - Firebase listener triggered (75). Event Type: patch, Path: /. Timestamp: 1752654806.3161569
2025-07-16 01:33:26,316 - DEBUG - app.firebase_stream - Prepared batch update for 26 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0366000000', 'o': '13.0343900000'}, 'NZDJPY': {'b': '88.4600000000', 'o': '88.4510000000'}, 'GBPAUD': {'b': '2.0537200000', 'o': '2.0535600000'}, 'USDJPY': {'b': '148.8760000000',
2025-07-16 01:33:26,316 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0366000000', 'o': '13.0343900000'}, 'NZDJPY': {'b': '88.4600000000', 'o': '88.4510000000'}, 'GBPAUD': {'b': '2.0537200000', 'o': '2.0535600000'}, 'USDJPY': {'b': '148.8760000000',...
2025-07-16 01:33:26,316 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:33:26,784 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:33:26,788 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:33:27,797 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:33:27,801 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:33:28,667 - DEBUG - app.firebase_stream - Firebase listener triggered (76). Event Type: patch, Path: /. Timestamp: 1752654808.6670592
2025-07-16 01:33:28,667 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4550000000', 'o': '88.4520000000'}, 'GBPAUD': {'b': '2.0538300000', 'o': '2.0536700000'}, 'USDJPY': {'b': '148.8770000000', 'o': '148.8740000000'}, 'USDCNH': {'b': '7.1811400000',
2025-07-16 01:33:28,667 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4550000000', 'o': '88.4520000000'}, 'GBPAUD': {'b': '2.0538300000', 'o': '2.0536700000'}, 'USDJPY': {'b': '148.8770000000', 'o': '148.8740000000'}, 'USDCNH': {'b': '7.1811400000',...
2025-07-16 01:33:28,667 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:33:28,807 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:33:28,811 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:33:29,825 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:33:29,829 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:33:30,838 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:33:30,841 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:33:30,921 - DEBUG - app.firebase_stream - Firebase listener triggered (77). Event Type: patch, Path: /. Timestamp: 1752654810.9213924
2025-07-16 01:33:30,921 - DEBUG - app.firebase_stream - Prepared batch update for 27 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9780000000', 'o': '37.9720000000'}, 'NZDJPY': {'b': '88.4520000000', 'o': '88.4450000000'}, 'GBPAUD': {'b': '2.0538200000', 'o': '2.0536900000'}, 'USDJPY': {'b': '148.8870000000',
2025-07-16 01:33:30,921 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9780000000', 'o': '37.9720000000'}, 'NZDJPY': {'b': '88.4520000000', 'o': '88.4450000000'}, 'GBPAUD': {'b': '2.0538200000', 'o': '2.0536900000'}, 'USDJPY': {'b': '148.8870000000',...
2025-07-16 01:33:30,921 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:33:31,858 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:33:31,862 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:33:32,876 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:33:32,881 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:33:33,276 - DEBUG - app.firebase_stream - Firebase listener triggered (78). Event Type: patch, Path: /. Timestamp: 1752654813.2764435
2025-07-16 01:33:33,276 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9780000000', 'o': '37.9730000000'}, 'NZDJPY': {'b': '88.4530000000', 'o': '88.4450000000'}, 'GBPAUD': {'b': '2.0538300000', 'o': '2.0536800000'}, 'USDJPY': {'b': '148.8800000000',
2025-07-16 01:33:33,276 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9780000000', 'o': '37.9730000000'}, 'NZDJPY': {'b': '88.4530000000', 'o': '88.4450000000'}, 'GBPAUD': {'b': '2.0538300000', 'o': '2.0536800000'}, 'USDJPY': {'b': '148.8800000000',...
2025-07-16 01:33:33,277 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:33:33,894 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:33:33,898 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:33:34,526 - WARNING - app - User 4 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:33:34,528 - WARNING - app - No user data found for user 5 (live). Skipping portfolio update.
2025-07-16 01:33:34,531 - WARNING - app - No group settings found for group string. Skipping portfolio update for user 8.
2025-07-16 01:33:34,543 - WARNING - app - User 9 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:33:34,555 - WARNING - app - User 10 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:33:34,570 - WARNING - app - User 11 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:33:34,585 - WARNING - app - User 12 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:33:34,599 - WARNING - app - User 13 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:33:35,007 - DEBUG - app.services.portfolio_calculator - Position calculation for BTCUSD: Type=BUY, Entry=118908.50000000, Current=118287.9, Quantity=0.40000000, Contract Size=1.00000000, PnL=-248.240000000000000000000000, PnL USD=-248.240000000000000000000000, Commission=235.57000000, Final PnL=-483.810000000000000000000000
2025-07-16 01:33:35,007 - WARNING - app.services.portfolio_calculator - MARGIN CALL ALERT: User has margin level 99.95203088701469743906489945% which is below threshold 100.0%
2025-07-16 01:33:35,008 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:33:35,011 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:33:35,036 - WARNING - app - User 16 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:33:35,052 - WARNING - app - User 17 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:33:35,066 - WARNING - app - User 18 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:33:35,080 - WARNING - app - User 19 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:33:35,094 - WARNING - app - User 20 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:33:35,108 - WARNING - app - User 21 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:33:35,121 - WARNING - app - User 22 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:33:35,134 - WARNING - app - User 23 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:33:35,145 - WARNING - app - User 25 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:33:35,497 - DEBUG - app.firebase_stream - Firebase listener triggered (79). Event Type: patch, Path: /. Timestamp: 1752654815.4976919
2025-07-16 01:33:35,498 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0365000000', 'o': '13.0341900000'}, 'NZDJPY': {'b': '88.4530000000', 'o': '88.4440000000'}, 'GBPAUD': {'b': '2.0538400000', 'o': '2.0536900000'}, 'USDJPY': {'b': '148.8800000000',
2025-07-16 01:33:35,498 - DEBUG - app.services.portfolio_calculator - Position calculation for XAGUSD: Type=BUY, Entry=41.09800000, Current=37.960499999999996, Quantity=0.01000000, Contract Size=5000.00000000, PnL=-156.8750000000002000000000000, PnL USD=-156.8750000000002000000000000, Commission=0.10000000, Final PnL=-156.9750000000002000000000000
2025-07-16 01:33:35,499 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0365000000', 'o': '13.0341900000'}, 'NZDJPY': {'b': '88.4530000000', 'o': '88.4440000000'}, 'GBPAUD': {'b': '2.0538400000', 'o': '2.0536900000'}, 'USDJPY': {'b': '148.8800000000',...
2025-07-16 01:33:35,499 - DEBUG - app.services.portfolio_calculator - Position calculation for BTCUSD: Type=BUY, Entry=132091.90000000, Current=118287.9, Quantity=6.00000000, Contract Size=1.00000000, PnL=-82824.00000000000000000000000, PnL USD=-82824.00000000000000000000000, Commission=3661.62000000, Final PnL=-86485.62000000000000000000000
2025-07-16 01:33:35,499 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:33:35,499 - WARNING - app.services.portfolio_calculator - MARGIN CALL ALERT: User has margin level 66.69868485034625158557763837% which is below threshold 100.0%
2025-07-16 01:33:35,930 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=96.66800000, Current=97.032, Quantity=0.01000000, Contract Size=100000.00000000, PnL=364.000000000000000000000000, PnL USD=2.444922084900591080064481462, Commission=0.10000000, Final PnL=2.344922084900591080064481462
2025-07-16 01:33:35,930 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=96.56000000, Current=97.136, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-576.000000000000000000000000, PnL USD=-3.868887694787748522299838796, Commission=0.10000000, Final PnL=-3.968887694787748522299838796
2025-07-16 01:33:35,933 - WARNING - app - User 2 has no group_name set. Skipping portfolio update.
2025-07-16 01:33:35,940 - WARNING - app - No group settings found for group string. Skipping portfolio update for user 3.
2025-07-16 01:33:35,955 - WARNING - app - User 4 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:33:35,956 - WARNING - app - User 5 has no group_name set. Skipping portfolio update.
2025-07-16 01:33:35,956 - WARNING - app - User 6 has no group_name set. Skipping portfolio update.
2025-07-16 01:33:36,337 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64743000, Current=0.65194, Quantity=0.10000000, Contract Size=100000.00000000, PnL=45.100000000000000000000000, PnL USD=45.100000000000000000000000, Commission=1.00000000, Final PnL=44.100000000000000000000000
2025-07-16 01:33:36,337 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=SELL, Entry=0.64707000, Current=0.65225, Quantity=0.22000000, Contract Size=100000.00000000, PnL=-113.960000000000000000000000, PnL USD=-113.960000000000000000000000, Commission=2.20000000, Final PnL=-116.160000000000000000000000
2025-07-16 01:33:36,338 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:33:36,339 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFSGD: Type=BUY, Entry=1.57561500, Current=1.602815, Quantity=0.10000000, Contract Size=100000.00000000, PnL=272.000000000000000000000000, PnL USD=211.7044543551186556767148450, Commission=1.00000000, Final PnL=210.7044543551186556767148450
2025-07-16 01:33:36,340 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFSGD: Type=SELL, Entry=1.57505500, Current=1.6032849999999998, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-282.2999999999980000000000000, PnL USD=-219.7212039134175481199554798, Commission=1.00000000, Final PnL=-220.7212039134175481199554798
2025-07-16 01:33:36,341 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:33:36,342 - DEBUG - app.services.portfolio_calculator - Position calculation for CADJPY: Type=SELL, Entry=106.24150000, Current=108.5295, Quantity=0.15000000, Contract Size=100000.00000000, PnL=-34320.00000000000000000000000, PnL USD=-230.5212251477700161203653949, Commission=0E-8, Final PnL=-230.5212251477700161203653949
2025-07-16 01:33:36,342 - DEBUG - app.services.portfolio_calculator - Position calculation for CADJPY: Type=BUY, Entry=106.27050000, Current=108.4965, Quantity=0.15000000, Contract Size=100000.00000000, PnL=33390.00000000000000000000000, PnL USD=224.2745835572272971520687802, Commission=0E-8, Final PnL=224.2745835572272971520687802
2025-07-16 01:33:36,343 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=BUY, Entry=1.77481000, Current=1.7819999999999998, Quantity=0.22000000, Contract Size=100000.00000000, PnL=158.1799999999956000000000000, PnL USD=103.1491779999971307600000000, Commission=2.20000000, Final PnL=100.9491779999971307600000000
2025-07-16 01:33:36,343 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=SELL, Entry=1.77439000, Current=1.78237, Quantity=0.21000000, Contract Size=100000.00000000, PnL=-167.580000000000000000000000, PnL USD=-109.2789180000000000000000000, Commission=2.10000000, Final PnL=-111.3789180000000000000000000
2025-07-16 01:33:36,343 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFJPY: Type=BUY, Entry=178.15500000, Current=185.735, Quantity=0.10000000, Contract Size=100000.00000000, PnL=75800.00000000000000000000000, PnL USD=509.1348737238044062332079527, Commission=1.00000000, Final PnL=508.1348737238044062332079527
2025-07-16 01:33:36,344 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFJPY: Type=SELL, Entry=178.09500000, Current=185.785, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-76900.00000000000000000000000, PnL USD=-516.5233745298226759806555615, Commission=1.00000000, Final PnL=-517.5233745298226759806555615
2025-07-16 01:33:36,344 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=BUY, Entry=1.77480000, Current=1.7819999999999998, Quantity=0.05000000, Contract Size=100000.00000000, PnL=35.99999999999900000000000000, PnL USD=23.47559999999934790000000000, Commission=0.50000000, Final PnL=22.97559999999934790000000000
2025-07-16 01:33:36,345 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=SELL, Entry=1.77442000, Current=1.78237, Quantity=0.05000000, Contract Size=100000.00000000, PnL=-39.750000000000000000000000, PnL USD=-25.92097500000000000000000000, Commission=0.50000000, Final PnL=-26.42097500000000000000000000
2025-07-16 01:33:36,345 - DEBUG - app.services.portfolio_calculator - Position calculation for EURGBP: Type=SELL, Entry=0.85403000, Current=0.8679399999999999, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-139.0999999999990000000000000, PnL USD=-186.2910659999986607400000000, Commission=1.00000000, Final PnL=-187.2910659999986607400000000
2025-07-16 01:33:36,345 - DEBUG - app.services.portfolio_calculator - Position calculation for EURJPY: Type=BUY, Entry=167.26050000, Current=173.00650000000002, Quantity=0.10000000, Contract Size=100000.00000000, PnL=57460.00000000020000000000000, PnL USD=385.9484148307375067168189146, Commission=1.00000000, Final PnL=384.9484148307375067168189146
2025-07-16 01:33:36,346 - DEBUG - app.services.portfolio_calculator - Position calculation for EURJPY: Type=SELL, Entry=167.23150000, Current=173.0365, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-58050.00000000000000000000000, PnL USD=-389.9113379903277807630306287, Commission=1.00000000, Final PnL=-390.9113379903277807630306287
2025-07-16 01:33:36,347 - DEBUG - app.services.portfolio_calculator - Position calculation for EURNZD: Type=SELL, Entry=1.91952500, Current=1.9563949999999999, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-368.6999999999990000000000000, PnL USD=-219.0483569999994058900000000, Commission=1.00000000, Final PnL=-220.0483569999994058900000000
2025-07-16 01:33:36,347 - DEBUG - app.services.portfolio_calculator - Position calculation for EURNZD: Type=BUY, Entry=1.92063500, Current=1.9559650000000002, Quantity=0.10000000, Contract Size=100000.00000000, PnL=353.3000000000020000000000000, PnL USD=209.8990630000011882200000000, Commission=1.00000000, Final PnL=208.8990630000011882200000000
2025-07-16 01:33:36,347 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=SELL, Entry=1.34376000, Current=1.3393599999999999, Quantity=0.25000000, Contract Size=0E-8, PnL=0E-32, PnL USD=0E-32, Commission=2.50000000, Final PnL=-2.500000000000000000000000000
2025-07-16 01:33:36,347 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=SELL, Entry=1.34361000, Current=1.3393599999999999, Quantity=0.25000000, Contract Size=0E-8, PnL=0E-32, PnL USD=0E-32, Commission=2.50000000, Final PnL=-2.500000000000000000000000000
2025-07-16 01:33:36,347 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=BUY, Entry=1.34379000, Current=1.33915, Quantity=0.25000000, Contract Size=0E-8, PnL=-0E-24, PnL USD=-0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 01:33:36,347 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=BUY, Entry=1.34378000, Current=1.33915, Quantity=0.25000000, Contract Size=0E-8, PnL=-0E-24, PnL USD=-0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 01:33:36,348 - DEBUG - app.services.portfolio_calculator - Position calculation for NZDJPY: Type=BUY, Entry=87.10150000, Current=88.4315, Quantity=0.01000000, Contract Size=100000.00000000, PnL=1330.000000000000000000000000, PnL USD=8.933369156367544331004836110, Commission=0.10000000, Final PnL=8.833369156367544331004836110
2025-07-16 01:33:36,349 - DEBUG - app.services.portfolio_calculator - Position calculation for USDCHF: Type=SELL, Entry=0.81771000, Current=0.80163, Quantity=0.15000000, Contract Size=100000.00000000, PnL=241.200000000000000000000000, PnL USD=300.9432549782901631980835454, Commission=1.50000000, Final PnL=299.4432549782901631980835454
2025-07-16 01:33:36,350 - DEBUG - app.services.portfolio_calculator - Position calculation for USDCHF: Type=BUY, Entry=0.81805000, Current=0.8013, Quantity=0.15000000, Contract Size=100000.00000000, PnL=-251.250000000000000000000000, PnL USD=-313.4825572690522533313370265, Commission=1.50000000, Final PnL=-314.9825572690522533313370265
2025-07-16 01:33:36,350 - DEBUG - app.services.portfolio_calculator - Position calculation for USDNOK: Type=BUY, Entry=10.04973000, Current=10.27406, Quantity=0.10000000, Contract Size=100000.00000000, PnL=2243.300000000000000000000000, PnL USD=218.3219969655062339479853901, Commission=1.00000000, Final PnL=217.3219969655062339479853901
2025-07-16 01:33:36,351 - DEBUG - app.services.portfolio_calculator - Position calculation for USDNOK: Type=BUY, Entry=10.05023000, Current=10.27406, Quantity=0.10000000, Contract Size=100000.00000000, PnL=2238.300000000000000000000000, PnL USD=217.8353879587628063325349702, Commission=1.00000000, Final PnL=216.8353879587628063325349702
2025-07-16 01:33:36,352 - DEBUG - app.services.portfolio_calculator - Position calculation for USDSGD: Type=SELL, Entry=1.28795000, Current=1.28496, Quantity=0.31000000, Contract Size=100000.00000000, PnL=92.690000000000000000000000, PnL USD=72.14296277270569189218639332, Commission=3.10000000, Final PnL=69.04296277270569189218639332
2025-07-16 01:33:36,353 - DEBUG - app.services.portfolio_calculator - Position calculation for USDTRY: Type=SELL, Entry=39.56087000, Current=40.259209999999996, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-6983.399999999960000000000000, PnL USD=-173.4615761023719878208780831, Commission=1.00000000, Final PnL=-174.4615761023719878208780831
2025-07-16 01:33:37,113 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.89752000, Current=0.89466, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-2.860000000000000000000000, PnL USD=-2.084441755887090308803486703, Commission=0.10000000, Final PnL=-2.184441755887090308803486703
2025-07-16 01:33:37,140 - WARNING - app - User 12 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:33:37,158 - WARNING - app - User 13 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:33:37,347 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:33:37,351 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:33:37,882 - DEBUG - app.firebase_stream - Firebase listener triggered (80). Event Type: patch, Path: /. Timestamp: 1752654817.8819764
2025-07-16 01:33:37,882 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0371000000', 'o': '13.0345000000'}, 'XAGUSD': {'b': '37.9790000000', 'o': '37.9750000000'}, 'NZDJPY': {'b': '88.4520000000', 'o': '88.4450000000'}, 'GBPAUD': {'b': '2.0538500000',
2025-07-16 01:33:37,882 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0371000000', 'o': '13.0345000000'}, 'XAGUSD': {'b': '37.9790000000', 'o': '37.9750000000'}, 'NZDJPY': {'b': '88.4520000000', 'o': '88.4450000000'}, 'GBPAUD': {'b': '2.0538500000',...
2025-07-16 01:33:37,883 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:33:38,369 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:33:38,373 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:33:39,378 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:33:39,382 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:33:40,132 - DEBUG - app.firebase_stream - Firebase listener triggered (81). Event Type: patch, Path: /. Timestamp: 1752654820.1327767
2025-07-16 01:33:40,133 - DEBUG - app.firebase_stream - Prepared batch update for 26 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9780000000', 'o': '37.9730000000'}, 'NZDJPY': {'b': '88.4530000000', 'o': '88.4440000000'}, 'GBPAUD': {'b': '2.0538300000', 'o': '2.0537000000'}, 'USDJPY': {'b': '148.8940000000',
2025-07-16 01:33:40,134 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'XAGUSD': {'b': '37.9780000000', 'o': '37.9730000000'}, 'NZDJPY': {'b': '88.4530000000', 'o': '88.4440000000'}, 'GBPAUD': {'b': '2.0538300000', 'o': '2.0537000000'}, 'USDJPY': {'b': '148.8940000000',...
2025-07-16 01:33:40,134 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:33:40,394 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:33:40,400 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:33:41,412 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:33:41,416 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:33:42,424 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:33:42,427 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:33:42,495 - DEBUG - app.firebase_stream - Firebase listener triggered (82). Event Type: patch, Path: /. Timestamp: 1752654822.4953547
2025-07-16 01:33:42,495 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0373000000', 'o': '13.0347000000'}, 'XAGUSD': {'b': '37.9770000000', 'o': '37.9730000000'}, 'NZDJPY': {'b': '88.4500000000', 'o': '88.4440000000'}, 'GBPAUD': {'b': '2.0537100000',
2025-07-16 01:33:42,495 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0373000000', 'o': '13.0347000000'}, 'XAGUSD': {'b': '37.9770000000', 'o': '37.9730000000'}, 'NZDJPY': {'b': '88.4500000000', 'o': '88.4440000000'}, 'GBPAUD': {'b': '2.0537100000',...
2025-07-16 01:33:42,496 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:33:43,437 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:33:43,441 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:33:44,450 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:33:44,455 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:33:44,673 - DEBUG - app.firebase_stream - Firebase listener triggered (83). Event Type: patch, Path: /. Timestamp: 1752654824.6733801
2025-07-16 01:33:44,673 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0372000000', 'o': '13.0346000000'}, 'XAGUSD': {'b': '37.9780000000', 'o': '37.9730000000'}, 'NZDJPY': {'b': '88.4530000000', 'o': '88.4440000000'}, 'GBPAUD': {'b': '2.0538600000',
2025-07-16 01:33:44,674 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0372000000', 'o': '13.0346000000'}, 'XAGUSD': {'b': '37.9780000000', 'o': '37.9730000000'}, 'NZDJPY': {'b': '88.4530000000', 'o': '88.4440000000'}, 'GBPAUD': {'b': '2.0538600000',...
2025-07-16 01:33:44,674 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:33:45,465 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:33:45,469 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:33:46,481 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:33:46,484 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:33:46,999 - DEBUG - app.firebase_stream - Firebase listener triggered (84). Event Type: patch, Path: /. Timestamp: 1752654826.9995885
2025-07-16 01:33:46,999 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0375000000', 'o': '13.0349000000'}, 'NZDJPY': {'b': '88.4500000000', 'o': '88.4450000000'}, 'GBPAUD': {'b': '2.0538400000', 'o': '2.0536900000'}, 'BTCUSD': {'b': '118360.000000000
2025-07-16 01:33:47,000 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0375000000', 'o': '13.0349000000'}, 'NZDJPY': {'b': '88.4500000000', 'o': '88.4450000000'}, 'GBPAUD': {'b': '2.0538400000', 'o': '2.0536900000'}, 'BTCUSD': {'b': '118360.000000000...
2025-07-16 01:33:47,000 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:33:47,501 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:33:47,505 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:33:48,517 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:33:48,522 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:33:49,364 - DEBUG - app.firebase_stream - Firebase listener triggered (85). Event Type: patch, Path: /. Timestamp: 1752654829.3643572
2025-07-16 01:33:49,364 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0374000000', 'o': '13.0348000000'}, 'XAGUSD': {'b': '37.9790000000', 'o': '37.9730000000'}, 'NZDJPY': {'b': '88.4590000000', 'o': '88.4510000000'}, 'GBPAUD': {'b': '2.0538600000',
2025-07-16 01:33:49,365 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0374000000', 'o': '13.0348000000'}, 'XAGUSD': {'b': '37.9790000000', 'o': '37.9730000000'}, 'NZDJPY': {'b': '88.4590000000', 'o': '88.4510000000'}, 'GBPAUD': {'b': '2.0538600000',...
2025-07-16 01:33:49,365 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:33:49,531 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:33:49,534 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:33:50,551 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:33:50,555 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:33:51,569 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:33:51,572 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:33:51,611 - DEBUG - app.firebase_stream - Firebase listener triggered (86). Event Type: patch, Path: /. Timestamp: 1752654831.611298
2025-07-16 01:33:51,611 - DEBUG - app.firebase_stream - Prepared batch update for 34 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0373000000', 'o': '13.0347000000'}, 'XAGUSD': {'b': '37.9780000000', 'o': '37.9730000000'}, 'NZDJPY': {'b': '88.4480000000', 'o': '88.4420000000'}, 'GBPAUD': {'b': '2.0537100000',
2025-07-16 01:33:51,611 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0373000000', 'o': '13.0347000000'}, 'XAGUSD': {'b': '37.9780000000', 'o': '37.9730000000'}, 'NZDJPY': {'b': '88.4480000000', 'o': '88.4420000000'}, 'GBPAUD': {'b': '2.0537100000',...
2025-07-16 01:33:51,612 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:33:52,590 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:33:52,609 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:33:53,619 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:33:53,624 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:33:53,966 - DEBUG - app.firebase_stream - Firebase listener triggered (87). Event Type: patch, Path: /. Timestamp: 1752654833.9664626
2025-07-16 01:33:53,966 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0374000000', 'o': '13.0348000000'}, 'XAGUSD': {'b': '37.9770000000', 'o': '37.9720000000'}, 'NZDJPY': {'b': '88.4500000000', 'o': '88.4420000000'}, 'GBPAUD': {'b': '2.0539200000',
2025-07-16 01:33:53,967 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0374000000', 'o': '13.0348000000'}, 'XAGUSD': {'b': '37.9770000000', 'o': '37.9720000000'}, 'NZDJPY': {'b': '88.4500000000', 'o': '88.4420000000'}, 'GBPAUD': {'b': '2.0539200000',...
2025-07-16 01:33:53,967 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:33:54,639 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:33:54,643 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:33:55,646 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:33:55,650 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:33:56,220 - DEBUG - app.firebase_stream - Firebase listener triggered (88). Event Type: patch, Path: /. Timestamp: 1752654836.220191
2025-07-16 01:33:56,220 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4480000000', 'o': '88.4400000000'}, 'GBPAUD': {'b': '2.0539200000', 'o': '2.0537600000'}, 'USDCNH': {'b': '7.1813200000', 'o': '7.1812800000'}, 'CADCHF': {'b': '0.5841800000', 'o'
2025-07-16 01:33:56,220 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4480000000', 'o': '88.4400000000'}, 'GBPAUD': {'b': '2.0539200000', 'o': '2.0537600000'}, 'USDCNH': {'b': '7.1813200000', 'o': '7.1812800000'}, 'CADCHF': {'b': '0.5841800000', 'o'...
2025-07-16 01:33:56,220 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:33:56,653 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:33:56,657 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:33:57,701 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:33:57,705 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:33:58,570 - DEBUG - app.firebase_stream - Firebase listener triggered (89). Event Type: patch, Path: /. Timestamp: 1752654838.5704272
2025-07-16 01:33:58,570 - DEBUG - app.firebase_stream - Prepared batch update for 23 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0375000000', 'o': '13.0349000000'}, 'XAGUSD': {'b': '37.9770000000', 'o': '37.9730000000'}, 'NZDJPY': {'b': '88.4480000000', 'o': '88.4390000000'}, 'GBPAUD': {'b': '2.0539400000',
2025-07-16 01:33:58,571 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0375000000', 'o': '13.0349000000'}, 'XAGUSD': {'b': '37.9770000000', 'o': '37.9730000000'}, 'NZDJPY': {'b': '88.4480000000', 'o': '88.4390000000'}, 'GBPAUD': {'b': '2.0539400000',...
2025-07-16 01:33:58,571 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:33:58,720 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:33:58,724 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:33:59,729 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:33:59,734 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:34:00,737 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:34:00,739 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:34:00,817 - DEBUG - app.firebase_stream - Firebase listener triggered (90). Event Type: patch, Path: /. Timestamp: 1752654840.8177674
2025-07-16 01:34:00,818 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0371000000', 'o': '13.0349100000'}, 'XAGUSD': {'b': '37.9760000000', 'o': '37.9730000000'}, 'NZDJPY': {'b': '88.4500000000', 'o': '88.4390000000'}, 'GBPAUD': {'b': '2.0539400000',
2025-07-16 01:34:00,818 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0371000000', 'o': '13.0349100000'}, 'XAGUSD': {'b': '37.9760000000', 'o': '37.9730000000'}, 'NZDJPY': {'b': '88.4500000000', 'o': '88.4390000000'}, 'GBPAUD': {'b': '2.0539400000',...
2025-07-16 01:34:00,818 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:34:01,754 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:34:01,756 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:34:02,763 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:34:02,765 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:34:03,084 - DEBUG - app.firebase_stream - Firebase listener triggered (91). Event Type: patch, Path: /. Timestamp: 1752654843.0842783
2025-07-16 01:34:03,084 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0373000000', 'o': '13.0349100000'}, 'NZDJPY': {'b': '88.4520000000', 'o': '88.4440000000'}, 'GBPAUD': {'b': '2.0538800000', 'o': '2.0537300000'}, 'BTCUSD': {'b': '118338.000000000
2025-07-16 01:34:03,085 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0373000000', 'o': '13.0349100000'}, 'NZDJPY': {'b': '88.4520000000', 'o': '88.4440000000'}, 'GBPAUD': {'b': '2.0538800000', 'o': '2.0537300000'}, 'BTCUSD': {'b': '118338.000000000...
2025-07-16 01:34:03,085 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:34:03,782 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:34:03,785 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:34:04,800 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:34:04,803 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:34:05,431 - DEBUG - app.firebase_stream - Firebase listener triggered (92). Event Type: patch, Path: /. Timestamp: 1752654845.4312475
2025-07-16 01:34:05,431 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9780000000', 'o': '37.9730000000'}, 'NZDJPY': {'b': '88.4520000000', 'o': '88.4430000000'}, 'GBPAUD': {'b': '2.0539000000', 'o': '2.0537300000'}, 'USDJPY': {'b': '148.8800000000',
2025-07-16 01:34:05,432 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9780000000', 'o': '37.9730000000'}, 'NZDJPY': {'b': '88.4520000000', 'o': '88.4430000000'}, 'GBPAUD': {'b': '2.0539000000', 'o': '2.0537300000'}, 'USDJPY': {'b': '148.8800000000',...
2025-07-16 01:34:05,432 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:34:05,818 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:34:05,820 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:34:06,834 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:34:06,837 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:34:07,688 - DEBUG - app.firebase_stream - Firebase listener triggered (93). Event Type: patch, Path: /. Timestamp: 1752654847.688353
2025-07-16 01:34:07,688 - DEBUG - app.firebase_stream - Prepared batch update for 41 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0374000000', 'o': '13.0349100000'}, 'XAGUSD': {'b': '37.9770000000', 'o': '37.9720000000'}, 'NZDJPY': {'b': '88.4510000000', 'o': '88.4430000000'}, 'GBPAUD': {'b': '2.0538700000',
2025-07-16 01:34:07,688 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0374000000', 'o': '13.0349100000'}, 'XAGUSD': {'b': '37.9770000000', 'o': '37.9720000000'}, 'NZDJPY': {'b': '88.4510000000', 'o': '88.4430000000'}, 'GBPAUD': {'b': '2.0538700000',...
2025-07-16 01:34:07,689 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:34:07,852 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:34:07,854 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:34:08,862 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:34:08,864 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:34:09,879 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:34:09,881 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:34:10,031 - DEBUG - app.firebase_stream - Firebase listener triggered (94). Event Type: patch, Path: /. Timestamp: 1752654850.031182
2025-07-16 01:34:10,031 - DEBUG - app.firebase_stream - Prepared batch update for 36 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0368000000', 'o': '13.0344300000'}, 'XAGUSD': {'b': '37.9770000000', 'o': '37.9710000000'}, 'NZDJPY': {'b': '88.4520000000', 'o': '88.4450000000'}, 'GBPAUD': {'b': '2.0538400000',
2025-07-16 01:34:10,031 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0368000000', 'o': '13.0344300000'}, 'XAGUSD': {'b': '37.9770000000', 'o': '37.9710000000'}, 'NZDJPY': {'b': '88.4520000000', 'o': '88.4450000000'}, 'GBPAUD': {'b': '2.0538400000',...
2025-07-16 01:34:10,031 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:34:10,894 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:34:10,897 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:34:11,911 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:34:11,915 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:34:12,291 - DEBUG - app.firebase_stream - Firebase listener triggered (95). Event Type: patch, Path: /. Timestamp: 1752654852.291897
2025-07-16 01:34:12,292 - DEBUG - app.firebase_stream - Prepared batch update for 38 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0366000000', 'o': '13.0344200000'}, 'XAGUSD': {'b': '37.9770000000', 'o': '37.9730000000'}, 'NZDJPY': {'b': '88.4500000000', 'o': '88.4420000000'}, 'GBPAUD': {'b': '2.0539200000',
2025-07-16 01:34:12,292 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0366000000', 'o': '13.0344200000'}, 'XAGUSD': {'b': '37.9770000000', 'o': '37.9730000000'}, 'NZDJPY': {'b': '88.4500000000', 'o': '88.4420000000'}, 'GBPAUD': {'b': '2.0539200000',...
2025-07-16 01:34:12,292 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:34:12,932 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:34:12,933 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:34:13,949 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:34:13,953 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:34:14,647 - DEBUG - app.firebase_stream - Firebase listener triggered (96). Event Type: patch, Path: /. Timestamp: 1752654854.6471896
2025-07-16 01:34:14,647 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0364000000', 'o': '13.0344200000'}, 'XAGUSD': {'b': '37.9750000000', 'o': '37.9690000000'}, 'GBPAUD': {'b': '2.0539100000', 'o': '2.0537600000'}, 'USDJPY': {'b': '148.8870000000',
2025-07-16 01:34:14,647 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0364000000', 'o': '13.0344200000'}, 'XAGUSD': {'b': '37.9750000000', 'o': '37.9690000000'}, 'GBPAUD': {'b': '2.0539100000', 'o': '2.0537600000'}, 'USDJPY': {'b': '148.8870000000',...
2025-07-16 01:34:14,647 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:34:14,959 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:34:14,963 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:34:15,967 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:34:15,971 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:34:16,901 - DEBUG - app.firebase_stream - Firebase listener triggered (97). Event Type: patch, Path: /. Timestamp: 1752654856.9012003
2025-07-16 01:34:16,901 - DEBUG - app.firebase_stream - Prepared batch update for 30 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0365000000', 'o': '13.0341000000'}, 'XAGUSD': {'b': '37.9740000000', 'o': '37.9690000000'}, 'NZDJPY': {'b': '88.4500000000', 'o': '88.4430000000'}, 'GBPAUD': {'b': '2.0539400000',
2025-07-16 01:34:16,901 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0365000000', 'o': '13.0341000000'}, 'XAGUSD': {'b': '37.9740000000', 'o': '37.9690000000'}, 'NZDJPY': {'b': '88.4500000000', 'o': '88.4430000000'}, 'GBPAUD': {'b': '2.0539400000',...
2025-07-16 01:34:16,901 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:34:16,972 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:34:16,974 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:34:17,981 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:34:17,984 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:34:18,992 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:34:18,995 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:34:19,240 - DEBUG - app.firebase_stream - Firebase listener triggered (98). Event Type: patch, Path: /. Timestamp: 1752654859.2406082
2025-07-16 01:34:19,240 - DEBUG - app.firebase_stream - Prepared batch update for 34 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0369000000', 'o': '13.0344200000'}, 'XAGUSD': {'b': '37.9750000000', 'o': '37.9710000000'}, 'NZDJPY': {'b': '88.4520000000', 'o': '88.4450000000'}, 'GBPAUD': {'b': '2.0539300000',
2025-07-16 01:34:19,241 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0369000000', 'o': '13.0344200000'}, 'XAGUSD': {'b': '37.9750000000', 'o': '37.9710000000'}, 'NZDJPY': {'b': '88.4520000000', 'o': '88.4450000000'}, 'GBPAUD': {'b': '2.0539300000',...
2025-07-16 01:34:19,241 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:34:20,006 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:34:20,009 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:34:21,017 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:34:21,021 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:34:21,506 - DEBUG - app.firebase_stream - Firebase listener triggered (99). Event Type: patch, Path: /. Timestamp: 1752654861.5066333
2025-07-16 01:34:21,506 - DEBUG - app.firebase_stream - Prepared batch update for 36 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0373000000', 'o': '13.0347000000'}, 'XAGUSD': {'b': '37.9750000000', 'o': '37.9720000000'}, 'NZDJPY': {'b': '88.4490000000', 'o': '88.4410000000'}, 'GBPAUD': {'b': '2.0539700000',
2025-07-16 01:34:21,507 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0373000000', 'o': '13.0347000000'}, 'XAGUSD': {'b': '37.9750000000', 'o': '37.9720000000'}, 'NZDJPY': {'b': '88.4490000000', 'o': '88.4410000000'}, 'GBPAUD': {'b': '2.0539700000',...
2025-07-16 01:34:21,507 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:34:22,026 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:34:22,029 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:34:23,047 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:34:23,050 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:34:23,797 - DEBUG - app.firebase_stream - Firebase listener triggered (100). Event Type: patch, Path: /. Timestamp: 1752654863.7975094
2025-07-16 01:34:23,797 - DEBUG - app.firebase_stream - Prepared batch update for 30 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9760000000', 'o': '37.9730000000'}, 'NZDJPY': {'b': '88.4510000000', 'o': '88.4420000000'}, 'GBPAUD': {'b': '2.0539600000', 'o': '2.0538300000'}, 'USDJPY': {'b': '148.8840000000',
2025-07-16 01:34:23,797 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9760000000', 'o': '37.9730000000'}, 'NZDJPY': {'b': '88.4510000000', 'o': '88.4420000000'}, 'GBPAUD': {'b': '2.0539600000', 'o': '2.0538300000'}, 'USDJPY': {'b': '148.8840000000',...
2025-07-16 01:34:23,798 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:34:24,063 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:34:24,066 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:34:25,082 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:34:25,085 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:34:26,100 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:34:26,117 - DEBUG - app.firebase_stream - Firebase listener triggered (101). Event Type: patch, Path: /. Timestamp: 1752654866.1170914
2025-07-16 01:34:26,117 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:34:26,117 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0364000000', 'o': '13.0340900000'}, 'NZDJPY': {'b': '88.4500000000', 'o': '88.4420000000'}, 'GBPAUD': {'b': '2.0539600000', 'o': '2.0538100000'}, 'USDJPY': {'b': '148.8840000000',
2025-07-16 01:34:26,118 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0364000000', 'o': '13.0340900000'}, 'NZDJPY': {'b': '88.4500000000', 'o': '88.4420000000'}, 'GBPAUD': {'b': '2.0539600000', 'o': '2.0538100000'}, 'USDJPY': {'b': '148.8840000000',...
2025-07-16 01:34:26,118 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:34:27,132 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:34:27,137 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:34:28,153 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:34:28,157 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:34:28,367 - DEBUG - app.firebase_stream - Firebase listener triggered (102). Event Type: patch, Path: /. Timestamp: 1752654868.3678453
2025-07-16 01:34:28,368 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0362000000', 'o': '13.0340900000'}, 'XAGUSD': {'b': '37.9770000000', 'o': '37.9730000000'}, 'NZDJPY': {'b': '88.4480000000', 'o': '88.4390000000'}, 'GBPAUD': {'b': '2.0539500000',
2025-07-16 01:34:28,368 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0362000000', 'o': '13.0340900000'}, 'XAGUSD': {'b': '37.9770000000', 'o': '37.9730000000'}, 'NZDJPY': {'b': '88.4480000000', 'o': '88.4390000000'}, 'GBPAUD': {'b': '2.0539500000',...
2025-07-16 01:34:28,368 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:34:29,168 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:34:29,171 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:34:30,183 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:34:30,185 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:34:30,725 - DEBUG - app.firebase_stream - Firebase listener triggered (103). Event Type: patch, Path: /. Timestamp: 1752654870.7256885
2025-07-16 01:34:30,726 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0361000000', 'o': '13.0337500000'}, 'XAGUSD': {'b': '37.9760000000', 'o': '37.9730000000'}, 'NZDJPY': {'b': '88.4510000000', 'o': '88.4420000000'}, 'GBPAUD': {'b': '2.0539300000',
2025-07-16 01:34:30,726 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0361000000', 'o': '13.0337500000'}, 'XAGUSD': {'b': '37.9760000000', 'o': '37.9730000000'}, 'NZDJPY': {'b': '88.4510000000', 'o': '88.4420000000'}, 'GBPAUD': {'b': '2.0539300000',...
2025-07-16 01:34:30,726 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:34:31,191 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:34:31,194 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:34:32,210 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:34:32,214 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:34:32,942 - DEBUG - app.firebase_stream - Firebase listener triggered (104). Event Type: patch, Path: /. Timestamp: 1752654872.9428816
2025-07-16 01:34:32,943 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'GBPAUD': {'b': '2.0539100000', 'o': '2.0537400000'}, 'USDJPY': {'b': '148.8870000000', 'o': '148.8850000000'}, 'CADCHF': {'b': '0.5841600000', 'o': '0.5840900000'}, 'EURNZD': {'b': '1.9564700000', '
2025-07-16 01:34:32,943 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPAUD': {'b': '2.0539100000', 'o': '2.0537400000'}, 'USDJPY': {'b': '148.8870000000', 'o': '148.8850000000'}, 'CADCHF': {'b': '0.5841600000', 'o': '0.5840900000'}, 'EURNZD': {'b': '1.9564700000', '...
2025-07-16 01:34:32,943 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:34:33,227 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:34:33,230 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:34:34,246 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:34:34,249 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:34:34,537 - WARNING - app - User 4 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:34:34,540 - WARNING - app - No user data found for user 5 (live). Skipping portfolio update.
2025-07-16 01:34:34,545 - WARNING - app - No group settings found for group string. Skipping portfolio update for user 8.
2025-07-16 01:34:34,560 - WARNING - app - User 9 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:34:34,576 - WARNING - app - User 10 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:34:34,592 - WARNING - app - User 11 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:34:34,609 - WARNING - app - User 12 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:34:34,620 - WARNING - app - User 13 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:34:35,012 - DEBUG - app.services.portfolio_calculator - Position calculation for BTCUSD: Type=BUY, Entry=118908.50000000, Current=118303.9, Quantity=0.40000000, Contract Size=1.00000000, PnL=-241.840000000000000000000000, PnL USD=-241.840000000000000000000000, Commission=235.57000000, Final PnL=-477.410000000000000000000000
2025-07-16 01:34:35,036 - WARNING - app - User 16 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:34:35,052 - WARNING - app - User 17 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:34:35,067 - WARNING - app - User 18 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:34:35,081 - WARNING - app - User 19 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:34:35,094 - WARNING - app - User 20 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:34:35,109 - WARNING - app - User 21 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:34:35,123 - WARNING - app - User 22 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:34:35,137 - WARNING - app - User 23 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:34:35,150 - WARNING - app - User 25 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:34:35,332 - DEBUG - app.firebase_stream - Firebase listener triggered (105). Event Type: patch, Path: /. Timestamp: 1752654875.332526
2025-07-16 01:34:35,332 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4510000000', 'o': '88.4440000000'}, 'GBPAUD': {'b': '2.0539200000', 'o': '2.0537600000'}, 'USDSGD': {'b': '1.2848500000', 'o': '1.2847900000'}, 'EURZAR': {'b': '20.8294600000', 'o
2025-07-16 01:34:35,333 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4510000000', 'o': '88.4440000000'}, 'GBPAUD': {'b': '2.0539200000', 'o': '2.0537600000'}, 'USDSGD': {'b': '1.2848500000', 'o': '1.2847900000'}, 'EURZAR': {'b': '20.8294600000', 'o...
2025-07-16 01:34:35,333 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:34:35,524 - DEBUG - app.services.portfolio_calculator - Position calculation for XAGUSD: Type=BUY, Entry=41.09800000, Current=37.960499999999996, Quantity=0.01000000, Contract Size=5000.00000000, PnL=-156.8750000000002000000000000, PnL USD=-156.8750000000002000000000000, Commission=0.10000000, Final PnL=-156.9750000000002000000000000
2025-07-16 01:34:35,524 - DEBUG - app.services.portfolio_calculator - Position calculation for BTCUSD: Type=BUY, Entry=132091.90000000, Current=118303.9, Quantity=6.00000000, Contract Size=1.00000000, PnL=-82728.00000000000000000000000, PnL USD=-82728.00000000000000000000000, Commission=3661.62000000, Final PnL=-86389.62000000000000000000000
2025-07-16 01:34:35,524 - WARNING - app.services.portfolio_calculator - MARGIN CALL ALERT: User has margin level 66.76422080784399861637209733% which is below threshold 100.0%
2025-07-16 01:34:35,525 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:34:35,534 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:34:35,934 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=96.66800000, Current=97.027, Quantity=0.01000000, Contract Size=100000.00000000, PnL=359.000000000000000000000000, PnL USD=2.411224620013835996426820340, Commission=0.10000000, Final PnL=2.311224620013835996426820340
2025-07-16 01:34:35,935 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=96.56000000, Current=97.13199999999999, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-571.9999999999900000000000000, PnL USD=-3.841839784534512751281172970, Commission=0.10000000, Final PnL=-3.941839784534512751281172970
2025-07-16 01:34:35,937 - WARNING - app - User 2 has no group_name set. Skipping portfolio update.
2025-07-16 01:34:35,944 - WARNING - app - No group settings found for group string. Skipping portfolio update for user 3.
2025-07-16 01:34:35,958 - WARNING - app - User 4 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:34:35,958 - WARNING - app - User 5 has no group_name set. Skipping portfolio update.
2025-07-16 01:34:35,959 - WARNING - app - User 6 has no group_name set. Skipping portfolio update.
2025-07-16 01:34:36,344 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64743000, Current=0.65189, Quantity=0.10000000, Contract Size=100000.00000000, PnL=44.600000000000000000000000, PnL USD=44.600000000000000000000000, Commission=1.00000000, Final PnL=43.600000000000000000000000
2025-07-16 01:34:36,345 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=SELL, Entry=0.64707000, Current=0.65221, Quantity=0.22000000, Contract Size=100000.00000000, PnL=-113.080000000000000000000000, PnL USD=-113.080000000000000000000000, Commission=2.20000000, Final PnL=-115.280000000000000000000000
2025-07-16 01:34:36,346 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFSGD: Type=BUY, Entry=1.57561500, Current=1.602865, Quantity=0.10000000, Contract Size=100000.00000000, PnL=272.500000000000000000000000, PnL USD=212.0870140483324901739502666, Commission=1.00000000, Final PnL=211.0870140483324901739502666
2025-07-16 01:34:36,347 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFSGD: Type=SELL, Entry=1.57505500, Current=1.603325, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-282.700000000000000000000000, PnL USD=-220.0256839319764953107366619, Commission=1.00000000, Final PnL=-221.0256839319764953107366619
2025-07-16 01:34:36,348 - DEBUG - app.services.portfolio_calculator - Position calculation for CADJPY: Type=SELL, Entry=106.24150000, Current=108.5295, Quantity=0.15000000, Contract Size=100000.00000000, PnL=-34320.00000000000000000000000, PnL USD=-230.5103870720747949787422676, Commission=0E-8, Final PnL=-230.5103870720747949787422676
2025-07-16 01:34:36,349 - DEBUG - app.services.portfolio_calculator - Position calculation for CADJPY: Type=BUY, Entry=106.27050000, Current=108.4975, Quantity=0.15000000, Contract Size=100000.00000000, PnL=33405.00000000000000000000000, PnL USD=224.3647867174434302524733523, Commission=0E-8, Final PnL=224.3647867174434302524733523
2025-07-16 01:34:36,349 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=BUY, Entry=1.77481000, Current=1.7822, Quantity=0.22000000, Contract Size=100000.00000000, PnL=162.580000000000000000000000, PnL USD=106.0119148000000000000000000, Commission=2.20000000, Final PnL=103.8119148000000000000000000
2025-07-16 01:34:36,349 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=SELL, Entry=1.77439000, Current=1.7826000000000002, Quantity=0.21000000, Contract Size=100000.00000000, PnL=-172.4100000000042000000000000, PnL USD=-112.4216646000027386520000000, Commission=2.10000000, Final PnL=-114.5216646000027386520000000
2025-07-16 01:34:36,350 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFJPY: Type=BUY, Entry=178.15500000, Current=185.745, Quantity=0.10000000, Contract Size=100000.00000000, PnL=75900.00000000000000000000000, PnL USD=509.7825867940115658183723226, Commission=1.00000000, Final PnL=508.7825867940115658183723226
2025-07-16 01:34:36,351 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFJPY: Type=SELL, Entry=178.09500000, Current=185.795, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-77000.00000000000000000000000, PnL USD=-517.1707402258088348882038056, Commission=1.00000000, Final PnL=-518.1707402258088348882038056
2025-07-16 01:34:36,351 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=BUY, Entry=1.77480000, Current=1.7822, Quantity=0.05000000, Contract Size=100000.00000000, PnL=37.000000000000000000000000, PnL USD=24.12622000000000000000000000, Commission=0.50000000, Final PnL=23.62622000000000000000000000
2025-07-16 01:34:36,351 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=SELL, Entry=1.77442000, Current=1.7826000000000002, Quantity=0.05000000, Contract Size=100000.00000000, PnL=-40.90000000000100000000000000, PnL USD=-26.66925400000065206000000000, Commission=0.50000000, Final PnL=-27.16925400000065206000000000
2025-07-16 01:34:36,351 - DEBUG - app.services.portfolio_calculator - Position calculation for EURGBP: Type=SELL, Entry=0.85403000, Current=0.86802, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-139.900000000000000000000000, PnL USD=-187.3624740000000000000000000, Commission=1.00000000, Final PnL=-188.3624740000000000000000000
2025-07-16 01:34:36,352 - DEBUG - app.services.portfolio_calculator - Position calculation for EURJPY: Type=BUY, Entry=167.26050000, Current=173.0215, Quantity=0.10000000, Contract Size=100000.00000000, PnL=57610.00000000000000000000000, PnL USD=386.9377447325824282845379382, Commission=1.00000000, Final PnL=385.9377447325824282845379382
2025-07-16 01:34:36,353 - DEBUG - app.services.portfolio_calculator - Position calculation for EURJPY: Type=SELL, Entry=167.23150000, Current=173.05149999999998, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-58199.99999999980000000000000, PnL USD=-390.9004815732723474850054068, Commission=1.00000000, Final PnL=-391.9004815732723474850054068
2025-07-16 01:34:36,353 - DEBUG - app.services.portfolio_calculator - Position calculation for EURNZD: Type=SELL, Entry=1.91952500, Current=1.9565949999999999, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-370.6999999999990000000000000, PnL USD=-220.2217489999994059300000000, Commission=1.00000000, Final PnL=-221.2217489999994059300000000
2025-07-16 01:34:36,353 - DEBUG - app.services.portfolio_calculator - Position calculation for EURNZD: Type=BUY, Entry=1.92063500, Current=1.956145, Quantity=0.10000000, Contract Size=100000.00000000, PnL=355.100000000000000000000000, PnL USD=210.9542570000000000000000000, Commission=1.00000000, Final PnL=209.9542570000000000000000000
2025-07-16 01:34:36,353 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=SELL, Entry=1.34376000, Current=1.3393599999999999, Quantity=0.25000000, Contract Size=0E-8, PnL=0E-32, PnL USD=0E-32, Commission=2.50000000, Final PnL=-2.500000000000000000000000000
2025-07-16 01:34:36,353 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=SELL, Entry=1.34361000, Current=1.3393599999999999, Quantity=0.25000000, Contract Size=0E-8, PnL=0E-32, PnL USD=0E-32, Commission=2.50000000, Final PnL=-2.500000000000000000000000000
2025-07-16 01:34:36,354 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=BUY, Entry=1.34379000, Current=1.33915, Quantity=0.25000000, Contract Size=0E-8, PnL=-0E-24, PnL USD=-0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 01:34:36,354 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=BUY, Entry=1.34378000, Current=1.33915, Quantity=0.25000000, Contract Size=0E-8, PnL=-0E-24, PnL USD=-0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 01:34:36,354 - DEBUG - app.services.portfolio_calculator - Position calculation for NZDJPY: Type=BUY, Entry=87.10150000, Current=88.4315, Quantity=0.01000000, Contract Size=100000.00000000, PnL=1330.000000000000000000000000, PnL USD=8.932949149354879875341702096, Commission=0.10000000, Final PnL=8.832949149354879875341702096
2025-07-16 01:34:36,355 - DEBUG - app.services.portfolio_calculator - Position calculation for USDCHF: Type=SELL, Entry=0.81771000, Current=0.80162, Quantity=0.15000000, Contract Size=100000.00000000, PnL=241.350000000000000000000000, PnL USD=301.1341659700300697468401812, Commission=1.50000000, Final PnL=299.6341659700300697468401812
2025-07-16 01:34:36,356 - DEBUG - app.services.portfolio_calculator - Position calculation for USDCHF: Type=BUY, Entry=0.81805000, Current=0.8012900000000001, Quantity=0.15000000, Contract Size=100000.00000000, PnL=-251.3999999999985000000000000, PnL USD=-313.6736247145850749248256329, Commission=1.50000000, Final PnL=-315.1736247145850749248256329
2025-07-16 01:34:36,357 - DEBUG - app.services.portfolio_calculator - Position calculation for USDNOK: Type=BUY, Entry=10.04973000, Current=10.27386, Quantity=0.10000000, Contract Size=100000.00000000, PnL=2241.300000000000000000000000, PnL USD=218.1326606286752039427967463, Commission=1.00000000, Final PnL=217.1326606286752039427967463
2025-07-16 01:34:36,358 - DEBUG - app.services.portfolio_calculator - Position calculation for USDNOK: Type=BUY, Entry=10.05023000, Current=10.27386, Quantity=0.10000000, Contract Size=100000.00000000, PnL=2236.300000000000000000000000, PnL USD=217.6460397822274387976961423, Commission=1.00000000, Final PnL=216.6460397822274387976961423
2025-07-16 01:34:36,359 - DEBUG - app.services.portfolio_calculator - Position calculation for USDSGD: Type=SELL, Entry=1.28795000, Current=1.2850000000000001, Quantity=0.31000000, Contract Size=100000.00000000, PnL=91.44999999999690000000000000, PnL USD=71.17562361364898626298789742, Commission=3.10000000, Final PnL=68.07562361364898626298789742
2025-07-16 01:34:36,359 - DEBUG - app.services.portfolio_calculator - Position calculation for USDTRY: Type=SELL, Entry=39.56087000, Current=40.259209999999996, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-6983.399999999960000000000000, PnL USD=-173.4615761023719878208780831, Commission=1.00000000, Final PnL=-174.4615761023719878208780831
2025-07-16 01:34:36,753 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:34:36,756 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:34:37,121 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.89752000, Current=0.89471, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-2.810000000000000000000000, PnL USD=-2.047881062566045986225995700, Commission=0.10000000, Final PnL=-2.147881062566045986225995700
2025-07-16 01:34:37,147 - WARNING - app - User 12 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:34:37,165 - WARNING - app - User 13 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:34:37,586 - DEBUG - app.firebase_stream - Firebase listener triggered (106). Event Type: patch, Path: /. Timestamp: 1752654877.5860143
2025-07-16 01:34:37,586 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4500000000', 'o': '88.4430000000'}, 'GBPAUD': {'b': '2.0539100000', 'o': '2.0537600000'}, 'BTCUSD': {'b': '118354.8900000000', 'o': '118354.8900000000'}, 'USDJPY': {'b': '148.8870
2025-07-16 01:34:37,586 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4500000000', 'o': '88.4430000000'}, 'GBPAUD': {'b': '2.0539100000', 'o': '2.0537600000'}, 'BTCUSD': {'b': '118354.8900000000', 'o': '118354.8900000000'}, 'USDJPY': {'b': '148.8870...
2025-07-16 01:34:37,586 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:34:37,766 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:34:37,769 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:34:38,776 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:34:38,779 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:34:39,787 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:34:39,791 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:34:39,942 - DEBUG - app.firebase_stream - Firebase listener triggered (107). Event Type: patch, Path: /. Timestamp: 1752654879.9423592
2025-07-16 01:34:39,942 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4480000000', 'o': '88.4420000000'}, 'GBPAUD': {'b': '2.0539200000', 'o': '2.0538000000'}, 'USDJPY': {'b': '148.8850000000', 'o': '148.8850000000'}, 'USDCNH': {'b': '7.1810600000',
2025-07-16 01:34:39,943 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4480000000', 'o': '88.4420000000'}, 'GBPAUD': {'b': '2.0539200000', 'o': '2.0538000000'}, 'USDJPY': {'b': '148.8850000000', 'o': '148.8850000000'}, 'USDCNH': {'b': '7.1810600000',...
2025-07-16 01:34:39,943 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:34:40,800 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:34:40,804 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:34:41,809 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:34:41,813 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:34:42,152 - DEBUG - app.firebase_stream - Firebase listener triggered (108). Event Type: patch, Path: /. Timestamp: 1752654882.1525917
2025-07-16 01:34:42,153 - DEBUG - app.firebase_stream - Prepared batch update for 24 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0360000000', 'o': '13.0337100000'}, 'NZDJPY': {'b': '88.4500000000', 'o': '88.4410000000'}, 'GBPAUD': {'b': '2.0539700000', 'o': '2.0538000000'}, 'USDJPY': {'b': '148.8870000000',
2025-07-16 01:34:42,153 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0360000000', 'o': '13.0337100000'}, 'NZDJPY': {'b': '88.4500000000', 'o': '88.4410000000'}, 'GBPAUD': {'b': '2.0539700000', 'o': '2.0538000000'}, 'USDJPY': {'b': '148.8870000000',...
2025-07-16 01:34:42,153 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:34:42,829 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:34:42,833 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:34:43,848 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:34:43,852 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:34:44,443 - DEBUG - app.firebase_stream - Firebase listener triggered (109). Event Type: patch, Path: /. Timestamp: 1752654884.4438176
2025-07-16 01:34:44,444 - DEBUG - app.firebase_stream - Prepared batch update for 25 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0360000000', 'o': '13.0336000000'}, 'NZDJPY': {'b': '88.4500000000', 'o': '88.4420000000'}, 'GBPAUD': {'b': '2.0539400000', 'o': '2.0538000000'}, 'EURNZD': {'b': '1.9564800000', '
2025-07-16 01:34:44,444 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0360000000', 'o': '13.0336000000'}, 'NZDJPY': {'b': '88.4500000000', 'o': '88.4420000000'}, 'GBPAUD': {'b': '2.0539400000', 'o': '2.0538000000'}, 'EURNZD': {'b': '1.9564800000', '...
2025-07-16 01:34:44,445 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:34:44,867 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:34:44,871 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:34:45,883 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:34:45,887 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:34:46,801 - DEBUG - app.firebase_stream - Firebase listener triggered (110). Event Type: patch, Path: /. Timestamp: 1752654886.8018327
2025-07-16 01:34:46,802 - DEBUG - app.firebase_stream - Prepared batch update for 26 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0359000000', 'o': '13.0336000000'}, 'XAGUSD': {'b': '37.9740000000', 'o': '37.9690000000'}, 'GBPAUD': {'b': '2.0539600000', 'o': '2.0538000000'}, 'CADCHF': {'b': '0.5841700000', '
2025-07-16 01:34:46,802 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0359000000', 'o': '13.0336000000'}, 'XAGUSD': {'b': '37.9740000000', 'o': '37.9690000000'}, 'GBPAUD': {'b': '2.0539600000', 'o': '2.0538000000'}, 'CADCHF': {'b': '0.5841700000', '...
2025-07-16 01:34:46,802 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:34:46,900 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:34:46,903 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:34:47,909 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:34:47,911 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:34:48,926 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:34:48,930 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:34:49,052 - DEBUG - app.firebase_stream - Firebase listener triggered (111). Event Type: patch, Path: /. Timestamp: 1752654889.0519905
2025-07-16 01:34:49,052 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9740000000', 'o': '37.9710000000'}, 'NZDJPY': {'b': '88.4490000000', 'o': '88.4410000000'}, 'GBPAUD': {'b': '2.0539900000', 'o': '2.0538300000'}, 'BTCUSD': {'b': '118354.000000000
2025-07-16 01:34:49,052 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9740000000', 'o': '37.9710000000'}, 'NZDJPY': {'b': '88.4490000000', 'o': '88.4410000000'}, 'GBPAUD': {'b': '2.0539900000', 'o': '2.0538300000'}, 'BTCUSD': {'b': '118354.000000000...
2025-07-16 01:34:49,052 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:34:49,937 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:34:49,941 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:34:50,947 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:34:50,949 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:34:51,298 - DEBUG - app.firebase_stream - Firebase listener triggered (112). Event Type: patch, Path: /. Timestamp: 1752654891.2982795
2025-07-16 01:34:51,298 - DEBUG - app.firebase_stream - Prepared batch update for 22 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0369000000', 'o': '13.0344200000'}, 'XAGUSD': {'b': '37.9750000000', 'o': '37.9720000000'}, 'NZDJPY': {'b': '88.4490000000', 'o': '88.4400000000'}, 'GBPAUD': {'b': '2.0539800000',
2025-07-16 01:34:51,298 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0369000000', 'o': '13.0344200000'}, 'XAGUSD': {'b': '37.9750000000', 'o': '37.9720000000'}, 'NZDJPY': {'b': '88.4490000000', 'o': '88.4400000000'}, 'GBPAUD': {'b': '2.0539800000',...
2025-07-16 01:34:51,298 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:34:51,966 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:34:51,970 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:34:52,972 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:34:52,974 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:34:53,617 - DEBUG - app.firebase_stream - Firebase listener triggered (113). Event Type: patch, Path: /. Timestamp: 1752654893.6172857
2025-07-16 01:34:53,617 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0361000000', 'o': '13.0335000000'}, 'XAGUSD': {'b': '37.9760000000', 'o': '37.9730000000'}, 'NZDJPY': {'b': '88.4490000000', 'o': '88.4420000000'}, 'GBPAUD': {'b': '2.0539700000',
2025-07-16 01:34:53,617 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0361000000', 'o': '13.0335000000'}, 'XAGUSD': {'b': '37.9760000000', 'o': '37.9730000000'}, 'NZDJPY': {'b': '88.4490000000', 'o': '88.4420000000'}, 'GBPAUD': {'b': '2.0539700000',...
2025-07-16 01:34:53,617 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:34:53,988 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:34:53,991 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:34:54,995 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:34:54,996 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:34:55,914 - DEBUG - app.firebase_stream - Firebase listener triggered (114). Event Type: patch, Path: /. Timestamp: 1752654895.9143631
2025-07-16 01:34:55,916 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0362000000', 'o': '13.0336000000'}, 'XAGUSD': {'b': '37.9770000000', 'o': '37.9730000000'}, 'NZDJPY': {'b': '88.4500000000', 'o': '88.4410000000'}, 'GBPAUD': {'b': '2.0539900000',
2025-07-16 01:34:55,916 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0362000000', 'o': '13.0336000000'}, 'XAGUSD': {'b': '37.9770000000', 'o': '37.9730000000'}, 'NZDJPY': {'b': '88.4500000000', 'o': '88.4410000000'}, 'GBPAUD': {'b': '2.0539900000',...
2025-07-16 01:34:55,916 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:34:55,998 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:34:56,000 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:34:57,008 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:34:57,010 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:34:58,023 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:34:58,025 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:34:58,268 - DEBUG - app.firebase_stream - Firebase listener triggered (115). Event Type: patch, Path: /. Timestamp: 1752654898.268768
2025-07-16 01:34:58,268 - DEBUG - app.firebase_stream - Prepared batch update for 30 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9760000000', 'o': '37.9730000000'}, 'NZDJPY': {'b': '88.4480000000', 'o': '88.4450000000'}, 'GBPAUD': {'b': '2.0539700000', 'o': '2.0538300000'}, 'USDJPY': {'b': '148.8850000000',
2025-07-16 01:34:58,269 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9760000000', 'o': '37.9730000000'}, 'NZDJPY': {'b': '88.4480000000', 'o': '88.4450000000'}, 'GBPAUD': {'b': '2.0539700000', 'o': '2.0538300000'}, 'USDJPY': {'b': '148.8850000000',...
2025-07-16 01:34:58,269 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:34:59,038 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:34:59,041 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:35:00,058 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:35:00,062 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:35:00,518 - DEBUG - app.firebase_stream - Firebase listener triggered (116). Event Type: patch, Path: /. Timestamp: 1752654900.5187335
2025-07-16 01:35:00,519 - DEBUG - app.firebase_stream - Prepared batch update for 30 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0361000000', 'o': '13.0335000000'}, 'NZDJPY': {'b': '88.4510000000', 'o': '88.4420000000'}, 'GBPAUD': {'b': '2.0539700000', 'o': '2.0538000000'}, 'BTCUSD': {'b': '118354.000000000
2025-07-16 01:35:00,519 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0361000000', 'o': '13.0335000000'}, 'NZDJPY': {'b': '88.4510000000', 'o': '88.4420000000'}, 'GBPAUD': {'b': '2.0539700000', 'o': '2.0538000000'}, 'BTCUSD': {'b': '118354.000000000...
2025-07-16 01:35:00,519 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:35:01,074 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:35:01,077 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:35:02,084 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:35:02,090 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:35:02,874 - DEBUG - app.firebase_stream - Firebase listener triggered (117). Event Type: patch, Path: /. Timestamp: 1752654902.8744528
2025-07-16 01:35:02,874 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9740000000', 'o': '37.9710000000'}, 'NZDJPY': {'b': '88.4490000000', 'o': '88.4420000000'}, 'GBPAUD': {'b': '2.0539700000', 'o': '2.0538900000'}, 'BTCUSD': {'b': '118381.300000000
2025-07-16 01:35:02,874 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9740000000', 'o': '37.9710000000'}, 'NZDJPY': {'b': '88.4490000000', 'o': '88.4420000000'}, 'GBPAUD': {'b': '2.0539700000', 'o': '2.0538900000'}, 'BTCUSD': {'b': '118381.300000000...
2025-07-16 01:35:02,874 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:35:03,100 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:35:03,102 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:35:04,111 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:35:04,114 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:35:05,125 - DEBUG - app.firebase_stream - Firebase listener triggered (118). Event Type: patch, Path: /. Timestamp: 1752654905.1259115
2025-07-16 01:35:05,126 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0360000000', 'o': '13.0334000000'}, 'XAGUSD': {'b': '37.9760000000', 'o': '37.9700000000'}, 'NZDJPY': {'b': '88.4500000000', 'o': '88.4400000000'}, 'GBPAUD': {'b': '2.0540500000',
2025-07-16 01:35:05,126 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0360000000', 'o': '13.0334000000'}, 'XAGUSD': {'b': '37.9760000000', 'o': '37.9700000000'}, 'NZDJPY': {'b': '88.4500000000', 'o': '88.4400000000'}, 'GBPAUD': {'b': '2.0540500000',...
2025-07-16 01:35:05,126 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:35:05,126 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:35:05,132 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:35:06,148 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:35:06,153 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:35:07,161 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:35:07,166 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:35:07,486 - DEBUG - app.firebase_stream - Firebase listener triggered (119). Event Type: patch, Path: /. Timestamp: 1752654907.4860144
2025-07-16 01:35:07,486 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0359000000', 'o': '13.0337500000'}, 'XAGUSD': {'b': '37.9730000000', 'o': '37.9690000000'}, 'NZDJPY': {'b': '88.4460000000', 'o': '88.4370000000'}, 'GBPAUD': {'b': '2.0540400000',
2025-07-16 01:35:07,486 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0359000000', 'o': '13.0337500000'}, 'XAGUSD': {'b': '37.9730000000', 'o': '37.9690000000'}, 'NZDJPY': {'b': '88.4460000000', 'o': '88.4370000000'}, 'GBPAUD': {'b': '2.0540400000',...
2025-07-16 01:35:07,486 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:35:08,174 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:35:08,178 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:35:09,186 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:35:09,190 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:35:09,739 - DEBUG - app.firebase_stream - Firebase listener triggered (120). Event Type: patch, Path: /. Timestamp: 1752654909.739857
2025-07-16 01:35:09,740 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0361000000', 'o': '13.0335300000'}, 'XAGUSD': {'b': '37.9730000000', 'o': '37.9700000000'}, 'NZDJPY': {'b': '88.4460000000', 'o': '88.4390000000'}, 'GBPAUD': {'b': '2.0539400000',
2025-07-16 01:35:09,740 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0361000000', 'o': '13.0335300000'}, 'XAGUSD': {'b': '37.9730000000', 'o': '37.9700000000'}, 'NZDJPY': {'b': '88.4460000000', 'o': '88.4390000000'}, 'GBPAUD': {'b': '2.0539400000',...
2025-07-16 01:35:09,740 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:35:10,201 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:35:10,206 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:35:11,223 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:35:11,227 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:35:12,095 - DEBUG - app.firebase_stream - Firebase listener triggered (121). Event Type: patch, Path: /. Timestamp: 1752654912.095612
2025-07-16 01:35:12,095 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9730000000', 'o': '37.9690000000'}, 'NZDJPY': {'b': '88.4500000000', 'o': '88.4420000000'}, 'GBPAUD': {'b': '2.0539300000', 'o': '2.0537700000'}, 'BTCUSD': {'b': '118387.840000000
2025-07-16 01:35:12,096 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9730000000', 'o': '37.9690000000'}, 'NZDJPY': {'b': '88.4500000000', 'o': '88.4420000000'}, 'GBPAUD': {'b': '2.0539300000', 'o': '2.0537700000'}, 'BTCUSD': {'b': '118387.840000000...
2025-07-16 01:35:12,096 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:35:12,230 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:35:12,232 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:35:13,237 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:35:13,240 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:35:14,257 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:35:14,259 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:35:14,340 - DEBUG - app.firebase_stream - Firebase listener triggered (122). Event Type: patch, Path: /. Timestamp: 1752654914.3406646
2025-07-16 01:35:14,340 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9740000000', 'o': '37.9700000000'}, 'NZDJPY': {'b': '88.4490000000', 'o': '88.4400000000'}, 'GBPAUD': {'b': '2.0539300000', 'o': '2.0537500000'}, 'BTCUSD': {'b': '118387.900000000
2025-07-16 01:35:14,341 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9740000000', 'o': '37.9700000000'}, 'NZDJPY': {'b': '88.4490000000', 'o': '88.4400000000'}, 'GBPAUD': {'b': '2.0539300000', 'o': '2.0537500000'}, 'BTCUSD': {'b': '118387.900000000...
2025-07-16 01:35:14,341 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:35:15,270 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:35:15,272 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:35:16,279 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:35:16,281 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:35:16,795 - DEBUG - app.firebase_stream - Firebase listener triggered (123). Event Type: patch, Path: /. Timestamp: 1752654916.7959313
2025-07-16 01:35:16,796 - DEBUG - app.firebase_stream - Prepared batch update for 37 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0367000000', 'o': '13.0341000000'}, 'XAGUSD': {'b': '37.9760000000', 'o': '37.9740000000'}, 'GBPAUD': {'b': '2.0539100000', 'o': '2.0537600000'}, 'USDJPY': {'b': '148.8870000000',
2025-07-16 01:35:16,796 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0367000000', 'o': '13.0341000000'}, 'XAGUSD': {'b': '37.9760000000', 'o': '37.9740000000'}, 'GBPAUD': {'b': '2.0539100000', 'o': '2.0537600000'}, 'USDJPY': {'b': '148.8870000000',...
2025-07-16 01:35:16,797 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:35:17,290 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:35:17,293 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:35:18,311 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:35:18,314 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:35:18,955 - DEBUG - app.firebase_stream - Firebase listener triggered (124). Event Type: patch, Path: /. Timestamp: 1752654918.95504
2025-07-16 01:35:18,955 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0360000000', 'o': '13.0336000000'}, 'XAGUSD': {'b': '37.9730000000', 'o': '37.9690000000'}, 'NZDJPY': {'b': '88.4490000000', 'o': '88.4420000000'}, 'GBPAUD': {'b': '2.0539100000',
2025-07-16 01:35:18,955 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0360000000', 'o': '13.0336000000'}, 'XAGUSD': {'b': '37.9730000000', 'o': '37.9690000000'}, 'NZDJPY': {'b': '88.4490000000', 'o': '88.4420000000'}, 'GBPAUD': {'b': '2.0539100000',...
2025-07-16 01:35:18,955 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:35:19,330 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:35:19,334 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:35:20,347 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:35:20,351 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:35:21,207 - DEBUG - app.firebase_stream - Firebase listener triggered (125). Event Type: patch, Path: /. Timestamp: 1752654921.2074566
2025-07-16 01:35:21,207 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0365000000', 'o': '13.0339000000'}, 'XAGUSD': {'b': '37.9730000000', 'o': '37.9700000000'}, 'NZDJPY': {'b': '88.4490000000', 'o': '88.4400000000'}, 'GBPAUD': {'b': '2.0538800000',
2025-07-16 01:35:21,207 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0365000000', 'o': '13.0339000000'}, 'XAGUSD': {'b': '37.9730000000', 'o': '37.9700000000'}, 'NZDJPY': {'b': '88.4490000000', 'o': '88.4400000000'}, 'GBPAUD': {'b': '2.0538800000',...
2025-07-16 01:35:21,208 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:35:21,362 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:35:21,364 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:35:22,371 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:35:22,375 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:35:23,385 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:35:23,389 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:35:23,549 - DEBUG - app.firebase_stream - Firebase listener triggered (126). Event Type: patch, Path: /. Timestamp: 1752654923.5492847
2025-07-16 01:35:23,549 - DEBUG - app.firebase_stream - Prepared batch update for 36 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9730000000', 'o': '37.9710000000'}, 'GBPAUD': {'b': '2.0538600000', 'o': '2.0537200000'}, 'BTCUSD': {'b': '118387.9000000000', 'o': '118387.8000000000'}, 'USDJPY': {'b': '148.8870
2025-07-16 01:35:23,550 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'XAGUSD': {'b': '37.9730000000', 'o': '37.9710000000'}, 'GBPAUD': {'b': '2.0538600000', 'o': '2.0537200000'}, 'BTCUSD': {'b': '118387.9000000000', 'o': '118387.8000000000'}, 'USDJPY': {'b': '148.8870...
2025-07-16 01:35:23,550 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:35:24,393 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:35:24,397 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:35:25,413 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:35:25,417 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:35:25,818 - DEBUG - app.firebase_stream - Firebase listener triggered (127). Event Type: patch, Path: /. Timestamp: 1752654925.8186843
2025-07-16 01:35:25,819 - DEBUG - app.firebase_stream - Prepared batch update for 30 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0372000000', 'o': '13.0346000000'}, 'XAGUSD': {'b': '37.9740000000', 'o': '37.9700000000'}, 'NZDJPY': {'b': '88.4500000000', 'o': '88.4440000000'}, 'GBPAUD': {'b': '2.0538800000',
2025-07-16 01:35:25,819 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0372000000', 'o': '13.0346000000'}, 'XAGUSD': {'b': '37.9740000000', 'o': '37.9700000000'}, 'NZDJPY': {'b': '88.4500000000', 'o': '88.4440000000'}, 'GBPAUD': {'b': '2.0538800000',...
2025-07-16 01:35:25,819 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:35:26,429 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:35:26,434 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:35:27,441 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:35:27,445 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:35:28,162 - DEBUG - app.firebase_stream - Firebase listener triggered (128). Event Type: patch, Path: /. Timestamp: 1752654928.1621952
2025-07-16 01:35:28,162 - DEBUG - app.firebase_stream - Prepared batch update for 36 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0368000000', 'o': '13.0345100000'}, 'XAGUSD': {'b': '37.9730000000', 'o': '37.9720000000'}, 'NZDJPY': {'b': '88.4520000000', 'o': '88.4480000000'}, 'GBPAUD': {'b': '2.0537900000',
2025-07-16 01:35:28,162 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0368000000', 'o': '13.0345100000'}, 'XAGUSD': {'b': '37.9730000000', 'o': '37.9720000000'}, 'NZDJPY': {'b': '88.4520000000', 'o': '88.4480000000'}, 'GBPAUD': {'b': '2.0537900000',...
2025-07-16 01:35:28,163 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:35:28,452 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:35:28,454 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:35:29,462 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:35:29,466 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:35:30,470 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:35:30,473 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:35:30,524 - DEBUG - app.firebase_stream - Firebase listener triggered (129). Event Type: patch, Path: /. Timestamp: 1752654930.524403
2025-07-16 01:35:30,524 - DEBUG - app.firebase_stream - Prepared batch update for 34 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0369000000', 'o': '13.0345100000'}, 'XAGUSD': {'b': '37.9740000000', 'o': '37.9720000000'}, 'NZDJPY': {'b': '88.4570000000', 'o': '88.4480000000'}, 'GBPAUD': {'b': '2.0537700000',
2025-07-16 01:35:30,524 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0369000000', 'o': '13.0345100000'}, 'XAGUSD': {'b': '37.9740000000', 'o': '37.9720000000'}, 'NZDJPY': {'b': '88.4570000000', 'o': '88.4480000000'}, 'GBPAUD': {'b': '2.0537700000',...
2025-07-16 01:35:30,525 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:35:31,477 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:35:31,481 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:35:32,492 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:35:32,496 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:35:32,779 - DEBUG - app.firebase_stream - Firebase listener triggered (130). Event Type: patch, Path: /. Timestamp: 1752654932.7794342
2025-07-16 01:35:32,779 - DEBUG - app.firebase_stream - Prepared batch update for 35 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0368000000', 'o': '13.0345100000'}, 'XAGUSD': {'b': '37.9730000000', 'o': '37.9720000000'}, 'NZDJPY': {'b': '88.4590000000', 'o': '88.4500000000'}, 'GBPAUD': {'b': '2.0537900000',
2025-07-16 01:35:32,779 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0368000000', 'o': '13.0345100000'}, 'XAGUSD': {'b': '37.9730000000', 'o': '37.9720000000'}, 'NZDJPY': {'b': '88.4590000000', 'o': '88.4500000000'}, 'GBPAUD': {'b': '2.0537900000',...
2025-07-16 01:35:32,779 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:35:33,506 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:35:33,510 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:35:34,513 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:35:34,515 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:35:34,537 - WARNING - app - User 4 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:35:34,540 - WARNING - app - No user data found for user 5 (live). Skipping portfolio update.
2025-07-16 01:35:34,546 - WARNING - app - No group settings found for group string. Skipping portfolio update for user 8.
2025-07-16 01:35:34,561 - WARNING - app - User 9 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:35:34,577 - WARNING - app - User 10 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:35:34,592 - WARNING - app - User 11 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:35:34,608 - WARNING - app - User 12 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:35:34,624 - WARNING - app - User 13 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:35:35,023 - DEBUG - app.firebase_stream - Firebase listener triggered (131). Event Type: patch, Path: /. Timestamp: 1752654935.0231872
2025-07-16 01:35:35,023 - DEBUG - app.firebase_stream - Prepared batch update for 35 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0371000000', 'o': '13.0347700000'}, 'XAGUSD': {'b': '37.9730000000', 'o': '37.9700000000'}, 'GBPAUD': {'b': '2.0537800000', 'o': '2.0536000000'}, 'BTCUSD': {'b': '118381.300000000
2025-07-16 01:35:35,024 - DEBUG - app.services.portfolio_calculator - Position calculation for BTCUSD: Type=BUY, Entry=118908.50000000, Current=118337.8, Quantity=0.40000000, Contract Size=1.00000000, PnL=-228.280000000000000000000000, PnL USD=-228.280000000000000000000000, Commission=235.57000000, Final PnL=-463.850000000000000000000000
2025-07-16 01:35:35,024 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0371000000', 'o': '13.0347700000'}, 'XAGUSD': {'b': '37.9730000000', 'o': '37.9700000000'}, 'GBPAUD': {'b': '2.0537800000', 'o': '2.0536000000'}, 'BTCUSD': {'b': '118381.300000000...
2025-07-16 01:35:35,024 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:35:35,073 - WARNING - app - User 16 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:35:35,087 - WARNING - app - User 17 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:35:35,100 - WARNING - app - User 18 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:35:35,114 - WARNING - app - User 19 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:35:35,127 - WARNING - app - User 20 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:35:35,140 - WARNING - app - User 21 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:35:35,151 - WARNING - app - User 22 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:35:35,162 - WARNING - app - User 23 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:35:35,173 - WARNING - app - User 25 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:35:35,631 - DEBUG - app.services.portfolio_calculator - Position calculation for XAGUSD: Type=BUY, Entry=41.09800000, Current=37.957499999999996, Quantity=0.01000000, Contract Size=5000.00000000, PnL=-157.0250000000002000000000000, PnL USD=-157.0250000000002000000000000, Commission=0.10000000, Final PnL=-157.1250000000002000000000000
2025-07-16 01:35:35,631 - DEBUG - app.services.portfolio_calculator - Position calculation for BTCUSD: Type=BUY, Entry=132091.90000000, Current=118331.2, Quantity=6.00000000, Contract Size=1.00000000, PnL=-82564.20000000000000000000000, PnL USD=-82564.20000000000000000000000, Commission=3661.62000000, Final PnL=-86225.82000000000000000000000
2025-07-16 01:35:35,631 - WARNING - app.services.portfolio_calculator - MARGIN CALL ALERT: User has margin level 66.87593913539093925792952659% which is below threshold 100.0%
2025-07-16 01:35:35,632 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:35:35,636 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:35:36,043 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=96.66800000, Current=97.033, Quantity=0.01000000, Contract Size=100000.00000000, PnL=365.000000000000000000000000, PnL USD=2.451326066662637089570782880, Commission=0.10000000, Final PnL=2.351326066662637089570782880
2025-07-16 01:35:36,044 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=96.56000000, Current=97.139, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-579.000000000000000000000000, PnL USD=-3.888541897527854451675296678, Commission=0.10000000, Final PnL=-3.988541897527854451675296678
2025-07-16 01:35:36,046 - WARNING - app - User 2 has no group_name set. Skipping portfolio update.
2025-07-16 01:35:36,054 - WARNING - app - No group settings found for group string. Skipping portfolio update for user 3.
2025-07-16 01:35:36,082 - WARNING - app - User 4 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:35:36,083 - WARNING - app - User 5 has no group_name set. Skipping portfolio update.
2025-07-16 01:35:36,084 - WARNING - app - User 6 has no group_name set. Skipping portfolio update.
2025-07-16 01:35:36,450 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64743000, Current=0.65188, Quantity=0.10000000, Contract Size=100000.00000000, PnL=44.500000000000000000000000, PnL USD=44.500000000000000000000000, Commission=1.00000000, Final PnL=43.500000000000000000000000
2025-07-16 01:35:36,450 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=SELL, Entry=0.64707000, Current=0.6521899999999999, Quantity=0.22000000, Contract Size=100000.00000000, PnL=-112.6399999999978000000000000, PnL USD=-112.6399999999978000000000000, Commission=2.20000000, Final PnL=-114.8399999999978000000000000
2025-07-16 01:35:36,451 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFSGD: Type=BUY, Entry=1.57561500, Current=1.602745, Quantity=0.10000000, Contract Size=100000.00000000, PnL=271.300000000000000000000000, PnL USD=211.1431929084527320979679511, Commission=1.00000000, Final PnL=210.1431929084527320979679511
2025-07-16 01:35:36,452 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFSGD: Type=SELL, Entry=1.57505500, Current=1.6032149999999998, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-281.5999999999980000000000000, PnL USD=-219.1593185514923224194690679, Commission=1.00000000, Final PnL=-220.1593185514923224194690679
2025-07-16 01:35:36,453 - DEBUG - app.services.portfolio_calculator - Position calculation for CADJPY: Type=SELL, Entry=106.24150000, Current=108.53150000000001, Quantity=0.15000000, Contract Size=100000.00000000, PnL=-34350.00000000015000000000000, PnL USD=-230.6932887393478129470312091, Commission=0E-8, Final PnL=-230.6932887393478129470312091
2025-07-16 01:35:36,454 - DEBUG - app.services.portfolio_calculator - Position calculation for CADJPY: Type=BUY, Entry=106.27050000, Current=108.49849999999999, Quantity=0.15000000, Contract Size=100000.00000000, PnL=33419.99999999985000000000000, PnL USD=224.4474442407259283138234642, Commission=0E-8, Final PnL=224.4474442407259283138234642
2025-07-16 01:35:36,454 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=BUY, Entry=1.77481000, Current=1.7819999999999998, Quantity=0.22000000, Contract Size=100000.00000000, PnL=158.1799999999956000000000000, PnL USD=103.1396871999971310240000000, Commission=2.20000000, Final PnL=100.9396871999971310240000000
2025-07-16 01:35:36,454 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=SELL, Entry=1.77439000, Current=1.7823900000000001, Quantity=0.21000000, Contract Size=100000.00000000, PnL=-168.0000000000021000000000000, PnL USD=-109.5427200000013692840000000, Commission=2.10000000, Final PnL=-111.6427200000013692840000000
2025-07-16 01:35:36,455 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFJPY: Type=BUY, Entry=178.15500000, Current=185.735, Quantity=0.10000000, Contract Size=100000.00000000, PnL=75800.00000000000000000000000, PnL USD=509.0699064466517572314118967, Commission=1.00000000, Final PnL=508.0699064466517572314118967
2025-07-16 01:35:36,456 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFJPY: Type=SELL, Entry=178.09500000, Current=185.785, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-76900.00000000000000000000000, PnL USD=-516.4574644557720333917622012, Commission=1.00000000, Final PnL=-517.4574644557720333917622012
2025-07-16 01:35:36,456 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=BUY, Entry=1.77480000, Current=1.7819999999999998, Quantity=0.05000000, Contract Size=100000.00000000, PnL=35.99999999999900000000000000, PnL USD=23.47343999999934796000000000, Commission=0.50000000, Final PnL=22.97343999999934796000000000
2025-07-16 01:35:36,456 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=SELL, Entry=1.77442000, Current=1.7823900000000001, Quantity=0.05000000, Contract Size=100000.00000000, PnL=-39.85000000000050000000000000, PnL USD=-25.98379400000032602000000000, Commission=0.50000000, Final PnL=-26.48379400000032602000000000
2025-07-16 01:35:36,456 - DEBUG - app.services.portfolio_calculator - Position calculation for EURGBP: Type=SELL, Entry=0.85403000, Current=0.86801, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-139.800000000000000000000000, PnL USD=-187.2061800000000000000000000, Commission=1.00000000, Final PnL=-188.2061800000000000000000000
2025-07-16 01:35:36,457 - DEBUG - app.services.portfolio_calculator - Position calculation for EURJPY: Type=BUY, Entry=167.26050000, Current=173.01250000000002, Quantity=0.10000000, Contract Size=100000.00000000, PnL=57520.00000000020000000000000, PnL USD=386.3021242587270565954103117, Commission=1.00000000, Final PnL=385.3021242587270565954103117
2025-07-16 01:35:36,458 - DEBUG - app.services.portfolio_calculator - Position calculation for EURJPY: Type=SELL, Entry=167.23150000, Current=173.0425, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-58110.00000000000000000000000, PnL USD=-390.2645417363447706163238168, Commission=1.00000000, Final PnL=-391.2645417363447706163238168
2025-07-16 01:35:36,458 - DEBUG - app.services.portfolio_calculator - Position calculation for EURNZD: Type=SELL, Entry=1.91952500, Current=1.956315, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-367.900000000000000000000000, PnL USD=-218.5657110000000000000000000, Commission=1.00000000, Final PnL=-219.5657110000000000000000000
2025-07-16 01:35:36,458 - DEBUG - app.services.portfolio_calculator - Position calculation for EURNZD: Type=BUY, Entry=1.92063500, Current=1.955875, Quantity=0.10000000, Contract Size=100000.00000000, PnL=352.400000000000000000000000, PnL USD=209.3573160000000000000000000, Commission=1.00000000, Final PnL=208.3573160000000000000000000
2025-07-16 01:35:36,458 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=SELL, Entry=1.34376000, Current=1.3392, Quantity=0.25000000, Contract Size=0E-8, PnL=0E-24, PnL USD=0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 01:35:36,458 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=SELL, Entry=1.34361000, Current=1.3392, Quantity=0.25000000, Contract Size=0E-8, PnL=0E-24, PnL USD=0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 01:35:36,458 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=BUY, Entry=1.34379000, Current=1.33899, Quantity=0.25000000, Contract Size=0E-8, PnL=-0E-24, PnL USD=-0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 01:35:36,458 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=BUY, Entry=1.34378000, Current=1.33899, Quantity=0.25000000, Contract Size=0E-8, PnL=-0E-24, PnL USD=-0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 01:35:36,459 - DEBUG - app.services.portfolio_calculator - Position calculation for NZDJPY: Type=BUY, Entry=87.10150000, Current=88.4375, Quantity=0.01000000, Contract Size=100000.00000000, PnL=1336.000000000000000000000000, PnL USD=8.972525000167899045661824458, Commission=0.10000000, Final PnL=8.872525000167899045661824458
2025-07-16 01:35:36,460 - DEBUG - app.services.portfolio_calculator - Position calculation for USDCHF: Type=SELL, Entry=0.81771000, Current=0.80174, Quantity=0.15000000, Contract Size=100000.00000000, PnL=239.550000000000000000000000, PnL USD=298.8435484474606719145697925, Commission=1.50000000, Final PnL=297.3435484474606719145697925
2025-07-16 01:35:36,461 - DEBUG - app.services.portfolio_calculator - Position calculation for USDCHF: Type=BUY, Entry=0.81805000, Current=0.8014100000000001, Quantity=0.15000000, Contract Size=100000.00000000, PnL=-249.5999999999985000000000000, PnL USD=-311.3811300041149465437443082, Commission=1.50000000, Final PnL=-312.8811300041149465437443082
2025-07-16 01:35:36,462 - DEBUG - app.services.portfolio_calculator - Position calculation for USDNOK: Type=BUY, Entry=10.04973000, Current=10.275490000000001, Quantity=0.10000000, Contract Size=100000.00000000, PnL=2257.600000000010000000000000, PnL USD=219.6662388675755856777145215, Commission=1.00000000, Final PnL=218.6662388675755856777145215
2025-07-16 01:35:36,463 - DEBUG - app.services.portfolio_calculator - Position calculation for USDNOK: Type=BUY, Entry=10.05023000, Current=10.275490000000001, Quantity=0.10000000, Contract Size=100000.00000000, PnL=2252.600000000010000000000000, PnL USD=219.1797349721388949161315935, Commission=1.00000000, Final PnL=218.1797349721388949161315935
2025-07-16 01:35:36,463 - DEBUG - app.services.portfolio_calculator - Position calculation for USDSGD: Type=SELL, Entry=1.28795000, Current=1.28506, Quantity=0.31000000, Contract Size=100000.00000000, PnL=89.590000000000000000000000, PnL USD=69.72472780194721809309601451, Commission=3.10000000, Final PnL=66.62472780194721809309601451
2025-07-16 01:35:36,464 - DEBUG - app.services.portfolio_calculator - Position calculation for USDTRY: Type=SELL, Entry=39.56087000, Current=40.259209999999996, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-6983.399999999960000000000000, PnL USD=-173.4615761023719878208780831, Commission=1.00000000, Final PnL=-174.4615761023719878208780831
2025-07-16 01:35:36,796 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:35:36,800 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:35:37,172 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.89752000, Current=0.89466, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-2.860000000000000000000000, PnL USD=-2.084229090299589712944811654, Commission=0.10000000, Final PnL=-2.184229090299589712944811654
2025-07-16 01:35:37,195 - WARNING - app - User 12 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:35:37,211 - WARNING - app - User 13 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:35:37,387 - DEBUG - app.firebase_stream - Firebase listener triggered (132). Event Type: patch, Path: /. Timestamp: 1752654937.3874462
2025-07-16 01:35:37,387 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0360000000', 'o': '13.0334000000'}, 'NZDJPY': {'b': '88.4460000000', 'o': '88.4380000000'}, 'GBPAUD': {'b': '2.0537500000', 'o': '2.0536000000'}, 'BTCUSD': {'b': '118396.730000000
2025-07-16 01:35:37,387 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0360000000', 'o': '13.0334000000'}, 'NZDJPY': {'b': '88.4460000000', 'o': '88.4380000000'}, 'GBPAUD': {'b': '2.0537500000', 'o': '2.0536000000'}, 'BTCUSD': {'b': '118396.730000000...
2025-07-16 01:35:37,388 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:35:37,806 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:35:37,810 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:35:38,824 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:35:38,828 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:35:39,632 - DEBUG - app.firebase_stream - Firebase listener triggered (133). Event Type: patch, Path: /. Timestamp: 1752654939.6323583
2025-07-16 01:35:39,632 - DEBUG - app.firebase_stream - Prepared batch update for 39 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0369000000', 'o': '13.0344400000'}, 'XAGUSD': {'b': '37.9740000000', 'o': '37.9710000000'}, 'NZDJPY': {'b': '88.4570000000', 'o': '88.4480000000'}, 'GBPAUD': {'b': '2.0537900000',
2025-07-16 01:35:39,632 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0369000000', 'o': '13.0344400000'}, 'XAGUSD': {'b': '37.9740000000', 'o': '37.9710000000'}, 'NZDJPY': {'b': '88.4570000000', 'o': '88.4480000000'}, 'GBPAUD': {'b': '2.0537900000',...
2025-07-16 01:35:39,633 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:35:39,835 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:35:39,837 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:35:40,849 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:35:40,855 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:35:41,866 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:35:41,870 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:35:42,096 - DEBUG - app.firebase_stream - Firebase listener triggered (134). Event Type: patch, Path: /. Timestamp: 1752654942.096836
2025-07-16 01:35:42,097 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0371000000', 'o': '13.0345000000'}, 'XAGUSD': {'b': '37.9730000000', 'o': '37.9710000000'}, 'NZDJPY': {'b': '88.4510000000', 'o': '88.4420000000'}, 'GBPAUD': {'b': '2.0537800000',
2025-07-16 01:35:42,097 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0371000000', 'o': '13.0345000000'}, 'XAGUSD': {'b': '37.9730000000', 'o': '37.9710000000'}, 'NZDJPY': {'b': '88.4510000000', 'o': '88.4420000000'}, 'GBPAUD': {'b': '2.0537800000',...
2025-07-16 01:35:42,097 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:35:42,884 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:35:42,887 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:35:43,904 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:35:43,908 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:35:44,451 - DEBUG - app.firebase_stream - Firebase listener triggered (135). Event Type: patch, Path: /. Timestamp: 1752654944.4511714
2025-07-16 01:35:44,451 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9740000000', 'o': '37.9700000000'}, 'NZDJPY': {'b': '88.4490000000', 'o': '88.4400000000'}, 'GBPAUD': {'b': '2.0537600000', 'o': '2.0536100000'}, 'USDJPY': {'b': '148.8970000000',
2025-07-16 01:35:44,451 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9740000000', 'o': '37.9700000000'}, 'NZDJPY': {'b': '88.4490000000', 'o': '88.4400000000'}, 'GBPAUD': {'b': '2.0537600000', 'o': '2.0536100000'}, 'USDJPY': {'b': '148.8970000000',...
2025-07-16 01:35:44,452 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:35:44,919 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:35:44,921 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:35:45,927 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:35:45,931 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:35:46,701 - DEBUG - app.firebase_stream - Firebase listener triggered (136). Event Type: patch, Path: /. Timestamp: 1752654946.7013357
2025-07-16 01:35:46,701 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0369000000', 'o': '13.0344400000'}, 'XAGUSD': {'b': '37.9730000000', 'o': '37.9690000000'}, 'NZDJPY': {'b': '88.4610000000', 'o': '88.4530000000'}, 'GBPAUD': {'b': '2.0537600000',
2025-07-16 01:35:46,702 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0369000000', 'o': '13.0344400000'}, 'XAGUSD': {'b': '37.9730000000', 'o': '37.9690000000'}, 'NZDJPY': {'b': '88.4610000000', 'o': '88.4530000000'}, 'GBPAUD': {'b': '2.0537600000',...
2025-07-16 01:35:46,702 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:35:46,945 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:35:46,948 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:35:47,953 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:35:47,957 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:35:48,971 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:35:48,975 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:35:49,060 - DEBUG - app.firebase_stream - Firebase listener triggered (137). Event Type: patch, Path: /. Timestamp: 1752654949.0604768
2025-07-16 01:35:49,060 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4600000000', 'o': '88.4530000000'}, 'GBPAUD': {'b': '2.0537600000', 'o': '2.0536100000'}, 'USDCNH': {'b': '7.1811900000', 'o': '7.1811700000'}, 'EURNZD': {'b': '1.9562500000', 'o'
2025-07-16 01:35:49,060 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4600000000', 'o': '88.4530000000'}, 'GBPAUD': {'b': '2.0537600000', 'o': '2.0536100000'}, 'USDCNH': {'b': '7.1811900000', 'o': '7.1811700000'}, 'EURNZD': {'b': '1.9562500000', 'o'...
2025-07-16 01:35:49,061 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:35:49,977 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:35:49,981 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:35:50,990 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:35:50,994 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:35:51,301 - DEBUG - app.firebase_stream - Firebase listener triggered (138). Event Type: patch, Path: /. Timestamp: 1752654951.3017435
2025-07-16 01:35:51,302 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9730000000', 'o': '37.9700000000'}, 'NZDJPY': {'b': '88.4490000000', 'o': '88.4400000000'}, 'GBPAUD': {'b': '2.0537600000', 'o': '2.0535900000'}, 'USDJPY': {'b': '148.9000000000',
2025-07-16 01:35:51,302 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9730000000', 'o': '37.9700000000'}, 'NZDJPY': {'b': '88.4490000000', 'o': '88.4400000000'}, 'GBPAUD': {'b': '2.0537600000', 'o': '2.0535900000'}, 'USDJPY': {'b': '148.9000000000',...
2025-07-16 01:35:51,302 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:35:52,000 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:35:52,002 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:35:53,015 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:35:53,019 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:35:53,668 - DEBUG - app.firebase_stream - Firebase listener triggered (139). Event Type: patch, Path: /. Timestamp: 1752654953.6680202
2025-07-16 01:35:53,668 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0366000000', 'o': '13.0344000000'}, 'XAGUSD': {'b': '37.9740000000', 'o': '37.9700000000'}, 'NZDJPY': {'b': '88.4590000000', 'o': '88.4510000000'}, 'GBPAUD': {'b': '2.0537600000',
2025-07-16 01:35:53,668 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0366000000', 'o': '13.0344000000'}, 'XAGUSD': {'b': '37.9740000000', 'o': '37.9700000000'}, 'NZDJPY': {'b': '88.4590000000', 'o': '88.4510000000'}, 'GBPAUD': {'b': '2.0537600000',...
2025-07-16 01:35:53,669 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:35:54,032 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:35:54,036 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:35:55,054 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:35:55,056 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:35:55,916 - DEBUG - app.firebase_stream - Firebase listener triggered (140). Event Type: patch, Path: /. Timestamp: 1752654955.916325
2025-07-16 01:35:55,916 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0369000000', 'o': '13.0345900000'}, 'XAGUSD': {'b': '37.9730000000', 'o': '37.9700000000'}, 'NZDJPY': {'b': '88.4600000000', 'o': '88.4520000000'}, 'GBPAUD': {'b': '2.0537700000',
2025-07-16 01:35:55,917 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0369000000', 'o': '13.0345900000'}, 'XAGUSD': {'b': '37.9730000000', 'o': '37.9700000000'}, 'NZDJPY': {'b': '88.4600000000', 'o': '88.4520000000'}, 'GBPAUD': {'b': '2.0537700000',...
2025-07-16 01:35:55,917 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:35:56,058 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:35:56,060 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:35:57,077 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:35:57,080 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:35:57,109 - INFO - app - Starting cache validation task
2025-07-16 01:35:57,117 - INFO - app - Validating cache for 30 users
2025-07-16 01:35:57,117 - WARNING - app - User 4: Missing balance/margin cache, refreshing...
2025-07-16 01:35:57,127 - WARNING - app - User 5: Missing balance/margin cache, refreshing...
2025-07-16 01:35:57,131 - WARNING - app - User 8: Missing balance/margin cache, refreshing...
2025-07-16 01:35:57,139 - WARNING - app - User 9: Missing balance/margin cache, refreshing...
2025-07-16 01:35:57,145 - WARNING - app - User 10: Missing balance/margin cache, refreshing...
2025-07-16 01:35:57,152 - WARNING - app - User 11: Missing balance/margin cache, refreshing...
2025-07-16 01:35:57,157 - WARNING - app - User 12: Missing balance/margin cache, refreshing...
2025-07-16 01:35:57,163 - WARNING - app - User 13: Missing balance/margin cache, refreshing...
2025-07-16 01:35:57,167 - WARNING - app - User 14: Missing balance/margin cache, refreshing...
2025-07-16 01:35:57,174 - WARNING - app - User 16: Missing balance/margin cache, refreshing...
2025-07-16 01:35:57,179 - WARNING - app - User 17: Missing balance/margin cache, refreshing...
2025-07-16 01:35:57,184 - WARNING - app - User 18: Missing balance/margin cache, refreshing...
2025-07-16 01:35:57,190 - WARNING - app - User 19: Missing balance/margin cache, refreshing...
2025-07-16 01:35:57,195 - WARNING - app - User 20: Missing balance/margin cache, refreshing...
2025-07-16 01:35:57,200 - WARNING - app - User 21: Missing balance/margin cache, refreshing...
2025-07-16 01:35:57,205 - WARNING - app - User 22: Missing balance/margin cache, refreshing...
2025-07-16 01:35:57,210 - WARNING - app - User 23: Missing balance/margin cache, refreshing...
2025-07-16 01:35:57,215 - WARNING - app - User 25: Missing balance/margin cache, refreshing...
2025-07-16 01:35:57,220 - WARNING - app - User 26: Missing balance/margin cache, refreshing...
2025-07-16 01:35:57,230 - WARNING - app - User 1: Missing balance/margin cache, refreshing...
2025-07-16 01:35:57,236 - WARNING - app - User 2: Missing balance/margin cache, refreshing...
2025-07-16 01:35:57,242 - WARNING - app - User 3: Missing balance/margin cache, refreshing...
2025-07-16 01:35:57,247 - WARNING - app - User 5: Missing balance/margin cache, refreshing...
2025-07-16 01:35:57,252 - WARNING - app - User 6: Missing balance/margin cache, refreshing...
2025-07-16 01:35:57,260 - INFO - app - Cache validation completed
2025-07-16 01:35:58,095 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:35:58,097 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:35:58,267 - DEBUG - app.firebase_stream - Firebase listener triggered (141). Event Type: patch, Path: /. Timestamp: 1752654958.2678661
2025-07-16 01:35:58,268 - DEBUG - app.firebase_stream - Prepared batch update for 30 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0368000000', 'o': '13.0345900000'}, 'XAGUSD': {'b': '37.9740000000', 'o': '37.9720000000'}, 'NZDJPY': {'b': '88.4590000000', 'o': '88.4510000000'}, 'GBPAUD': {'b': '2.0537600000',
2025-07-16 01:35:58,268 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0368000000', 'o': '13.0345900000'}, 'XAGUSD': {'b': '37.9740000000', 'o': '37.9720000000'}, 'NZDJPY': {'b': '88.4590000000', 'o': '88.4510000000'}, 'GBPAUD': {'b': '2.0537600000',...
2025-07-16 01:35:58,268 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:35:59,099 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:35:59,101 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:36:00,112 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:36:00,114 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:36:00,518 - DEBUG - app.firebase_stream - Firebase listener triggered (142). Event Type: patch, Path: /. Timestamp: 1752654960.5185084
2025-07-16 01:36:00,518 - DEBUG - app.firebase_stream - Prepared batch update for 23 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0369000000', 'o': '13.0348400000'}, 'XAGUSD': {'b': '37.9760000000', 'o': '37.9740000000'}, 'GBPAUD': {'b': '2.0537600000', 'o': '2.0536000000'}, 'BTCUSD': {'b': '118424.390000000
2025-07-16 01:36:00,518 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0369000000', 'o': '13.0348400000'}, 'XAGUSD': {'b': '37.9760000000', 'o': '37.9740000000'}, 'GBPAUD': {'b': '2.0537600000', 'o': '2.0536000000'}, 'BTCUSD': {'b': '118424.390000000...
2025-07-16 01:36:00,518 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:36:01,132 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:36:01,135 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:36:02,137 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:36:02,140 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:36:02,877 - DEBUG - app.firebase_stream - Firebase listener triggered (143). Event Type: patch, Path: /. Timestamp: 1752654962.8774266
2025-07-16 01:36:02,877 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9730000000', 'o': '37.9710000000'}, 'NZDJPY': {'b': '88.4600000000', 'o': '88.4520000000'}, 'BTCUSD': {'b': '118436.1000000000', 'o': '118436.0000000000'}, 'USDJPY': {'b': '148.89
2025-07-16 01:36:02,878 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9730000000', 'o': '37.9710000000'}, 'NZDJPY': {'b': '88.4600000000', 'o': '88.4520000000'}, 'BTCUSD': {'b': '118436.1000000000', 'o': '118436.0000000000'}, 'USDJPY': {'b': '148.89...
2025-07-16 01:36:02,878 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:36:03,146 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:36:03,148 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:36:04,158 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:36:04,159 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:36:05,101 - DEBUG - app.firebase_stream - Firebase listener triggered (144). Event Type: patch, Path: /. Timestamp: 1752654965.1013587
2025-07-16 01:36:05,101 - DEBUG - app.firebase_stream - Prepared batch update for 25 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0367000000', 'o': '13.0348400000'}, 'XAGUSD': {'b': '37.9760000000', 'o': '37.9740000000'}, 'NZDJPY': {'b': '88.4590000000', 'o': '88.4510000000'}, 'GBPAUD': {'b': '2.0537600000',
2025-07-16 01:36:05,102 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0367000000', 'o': '13.0348400000'}, 'XAGUSD': {'b': '37.9760000000', 'o': '37.9740000000'}, 'NZDJPY': {'b': '88.4590000000', 'o': '88.4510000000'}, 'GBPAUD': {'b': '2.0537600000',...
2025-07-16 01:36:05,102 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:36:05,161 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:36:05,163 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:36:06,170 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:36:06,172 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:36:07,183 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:36:07,186 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:36:07,410 - DEBUG - app.firebase_stream - Firebase listener triggered (145). Event Type: patch, Path: /. Timestamp: 1752654967.4100242
2025-07-16 01:36:07,410 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0370000000', 'o': '13.0346000000'}, 'XAGUSD': {'b': '37.9760000000', 'o': '37.9730000000'}, 'NZDJPY': {'b': '88.4580000000', 'o': '88.4520000000'}, 'GBPAUD': {'b': '2.0537900000',
2025-07-16 01:36:07,410 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0370000000', 'o': '13.0346000000'}, 'XAGUSD': {'b': '37.9760000000', 'o': '37.9730000000'}, 'NZDJPY': {'b': '88.4580000000', 'o': '88.4520000000'}, 'GBPAUD': {'b': '2.0537900000',...
2025-07-16 01:36:07,411 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:36:08,203 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:36:08,206 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:36:09,223 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:36:09,226 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:36:09,743 - DEBUG - app.firebase_stream - Firebase listener triggered (146). Event Type: patch, Path: /. Timestamp: 1752654969.7437792
2025-07-16 01:36:09,744 - DEBUG - app.firebase_stream - Prepared batch update for 34 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0371000000', 'o': '13.0350200000'}, 'XAGUSD': {'b': '37.9770000000', 'o': '37.9730000000'}, 'GBPAUD': {'b': '2.0537600000', 'o': '2.0535900000'}, 'BTCUSD': {'b': '118424.100000000
2025-07-16 01:36:09,744 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0371000000', 'o': '13.0350200000'}, 'XAGUSD': {'b': '37.9770000000', 'o': '37.9730000000'}, 'GBPAUD': {'b': '2.0537600000', 'o': '2.0535900000'}, 'BTCUSD': {'b': '118424.100000000...
2025-07-16 01:36:09,745 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:36:10,228 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:36:10,231 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:36:11,247 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:36:11,250 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:36:11,997 - DEBUG - app.firebase_stream - Firebase listener triggered (147). Event Type: patch, Path: /. Timestamp: 1752654971.9975853
2025-07-16 01:36:11,998 - DEBUG - app.firebase_stream - Prepared batch update for 30 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0372000000', 'o': '13.0346000000'}, 'XAGUSD': {'b': '37.9770000000', 'o': '37.9740000000'}, 'NZDJPY': {'b': '88.4590000000', 'o': '88.4500000000'}, 'GBPAUD': {'b': '2.0537600000',
2025-07-16 01:36:11,998 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0372000000', 'o': '13.0346000000'}, 'XAGUSD': {'b': '37.9770000000', 'o': '37.9740000000'}, 'NZDJPY': {'b': '88.4590000000', 'o': '88.4500000000'}, 'GBPAUD': {'b': '2.0537600000',...
2025-07-16 01:36:11,998 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:36:12,259 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:36:12,262 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:36:13,271 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:36:13,273 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:36:14,290 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:36:14,292 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:36:14,344 - DEBUG - app.firebase_stream - Firebase listener triggered (148). Event Type: patch, Path: /. Timestamp: 1752654974.3442495
2025-07-16 01:36:14,344 - DEBUG - app.firebase_stream - Prepared batch update for 34 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0370000000', 'o': '13.0350200000'}, 'XAGUSD': {'b': '37.9780000000', 'o': '37.9740000000'}, 'NZDJPY': {'b': '88.4580000000', 'o': '88.4520000000'}, 'GBPAUD': {'b': '2.0537700000',
2025-07-16 01:36:14,344 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0370000000', 'o': '13.0350200000'}, 'XAGUSD': {'b': '37.9780000000', 'o': '37.9740000000'}, 'NZDJPY': {'b': '88.4580000000', 'o': '88.4520000000'}, 'GBPAUD': {'b': '2.0537700000',...
2025-07-16 01:36:14,344 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:36:15,304 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:36:15,305 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:36:16,312 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:36:16,314 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:36:16,594 - DEBUG - app.firebase_stream - Firebase listener triggered (149). Event Type: patch, Path: /. Timestamp: 1752654976.5941453
2025-07-16 01:36:16,594 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0369000000', 'o': '13.0350200000'}, 'XAGUSD': {'b': '37.9780000000', 'o': '37.9750000000'}, 'NZDJPY': {'b': '88.4590000000', 'o': '88.4510000000'}, 'GBPAUD': {'b': '2.0537600000',
2025-07-16 01:36:16,594 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0369000000', 'o': '13.0350200000'}, 'XAGUSD': {'b': '37.9780000000', 'o': '37.9750000000'}, 'NZDJPY': {'b': '88.4590000000', 'o': '88.4510000000'}, 'GBPAUD': {'b': '2.0537600000',...
2025-07-16 01:36:16,595 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:36:17,327 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:36:17,330 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:36:18,341 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:36:18,344 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:36:18,956 - DEBUG - app.firebase_stream - Firebase listener triggered (150). Event Type: patch, Path: /. Timestamp: 1752654978.9559908
2025-07-16 01:36:18,956 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0372000000', 'o': '13.0348300000'}, 'XAGUSD': {'b': '37.9730000000', 'o': '37.9690000000'}, 'NZDJPY': {'b': '88.4590000000', 'o': '88.4500000000'}, 'GBPAUD': {'b': '2.0538100000',
2025-07-16 01:36:18,956 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0372000000', 'o': '13.0348300000'}, 'XAGUSD': {'b': '37.9730000000', 'o': '37.9690000000'}, 'NZDJPY': {'b': '88.4590000000', 'o': '88.4500000000'}, 'GBPAUD': {'b': '2.0538100000',...
2025-07-16 01:36:18,957 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:36:19,358 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:36:19,361 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:36:20,376 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:36:20,380 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:36:21,205 - DEBUG - app.firebase_stream - Firebase listener triggered (151). Event Type: patch, Path: /. Timestamp: 1752654981.205264
2025-07-16 01:36:21,205 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9740000000', 'o': '37.9700000000'}, 'NZDJPY': {'b': '88.4590000000', 'o': '88.4530000000'}, 'GBPAUD': {'b': '2.0538100000', 'o': '2.0536400000'}, 'BTCUSD': {'b': '118427.200000000
2025-07-16 01:36:21,205 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9740000000', 'o': '37.9700000000'}, 'NZDJPY': {'b': '88.4590000000', 'o': '88.4530000000'}, 'GBPAUD': {'b': '2.0538100000', 'o': '2.0536400000'}, 'BTCUSD': {'b': '118427.200000000...
2025-07-16 01:36:21,205 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:36:21,392 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:36:21,396 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:36:22,409 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:36:22,412 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:36:23,426 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:36:23,429 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:36:23,462 - DEBUG - app.firebase_stream - Firebase listener triggered (152). Event Type: patch, Path: /. Timestamp: 1752654983.462826
2025-07-16 01:36:23,463 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0374000000', 'o': '13.0350900000'}, 'NZDJPY': {'b': '88.4660000000', 'o': '88.4590000000'}, 'GBPAUD': {'b': '2.0536600000', 'o': '2.0535400000'}, 'BTCUSD': {'b': '118400.000000000
2025-07-16 01:36:23,463 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0374000000', 'o': '13.0350900000'}, 'NZDJPY': {'b': '88.4660000000', 'o': '88.4590000000'}, 'GBPAUD': {'b': '2.0536600000', 'o': '2.0535400000'}, 'BTCUSD': {'b': '118400.000000000...
2025-07-16 01:36:23,463 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:36:24,434 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:36:24,438 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:36:25,452 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:36:25,455 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:36:25,815 - DEBUG - app.firebase_stream - Firebase listener triggered (153). Event Type: patch, Path: /. Timestamp: 1752654985.815829
2025-07-16 01:36:25,816 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0373000000', 'o': '13.0350900000'}, 'NZDJPY': {'b': '88.4650000000', 'o': '88.4570000000'}, 'GBPAUD': {'b': '2.0537100000', 'o': '2.0535400000'}, 'BTCUSD': {'b': '118427.200000000
2025-07-16 01:36:25,816 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0373000000', 'o': '13.0350900000'}, 'NZDJPY': {'b': '88.4650000000', 'o': '88.4570000000'}, 'GBPAUD': {'b': '2.0537100000', 'o': '2.0535400000'}, 'BTCUSD': {'b': '118427.200000000...
2025-07-16 01:36:25,816 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:36:26,459 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:36:26,462 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:36:27,470 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:36:27,472 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:36:28,062 - DEBUG - app.firebase_stream - Firebase listener triggered (154). Event Type: patch, Path: /. Timestamp: 1752654988.0624352
2025-07-16 01:36:28,062 - DEBUG - app.firebase_stream - Prepared batch update for 34 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0368000000', 'o': '13.0345900000'}, 'XAGUSD': {'b': '37.9740000000', 'o': '37.9710000000'}, 'NZDJPY': {'b': '88.4590000000', 'o': '88.4500000000'}, 'GBPAUD': {'b': '2.0537600000',
2025-07-16 01:36:28,062 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0368000000', 'o': '13.0345900000'}, 'XAGUSD': {'b': '37.9740000000', 'o': '37.9710000000'}, 'NZDJPY': {'b': '88.4590000000', 'o': '88.4500000000'}, 'GBPAUD': {'b': '2.0537600000',...
2025-07-16 01:36:28,063 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:36:28,479 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:36:28,481 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:36:29,484 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:36:29,486 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:36:30,423 - DEBUG - app.firebase_stream - Firebase listener triggered (155). Event Type: patch, Path: /. Timestamp: 1752654990.423498
2025-07-16 01:36:30,423 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0373000000', 'o': '13.0350900000'}, 'NZDJPY': {'b': '88.4600000000', 'o': '88.4520000000'}, 'GBPAUD': {'b': '2.0537200000', 'o': '2.0535400000'}, 'USDJPY': {'b': '148.8990000000',
2025-07-16 01:36:30,423 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0373000000', 'o': '13.0350900000'}, 'NZDJPY': {'b': '88.4600000000', 'o': '88.4520000000'}, 'GBPAUD': {'b': '2.0537200000', 'o': '2.0535400000'}, 'USDJPY': {'b': '148.8990000000',...
2025-07-16 01:36:30,424 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:36:30,487 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:36:30,490 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:36:31,497 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:36:31,500 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:36:32,514 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:36:32,515 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:36:32,884 - DEBUG - app.firebase_stream - Firebase listener triggered (156). Event Type: patch, Path: /. Timestamp: 1752654992.8847616
2025-07-16 01:36:32,885 - DEBUG - app.firebase_stream - Prepared batch update for 34 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0364000000', 'o': '13.0348400000'}, 'NZDJPY': {'b': '88.4590000000', 'o': '88.4500000000'}, 'GBPAUD': {'b': '2.0536900000', 'o': '2.0535200000'}, 'USDJPY': {'b': '148.8800000000',
2025-07-16 01:36:32,885 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0364000000', 'o': '13.0348400000'}, 'NZDJPY': {'b': '88.4590000000', 'o': '88.4500000000'}, 'GBPAUD': {'b': '2.0536900000', 'o': '2.0535200000'}, 'USDJPY': {'b': '148.8800000000',...
2025-07-16 01:36:32,885 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:36:33,528 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:36:33,530 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:36:34,527 - WARNING - app - User 4 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:36:34,529 - WARNING - app - No user data found for user 5 (live). Skipping portfolio update.
2025-07-16 01:36:34,532 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:36:34,534 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:36:34,535 - WARNING - app - No group settings found for group string. Skipping portfolio update for user 8.
2025-07-16 01:36:34,555 - WARNING - app - User 9 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:36:34,571 - WARNING - app - User 10 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:36:34,586 - WARNING - app - User 11 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:36:34,601 - WARNING - app - User 12 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:36:34,615 - WARNING - app - User 13 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:36:35,021 - DEBUG - app.services.portfolio_calculator - Position calculation for BTCUSD: Type=BUY, Entry=118908.50000000, Current=118350.0, Quantity=0.40000000, Contract Size=1.00000000, PnL=-223.400000000000000000000000, PnL USD=-223.400000000000000000000000, Commission=235.57000000, Final PnL=-458.970000000000000000000000
2025-07-16 01:36:35,036 - WARNING - app - User 16 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:36:35,057 - WARNING - app - User 17 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:36:35,073 - WARNING - app - User 18 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:36:35,088 - WARNING - app - User 19 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:36:35,103 - WARNING - app - User 20 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:36:35,118 - WARNING - app - User 21 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:36:35,127 - DEBUG - app.firebase_stream - Firebase listener triggered (157). Event Type: patch, Path: /. Timestamp: 1752654995.1272056
2025-07-16 01:36:35,127 - DEBUG - app.firebase_stream - Prepared batch update for 24 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0373000000', 'o': '13.0348700000'}, 'XAGUSD': {'b': '37.9740000000', 'o': '37.9700000000'}, 'GBPAUD': {'b': '2.0536900000', 'o': '2.0535300000'}, 'BTCUSD': {'b': '118391.400000000
2025-07-16 01:36:35,127 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0373000000', 'o': '13.0348700000'}, 'XAGUSD': {'b': '37.9740000000', 'o': '37.9700000000'}, 'GBPAUD': {'b': '2.0536900000', 'o': '2.0535300000'}, 'BTCUSD': {'b': '118391.400000000...
2025-07-16 01:36:35,127 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:36:35,154 - WARNING - app - User 22 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:36:35,169 - WARNING - app - User 23 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:36:35,180 - WARNING - app - User 25 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:36:35,534 - DEBUG - app.services.portfolio_calculator - Position calculation for XAGUSD: Type=BUY, Entry=41.09800000, Current=37.957499999999996, Quantity=0.01000000, Contract Size=5000.00000000, PnL=-157.0250000000002000000000000, PnL USD=-157.0250000000002000000000000, Commission=0.10000000, Final PnL=-157.1250000000002000000000000
2025-07-16 01:36:35,534 - DEBUG - app.services.portfolio_calculator - Position calculation for BTCUSD: Type=BUY, Entry=132091.90000000, Current=118350.0, Quantity=6.00000000, Contract Size=1.00000000, PnL=-82451.40000000000000000000000, PnL USD=-82451.40000000000000000000000, Commission=3661.62000000, Final PnL=-86113.02000000000000000000000
2025-07-16 01:36:35,534 - WARNING - app.services.portfolio_calculator - MARGIN CALL ALERT: User has margin level 66.95294388545079201911301587% which is below threshold 100.0%
2025-07-16 01:36:35,535 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:36:35,536 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:36:35,945 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=96.66800000, Current=97.032, Quantity=0.01000000, Contract Size=100000.00000000, PnL=364.000000000000000000000000, PnL USD=2.444905662911990112908967565, Commission=0.10000000, Final PnL=2.344905662911990112908967565
2025-07-16 01:36:35,946 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=96.56000000, Current=97.136, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-576.000000000000000000000000, PnL USD=-3.868861708344248090757047575, Commission=0.10000000, Final PnL=-3.968861708344248090757047575
2025-07-16 01:36:35,948 - WARNING - app - User 2 has no group_name set. Skipping portfolio update.
2025-07-16 01:36:35,956 - WARNING - app - No group settings found for group string. Skipping portfolio update for user 3.
2025-07-16 01:36:35,971 - WARNING - app - User 4 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:36:35,971 - WARNING - app - User 5 has no group_name set. Skipping portfolio update.
2025-07-16 01:36:35,972 - WARNING - app - User 6 has no group_name set. Skipping portfolio update.
2025-07-16 01:36:36,319 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64743000, Current=0.65195, Quantity=0.10000000, Contract Size=100000.00000000, PnL=45.200000000000000000000000, PnL USD=45.200000000000000000000000, Commission=1.00000000, Final PnL=44.200000000000000000000000
2025-07-16 01:36:36,319 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=SELL, Entry=0.64707000, Current=0.65225, Quantity=0.22000000, Contract Size=100000.00000000, PnL=-113.960000000000000000000000, PnL USD=-113.960000000000000000000000, Commission=2.20000000, Final PnL=-116.160000000000000000000000
2025-07-16 01:36:36,320 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFSGD: Type=BUY, Entry=1.57561500, Current=1.602795, Quantity=0.10000000, Contract Size=100000.00000000, PnL=271.800000000000000000000000, PnL USD=211.5389105512619953769642065, Commission=1.00000000, Final PnL=210.5389105512619953769642065
2025-07-16 01:36:36,320 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFSGD: Type=SELL, Entry=1.57505500, Current=1.603225, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-281.700000000000000000000000, PnL USD=-219.2439702071026640827476710, Commission=1.00000000, Final PnL=-220.2439702071026640827476710
2025-07-16 01:36:36,320 - DEBUG - app.services.portfolio_calculator - Position calculation for CADJPY: Type=SELL, Entry=106.24150000, Current=108.52250000000001, Quantity=0.15000000, Contract Size=100000.00000000, PnL=-34215.00000000015000000000000, PnL USD=-229.8144155399288693654663792, Commission=0E-8, Final PnL=-229.8144155399288693654663792
2025-07-16 01:36:36,321 - DEBUG - app.services.portfolio_calculator - Position calculation for CADJPY: Type=BUY, Entry=106.27050000, Current=108.48949999999999, Quantity=0.15000000, Contract Size=100000.00000000, PnL=33284.99999999985000000000000, PnL USD=223.5678159066627037701251335, Commission=0E-8, Final PnL=223.5678159066627037701251335
2025-07-16 01:36:36,321 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=BUY, Entry=1.77481000, Current=1.7818699999999998, Quantity=0.22000000, Contract Size=100000.00000000, PnL=155.3199999999956000000000000, PnL USD=101.2841719999971307600000000, Commission=2.20000000, Final PnL=99.0841719999971307600000000
2025-07-16 01:36:36,321 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=SELL, Entry=1.77439000, Current=1.7822600000000002, Quantity=0.21000000, Contract Size=100000.00000000, PnL=-165.2700000000042000000000000, PnL USD=-107.7725670000027388200000000, Commission=2.10000000, Final PnL=-109.8725670000027388200000000
2025-07-16 01:36:36,321 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFJPY: Type=BUY, Entry=178.15500000, Current=185.72500000000002, Quantity=0.10000000, Contract Size=100000.00000000, PnL=75700.00000000020000000000000, PnL USD=508.4597766001047816712676567, Commission=1.00000000, Final PnL=507.4597766001047816712676567
2025-07-16 01:36:36,322 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFJPY: Type=SELL, Entry=178.09500000, Current=185.765, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-76700.00000000000000000000000, PnL USD=-515.1765503993122023629610226, Commission=1.00000000, Final PnL=-516.1765503993122023629610226
2025-07-16 01:36:36,322 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=BUY, Entry=1.77480000, Current=1.7818699999999998, Quantity=0.05000000, Contract Size=100000.00000000, PnL=35.34999999999900000000000000, PnL USD=23.05173499999934790000000000, Commission=0.50000000, Final PnL=22.55173499999934790000000000
2025-07-16 01:36:36,322 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=SELL, Entry=1.77442000, Current=1.7822600000000002, Quantity=0.05000000, Contract Size=100000.00000000, PnL=-39.20000000000100000000000000, PnL USD=-25.56232000000065210000000000, Commission=0.50000000, Final PnL=-26.06232000000065210000000000
2025-07-16 01:36:36,322 - DEBUG - app.services.portfolio_calculator - Position calculation for EURGBP: Type=SELL, Entry=0.85403000, Current=0.86795, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-139.200000000000000000000000, PnL USD=-186.4138560000000000000000000, Commission=1.00000000, Final PnL=-187.4138560000000000000000000
2025-07-16 01:36:36,322 - DEBUG - app.services.portfolio_calculator - Position calculation for EURJPY: Type=BUY, Entry=167.26050000, Current=172.99550000000002, Quantity=0.10000000, Contract Size=100000.00000000, PnL=57350.00000000020000000000000, PnL USD=385.2069773846239614188512973, Commission=1.00000000, Final PnL=384.2069773846239614188512973
2025-07-16 01:36:36,322 - DEBUG - app.services.portfolio_calculator - Position calculation for EURJPY: Type=SELL, Entry=167.23150000, Current=173.0245, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-57930.00000000000000000000000, PnL USD=-389.1027061881637012110343160, Commission=1.00000000, Final PnL=-390.1027061881637012110343160
2025-07-16 01:36:36,322 - DEBUG - app.services.portfolio_calculator - Position calculation for EURNZD: Type=SELL, Entry=1.91952500, Current=1.956095, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-365.700000000000000000000000, PnL USD=-217.2843120000000000000000000, Commission=1.00000000, Final PnL=-218.2843120000000000000000000
2025-07-16 01:36:36,322 - DEBUG - app.services.portfolio_calculator - Position calculation for EURNZD: Type=BUY, Entry=1.92063500, Current=1.955695, Quantity=0.10000000, Contract Size=100000.00000000, PnL=350.600000000000000000000000, PnL USD=208.3124960000000000000000000, Commission=1.00000000, Final PnL=207.3124960000000000000000000
2025-07-16 01:36:36,323 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=SELL, Entry=1.34376000, Current=1.33928, Quantity=0.25000000, Contract Size=0E-8, PnL=0E-24, PnL USD=0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 01:36:36,323 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=SELL, Entry=1.34361000, Current=1.33928, Quantity=0.25000000, Contract Size=0E-8, PnL=0E-24, PnL USD=0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 01:36:36,323 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=BUY, Entry=1.34379000, Current=1.33907, Quantity=0.25000000, Contract Size=0E-8, PnL=-0E-24, PnL USD=-0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 01:36:36,323 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=BUY, Entry=1.34378000, Current=1.33907, Quantity=0.25000000, Contract Size=0E-8, PnL=-0E-24, PnL USD=-0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 01:36:36,323 - DEBUG - app.services.portfolio_calculator - Position calculation for NZDJPY: Type=BUY, Entry=87.10150000, Current=88.4375, Quantity=0.01000000, Contract Size=100000.00000000, PnL=1336.000000000000000000000000, PnL USD=8.973609795742908766061485347, Commission=0.10000000, Final PnL=8.873609795742908766061485347
2025-07-16 01:36:36,323 - DEBUG - app.services.portfolio_calculator - Position calculation for USDCHF: Type=SELL, Entry=0.81771000, Current=0.80168, Quantity=0.15000000, Contract Size=100000.00000000, PnL=240.450000000000000000000000, PnL USD=299.9887714745549137274961636, Commission=1.50000000, Final PnL=298.4887714745549137274961636
2025-07-16 01:36:36,324 - DEBUG - app.services.portfolio_calculator - Position calculation for USDCHF: Type=BUY, Entry=0.81805000, Current=0.80135, Quantity=0.15000000, Contract Size=100000.00000000, PnL=-250.500000000000000000000000, PnL USD=-312.5272915549012513567801579, Commission=1.50000000, Final PnL=-314.0272915549012513567801579
2025-07-16 01:36:36,324 - DEBUG - app.services.portfolio_calculator - Position calculation for USDNOK: Type=BUY, Entry=10.04973000, Current=10.27516, Quantity=0.10000000, Contract Size=100000.00000000, PnL=2254.300000000000000000000000, PnL USD=219.3705467574652936585631682, Commission=1.00000000, Final PnL=218.3705467574652936585631682
2025-07-16 01:36:36,324 - DEBUG - app.services.portfolio_calculator - Position calculation for USDNOK: Type=BUY, Entry=10.05023000, Current=10.27516, Quantity=0.10000000, Contract Size=100000.00000000, PnL=2249.300000000000000000000000, PnL USD=218.8839865242277802538287425, Commission=1.00000000, Final PnL=217.8839865242277802538287425
2025-07-16 01:36:36,325 - DEBUG - app.services.portfolio_calculator - Position calculation for USDSGD: Type=SELL, Entry=1.28795000, Current=1.28502, Quantity=0.31000000, Contract Size=100000.00000000, PnL=90.830000000000000000000000, PnL USD=70.69197662020282207538505841, Commission=3.10000000, Final PnL=67.59197662020282207538505841
2025-07-16 01:36:36,325 - DEBUG - app.services.portfolio_calculator - Position calculation for USDTRY: Type=SELL, Entry=39.56087000, Current=40.259209999999996, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-6983.399999999960000000000000, PnL USD=-173.4615761023719878208780831, Commission=1.00000000, Final PnL=-174.4615761023719878208780831
2025-07-16 01:36:36,763 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:36:36,765 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:36:37,131 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.89752000, Current=0.89474, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-2.780000000000000000000000, PnL USD=-2.026032329062632092935123238, Commission=0.10000000, Final PnL=-2.126032329062632092935123238
2025-07-16 01:36:37,151 - WARNING - app - User 12 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:36:37,167 - WARNING - app - User 13 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:36:37,387 - DEBUG - app.firebase_stream - Firebase listener triggered (158). Event Type: patch, Path: /. Timestamp: 1752654997.3876724
2025-07-16 01:36:37,388 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4610000000', 'o': '88.4530000000'}, 'GBPAUD': {'b': '2.0536900000', 'o': '2.0535100000'}, 'USDJPY': {'b': '148.8800000000', 'o': '148.8770000000'}, 'USDCNH': {'b': '7.1812600000',
2025-07-16 01:36:37,388 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4610000000', 'o': '88.4530000000'}, 'GBPAUD': {'b': '2.0536900000', 'o': '2.0535100000'}, 'USDJPY': {'b': '148.8800000000', 'o': '148.8770000000'}, 'USDCNH': {'b': '7.1812600000',...
2025-07-16 01:36:37,388 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:36:37,778 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:36:37,780 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:36:38,783 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:36:38,785 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:36:39,740 - DEBUG - app.firebase_stream - Firebase listener triggered (159). Event Type: patch, Path: /. Timestamp: 1752654999.7404118
2025-07-16 01:36:39,740 - DEBUG - app.firebase_stream - Prepared batch update for 22 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0370000000', 'o': '13.0347500000'}, 'NZDJPY': {'b': '88.4600000000', 'o': '88.4510000000'}, 'GBPAUD': {'b': '2.0536900000', 'o': '2.0535300000'}, 'USDCNH': {'b': '7.1812500000', '
2025-07-16 01:36:39,741 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0370000000', 'o': '13.0347500000'}, 'NZDJPY': {'b': '88.4600000000', 'o': '88.4510000000'}, 'GBPAUD': {'b': '2.0536900000', 'o': '2.0535300000'}, 'USDCNH': {'b': '7.1812500000', '...
2025-07-16 01:36:39,741 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:36:39,788 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:36:39,789 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:36:40,798 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:36:40,799 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:36:41,801 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:36:41,804 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:36:42,096 - DEBUG - app.firebase_stream - Firebase listener triggered (160). Event Type: patch, Path: /. Timestamp: 1752655002.0962837
2025-07-16 01:36:42,096 - DEBUG - app.firebase_stream - Prepared batch update for 30 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9740000000', 'o': '37.9710000000'}, 'NZDJPY': {'b': '88.4600000000', 'o': '88.4520000000'}, 'GBPAUD': {'b': '2.0536900000', 'o': '2.0535400000'}, 'USDJPY': {'b': '148.8810000000',
2025-07-16 01:36:42,096 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9740000000', 'o': '37.9710000000'}, 'NZDJPY': {'b': '88.4600000000', 'o': '88.4520000000'}, 'GBPAUD': {'b': '2.0536900000', 'o': '2.0535400000'}, 'USDJPY': {'b': '148.8810000000',...
2025-07-16 01:36:42,097 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:36:42,809 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:36:42,811 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:36:43,821 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:36:43,823 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:36:44,346 - DEBUG - app.firebase_stream - Firebase listener triggered (161). Event Type: patch, Path: /. Timestamp: 1752655004.3461585
2025-07-16 01:36:44,352 - DEBUG - app.firebase_stream - Prepared batch update for 25 symbols from root path for queue. Preview: {'GBPAUD': {'b': '2.0537000000', 'o': '2.0535500000'}, 'USDCNH': {'b': '7.1812600000', 'o': '7.1811800000'}, 'CADCHF': {'b': '0.5842100000', 'o': '0.5841500000'}, 'EURNZD': {'b': '1.9560000000', 'o': 
2025-07-16 01:36:44,352 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPAUD': {'b': '2.0537000000', 'o': '2.0535500000'}, 'USDCNH': {'b': '7.1812600000', 'o': '7.1811800000'}, 'CADCHF': {'b': '0.5842100000', 'o': '0.5841500000'}, 'EURNZD': {'b': '1.9560000000', 'o': ...
2025-07-16 01:36:44,353 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:36:44,839 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:36:44,841 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:36:45,845 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:36:45,847 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:36:46,600 - DEBUG - app.firebase_stream - Firebase listener triggered (162). Event Type: patch, Path: /. Timestamp: 1752655006.6006901
2025-07-16 01:36:46,601 - DEBUG - app.firebase_stream - Prepared batch update for 23 symbols from root path for queue. Preview: {'GBPAUD': {'b': '2.0537700000', 'o': '2.0536500000'}, 'USDJPY': {'b': '148.8810000000', 'o': '148.8760000000'}, 'USDCNH': {'b': '7.1812000000', 'o': '7.1812000000'}, 'CADCHF': {'b': '0.5842100000', '
2025-07-16 01:36:46,601 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPAUD': {'b': '2.0537700000', 'o': '2.0536500000'}, 'USDJPY': {'b': '148.8810000000', 'o': '148.8760000000'}, 'USDCNH': {'b': '7.1812000000', 'o': '7.1812000000'}, 'CADCHF': {'b': '0.5842100000', '...
2025-07-16 01:36:46,601 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:36:46,864 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:36:46,867 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:36:47,878 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:36:47,881 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:36:48,896 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:36:48,899 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:36:48,961 - DEBUG - app.firebase_stream - Firebase listener triggered (163). Event Type: patch, Path: /. Timestamp: 1752655008.9613807
2025-07-16 01:36:48,961 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0370000000', 'o': '13.0347300000'}, 'XAGUSD': {'b': '37.9740000000', 'o': '37.9720000000'}, 'NZDJPY': {'b': '88.4590000000', 'o': '88.4520000000'}, 'GBPAUD': {'b': '2.0537200000',
2025-07-16 01:36:48,961 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0370000000', 'o': '13.0347300000'}, 'XAGUSD': {'b': '37.9740000000', 'o': '37.9720000000'}, 'NZDJPY': {'b': '88.4590000000', 'o': '88.4520000000'}, 'GBPAUD': {'b': '2.0537200000',...
2025-07-16 01:36:48,962 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:36:49,906 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:36:49,908 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:36:50,918 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:36:50,919 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:36:51,208 - DEBUG - app.firebase_stream - Firebase listener triggered (164). Event Type: patch, Path: /. Timestamp: 1752655011.2085364
2025-07-16 01:36:51,286 - DEBUG - app.firebase_stream - Prepared batch update for 34 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0375000000', 'o': '13.0349000000'}, 'XAGUSD': {'b': '37.9750000000', 'o': '37.9730000000'}, 'NZDJPY': {'b': '88.4590000000', 'o': '88.4510000000'}, 'GBPAUD': {'b': '2.0537100000',
2025-07-16 01:36:51,286 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0375000000', 'o': '13.0349000000'}, 'XAGUSD': {'b': '37.9750000000', 'o': '37.9730000000'}, 'NZDJPY': {'b': '88.4590000000', 'o': '88.4510000000'}, 'GBPAUD': {'b': '2.0537100000',...
2025-07-16 01:36:51,286 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:36:51,923 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:36:51,925 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:36:52,941 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:36:52,943 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:36:53,463 - DEBUG - app.firebase_stream - Firebase listener triggered (165). Event Type: patch, Path: /. Timestamp: 1752655013.46352
2025-07-16 01:36:53,463 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9740000000', 'o': '37.9710000000'}, 'NZDJPY': {'b': '88.4580000000', 'o': '88.4490000000'}, 'GBPAUD': {'b': '2.0537100000', 'o': '2.0535600000'}, 'USDJPY': {'b': '148.8770000000',
2025-07-16 01:36:53,464 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9740000000', 'o': '37.9710000000'}, 'NZDJPY': {'b': '88.4580000000', 'o': '88.4490000000'}, 'GBPAUD': {'b': '2.0537100000', 'o': '2.0535600000'}, 'USDJPY': {'b': '148.8770000000',...
2025-07-16 01:36:53,464 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:36:53,951 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:36:53,953 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:36:54,956 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:36:54,958 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:36:55,819 - DEBUG - app.firebase_stream - Firebase listener triggered (166). Event Type: patch, Path: /. Timestamp: 1752655015.8189824
2025-07-16 01:36:55,819 - DEBUG - app.firebase_stream - Prepared batch update for 34 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0374000000', 'o': '13.0349800000'}, 'XAGUSD': {'b': '37.9740000000', 'o': '37.9720000000'}, 'NZDJPY': {'b': '88.4570000000', 'o': '88.4490000000'}, 'GBPAUD': {'b': '2.0537200000',
2025-07-16 01:36:55,819 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0374000000', 'o': '13.0349800000'}, 'XAGUSD': {'b': '37.9740000000', 'o': '37.9720000000'}, 'NZDJPY': {'b': '88.4570000000', 'o': '88.4490000000'}, 'GBPAUD': {'b': '2.0537200000',...
2025-07-16 01:36:55,819 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:36:55,959 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:36:55,960 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:36:56,975 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:36:56,977 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:36:57,993 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:36:57,995 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:36:58,071 - DEBUG - app.firebase_stream - Firebase listener triggered (167). Event Type: patch, Path: /. Timestamp: 1752655018.0712683
2025-07-16 01:36:58,071 - DEBUG - app.firebase_stream - Prepared batch update for 30 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9740000000', 'o': '37.9740000000'}, 'NZDJPY': {'b': '88.4550000000', 'o': '88.4480000000'}, 'GBPAUD': {'b': '2.0537200000', 'o': '2.0535600000'}, 'USDCNH': {'b': '7.1812900000', '
2025-07-16 01:36:58,071 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9740000000', 'o': '37.9740000000'}, 'NZDJPY': {'b': '88.4550000000', 'o': '88.4480000000'}, 'GBPAUD': {'b': '2.0537200000', 'o': '2.0535600000'}, 'USDCNH': {'b': '7.1812900000', '...
2025-07-16 01:36:58,072 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:36:59,011 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:36:59,012 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:37:00,022 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:37:00,024 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:37:00,422 - DEBUG - app.firebase_stream - Firebase listener triggered (168). Event Type: patch, Path: /. Timestamp: 1752655020.4226282
2025-07-16 01:37:00,422 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0376000000', 'o': '13.0350000000'}, 'XAGUSD': {'b': '37.9750000000', 'o': '37.9740000000'}, 'NZDJPY': {'b': '88.4560000000', 'o': '88.4480000000'}, 'GBPAUD': {'b': '2.0536900000',
2025-07-16 01:37:00,423 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0376000000', 'o': '13.0350000000'}, 'XAGUSD': {'b': '37.9750000000', 'o': '37.9740000000'}, 'NZDJPY': {'b': '88.4560000000', 'o': '88.4480000000'}, 'GBPAUD': {'b': '2.0536900000',...
2025-07-16 01:37:00,423 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:37:01,027 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:37:01,029 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:37:02,045 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:37:02,048 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:37:02,680 - DEBUG - app.firebase_stream - Firebase listener triggered (169). Event Type: patch, Path: /. Timestamp: 1752655022.6806498
2025-07-16 01:37:02,680 - DEBUG - app.firebase_stream - Prepared batch update for 36 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9740000000', 'o': '37.9700000000'}, 'NZDJPY': {'b': '88.4540000000', 'o': '88.4470000000'}, 'GBPAUD': {'b': '2.0537400000', 'o': '2.0536100000'}, 'USDJPY': {'b': '148.8760000000',
2025-07-16 01:37:02,681 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9740000000', 'o': '37.9700000000'}, 'NZDJPY': {'b': '88.4540000000', 'o': '88.4470000000'}, 'GBPAUD': {'b': '2.0537400000', 'o': '2.0536100000'}, 'USDJPY': {'b': '148.8760000000',...
2025-07-16 01:37:02,681 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:37:03,061 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:37:03,063 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:37:04,078 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:37:04,080 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:37:05,034 - DEBUG - app.firebase_stream - Firebase listener triggered (170). Event Type: patch, Path: /. Timestamp: 1752655025.0345528
2025-07-16 01:37:05,034 - DEBUG - app.firebase_stream - Prepared batch update for 38 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0376000000', 'o': '13.0352800000'}, 'XAGUSD': {'b': '37.9770000000', 'o': '37.9750000000'}, 'NZDJPY': {'b': '88.4560000000', 'o': '88.4470000000'}, 'GBPAUD': {'b': '2.0537700000',
2025-07-16 01:37:05,035 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0376000000', 'o': '13.0352800000'}, 'XAGUSD': {'b': '37.9770000000', 'o': '37.9750000000'}, 'NZDJPY': {'b': '88.4560000000', 'o': '88.4470000000'}, 'GBPAUD': {'b': '2.0537700000',...
2025-07-16 01:37:05,035 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:37:05,083 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:37:05,084 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:37:06,093 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:37:06,095 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:37:07,111 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:37:07,113 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:37:07,283 - DEBUG - app.firebase_stream - Firebase listener triggered (171). Event Type: patch, Path: /. Timestamp: 1752655027.283566
2025-07-16 01:37:07,284 - DEBUG - app.firebase_stream - Prepared batch update for 35 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0374000000', 'o': '13.0350000000'}, 'XAGUSD': {'b': '37.9780000000', 'o': '37.9740000000'}, 'NZDJPY': {'b': '88.4590000000', 'o': '88.4480000000'}, 'GBPAUD': {'b': '2.0537400000',
2025-07-16 01:37:07,284 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0374000000', 'o': '13.0350000000'}, 'XAGUSD': {'b': '37.9780000000', 'o': '37.9740000000'}, 'NZDJPY': {'b': '88.4590000000', 'o': '88.4480000000'}, 'GBPAUD': {'b': '2.0537400000',...
2025-07-16 01:37:07,284 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:37:08,115 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:37:08,118 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:37:09,123 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:37:09,125 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:37:09,538 - DEBUG - app.firebase_stream - Firebase listener triggered (172). Event Type: patch, Path: /. Timestamp: 1752655029.5382197
2025-07-16 01:37:09,538 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9780000000', 'o': '37.9750000000'}, 'NZDJPY': {'b': '88.4600000000', 'o': '88.4510000000'}, 'GBPAUD': {'b': '2.0536900000', 'o': '2.0535400000'}, 'USDJPY': {'b': '148.8700000000',
2025-07-16 01:37:09,538 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9780000000', 'o': '37.9750000000'}, 'NZDJPY': {'b': '88.4600000000', 'o': '88.4510000000'}, 'GBPAUD': {'b': '2.0536900000', 'o': '2.0535400000'}, 'USDJPY': {'b': '148.8700000000',...
2025-07-16 01:37:09,538 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:37:10,142 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:37:10,145 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:37:11,154 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:37:11,156 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:37:11,892 - DEBUG - app.firebase_stream - Firebase listener triggered (173). Event Type: patch, Path: /. Timestamp: 1752655031.8919706
2025-07-16 01:37:11,892 - DEBUG - app.firebase_stream - Prepared batch update for 19 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9830000000', 'o': '37.9790000000'}, 'NZDJPY': {'b': '88.4600000000', 'o': '88.4500000000'}, 'USDJPY': {'b': '148.8700000000', 'o': '148.8620000000'}, 'EURNZD': {'b': '1.9557900000
2025-07-16 01:37:11,892 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9830000000', 'o': '37.9790000000'}, 'NZDJPY': {'b': '88.4600000000', 'o': '88.4500000000'}, 'USDJPY': {'b': '148.8700000000', 'o': '148.8620000000'}, 'EURNZD': {'b': '1.9557900000...
2025-07-16 01:37:11,893 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:37:12,157 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:37:12,159 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:37:13,176 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:37:13,178 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:37:14,181 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:37:14,183 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:37:14,252 - DEBUG - app.firebase_stream - Firebase listener triggered (174). Event Type: patch, Path: /. Timestamp: 1752655034.2524557
2025-07-16 01:37:14,252 - DEBUG - app.firebase_stream - Prepared batch update for 38 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0381000000', 'o': '13.0355000000'}, 'NZDJPY': {'b': '88.4600000000', 'o': '88.4510000000'}, 'GBPAUD': {'b': '2.0537100000', 'o': '2.0535300000'}, 'USDJPY': {'b': '148.8640000000',
2025-07-16 01:37:14,253 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0381000000', 'o': '13.0355000000'}, 'NZDJPY': {'b': '88.4600000000', 'o': '88.4510000000'}, 'GBPAUD': {'b': '2.0537100000', 'o': '2.0535300000'}, 'USDJPY': {'b': '148.8640000000',...
2025-07-16 01:37:14,253 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:37:15,190 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:37:15,192 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:37:16,203 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:37:16,205 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:37:16,604 - DEBUG - app.firebase_stream - Firebase listener triggered (175). Event Type: patch, Path: /. Timestamp: 1752655036.6041687
2025-07-16 01:37:16,604 - DEBUG - app.firebase_stream - Prepared batch update for 30 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0380000000', 'o': '13.0354800000'}, 'NZDJPY': {'b': '88.4580000000', 'o': '88.4500000000'}, 'GBPAUD': {'b': '2.0537400000', 'o': '2.0535800000'}, 'USDJPY': {'b': '148.8640000000',
2025-07-16 01:37:16,604 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0380000000', 'o': '13.0354800000'}, 'NZDJPY': {'b': '88.4580000000', 'o': '88.4500000000'}, 'GBPAUD': {'b': '2.0537400000', 'o': '2.0535800000'}, 'USDJPY': {'b': '148.8640000000',...
2025-07-16 01:37:16,604 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:37:17,221 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:37:17,222 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:37:18,238 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:37:18,241 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:37:18,961 - DEBUG - app.firebase_stream - Firebase listener triggered (176). Event Type: patch, Path: /. Timestamp: 1752655038.9617257
2025-07-16 01:37:18,961 - DEBUG - app.firebase_stream - Prepared batch update for 39 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0381000000', 'o': '13.0355000000'}, 'XAGUSD': {'b': '37.9740000000', 'o': '37.9720000000'}, 'NZDJPY': {'b': '88.4590000000', 'o': '88.4510000000'}, 'GBPAUD': {'b': '2.0537300000',
2025-07-16 01:37:18,962 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0381000000', 'o': '13.0355000000'}, 'XAGUSD': {'b': '37.9740000000', 'o': '37.9720000000'}, 'NZDJPY': {'b': '88.4590000000', 'o': '88.4510000000'}, 'GBPAUD': {'b': '2.0537300000',...
2025-07-16 01:37:18,962 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:37:19,248 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:37:19,250 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:37:20,264 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:37:20,266 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:37:21,180 - DEBUG - app.firebase_stream - Firebase listener triggered (177). Event Type: patch, Path: /. Timestamp: 1752655041.1805427
2025-07-16 01:37:21,181 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9840000000', 'o': '37.9800000000'}, 'NZDJPY': {'b': '88.4570000000', 'o': '88.4510000000'}, 'GBPAUD': {'b': '2.0537400000', 'o': '2.0535800000'}, 'BTCUSD': {'b': '118433.000000000
2025-07-16 01:37:21,181 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9840000000', 'o': '37.9800000000'}, 'NZDJPY': {'b': '88.4570000000', 'o': '88.4510000000'}, 'GBPAUD': {'b': '2.0537400000', 'o': '2.0535800000'}, 'BTCUSD': {'b': '118433.000000000...
2025-07-16 01:37:21,182 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:37:21,268 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:37:21,269 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:37:22,284 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:37:22,286 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:37:23,302 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:37:23,305 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:37:23,465 - DEBUG - app.firebase_stream - Firebase listener triggered (178). Event Type: patch, Path: /. Timestamp: 1752655043.4657183
2025-07-16 01:37:23,466 - DEBUG - app.firebase_stream - Prepared batch update for 21 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4610000000', 'o': '88.4510000000'}, 'GBPAUD': {'b': '2.0537100000', 'o': '2.0535900000'}, 'BTCUSD': {'b': '118436.1000000000', 'o': '118436.0000000000'}, 'USDCNH': {'b': '7.181320
2025-07-16 01:37:23,466 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4610000000', 'o': '88.4510000000'}, 'GBPAUD': {'b': '2.0537100000', 'o': '2.0535900000'}, 'BTCUSD': {'b': '118436.1000000000', 'o': '118436.0000000000'}, 'USDCNH': {'b': '7.181320...
2025-07-16 01:37:23,466 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:37:24,315 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:37:24,318 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:37:25,329 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:37:25,331 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:37:25,821 - DEBUG - app.firebase_stream - Firebase listener triggered (179). Event Type: patch, Path: /. Timestamp: 1752655045.8217635
2025-07-16 01:37:25,822 - DEBUG - app.firebase_stream - Prepared batch update for 40 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0375000000', 'o': '13.0351000000'}, 'XAGUSD': {'b': '37.9740000000', 'o': '37.9740000000'}, 'NZDJPY': {'b': '88.4610000000', 'o': '88.4530000000'}, 'GBPAUD': {'b': '2.0536900000',
2025-07-16 01:37:25,822 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0375000000', 'o': '13.0351000000'}, 'XAGUSD': {'b': '37.9740000000', 'o': '37.9740000000'}, 'NZDJPY': {'b': '88.4610000000', 'o': '88.4530000000'}, 'GBPAUD': {'b': '2.0536900000',...
2025-07-16 01:37:25,822 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:37:26,338 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:37:26,340 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:37:27,344 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:37:27,346 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:37:28,073 - DEBUG - app.firebase_stream - Firebase listener triggered (180). Event Type: patch, Path: /. Timestamp: 1752655048.0735836
2025-07-16 01:37:28,074 - DEBUG - app.firebase_stream - Prepared batch update for 27 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0376000000', 'o': '13.0350000000'}, 'NZDJPY': {'b': '88.4610000000', 'o': '88.4520000000'}, 'GBPAUD': {'b': '2.0537000000', 'o': '2.0535500000'}, 'BTCUSD': {'b': '118463.200000000
2025-07-16 01:37:28,074 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0376000000', 'o': '13.0350000000'}, 'NZDJPY': {'b': '88.4610000000', 'o': '88.4520000000'}, 'GBPAUD': {'b': '2.0537000000', 'o': '2.0535500000'}, 'BTCUSD': {'b': '118463.200000000...
2025-07-16 01:37:28,074 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:37:28,352 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:37:28,355 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:37:29,371 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:37:29,373 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:37:30,378 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:37:30,380 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:37:30,430 - DEBUG - app.firebase_stream - Firebase listener triggered (181). Event Type: patch, Path: /. Timestamp: 1752655050.430034
2025-07-16 01:37:30,430 - DEBUG - app.firebase_stream - Prepared batch update for 26 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9820000000', 'o': '37.9790000000'}, 'NZDJPY': {'b': '88.4570000000', 'o': '88.4480000000'}, 'GBPAUD': {'b': '2.0537400000', 'o': '2.0535800000'}, 'BTCUSD': {'b': '118487.900000000
2025-07-16 01:37:30,430 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9820000000', 'o': '37.9790000000'}, 'NZDJPY': {'b': '88.4570000000', 'o': '88.4480000000'}, 'GBPAUD': {'b': '2.0537400000', 'o': '2.0535800000'}, 'BTCUSD': {'b': '118487.900000000...
2025-07-16 01:37:30,430 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:37:31,383 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:37:31,385 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:37:32,402 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:37:32,404 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:37:32,682 - DEBUG - app.firebase_stream - Firebase listener triggered (182). Event Type: patch, Path: /. Timestamp: 1752655052.6826456
2025-07-16 01:37:32,682 - DEBUG - app.firebase_stream - Prepared batch update for 34 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0374000000', 'o': '13.0348000000'}, 'XAGUSD': {'b': '37.9810000000', 'o': '37.9780000000'}, 'NZDJPY': {'b': '88.4520000000', 'o': '88.4420000000'}, 'GBPAUD': {'b': '2.0537400000',
2025-07-16 01:37:32,683 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0374000000', 'o': '13.0348000000'}, 'XAGUSD': {'b': '37.9810000000', 'o': '37.9780000000'}, 'NZDJPY': {'b': '88.4520000000', 'o': '88.4420000000'}, 'GBPAUD': {'b': '2.0537400000',...
2025-07-16 01:37:32,683 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:37:33,419 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:37:33,435 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:37:34,439 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:37:34,442 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:37:34,528 - WARNING - app - User 4 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:37:34,532 - WARNING - app - No user data found for user 5 (live). Skipping portfolio update.
2025-07-16 01:37:34,538 - WARNING - app - No group settings found for group string. Skipping portfolio update for user 8.
2025-07-16 01:37:34,554 - WARNING - app - User 9 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:37:34,569 - WARNING - app - User 10 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:37:34,583 - WARNING - app - User 11 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:37:34,597 - WARNING - app - User 12 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:37:34,611 - WARNING - app - User 13 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:37:35,026 - DEBUG - app.services.portfolio_calculator - Position calculation for BTCUSD: Type=BUY, Entry=118908.50000000, Current=118447.9, Quantity=0.40000000, Contract Size=1.00000000, PnL=-184.240000000000000000000000, PnL USD=-184.240000000000000000000000, Commission=235.57000000, Final PnL=-419.810000000000000000000000
2025-07-16 01:37:35,038 - DEBUG - app.firebase_stream - Firebase listener triggered (183). Event Type: patch, Path: /. Timestamp: 1752655055.0380957
2025-07-16 01:37:35,038 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0375000000', 'o': '13.0349000000'}, 'XAGUSD': {'b': '37.9810000000', 'o': '37.9770000000'}, 'NZDJPY': {'b': '88.4530000000', 'o': '88.4430000000'}, 'GBPAUD': {'b': '2.0537600000',
2025-07-16 01:37:35,039 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0375000000', 'o': '13.0349000000'}, 'XAGUSD': {'b': '37.9810000000', 'o': '37.9770000000'}, 'NZDJPY': {'b': '88.4530000000', 'o': '88.4430000000'}, 'GBPAUD': {'b': '2.0537600000',...
2025-07-16 01:37:35,039 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:37:35,083 - WARNING - app - User 16 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:37:35,097 - WARNING - app - User 17 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:37:35,110 - WARNING - app - User 18 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:37:35,122 - WARNING - app - User 19 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:37:35,134 - WARNING - app - User 20 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:37:35,145 - WARNING - app - User 21 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:37:35,156 - WARNING - app - User 22 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:37:35,168 - WARNING - app - User 23 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:37:35,181 - WARNING - app - User 25 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:37:35,538 - DEBUG - app.services.portfolio_calculator - Position calculation for XAGUSD: Type=BUY, Entry=41.09800000, Current=37.964499999999994, Quantity=0.01000000, Contract Size=5000.00000000, PnL=-156.6750000000003000000000000, PnL USD=-156.6750000000003000000000000, Commission=0.10000000, Final PnL=-156.7750000000003000000000000
2025-07-16 01:37:35,538 - DEBUG - app.services.portfolio_calculator - Position calculation for BTCUSD: Type=BUY, Entry=132091.90000000, Current=118375.5, Quantity=6.00000000, Contract Size=1.00000000, PnL=-82298.40000000000000000000000, PnL USD=-82298.40000000000000000000000, Commission=3661.62000000, Final PnL=-85960.02000000000000000000000
2025-07-16 01:37:35,538 - WARNING - app.services.portfolio_calculator - MARGIN CALL ALERT: User has margin level 67.05763075089120348389150058% which is below threshold 100.0%
2025-07-16 01:37:35,539 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:37:35,541 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:37:35,898 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=96.66800000, Current=97.021, Quantity=0.01000000, Contract Size=100000.00000000, PnL=353.000000000000000000000000, PnL USD=2.371228202165676975575677782, Commission=0.10000000, Final PnL=2.271228202165676975575677782
2025-07-16 01:37:35,899 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=96.56000000, Current=97.128, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-568.000000000000000000000000, PnL USD=-3.815460676572534057016954618, Commission=0.10000000, Final PnL=-3.915460676572534057016954618
2025-07-16 01:37:35,900 - WARNING - app - User 2 has no group_name set. Skipping portfolio update.
2025-07-16 01:37:35,904 - WARNING - app - No group settings found for group string. Skipping portfolio update for user 3.
2025-07-16 01:37:35,917 - WARNING - app - User 4 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:37:35,917 - WARNING - app - User 5 has no group_name set. Skipping portfolio update.
2025-07-16 01:37:35,917 - WARNING - app - User 6 has no group_name set. Skipping portfolio update.
2025-07-16 01:37:36,255 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64743000, Current=0.65193, Quantity=0.10000000, Contract Size=100000.00000000, PnL=45.000000000000000000000000, PnL USD=45.000000000000000000000000, Commission=1.00000000, Final PnL=44.000000000000000000000000
2025-07-16 01:37:36,256 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=SELL, Entry=0.64707000, Current=0.65226, Quantity=0.22000000, Contract Size=100000.00000000, PnL=-114.180000000000000000000000, PnL USD=-114.180000000000000000000000, Commission=2.20000000, Final PnL=-116.380000000000000000000000
2025-07-16 01:37:36,256 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFSGD: Type=BUY, Entry=1.57561500, Current=1.602675, Quantity=0.10000000, Contract Size=100000.00000000, PnL=270.600000000000000000000000, PnL USD=210.6082422072615480406273106, Commission=1.00000000, Final PnL=209.6082422072615480406273106
2025-07-16 01:37:36,257 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFSGD: Type=SELL, Entry=1.57505500, Current=1.603095, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-280.400000000000000000000000, PnL USD=-218.2355917033116706230299257, Commission=1.00000000, Final PnL=-219.2355917033116706230299257
2025-07-16 01:37:36,257 - DEBUG - app.services.portfolio_calculator - Position calculation for CADJPY: Type=SELL, Entry=106.24150000, Current=108.51350000000001, Quantity=0.15000000, Contract Size=100000.00000000, PnL=-34080.00000000015000000000000, PnL USD=-228.9276405943530510250691888, Commission=0E-8, Final PnL=-228.9276405943530510250691888
2025-07-16 01:37:36,258 - DEBUG - app.services.portfolio_calculator - Position calculation for CADJPY: Type=BUY, Entry=106.27050000, Current=108.4785, Quantity=0.15000000, Contract Size=100000.00000000, PnL=33120.00000000000000000000000, PnL USD=222.4789746621167745922562270, Commission=0E-8, Final PnL=222.4789746621167745922562270
2025-07-16 01:37:36,258 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=BUY, Entry=1.77481000, Current=1.78181, Quantity=0.22000000, Contract Size=100000.00000000, PnL=154.000000000000000000000000, PnL USD=100.4249400000000000000000000, Commission=2.20000000, Final PnL=98.2249400000000000000000000
2025-07-16 01:37:36,258 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=SELL, Entry=1.77439000, Current=1.78218, Quantity=0.21000000, Contract Size=100000.00000000, PnL=-163.590000000000000000000000, PnL USD=-106.6786749000000000000000000, Commission=2.10000000, Final PnL=-108.7786749000000000000000000
2025-07-16 01:37:36,259 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFJPY: Type=BUY, Entry=178.15500000, Current=185.69500000000002, Quantity=0.10000000, Contract Size=100000.00000000, PnL=75400.00000000020000000000000, PnL USD=506.4889700943130827310100223, Commission=1.00000000, Final PnL=505.4889700943130827310100223
2025-07-16 01:37:36,259 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFJPY: Type=SELL, Entry=178.09500000, Current=185.74499999999998, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-76499.99999999980000000000000, PnL USD=-513.8780664749966413198269608, Commission=1.00000000, Final PnL=-514.8780664749966413198269608
2025-07-16 01:37:36,259 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=BUY, Entry=1.77480000, Current=1.78181, Quantity=0.05000000, Contract Size=100000.00000000, PnL=35.050000000000000000000000, PnL USD=22.85645550000000000000000000, Commission=0.50000000, Final PnL=22.35645550000000000000000000
2025-07-16 01:37:36,259 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=SELL, Entry=1.77442000, Current=1.78218, Quantity=0.05000000, Contract Size=100000.00000000, PnL=-38.800000000000000000000000, PnL USD=-25.30186800000000000000000000, Commission=0.50000000, Final PnL=-25.80186800000000000000000000
2025-07-16 01:37:36,259 - DEBUG - app.services.portfolio_calculator - Position calculation for EURGBP: Type=SELL, Entry=0.85403000, Current=0.8678899999999999, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-138.5999999999990000000000000, PnL USD=-185.6117339999986608100000000, Commission=1.00000000, Final PnL=-186.6117339999986608100000000
2025-07-16 01:37:36,259 - DEBUG - app.services.portfolio_calculator - Position calculation for EURJPY: Type=BUY, Entry=167.26050000, Current=172.97850000000003, Quantity=0.10000000, Contract Size=100000.00000000, PnL=57180.00000000030000000000000, PnL USD=384.0986645887652148211838676, Commission=1.00000000, Final PnL=383.0986645887652148211838676
2025-07-16 01:37:36,260 - DEBUG - app.services.portfolio_calculator - Position calculation for EURJPY: Type=SELL, Entry=167.23150000, Current=173.0095, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-57780.00000000000000000000000, PnL USD=-388.1290807964102426310557004, Commission=1.00000000, Final PnL=-389.1290807964102426310557004
2025-07-16 01:37:36,260 - DEBUG - app.services.portfolio_calculator - Position calculation for EURNZD: Type=SELL, Entry=1.91952500, Current=1.9560149999999998, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-364.8999999999980000000000000, PnL USD=-216.8053349999988117000000000, Commission=1.00000000, Final PnL=-217.8053349999988117000000000
2025-07-16 01:37:36,260 - DEBUG - app.services.portfolio_calculator - Position calculation for EURNZD: Type=BUY, Entry=1.92063500, Current=1.955575, Quantity=0.10000000, Contract Size=100000.00000000, PnL=349.400000000000000000000000, PnL USD=207.5960100000000000000000000, Commission=1.00000000, Final PnL=206.5960100000000000000000000
2025-07-16 01:37:36,260 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=SELL, Entry=1.34376000, Current=1.33929, Quantity=0.25000000, Contract Size=0E-8, PnL=0E-24, PnL USD=0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 01:37:36,260 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=SELL, Entry=1.34361000, Current=1.33929, Quantity=0.25000000, Contract Size=0E-8, PnL=0E-24, PnL USD=0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 01:37:36,260 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=BUY, Entry=1.34379000, Current=1.33908, Quantity=0.25000000, Contract Size=0E-8, PnL=-0E-24, PnL USD=-0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 01:37:36,260 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=BUY, Entry=1.34378000, Current=1.33908, Quantity=0.25000000, Contract Size=0E-8, PnL=-0E-24, PnL USD=-0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 01:37:36,261 - DEBUG - app.services.portfolio_calculator - Position calculation for NZDJPY: Type=BUY, Entry=87.10150000, Current=88.4305, Quantity=0.01000000, Contract Size=100000.00000000, PnL=1329.000000000000000000000000, PnL USD=8.927371899938200284816078674, Commission=0.10000000, Final PnL=8.827371899938200284816078674
2025-07-16 01:37:36,261 - DEBUG - app.services.portfolio_calculator - Position calculation for USDCHF: Type=SELL, Entry=0.81771000, Current=0.8017299999999999, Quantity=0.15000000, Contract Size=100000.00000000, PnL=239.7000000000015000000000000, PnL USD=299.0344070460858554355148582, Commission=1.50000000, Final PnL=297.5344070460858554355148582
2025-07-16 01:37:36,261 - DEBUG - app.services.portfolio_calculator - Position calculation for USDCHF: Type=BUY, Entry=0.81805000, Current=0.8014100000000001, Quantity=0.15000000, Contract Size=100000.00000000, PnL=-249.5999999999985000000000000, PnL USD=-311.3850145961706878914144564, Commission=1.50000000, Final PnL=-312.8850145961706878914144564
2025-07-16 01:37:36,261 - DEBUG - app.services.portfolio_calculator - Position calculation for USDNOK: Type=BUY, Entry=10.04973000, Current=10.275350000000001, Quantity=0.10000000, Contract Size=100000.00000000, PnL=2256.200000000010000000000000, PnL USD=219.5441165738205171868538205, Commission=1.00000000, Final PnL=218.5441165738205171868538205
2025-07-16 01:37:36,262 - DEBUG - app.services.portfolio_calculator - Position calculation for USDNOK: Type=BUY, Entry=10.05023000, Current=10.275350000000001, Quantity=0.10000000, Contract Size=100000.00000000, PnL=2251.200000000010000000000000, PnL USD=219.0575814338200306517138200, Commission=1.00000000, Final PnL=218.0575814338200306517138200
2025-07-16 01:37:36,262 - DEBUG - app.services.portfolio_calculator - Position calculation for USDSGD: Type=SELL, Entry=1.28795000, Current=1.2850000000000001, Quantity=0.31000000, Contract Size=100000.00000000, PnL=91.44999999999690000000000000, PnL USD=71.17562361364898626298789742, Commission=3.10000000, Final PnL=68.07562361364898626298789742
2025-07-16 01:37:36,263 - DEBUG - app.services.portfolio_calculator - Position calculation for USDTRY: Type=SELL, Entry=39.56087000, Current=40.2590600000, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-6981.900000000000000000000000, PnL USD=-173.4243174083051119425043704, Commission=1.00000000, Final PnL=-174.4243174083051119425043704
2025-07-16 01:37:36,668 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:37:36,670 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:37:37,074 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.89752000, Current=0.89474, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-2.780000000000000000000000, PnL USD=-2.025973268813129472809689691, Commission=0.10000000, Final PnL=-2.125973268813129472809689691
2025-07-16 01:37:37,086 - WARNING - app - User 12 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:37:37,100 - WARNING - app - User 13 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:37:37,285 - DEBUG - app.firebase_stream - Firebase listener triggered (184). Event Type: patch, Path: /. Timestamp: 1752655057.2856545
2025-07-16 01:37:37,285 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4530000000', 'o': '88.4440000000'}, 'GBPAUD': {'b': '2.0537400000', 'o': '2.0535800000'}, 'BTCUSD': {'b': '118561.0400000000', 'o': '118551.0400000000'}, 'USDCNH': {'b': '7.181360
2025-07-16 01:37:37,286 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4530000000', 'o': '88.4440000000'}, 'GBPAUD': {'b': '2.0537400000', 'o': '2.0535800000'}, 'BTCUSD': {'b': '118561.0400000000', 'o': '118551.0400000000'}, 'USDCNH': {'b': '7.181360...
2025-07-16 01:37:37,286 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:37:37,672 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:37:37,674 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:37:38,685 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:37:38,687 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:37:39,641 - DEBUG - app.firebase_stream - Firebase listener triggered (185). Event Type: patch, Path: /. Timestamp: 1752655059.641774
2025-07-16 01:37:39,642 - DEBUG - app.firebase_stream - Prepared batch update for 36 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0371000000', 'o': '13.0345000000'}, 'XAGUSD': {'b': '37.9830000000', 'o': '37.9800000000'}, 'NZDJPY': {'b': '88.4590000000', 'o': '88.4500000000'}, 'GBPAUD': {'b': '2.0536900000',
2025-07-16 01:37:39,642 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0371000000', 'o': '13.0345000000'}, 'XAGUSD': {'b': '37.9830000000', 'o': '37.9800000000'}, 'NZDJPY': {'b': '88.4590000000', 'o': '88.4500000000'}, 'GBPAUD': {'b': '2.0536900000',...
2025-07-16 01:37:39,642 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:37:39,688 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:37:39,690 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:37:40,701 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:37:40,704 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:37:41,709 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:37:41,712 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:37:41,893 - DEBUG - app.firebase_stream - Firebase listener triggered (186). Event Type: patch, Path: /. Timestamp: 1752655061.8933687
2025-07-16 01:37:41,893 - DEBUG - app.firebase_stream - Prepared batch update for 37 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0380000000', 'o': '13.0354000000'}, 'XAGUSD': {'b': '37.9790000000', 'o': '37.9750000000'}, 'NZDJPY': {'b': '88.4520000000', 'o': '88.4430000000'}, 'GBPAUD': {'b': '2.0537600000',
2025-07-16 01:37:41,893 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0380000000', 'o': '13.0354000000'}, 'XAGUSD': {'b': '37.9790000000', 'o': '37.9750000000'}, 'NZDJPY': {'b': '88.4520000000', 'o': '88.4430000000'}, 'GBPAUD': {'b': '2.0537600000',...
2025-07-16 01:37:41,894 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:37:42,713 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:37:42,715 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:37:43,731 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:37:43,733 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:37:44,252 - DEBUG - app.firebase_stream - Firebase listener triggered (187). Event Type: patch, Path: /. Timestamp: 1752655064.2527022
2025-07-16 01:37:44,252 - DEBUG - app.firebase_stream - Prepared batch update for 34 symbols from root path for queue. Preview: {'GBPAUD': {'b': '2.0536800000', 'o': '2.0535200000'}, 'BTCUSD': {'b': '118565.6100000000', 'o': '118565.6100000000'}, 'USDJPY': {'b': '148.8670000000', 'o': '148.8670000000'}, 'USDCNH': {'b': '7.1813
2025-07-16 01:37:44,253 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPAUD': {'b': '2.0536800000', 'o': '2.0535200000'}, 'BTCUSD': {'b': '118565.6100000000', 'o': '118565.6100000000'}, 'USDJPY': {'b': '148.8670000000', 'o': '148.8670000000'}, 'USDCNH': {'b': '7.1813...
2025-07-16 01:37:44,254 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:37:44,740 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:37:44,743 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:37:45,758 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:37:45,760 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:37:46,501 - DEBUG - app.firebase_stream - Firebase listener triggered (188). Event Type: patch, Path: /. Timestamp: 1752655066.5018554
2025-07-16 01:37:46,502 - DEBUG - app.firebase_stream - Prepared batch update for 26 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9840000000', 'o': '37.9800000000'}, 'NZDJPY': {'b': '88.4540000000', 'o': '88.4460000000'}, 'GBPAUD': {'b': '2.0538300000', 'o': '2.0536600000'}, 'BTCUSD': {'b': '118564.000000000
2025-07-16 01:37:46,502 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9840000000', 'o': '37.9800000000'}, 'NZDJPY': {'b': '88.4540000000', 'o': '88.4460000000'}, 'GBPAUD': {'b': '2.0538300000', 'o': '2.0536600000'}, 'BTCUSD': {'b': '118564.000000000...
2025-07-16 01:37:46,502 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:37:46,762 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:37:46,765 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:37:47,781 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:37:47,785 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:37:48,789 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:37:48,794 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:37:48,860 - DEBUG - app.firebase_stream - Firebase listener triggered (189). Event Type: patch, Path: /. Timestamp: 1752655068.8607213
2025-07-16 01:37:48,860 - DEBUG - app.firebase_stream - Prepared batch update for 26 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0379000000', 'o': '13.0354800000'}, 'XAGUSD': {'b': '37.9830000000', 'o': '37.9800000000'}, 'NZDJPY': {'b': '88.4550000000', 'o': '88.4460000000'}, 'GBPAUD': {'b': '2.0538300000',
2025-07-16 01:37:48,861 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0379000000', 'o': '13.0354800000'}, 'XAGUSD': {'b': '37.9830000000', 'o': '37.9800000000'}, 'NZDJPY': {'b': '88.4550000000', 'o': '88.4460000000'}, 'GBPAUD': {'b': '2.0538300000',...
2025-07-16 01:37:48,861 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:37:49,803 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:37:49,808 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:37:50,815 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:37:50,819 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:37:51,118 - DEBUG - app.firebase_stream - Firebase listener triggered (190). Event Type: patch, Path: /. Timestamp: 1752655071.118508
2025-07-16 01:37:51,119 - DEBUG - app.firebase_stream - Prepared batch update for 25 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0381000000', 'o': '13.0355000000'}, 'NZDJPY': {'b': '88.4520000000', 'o': '88.4440000000'}, 'BTCUSD': {'b': '118433.0000000000', 'o': '118432.9000000000'}, 'USDJPY': {'b': '148.86
2025-07-16 01:37:51,119 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0381000000', 'o': '13.0355000000'}, 'NZDJPY': {'b': '88.4520000000', 'o': '88.4440000000'}, 'BTCUSD': {'b': '118433.0000000000', 'o': '118432.9000000000'}, 'USDJPY': {'b': '148.86...
2025-07-16 01:37:51,119 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:37:51,836 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:37:51,839 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:37:52,843 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:37:52,847 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:37:53,478 - DEBUG - app.firebase_stream - Firebase listener triggered (191). Event Type: patch, Path: /. Timestamp: 1752655073.478329
2025-07-16 01:37:53,479 - DEBUG - app.firebase_stream - Prepared batch update for 37 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0380000000', 'o': '13.0354000000'}, 'NZDJPY': {'b': '88.4510000000', 'o': '88.4450000000'}, 'GBPAUD': {'b': '2.0537400000', 'o': '2.0535900000'}, 'BTCUSD': {'b': '118637.210000000
2025-07-16 01:37:53,479 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0380000000', 'o': '13.0354000000'}, 'NZDJPY': {'b': '88.4510000000', 'o': '88.4450000000'}, 'GBPAUD': {'b': '2.0537400000', 'o': '2.0535900000'}, 'BTCUSD': {'b': '118637.210000000...
2025-07-16 01:37:53,480 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:37:53,857 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:37:53,876 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:37:54,884 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:37:54,888 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:37:55,730 - DEBUG - app.firebase_stream - Firebase listener triggered (192). Event Type: patch, Path: /. Timestamp: 1752655075.730853
2025-07-16 01:37:55,731 - DEBUG - app.firebase_stream - Prepared batch update for 38 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0377000000', 'o': '13.0353100000'}, 'NZDJPY': {'b': '88.4510000000', 'o': '88.4420000000'}, 'GBPAUD': {'b': '2.0538800000', 'o': '2.0537300000'}, 'BTCUSD': {'b': '118670.630000000
2025-07-16 01:37:55,731 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0377000000', 'o': '13.0353100000'}, 'NZDJPY': {'b': '88.4510000000', 'o': '88.4420000000'}, 'GBPAUD': {'b': '2.0538800000', 'o': '2.0537300000'}, 'BTCUSD': {'b': '118670.630000000...
2025-07-16 01:37:55,731 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:37:55,899 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:37:55,902 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:37:56,918 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:37:56,922 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:37:57,927 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:37:57,929 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:37:58,055 - DEBUG - app.firebase_stream - Firebase listener triggered (193). Event Type: patch, Path: /. Timestamp: 1752655078.0551167
2025-07-16 01:37:58,055 - DEBUG - app.firebase_stream - Prepared batch update for 30 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0379000000', 'o': '13.0353100000'}, 'NZDJPY': {'b': '88.4500000000', 'o': '88.4440000000'}, 'GBPAUD': {'b': '2.0538200000', 'o': '2.0537300000'}, 'BTCUSD': {'b': '118691.900000000
2025-07-16 01:37:58,055 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0379000000', 'o': '13.0353100000'}, 'NZDJPY': {'b': '88.4500000000', 'o': '88.4440000000'}, 'GBPAUD': {'b': '2.0538200000', 'o': '2.0537300000'}, 'BTCUSD': {'b': '118691.900000000...
2025-07-16 01:37:58,055 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:37:58,973 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:37:58,977 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:37:59,994 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:37:59,998 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:38:00,330 - DEBUG - app.firebase_stream - Firebase listener triggered (194). Event Type: patch, Path: /. Timestamp: 1752655080.3302448
2025-07-16 01:38:00,330 - DEBUG - app.firebase_stream - Prepared batch update for 27 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4530000000', 'o': '88.4430000000'}, 'GBPAUD': {'b': '2.0538300000', 'o': '2.0536700000'}, 'BTCUSD': {'b': '118672.6000000000', 'o': '118672.5000000000'}, 'USDJPY': {'b': '148.8680
2025-07-16 01:38:00,330 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4530000000', 'o': '88.4430000000'}, 'GBPAUD': {'b': '2.0538300000', 'o': '2.0536700000'}, 'BTCUSD': {'b': '118672.6000000000', 'o': '118672.5000000000'}, 'USDJPY': {'b': '148.8680...
2025-07-16 01:38:00,330 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:38:01,005 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:38:01,009 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:38:02,013 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:38:02,017 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:38:02,689 - DEBUG - app.firebase_stream - Firebase listener triggered (195). Event Type: patch, Path: /. Timestamp: 1752655082.6897285
2025-07-16 01:38:02,690 - DEBUG - app.firebase_stream - Prepared batch update for 27 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0380000000', 'o': '13.0354000000'}, 'NZDJPY': {'b': '88.4540000000', 'o': '88.4440000000'}, 'GBPAUD': {'b': '2.0537400000', 'o': '2.0535900000'}, 'BTCUSD': {'b': '118672.700000000
2025-07-16 01:38:02,690 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0380000000', 'o': '13.0354000000'}, 'NZDJPY': {'b': '88.4540000000', 'o': '88.4440000000'}, 'GBPAUD': {'b': '2.0537400000', 'o': '2.0535900000'}, 'BTCUSD': {'b': '118672.700000000...
2025-07-16 01:38:02,690 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:38:03,028 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:38:03,032 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:38:04,047 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:38:04,052 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:38:04,941 - DEBUG - app.firebase_stream - Firebase listener triggered (196). Event Type: patch, Path: /. Timestamp: 1752655084.9414594
2025-07-16 01:38:04,942 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0379000000', 'o': '13.0353200000'}, 'XAGUSD': {'b': '37.9830000000', 'o': '37.9810000000'}, 'NZDJPY': {'b': '88.4540000000', 'o': '88.4450000000'}, 'GBPAUD': {'b': '2.0538500000',
2025-07-16 01:38:04,942 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0379000000', 'o': '13.0353200000'}, 'XAGUSD': {'b': '37.9830000000', 'o': '37.9810000000'}, 'NZDJPY': {'b': '88.4540000000', 'o': '88.4450000000'}, 'GBPAUD': {'b': '2.0538500000',...
2025-07-16 01:38:04,943 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:38:05,062 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:38:05,065 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:38:06,079 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:38:06,082 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:38:07,090 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:38:07,093 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:38:07,293 - DEBUG - app.firebase_stream - Firebase listener triggered (197). Event Type: patch, Path: /. Timestamp: 1752655087.2934906
2025-07-16 01:38:07,293 - DEBUG - app.firebase_stream - Prepared batch update for 27 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0381000000', 'o': '13.0355000000'}, 'XAGUSD': {'b': '37.9840000000', 'o': '37.9810000000'}, 'NZDJPY': {'b': '88.4520000000', 'o': '88.4440000000'}, 'GBPAUD': {'b': '2.0538600000',
2025-07-16 01:38:07,293 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0381000000', 'o': '13.0355000000'}, 'XAGUSD': {'b': '37.9840000000', 'o': '37.9810000000'}, 'NZDJPY': {'b': '88.4520000000', 'o': '88.4440000000'}, 'GBPAUD': {'b': '2.0538600000',...
2025-07-16 01:38:07,294 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:38:08,109 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:38:08,112 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:38:09,127 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:38:09,130 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:38:09,546 - DEBUG - app.firebase_stream - Firebase listener triggered (198). Event Type: patch, Path: /. Timestamp: 1752655089.5467622
2025-07-16 01:38:09,547 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0371000000', 'o': '13.0345000000'}, 'NZDJPY': {'b': '88.4530000000', 'o': '88.4450000000'}, 'BTCUSD': {'b': '118643.3900000000', 'o': '118643.3900000000'}, 'USDJPY': {'b': '148.86
2025-07-16 01:38:09,547 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0371000000', 'o': '13.0345000000'}, 'NZDJPY': {'b': '88.4530000000', 'o': '88.4450000000'}, 'BTCUSD': {'b': '118643.3900000000', 'o': '118643.3900000000'}, 'USDJPY': {'b': '148.86...
2025-07-16 01:38:09,547 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:38:10,144 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:38:10,147 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:38:11,164 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:38:11,166 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:38:11,888 - DEBUG - app.firebase_stream - Firebase listener triggered (199). Event Type: patch, Path: /. Timestamp: 1752655091.8884282
2025-07-16 01:38:11,888 - DEBUG - app.firebase_stream - Prepared batch update for 38 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0380000000', 'o': '13.0354000000'}, 'XAGUSD': {'b': '37.9830000000', 'o': '37.9810000000'}, 'NZDJPY': {'b': '88.4540000000', 'o': '88.4450000000'}, 'GBPAUD': {'b': '2.0538300000',
2025-07-16 01:38:11,889 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0380000000', 'o': '13.0354000000'}, 'XAGUSD': {'b': '37.9830000000', 'o': '37.9810000000'}, 'NZDJPY': {'b': '88.4540000000', 'o': '88.4450000000'}, 'GBPAUD': {'b': '2.0538300000',...
2025-07-16 01:38:11,889 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:38:12,173 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:38:12,176 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:38:13,192 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:38:13,194 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:38:14,210 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:38:14,213 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:38:14,254 - DEBUG - app.firebase_stream - Firebase listener triggered (200). Event Type: patch, Path: /. Timestamp: 1752655094.2546027
2025-07-16 01:38:14,255 - DEBUG - app.firebase_stream - Prepared batch update for 20 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9840000000', 'o': '37.9810000000'}, 'NZDJPY': {'b': '88.4540000000', 'o': '88.4470000000'}, 'BTCUSD': {'b': '118629.1000000000', 'o': '118629.0000000000'}, 'USDJPY': {'b': '148.87
2025-07-16 01:38:14,255 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9840000000', 'o': '37.9810000000'}, 'NZDJPY': {'b': '88.4540000000', 'o': '88.4470000000'}, 'BTCUSD': {'b': '118629.1000000000', 'o': '118629.0000000000'}, 'USDJPY': {'b': '148.87...
2025-07-16 01:38:14,255 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:38:15,226 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:38:15,228 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:38:16,243 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:38:16,246 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:38:17,185 - DEBUG - app.firebase_stream - Firebase listener triggered (201). Event Type: patch, Path: /. Timestamp: 1752655097.1849704
2025-07-16 01:38:17,185 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9800000000', 'o': '37.9800000000'}, 'NZDJPY': {'b': '88.4550000000', 'o': '88.4460000000'}, 'BTCUSD': {'b': '118678.2000000000', 'o': '118678.1000000000'}, 'USDJPY': {'b': '148.87
2025-07-16 01:38:17,185 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9800000000', 'o': '37.9800000000'}, 'NZDJPY': {'b': '88.4550000000', 'o': '88.4460000000'}, 'BTCUSD': {'b': '118678.2000000000', 'o': '118678.1000000000'}, 'USDJPY': {'b': '148.87...
2025-07-16 01:38:17,186 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:38:17,248 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:38:17,249 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:38:18,265 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:38:18,269 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:38:19,281 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:38:19,285 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:38:19,581 - DEBUG - app.firebase_stream - Firebase listener triggered (202). Event Type: patch, Path: /. Timestamp: 1752655099.5816102
2025-07-16 01:38:19,581 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9790000000', 'o': '37.9740000000'}, 'NZDJPY': {'b': '88.4540000000', 'o': '88.4460000000'}, 'GBPAUD': {'b': '2.0538300000', 'o': '2.0536800000'}, 'BTCUSD': {'b': '118668.180000000
2025-07-16 01:38:19,582 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9790000000', 'o': '37.9740000000'}, 'NZDJPY': {'b': '88.4540000000', 'o': '88.4460000000'}, 'GBPAUD': {'b': '2.0538300000', 'o': '2.0536800000'}, 'BTCUSD': {'b': '118668.180000000...
2025-07-16 01:38:19,582 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:38:20,288 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:38:20,292 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:38:21,299 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:38:21,303 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:38:21,799 - DEBUG - app.firebase_stream - Firebase listener triggered (203). Event Type: patch, Path: /. Timestamp: 1752655101.799516
2025-07-16 01:38:21,799 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0381000000', 'o': '13.0355000000'}, 'NZDJPY': {'b': '88.4550000000', 'o': '88.4470000000'}, 'GBPAUD': {'b': '2.0538300000', 'o': '2.0536600000'}, 'BTCUSD': {'b': '118658.000000000
2025-07-16 01:38:21,800 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0381000000', 'o': '13.0355000000'}, 'NZDJPY': {'b': '88.4550000000', 'o': '88.4470000000'}, 'GBPAUD': {'b': '2.0538300000', 'o': '2.0536600000'}, 'BTCUSD': {'b': '118658.000000000...
2025-07-16 01:38:21,800 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:38:22,309 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:38:22,312 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:38:23,319 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:38:23,323 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:38:24,101 - DEBUG - app.firebase_stream - Firebase listener triggered (204). Event Type: patch, Path: /. Timestamp: 1752655104.1013498
2025-07-16 01:38:24,101 - DEBUG - app.firebase_stream - Prepared batch update for 36 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0382000000', 'o': '13.0356000000'}, 'XAGUSD': {'b': '37.9790000000', 'o': '37.9730000000'}, 'NZDJPY': {'b': '88.4510000000', 'o': '88.4420000000'}, 'GBPAUD': {'b': '2.0538500000',
2025-07-16 01:38:24,102 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0382000000', 'o': '13.0356000000'}, 'XAGUSD': {'b': '37.9790000000', 'o': '37.9730000000'}, 'NZDJPY': {'b': '88.4510000000', 'o': '88.4420000000'}, 'GBPAUD': {'b': '2.0538500000',...
2025-07-16 01:38:24,102 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:38:24,338 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:38:24,342 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:38:25,359 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:38:25,362 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:38:26,378 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:38:26,381 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:38:26,444 - DEBUG - app.firebase_stream - Firebase listener triggered (205). Event Type: patch, Path: /. Timestamp: 1752655106.4444025
2025-07-16 01:38:26,444 - DEBUG - app.firebase_stream - Prepared batch update for 36 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0381000000', 'o': '13.0351000000'}, 'NZDJPY': {'b': '88.4550000000', 'o': '88.4470000000'}, 'GBPAUD': {'b': '2.0537400000', 'o': '2.0535700000'}, 'USDJPY': {'b': '148.8650000000',
2025-07-16 01:38:26,445 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0381000000', 'o': '13.0351000000'}, 'NZDJPY': {'b': '88.4550000000', 'o': '88.4470000000'}, 'GBPAUD': {'b': '2.0537400000', 'o': '2.0535700000'}, 'USDJPY': {'b': '148.8650000000',...
2025-07-16 01:38:26,445 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:38:27,383 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:38:27,384 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:38:28,388 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:38:28,391 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:38:28,805 - DEBUG - app.firebase_stream - Firebase listener triggered (206). Event Type: patch, Path: /. Timestamp: 1752655108.8051813
2025-07-16 01:38:28,805 - DEBUG - app.firebase_stream - Prepared batch update for 40 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0377000000', 'o': '13.0351000000'}, 'XAGUSD': {'b': '37.9790000000', 'o': '37.9760000000'}, 'NZDJPY': {'b': '88.4590000000', 'o': '88.4510000000'}, 'GBPAUD': {'b': '2.0537500000',
2025-07-16 01:38:28,805 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0377000000', 'o': '13.0351000000'}, 'XAGUSD': {'b': '37.9790000000', 'o': '37.9760000000'}, 'NZDJPY': {'b': '88.4590000000', 'o': '88.4510000000'}, 'GBPAUD': {'b': '2.0537500000',...
2025-07-16 01:38:28,806 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:38:29,408 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:38:29,410 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:38:30,411 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:38:30,414 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:38:31,051 - DEBUG - app.firebase_stream - Firebase listener triggered (207). Event Type: patch, Path: /. Timestamp: 1752655111.0517836
2025-07-16 01:38:31,052 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4580000000', 'o': '88.4490000000'}, 'GBPAUD': {'b': '2.0537000000', 'o': '2.0535400000'}, 'BTCUSD': {'b': '118689.3000000000', 'o': '118689.2000000000'}, 'USDJPY': {'b': '148.8700
2025-07-16 01:38:31,052 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4580000000', 'o': '88.4490000000'}, 'GBPAUD': {'b': '2.0537000000', 'o': '2.0535400000'}, 'BTCUSD': {'b': '118689.3000000000', 'o': '118689.2000000000'}, 'USDJPY': {'b': '148.8700...
2025-07-16 01:38:31,052 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:38:31,432 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:38:31,435 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:38:32,440 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:38:32,442 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:38:33,402 - DEBUG - app.firebase_stream - Firebase listener triggered (208). Event Type: patch, Path: /. Timestamp: 1752655113.4029698
2025-07-16 01:38:33,408 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4590000000', 'o': '88.4490000000'}, 'GBPAUD': {'b': '2.0536700000', 'o': '2.0535400000'}, 'BTCUSD': {'b': '118672.6000000000', 'o': '118672.5000000000'}, 'USDJPY': {'b': '148.8690
2025-07-16 01:38:33,408 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4590000000', 'o': '88.4490000000'}, 'GBPAUD': {'b': '2.0536700000', 'o': '2.0535400000'}, 'BTCUSD': {'b': '118672.6000000000', 'o': '118672.5000000000'}, 'USDJPY': {'b': '148.8690...
2025-07-16 01:38:33,408 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:38:33,445 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:38:33,447 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:38:34,457 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:38:34,460 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:38:34,533 - WARNING - app - User 4 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:38:34,536 - WARNING - app - No user data found for user 5 (live). Skipping portfolio update.
2025-07-16 01:38:34,541 - WARNING - app - No group settings found for group string. Skipping portfolio update for user 8.
2025-07-16 01:38:34,556 - WARNING - app - User 9 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:38:34,572 - WARNING - app - User 10 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:38:34,588 - WARNING - app - User 11 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:38:34,603 - WARNING - app - User 12 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:38:34,620 - WARNING - app - User 13 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:38:35,030 - DEBUG - app.services.portfolio_calculator - Position calculation for BTCUSD: Type=BUY, Entry=118908.50000000, Current=118622.5, Quantity=0.40000000, Contract Size=1.00000000, PnL=-114.400000000000000000000000, PnL USD=-114.400000000000000000000000, Commission=235.57000000, Final PnL=-349.970000000000000000000000
2025-07-16 01:38:35,047 - WARNING - app - User 16 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:38:35,063 - WARNING - app - User 17 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:38:35,079 - WARNING - app - User 18 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:38:35,093 - WARNING - app - User 19 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:38:35,108 - WARNING - app - User 20 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:38:35,123 - WARNING - app - User 21 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:38:35,136 - WARNING - app - User 22 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:38:35,151 - WARNING - app - User 23 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:38:35,166 - WARNING - app - User 25 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:38:35,547 - DEBUG - app.services.portfolio_calculator - Position calculation for XAGUSD: Type=BUY, Entry=41.09800000, Current=37.963499999999996, Quantity=0.01000000, Contract Size=5000.00000000, PnL=-156.7250000000002000000000000, PnL USD=-156.7250000000002000000000000, Commission=0.10000000, Final PnL=-156.8250000000002000000000000
2025-07-16 01:38:35,547 - DEBUG - app.services.portfolio_calculator - Position calculation for BTCUSD: Type=BUY, Entry=132091.90000000, Current=118622.5, Quantity=6.00000000, Contract Size=1.00000000, PnL=-80816.40000000000000000000000, PnL USD=-80816.40000000000000000000000, Commission=3661.62000000, Final PnL=-84478.02000000000000000000000
2025-07-16 01:38:35,547 - WARNING - app.services.portfolio_calculator - MARGIN CALL ALERT: User has margin level 68.06930796145147659680237775% which is below threshold 100.0%
2025-07-16 01:38:35,547 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:38:35,549 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:38:35,632 - DEBUG - app.firebase_stream - Firebase listener triggered (209). Event Type: patch, Path: /. Timestamp: 1752655115.6323466
2025-07-16 01:38:35,632 - DEBUG - app.firebase_stream - Prepared batch update for 35 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0375000000', 'o': '13.0349900000'}, 'XAGUSD': {'b': '37.9780000000', 'o': '37.9740000000'}, 'NZDJPY': {'b': '88.4570000000', 'o': '88.4480000000'}, 'GBPAUD': {'b': '2.0538600000',
2025-07-16 01:38:35,632 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0375000000', 'o': '13.0349900000'}, 'XAGUSD': {'b': '37.9780000000', 'o': '37.9740000000'}, 'NZDJPY': {'b': '88.4570000000', 'o': '88.4480000000'}, 'GBPAUD': {'b': '2.0538600000',...
2025-07-16 01:38:35,632 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:38:35,956 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=96.66800000, Current=97.028, Quantity=0.01000000, Contract Size=100000.00000000, PnL=360.000000000000000000000000, PnL USD=2.418509660602477628785639427, Commission=0.10000000, Final PnL=2.318509660602477628785639427
2025-07-16 01:38:35,957 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=96.56000000, Current=97.133, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-573.000000000000000000000000, PnL USD=-3.849461209792276892483809421, Commission=0.10000000, Final PnL=-3.949461209792276892483809421
2025-07-16 01:38:35,968 - WARNING - app - User 2 has no group_name set. Skipping portfolio update.
2025-07-16 01:38:35,987 - WARNING - app - No group settings found for group string. Skipping portfolio update for user 3.
2025-07-16 01:38:36,005 - WARNING - app - User 4 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:38:36,005 - WARNING - app - User 5 has no group_name set. Skipping portfolio update.
2025-07-16 01:38:36,006 - WARNING - app - User 6 has no group_name set. Skipping portfolio update.
2025-07-16 01:38:36,364 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64743000, Current=0.6520400000000001, Quantity=0.10000000, Contract Size=100000.00000000, PnL=46.10000000000100000000000000, PnL USD=46.10000000000100000000000000, Commission=1.00000000, Final PnL=45.10000000000100000000000000
2025-07-16 01:38:36,365 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=SELL, Entry=0.64707000, Current=0.6523599999999999, Quantity=0.22000000, Contract Size=100000.00000000, PnL=-116.3799999999978000000000000, PnL USD=-116.3799999999978000000000000, Commission=2.20000000, Final PnL=-118.5799999999978000000000000
2025-07-16 01:38:36,366 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFSGD: Type=BUY, Entry=1.57561500, Current=1.6027250000000002, Quantity=0.10000000, Contract Size=100000.00000000, PnL=271.1000000000020000000000000, PnL USD=211.0072463204118961075350836, Commission=1.00000000, Final PnL=210.0072463204118961075350836
2025-07-16 01:38:36,367 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFSGD: Type=SELL, Entry=1.57505500, Current=1.603125, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-280.700000000000000000000000, PnL USD=-218.4792845523392928027148406, Commission=1.00000000, Final PnL=-219.4792845523392928027148406
2025-07-16 01:38:36,367 - DEBUG - app.services.portfolio_calculator - Position calculation for CADJPY: Type=SELL, Entry=106.24150000, Current=108.5155, Quantity=0.15000000, Contract Size=100000.00000000, PnL=-34110.00000000000000000000000, PnL USD=-229.1537903420847553274393357, Commission=0E-8, Final PnL=-229.1537903420847553274393357
2025-07-16 01:38:36,368 - DEBUG - app.services.portfolio_calculator - Position calculation for CADJPY: Type=BUY, Entry=106.27050000, Current=108.48349999999999, Quantity=0.15000000, Contract Size=100000.00000000, PnL=33194.99999999985000000000000, PnL USD=223.0067449547191169752505845, Commission=0E-8, Final PnL=223.0067449547191169752505845
2025-07-16 01:38:36,368 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=BUY, Entry=1.77481000, Current=1.7815999999999999, Quantity=0.22000000, Contract Size=100000.00000000, PnL=149.3799999999978000000000000, PnL USD=97.42712979999856513800000000, Commission=2.20000000, Final PnL=95.22712979999856513800000000
2025-07-16 01:38:36,368 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=SELL, Entry=1.77439000, Current=1.782, Quantity=0.21000000, Contract Size=100000.00000000, PnL=-159.810000000000000000000000, PnL USD=-104.2296801000000000000000000, Commission=2.10000000, Final PnL=-106.3296801000000000000000000
2025-07-16 01:38:36,370 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFJPY: Type=BUY, Entry=178.15500000, Current=185.69500000000002, Quantity=0.10000000, Contract Size=100000.00000000, PnL=75400.00000000020000000000000, PnL USD=506.5434122484091580899148147, Commission=1.00000000, Final PnL=505.5434122484091580899148147
2025-07-16 01:38:36,370 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFJPY: Type=SELL, Entry=178.09500000, Current=185.73499999999999, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-76399.99999999990000000000000, PnL USD=-513.2614946389695805229355333, Commission=1.00000000, Final PnL=-514.2614946389695805229355333
2025-07-16 01:38:36,370 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=BUY, Entry=1.77480000, Current=1.7815999999999999, Quantity=0.05000000, Contract Size=100000.00000000, PnL=33.99999999999950000000000000, PnL USD=22.17513999999967389500000000, Commission=0.50000000, Final PnL=21.67513999999967389500000000
2025-07-16 01:38:36,370 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=SELL, Entry=1.77442000, Current=1.782, Quantity=0.05000000, Contract Size=100000.00000000, PnL=-37.900000000000000000000000, PnL USD=-24.71875900000000000000000000, Commission=0.50000000, Final PnL=-25.21875900000000000000000000
2025-07-16 01:38:36,370 - DEBUG - app.services.portfolio_calculator - Position calculation for EURGBP: Type=SELL, Entry=0.85403000, Current=0.86781, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-137.800000000000000000000000, PnL USD=-184.5679420000000000000000000, Commission=1.00000000, Final PnL=-185.5679420000000000000000000
2025-07-16 01:38:36,371 - DEBUG - app.services.portfolio_calculator - Position calculation for EURJPY: Type=BUY, Entry=167.26050000, Current=172.9625, Quantity=0.10000000, Contract Size=100000.00000000, PnL=57020.00000000000000000000000, PnL USD=383.0650579098702066482143337, Commission=1.00000000, Final PnL=382.0650579098702066482143337
2025-07-16 01:38:36,371 - DEBUG - app.services.portfolio_calculator - Position calculation for EURJPY: Type=SELL, Entry=167.23150000, Current=172.9955, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-57640.00000000000000000000000, PnL USD=-387.2302689920189181200118238, Commission=1.00000000, Final PnL=-388.2302689920189181200118238
2025-07-16 01:38:36,371 - DEBUG - app.services.portfolio_calculator - Position calculation for EURNZD: Type=SELL, Entry=1.91952500, Current=1.955795, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-362.700000000000000000000000, PnL USD=-215.5417290000000000000000000, Commission=1.00000000, Final PnL=-216.5417290000000000000000000
2025-07-16 01:38:36,372 - DEBUG - app.services.portfolio_calculator - Position calculation for EURNZD: Type=BUY, Entry=1.92063500, Current=1.955365, Quantity=0.10000000, Contract Size=100000.00000000, PnL=347.300000000000000000000000, PnL USD=206.3899710000000000000000000, Commission=1.00000000, Final PnL=205.3899710000000000000000000
2025-07-16 01:38:36,372 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=SELL, Entry=1.34376000, Current=1.33949, Quantity=0.25000000, Contract Size=0E-8, PnL=0E-24, PnL USD=0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 01:38:36,372 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=SELL, Entry=1.34361000, Current=1.33949, Quantity=0.25000000, Contract Size=0E-8, PnL=0E-24, PnL USD=0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 01:38:36,372 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=BUY, Entry=1.34379000, Current=1.33928, Quantity=0.25000000, Contract Size=0E-8, PnL=-0E-24, PnL USD=-0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 01:38:36,372 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=BUY, Entry=1.34378000, Current=1.33928, Quantity=0.25000000, Contract Size=0E-8, PnL=-0E-24, PnL USD=-0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 01:38:36,372 - DEBUG - app.services.portfolio_calculator - Position calculation for NZDJPY: Type=BUY, Entry=87.10150000, Current=88.4365, Quantity=0.01000000, Contract Size=100000.00000000, PnL=1335.000000000000000000000000, PnL USD=8.968639991400854540080079542, Commission=0.10000000, Final PnL=8.868639991400854540080079542
2025-07-16 01:38:36,372 - DEBUG - app.services.portfolio_calculator - Position calculation for USDCHF: Type=SELL, Entry=0.81771000, Current=0.80168, Quantity=0.15000000, Contract Size=100000.00000000, PnL=240.450000000000000000000000, PnL USD=299.9962570647902084814911854, Commission=1.50000000, Final PnL=298.4962570647902084814911854
2025-07-16 01:38:36,373 - DEBUG - app.services.portfolio_calculator - Position calculation for USDCHF: Type=BUY, Entry=0.81805000, Current=0.80135, Quantity=0.15000000, Contract Size=100000.00000000, PnL=-250.500000000000000000000000, PnL USD=-312.5350900175917954860201370, Commission=1.50000000, Final PnL=-314.0350900175917954860201370
2025-07-16 01:38:36,373 - DEBUG - app.services.portfolio_calculator - Position calculation for USDNOK: Type=BUY, Entry=10.04973000, Current=10.2744, Quantity=0.10000000, Contract Size=100000.00000000, PnL=2246.700000000000000000000000, PnL USD=218.6414006596125044157446722, Commission=1.00000000, Final PnL=217.6414006596125044157446722
2025-07-16 01:38:36,373 - DEBUG - app.services.portfolio_calculator - Position calculation for USDNOK: Type=BUY, Entry=10.05023000, Current=10.2744, Quantity=0.10000000, Contract Size=100000.00000000, PnL=2241.700000000000000000000000, PnL USD=218.1548172246643304174010022, Commission=1.00000000, Final PnL=217.1548172246643304174010022
2025-07-16 01:38:36,374 - DEBUG - app.services.portfolio_calculator - Position calculation for USDSGD: Type=SELL, Entry=1.28795000, Current=1.28495, Quantity=0.31000000, Contract Size=100000.00000000, PnL=93.000000000000000000000000, PnL USD=72.38537037181173577004802341, Commission=3.10000000, Final PnL=69.28537037181173577004802341
2025-07-16 01:38:36,374 - DEBUG - app.services.portfolio_calculator - Position calculation for USDTRY: Type=SELL, Entry=39.56087000, Current=40.259209999999996, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-6983.399999999960000000000000, PnL USD=-173.4615761023719878208780831, Commission=1.00000000, Final PnL=-174.4615761023719878208780831
2025-07-16 01:38:36,773 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:38:36,775 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:38:37,141 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.89752000, Current=0.89477, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-2.750000000000000000000000, PnL USD=-2.004417006202759535558357690, Commission=0.10000000, Final PnL=-2.104417006202759535558357690
2025-07-16 01:38:37,161 - WARNING - app - User 12 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:38:37,177 - WARNING - app - User 13 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:38:37,788 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:38:37,791 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:38:37,908 - DEBUG - app.firebase_stream - Firebase listener triggered (210). Event Type: patch, Path: /. Timestamp: 1752655117.9087586
2025-07-16 01:38:37,909 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0379000000', 'o': '13.0353000000'}, 'XAGUSD': {'b': '37.9840000000', 'o': '37.9800000000'}, 'NZDJPY': {'b': '88.4580000000', 'o': '88.4520000000'}, 'GBPAUD': {'b': '2.0537200000',
2025-07-16 01:38:37,909 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0379000000', 'o': '13.0353000000'}, 'XAGUSD': {'b': '37.9840000000', 'o': '37.9800000000'}, 'NZDJPY': {'b': '88.4580000000', 'o': '88.4520000000'}, 'GBPAUD': {'b': '2.0537200000',...
2025-07-16 01:38:37,910 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:38:38,807 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:38:38,809 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:38:39,826 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:38:39,828 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:38:40,258 - DEBUG - app.firebase_stream - Firebase listener triggered (211). Event Type: patch, Path: /. Timestamp: 1752655120.2585077
2025-07-16 01:38:40,258 - DEBUG - app.firebase_stream - Prepared batch update for 26 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0377000000', 'o': '13.0351000000'}, 'XAGUSD': {'b': '37.9830000000', 'o': '37.9790000000'}, 'NZDJPY': {'b': '88.4610000000', 'o': '88.4520000000'}, 'GBPAUD': {'b': '2.0537000000',
2025-07-16 01:38:40,258 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0377000000', 'o': '13.0351000000'}, 'XAGUSD': {'b': '37.9830000000', 'o': '37.9790000000'}, 'NZDJPY': {'b': '88.4610000000', 'o': '88.4520000000'}, 'GBPAUD': {'b': '2.0537000000',...
2025-07-16 01:38:40,259 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:38:40,840 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:38:40,842 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:38:41,855 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:38:41,856 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:38:42,513 - DEBUG - app.firebase_stream - Firebase listener triggered (212). Event Type: patch, Path: /. Timestamp: 1752655122.5130508
2025-07-16 01:38:42,513 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0378000000', 'o': '13.0352000000'}, 'NZDJPY': {'b': '88.4610000000', 'o': '88.4510000000'}, 'GBPAUD': {'b': '2.0537000000', 'o': '2.0535600000'}, 'BTCUSD': {'b': '118654.100000000
2025-07-16 01:38:42,513 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0378000000', 'o': '13.0352000000'}, 'NZDJPY': {'b': '88.4610000000', 'o': '88.4510000000'}, 'GBPAUD': {'b': '2.0537000000', 'o': '2.0535600000'}, 'BTCUSD': {'b': '118654.100000000...
2025-07-16 01:38:42,513 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:38:42,869 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:38:42,871 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:38:43,880 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:38:43,883 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:38:44,876 - DEBUG - app.firebase_stream - Firebase listener triggered (213). Event Type: patch, Path: /. Timestamp: 1752655124.876614
2025-07-16 01:38:44,876 - DEBUG - app.firebase_stream - Prepared batch update for 34 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4630000000', 'o': '88.4540000000'}, 'GBPAUD': {'b': '2.0538300000', 'o': '2.0536700000'}, 'BTCUSD': {'b': '118748.1700000000', 'o': '118748.1700000000'}, 'USDJPY': {'b': '148.8430
2025-07-16 01:38:44,877 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4630000000', 'o': '88.4540000000'}, 'GBPAUD': {'b': '2.0538300000', 'o': '2.0536700000'}, 'BTCUSD': {'b': '118748.1700000000', 'o': '118748.1700000000'}, 'USDJPY': {'b': '148.8430...
2025-07-16 01:38:44,877 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:38:44,886 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:38:44,898 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:38:45,917 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:38:45,919 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:38:46,927 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:38:46,930 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:38:47,128 - DEBUG - app.firebase_stream - Firebase listener triggered (214). Event Type: patch, Path: /. Timestamp: 1752655127.1284335
2025-07-16 01:38:47,129 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0379000000', 'o': '13.0353000000'}, 'XAGUSD': {'b': '37.9800000000', 'o': '37.9800000000'}, 'NZDJPY': {'b': '88.4620000000', 'o': '88.4530000000'}, 'BTCUSD': {'b': '118737.6000000
2025-07-16 01:38:47,129 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0379000000', 'o': '13.0353000000'}, 'XAGUSD': {'b': '37.9800000000', 'o': '37.9800000000'}, 'NZDJPY': {'b': '88.4620000000', 'o': '88.4530000000'}, 'BTCUSD': {'b': '118737.6000000...
2025-07-16 01:38:47,129 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:38:47,941 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:38:47,943 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:38:48,954 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:38:48,956 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:38:49,480 - DEBUG - app.firebase_stream - Firebase listener triggered (215). Event Type: patch, Path: /. Timestamp: 1752655129.480374
2025-07-16 01:38:49,480 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0377000000', 'o': '13.0351000000'}, 'XAGUSD': {'b': '37.9790000000', 'o': '37.9740000000'}, 'GBPAUD': {'b': '2.0538300000', 'o': '2.0536800000'}, 'USDJPY': {'b': '148.8430000000',
2025-07-16 01:38:49,480 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0377000000', 'o': '13.0351000000'}, 'XAGUSD': {'b': '37.9790000000', 'o': '37.9740000000'}, 'GBPAUD': {'b': '2.0538300000', 'o': '2.0536800000'}, 'USDJPY': {'b': '148.8430000000',...
2025-07-16 01:38:49,481 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:38:49,971 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:38:49,974 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:38:50,987 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:38:50,988 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:38:51,706 - DEBUG - app.firebase_stream - Firebase listener triggered (216). Event Type: patch, Path: /. Timestamp: 1752655131.7068872
2025-07-16 01:38:51,707 - DEBUG - app.firebase_stream - Prepared batch update for 34 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0376000000', 'o': '13.0350000000'}, 'XAGUSD': {'b': '37.9830000000', 'o': '37.9790000000'}, 'NZDJPY': {'b': '88.4630000000', 'o': '88.4550000000'}, 'GBPAUD': {'b': '2.0537100000',
2025-07-16 01:38:51,707 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0376000000', 'o': '13.0350000000'}, 'XAGUSD': {'b': '37.9830000000', 'o': '37.9790000000'}, 'NZDJPY': {'b': '88.4630000000', 'o': '88.4550000000'}, 'GBPAUD': {'b': '2.0537100000',...
2025-07-16 01:38:51,707 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:38:52,001 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:38:52,004 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:38:53,018 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:38:53,021 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:38:54,035 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:38:54,037 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:38:54,095 - DEBUG - app.firebase_stream - Firebase listener triggered (217). Event Type: patch, Path: /. Timestamp: 1752655134.0955746
2025-07-16 01:38:54,095 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4630000000', 'o': '88.4530000000'}, 'GBPAUD': {'b': '2.0537000000', 'o': '2.0535300000'}, 'BTCUSD': {'b': '118737.3000000000', 'o': '118737.2000000000'}, 'USDJPY': {'b': '148.8730
2025-07-16 01:38:54,096 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4630000000', 'o': '88.4530000000'}, 'GBPAUD': {'b': '2.0537000000', 'o': '2.0535300000'}, 'BTCUSD': {'b': '118737.3000000000', 'o': '118737.2000000000'}, 'USDJPY': {'b': '148.8730...
2025-07-16 01:38:54,096 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:38:55,053 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:38:55,056 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:38:56,072 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:38:56,074 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:38:56,340 - DEBUG - app.firebase_stream - Firebase listener triggered (218). Event Type: patch, Path: /. Timestamp: 1752655136.3401666
2025-07-16 01:38:56,340 - DEBUG - app.firebase_stream - Prepared batch update for 37 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9860000000', 'o': '37.9810000000'}, 'NZDJPY': {'b': '88.4640000000', 'o': '88.4560000000'}, 'GBPAUD': {'b': '2.0536400000', 'o': '2.0535400000'}, 'USDJPY': {'b': '148.8440000000',
2025-07-16 01:38:56,340 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9860000000', 'o': '37.9810000000'}, 'NZDJPY': {'b': '88.4640000000', 'o': '88.4560000000'}, 'GBPAUD': {'b': '2.0536400000', 'o': '2.0535400000'}, 'USDJPY': {'b': '148.8440000000',...
2025-07-16 01:38:56,341 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:38:57,091 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:38:57,094 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:38:58,108 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:38:58,110 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:38:58,696 - DEBUG - app.firebase_stream - Firebase listener triggered (219). Event Type: patch, Path: /. Timestamp: 1752655138.6967463
2025-07-16 01:38:58,696 - DEBUG - app.firebase_stream - Prepared batch update for 37 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0373000000', 'o': '13.0347000000'}, 'XAGUSD': {'b': '37.9790000000', 'o': '37.9760000000'}, 'NZDJPY': {'b': '88.4690000000', 'o': '88.4600000000'}, 'GBPAUD': {'b': '2.0537500000',
2025-07-16 01:38:58,697 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0373000000', 'o': '13.0347000000'}, 'XAGUSD': {'b': '37.9790000000', 'o': '37.9760000000'}, 'NZDJPY': {'b': '88.4690000000', 'o': '88.4600000000'}, 'GBPAUD': {'b': '2.0537500000',...
2025-07-16 01:38:58,697 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:38:59,127 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:38:59,129 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:39:00,131 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:39:00,134 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:39:00,945 - DEBUG - app.firebase_stream - Firebase listener triggered (220). Event Type: patch, Path: /. Timestamp: 1752655140.9458702
2025-07-16 01:39:00,946 - DEBUG - app.firebase_stream - Prepared batch update for 39 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0371000000', 'o': '13.0345000000'}, 'XAGUSD': {'b': '37.9850000000', 'o': '37.9810000000'}, 'NZDJPY': {'b': '88.4700000000', 'o': '88.4610000000'}, 'GBPAUD': {'b': '2.0536000000',
2025-07-16 01:39:00,946 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0371000000', 'o': '13.0345000000'}, 'XAGUSD': {'b': '37.9850000000', 'o': '37.9810000000'}, 'NZDJPY': {'b': '88.4700000000', 'o': '88.4610000000'}, 'GBPAUD': {'b': '2.0536000000',...
2025-07-16 01:39:00,946 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:39:01,135 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:39:01,137 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:39:02,140 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:39:02,142 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:39:03,158 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:39:03,160 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:39:03,306 - DEBUG - app.firebase_stream - Firebase listener triggered (221). Event Type: patch, Path: /. Timestamp: 1752655143.306056
2025-07-16 01:39:03,306 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0377000000', 'o': '13.0351000000'}, 'XAGUSD': {'b': '37.9860000000', 'o': '37.9820000000'}, 'NZDJPY': {'b': '88.4690000000', 'o': '88.4610000000'}, 'GBPAUD': {'b': '2.0535700000',
2025-07-16 01:39:03,306 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0377000000', 'o': '13.0351000000'}, 'XAGUSD': {'b': '37.9860000000', 'o': '37.9820000000'}, 'NZDJPY': {'b': '88.4690000000', 'o': '88.4610000000'}, 'GBPAUD': {'b': '2.0535700000',...
2025-07-16 01:39:03,306 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:39:04,161 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:39:04,164 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:39:05,180 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:39:05,182 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:39:05,555 - DEBUG - app.firebase_stream - Firebase listener triggered (222). Event Type: patch, Path: /. Timestamp: 1752655145.5555756
2025-07-16 01:39:05,555 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0372000000', 'o': '13.0346000000'}, 'XAGUSD': {'b': '37.9790000000', 'o': '37.9770000000'}, 'NZDJPY': {'b': '88.4740000000', 'o': '88.4650000000'}, 'GBPAUD': {'b': '2.0535800000',
2025-07-16 01:39:05,555 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0372000000', 'o': '13.0346000000'}, 'XAGUSD': {'b': '37.9790000000', 'o': '37.9770000000'}, 'NZDJPY': {'b': '88.4740000000', 'o': '88.4650000000'}, 'GBPAUD': {'b': '2.0535800000',...
2025-07-16 01:39:05,556 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:39:06,198 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:39:06,200 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:39:07,216 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:39:07,219 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:39:07,913 - DEBUG - app.firebase_stream - Firebase listener triggered (223). Event Type: patch, Path: /. Timestamp: 1752655147.9139037
2025-07-16 01:39:07,914 - DEBUG - app.firebase_stream - Prepared batch update for 38 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0373000000', 'o': '13.0347000000'}, 'GBPAUD': {'b': '2.0537200000', 'o': '2.0535700000'}, 'BTCUSD': {'b': '118697.0000000000', 'o': '118696.9000000000'}, 'USDCNH': {'b': '7.181030
2025-07-16 01:39:07,914 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0373000000', 'o': '13.0347000000'}, 'GBPAUD': {'b': '2.0537200000', 'o': '2.0535700000'}, 'BTCUSD': {'b': '118697.0000000000', 'o': '118696.9000000000'}, 'USDCNH': {'b': '7.181030...
2025-07-16 01:39:07,914 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:39:08,232 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:39:08,234 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:39:09,250 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:39:09,252 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:39:10,166 - DEBUG - app.firebase_stream - Firebase listener triggered (224). Event Type: patch, Path: /. Timestamp: 1752655150.1661723
2025-07-16 01:39:10,166 - DEBUG - app.firebase_stream - Prepared batch update for 35 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0376000000', 'o': '13.0350000000'}, 'NZDJPY': {'b': '88.4710000000', 'o': '88.4620000000'}, 'GBPAUD': {'b': '2.0535600000', 'o': '2.0534200000'}, 'USDJPY': {'b': '148.8560000000',
2025-07-16 01:39:10,166 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0376000000', 'o': '13.0350000000'}, 'NZDJPY': {'b': '88.4710000000', 'o': '88.4620000000'}, 'GBPAUD': {'b': '2.0535600000', 'o': '2.0534200000'}, 'USDJPY': {'b': '148.8560000000',...
2025-07-16 01:39:10,166 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:39:10,254 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:39:10,256 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:39:11,263 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:39:11,265 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:39:12,274 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:39:12,276 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:39:12,418 - DEBUG - app.firebase_stream - Firebase listener triggered (225). Event Type: patch, Path: /. Timestamp: 1752655152.4186502
2025-07-16 01:39:12,418 - DEBUG - app.firebase_stream - Prepared batch update for 24 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0378000000', 'o': '13.0352000000'}, 'XAGUSD': {'b': '37.9830000000', 'o': '37.9810000000'}, 'NZDJPY': {'b': '88.4710000000', 'o': '88.4630000000'}, 'GBPAUD': {'b': '2.0535600000',
2025-07-16 01:39:12,419 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0378000000', 'o': '13.0352000000'}, 'XAGUSD': {'b': '37.9830000000', 'o': '37.9810000000'}, 'NZDJPY': {'b': '88.4710000000', 'o': '88.4630000000'}, 'GBPAUD': {'b': '2.0535600000',...
2025-07-16 01:39:12,419 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:39:13,281 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:39:13,283 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:39:14,290 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:39:14,307 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:39:14,733 - DEBUG - app.firebase_stream - Firebase listener triggered (226). Event Type: patch, Path: /. Timestamp: 1752655154.733372
2025-07-16 01:39:14,733 - DEBUG - app.firebase_stream - Prepared batch update for 25 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9850000000', 'o': '37.9820000000'}, 'NZDJPY': {'b': '88.4720000000', 'o': '88.4640000000'}, 'GBPAUD': {'b': '2.0535700000', 'o': '2.0534500000'}, 'USDCNH': {'b': '7.1810800000', '
2025-07-16 01:39:14,733 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9850000000', 'o': '37.9820000000'}, 'NZDJPY': {'b': '88.4720000000', 'o': '88.4640000000'}, 'GBPAUD': {'b': '2.0535700000', 'o': '2.0534500000'}, 'USDCNH': {'b': '7.1810800000', '...
2025-07-16 01:39:14,733 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:39:15,323 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:39:15,325 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:39:16,342 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:39:16,344 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:39:17,128 - DEBUG - app.firebase_stream - Firebase listener triggered (227). Event Type: patch, Path: /. Timestamp: 1752655157.12892
2025-07-16 01:39:17,129 - DEBUG - app.firebase_stream - Prepared batch update for 27 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0379000000', 'o': '13.0353000000'}, 'XAGUSD': {'b': '37.9840000000', 'o': '37.9810000000'}, 'NZDJPY': {'b': '88.4720000000', 'o': '88.4630000000'}, 'GBPAUD': {'b': '2.0535700000',
2025-07-16 01:39:17,129 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0379000000', 'o': '13.0353000000'}, 'XAGUSD': {'b': '37.9840000000', 'o': '37.9810000000'}, 'NZDJPY': {'b': '88.4720000000', 'o': '88.4630000000'}, 'GBPAUD': {'b': '2.0535700000',...
2025-07-16 01:39:17,129 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:39:17,351 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:39:17,354 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:39:18,357 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:39:18,389 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:39:19,376 - DEBUG - app.firebase_stream - Firebase listener triggered (228). Event Type: patch, Path: /. Timestamp: 1752655159.3764997
2025-07-16 01:39:19,376 - DEBUG - app.firebase_stream - Prepared batch update for 23 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9830000000', 'o': '37.9790000000'}, 'NZDJPY': {'b': '88.4710000000', 'o': '88.4630000000'}, 'BTCUSD': {'b': '118696.8000000000', 'o': '118696.7000000000'}, 'USDCNH': {'b': '7.1811
2025-07-16 01:39:19,377 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9830000000', 'o': '37.9790000000'}, 'NZDJPY': {'b': '88.4710000000', 'o': '88.4630000000'}, 'BTCUSD': {'b': '118696.8000000000', 'o': '118696.7000000000'}, 'USDCNH': {'b': '7.1811...
2025-07-16 01:39:19,377 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:39:19,394 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:39:19,397 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:39:20,409 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:39:20,410 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:39:21,418 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:39:21,420 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:39:21,733 - DEBUG - app.firebase_stream - Firebase listener triggered (229). Event Type: patch, Path: /. Timestamp: 1752655161.7335858
2025-07-16 01:39:21,733 - DEBUG - app.firebase_stream - Prepared batch update for 21 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9810000000', 'o': '37.9780000000'}, 'NZDJPY': {'b': '88.4720000000', 'o': '88.4630000000'}, 'GBPAUD': {'b': '2.0535800000', 'o': '2.0534300000'}, 'USDJPY': {'b': '148.8560000000',
2025-07-16 01:39:21,734 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9810000000', 'o': '37.9780000000'}, 'NZDJPY': {'b': '88.4720000000', 'o': '88.4630000000'}, 'GBPAUD': {'b': '2.0535800000', 'o': '2.0534300000'}, 'USDJPY': {'b': '148.8560000000',...
2025-07-16 01:39:21,734 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:39:22,436 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:39:22,438 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:39:23,448 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:39:23,451 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:39:23,976 - DEBUG - app.firebase_stream - Firebase listener triggered (230). Event Type: patch, Path: /. Timestamp: 1752655163.9760683
2025-07-16 01:39:23,976 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0378000000', 'o': '13.0352000000'}, 'NZDJPY': {'b': '88.4710000000', 'o': '88.4640000000'}, 'GBPAUD': {'b': '2.0535600000', 'o': '2.0534300000'}, 'USDJPY': {'b': '148.8460000000',
2025-07-16 01:39:23,976 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0378000000', 'o': '13.0352000000'}, 'NZDJPY': {'b': '88.4710000000', 'o': '88.4640000000'}, 'GBPAUD': {'b': '2.0535600000', 'o': '2.0534300000'}, 'USDJPY': {'b': '148.8460000000',...
2025-07-16 01:39:23,976 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:39:24,460 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:39:24,463 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:39:25,479 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:39:25,481 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:39:26,345 - DEBUG - app.firebase_stream - Firebase listener triggered (231). Event Type: patch, Path: /. Timestamp: 1752655166.3459108
2025-07-16 01:39:26,346 - DEBUG - app.firebase_stream - Prepared batch update for 36 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0377000000', 'o': '13.0351200000'}, 'NZDJPY': {'b': '88.4720000000', 'o': '88.4640000000'}, 'GBPAUD': {'b': '2.0535100000', 'o': '2.0534300000'}, 'USDJPY': {'b': '148.8630000000',
2025-07-16 01:39:26,346 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0377000000', 'o': '13.0351200000'}, 'NZDJPY': {'b': '88.4720000000', 'o': '88.4640000000'}, 'GBPAUD': {'b': '2.0535100000', 'o': '2.0534300000'}, 'USDJPY': {'b': '148.8630000000',...
2025-07-16 01:39:26,346 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:39:26,482 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:39:26,484 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:39:27,486 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:39:27,488 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:39:28,497 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:39:28,499 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:39:28,597 - DEBUG - app.firebase_stream - Firebase listener triggered (232). Event Type: patch, Path: /. Timestamp: 1752655168.5978348
2025-07-16 01:39:28,598 - DEBUG - app.firebase_stream - Prepared batch update for 38 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0379000000', 'o': '13.0353000000'}, 'XAGUSD': {'b': '37.9780000000', 'o': '37.9750000000'}, 'NZDJPY': {'b': '88.4690000000', 'o': '88.4640000000'}, 'GBPAUD': {'b': '2.0535000000',
2025-07-16 01:39:28,598 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0379000000', 'o': '13.0353000000'}, 'XAGUSD': {'b': '37.9780000000', 'o': '37.9750000000'}, 'NZDJPY': {'b': '88.4690000000', 'o': '88.4640000000'}, 'GBPAUD': {'b': '2.0535000000',...
2025-07-16 01:39:28,598 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:39:29,501 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:39:29,503 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:39:30,514 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:39:30,516 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:39:30,955 - DEBUG - app.firebase_stream - Firebase listener triggered (233). Event Type: patch, Path: /. Timestamp: 1752655170.955387
2025-07-16 01:39:30,955 - DEBUG - app.firebase_stream - Prepared batch update for 38 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0371000000', 'o': '13.0345000000'}, 'XAGUSD': {'b': '37.9780000000', 'o': '37.9740000000'}, 'NZDJPY': {'b': '88.4720000000', 'o': '88.4630000000'}, 'GBPAUD': {'b': '2.0535100000',
2025-07-16 01:39:30,955 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0371000000', 'o': '13.0345000000'}, 'XAGUSD': {'b': '37.9780000000', 'o': '37.9740000000'}, 'NZDJPY': {'b': '88.4720000000', 'o': '88.4630000000'}, 'GBPAUD': {'b': '2.0535100000',...
2025-07-16 01:39:30,956 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:39:31,527 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:39:31,529 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:39:32,543 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:39:32,545 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:39:33,204 - DEBUG - app.firebase_stream - Firebase listener triggered (234). Event Type: patch, Path: /. Timestamp: 1752655173.204625
2025-07-16 01:39:33,204 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4720000000', 'o': '88.4640000000'}, 'GBPAUD': {'b': '2.0535000000', 'o': '2.0533600000'}, 'BTCUSD': {'b': '118654.7600000000', 'o': '118654.7600000000'}, 'USDCNH': {'b': '7.181130
2025-07-16 01:39:33,205 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4720000000', 'o': '88.4640000000'}, 'GBPAUD': {'b': '2.0535000000', 'o': '2.0533600000'}, 'BTCUSD': {'b': '118654.7600000000', 'o': '118654.7600000000'}, 'USDCNH': {'b': '7.181130...
2025-07-16 01:39:33,205 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:39:33,562 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:39:33,565 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:39:34,527 - WARNING - app - User 4 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:39:34,529 - WARNING - app - No user data found for user 5 (live). Skipping portfolio update.
2025-07-16 01:39:34,534 - WARNING - app - No group settings found for group string. Skipping portfolio update for user 8.
2025-07-16 01:39:34,549 - WARNING - app - User 9 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:39:34,563 - WARNING - app - User 10 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:39:34,566 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:39:34,568 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:39:34,579 - WARNING - app - User 11 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:39:34,593 - WARNING - app - User 12 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:39:34,607 - WARNING - app - User 13 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:39:35,038 - DEBUG - app.services.portfolio_calculator - Position calculation for BTCUSD: Type=BUY, Entry=118908.50000000, Current=118604.76, Quantity=0.40000000, Contract Size=1.00000000, PnL=-121.496000000000000000000000, PnL USD=-121.496000000000000000000000, Commission=235.57000000, Final PnL=-357.066000000000000000000000
2025-07-16 01:39:35,053 - WARNING - app - User 16 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:39:35,067 - WARNING - app - User 17 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:39:35,082 - WARNING - app - User 18 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:39:35,098 - WARNING - app - User 19 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:39:35,113 - WARNING - app - User 20 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:39:35,127 - WARNING - app - User 21 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:39:35,142 - WARNING - app - User 22 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:39:35,156 - WARNING - app - User 23 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:39:35,171 - WARNING - app - User 25 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:39:35,561 - DEBUG - app.firebase_stream - Firebase listener triggered (235). Event Type: patch, Path: /. Timestamp: 1752655175.5615478
2025-07-16 01:39:35,561 - DEBUG - app.firebase_stream - Prepared batch update for 37 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0380000000', 'o': '13.0354000000'}, 'NZDJPY': {'b': '88.4730000000', 'o': '88.4650000000'}, 'GBPAUD': {'b': '2.0534900000', 'o': '2.0533400000'}, 'BTCUSD': {'b': '118654.800000000
2025-07-16 01:39:35,562 - DEBUG - app.services.portfolio_calculator - Position calculation for XAGUSD: Type=BUY, Entry=41.09800000, Current=37.961499999999994, Quantity=0.01000000, Contract Size=5000.00000000, PnL=-156.8250000000003000000000000, PnL USD=-156.8250000000003000000000000, Commission=0.10000000, Final PnL=-156.9250000000003000000000000
2025-07-16 01:39:35,562 - DEBUG - app.services.portfolio_calculator - Position calculation for BTCUSD: Type=BUY, Entry=132091.90000000, Current=118604.76, Quantity=6.00000000, Contract Size=1.00000000, PnL=-80922.84000000000000000000000, PnL USD=-80922.84000000000000000000000, Commission=3661.62000000, Final PnL=-84584.46000000000000000000000
2025-07-16 01:39:35,562 - WARNING - app.services.portfolio_calculator - MARGIN CALL ALERT: User has margin level 67.99657670195345602165198809% which is below threshold 100.0%
2025-07-16 01:39:35,562 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0380000000', 'o': '13.0354000000'}, 'NZDJPY': {'b': '88.4730000000', 'o': '88.4650000000'}, 'GBPAUD': {'b': '2.0534900000', 'o': '2.0533400000'}, 'BTCUSD': {'b': '118654.800000000...
2025-07-16 01:39:35,563 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:39:35,571 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:39:35,574 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:39:35,961 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=96.66800000, Current=97.035, Quantity=0.01000000, Contract Size=100000.00000000, PnL=367.000000000000000000000000, PnL USD=2.465337489251934651762682717, Commission=0.10000000, Final PnL=2.365337489251934651762682717
2025-07-16 01:39:35,961 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=96.56000000, Current=97.14099999999999, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-580.9999999999900000000000000, PnL USD=-3.902891229578608662940670679, Commission=0.10000000, Final PnL=-4.002891229578608662940670679
2025-07-16 01:39:35,962 - WARNING - app - User 2 has no group_name set. Skipping portfolio update.
2025-07-16 01:39:35,965 - WARNING - app - No group settings found for group string. Skipping portfolio update for user 3.
2025-07-16 01:39:35,978 - WARNING - app - User 4 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:39:35,978 - WARNING - app - User 5 has no group_name set. Skipping portfolio update.
2025-07-16 01:39:35,979 - WARNING - app - User 6 has no group_name set. Skipping portfolio update.
2025-07-16 01:39:36,371 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64743000, Current=0.65208, Quantity=0.10000000, Contract Size=100000.00000000, PnL=46.500000000000000000000000, PnL USD=46.500000000000000000000000, Commission=1.00000000, Final PnL=45.500000000000000000000000
2025-07-16 01:39:36,372 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=SELL, Entry=0.64707000, Current=0.65239, Quantity=0.22000000, Contract Size=100000.00000000, PnL=-117.040000000000000000000000, PnL USD=-117.040000000000000000000000, Commission=2.20000000, Final PnL=-119.240000000000000000000000
2025-07-16 01:39:36,373 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFSGD: Type=BUY, Entry=1.57561500, Current=1.602695, Quantity=0.10000000, Contract Size=100000.00000000, PnL=270.800000000000000000000000, PnL USD=210.7803074528118310955438801, Commission=1.00000000, Final PnL=209.7803074528118310955438801
2025-07-16 01:39:36,374 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFSGD: Type=SELL, Entry=1.57505500, Current=1.603125, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-280.700000000000000000000000, PnL USD=-218.4860867873127067522864371, Commission=1.00000000, Final PnL=-219.4860867873127067522864371
2025-07-16 01:39:36,374 - DEBUG - app.services.portfolio_calculator - Position calculation for CADJPY: Type=SELL, Entry=106.24150000, Current=108.5205, Quantity=0.15000000, Contract Size=100000.00000000, PnL=-34185.00000000000000000000000, PnL USD=-229.6391337059329320722269991, Commission=0E-8, Final PnL=-229.6391337059329320722269991
2025-07-16 01:39:36,374 - DEBUG - app.services.portfolio_calculator - Position calculation for CADJPY: Type=BUY, Entry=106.27050000, Current=108.4905, Quantity=0.15000000, Contract Size=100000.00000000, PnL=33300.00000000000000000000000, PnL USD=223.6941100601891659501289768, Commission=0E-8, Final PnL=223.6941100601891659501289768
2025-07-16 01:39:36,374 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=BUY, Entry=1.77481000, Current=1.7814899999999998, Quantity=0.22000000, Contract Size=100000.00000000, PnL=146.9599999999956000000000000, PnL USD=95.85319039999713014400000000, Commission=2.20000000, Final PnL=93.65319039999713014400000000
2025-07-16 01:39:36,375 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=SELL, Entry=1.77439000, Current=1.7819, Quantity=0.21000000, Contract Size=100000.00000000, PnL=-157.710000000000000000000000, PnL USD=-102.8647704000000000000000000, Commission=2.10000000, Final PnL=-104.9647704000000000000000000
2025-07-16 01:39:36,375 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFJPY: Type=BUY, Entry=178.15500000, Current=185.705, Quantity=0.10000000, Contract Size=100000.00000000, PnL=75500.00000000000000000000000, PnL USD=507.1743336199484092863284609, Commission=1.00000000, Final PnL=506.1743336199484092863284609
2025-07-16 01:39:36,375 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFJPY: Type=SELL, Entry=178.09500000, Current=185.74499999999998, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-76499.99999999980000000000000, PnL USD=-513.8918744625953890799656062, Commission=1.00000000, Final PnL=-514.8918744625953890799656062
2025-07-16 01:39:36,375 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=BUY, Entry=1.77480000, Current=1.7814899999999998, Quantity=0.05000000, Contract Size=100000.00000000, PnL=33.44999999999900000000000000, PnL USD=21.81742799999934776000000000, Commission=0.50000000, Final PnL=21.31742799999934776000000000
2025-07-16 01:39:36,375 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=SELL, Entry=1.77442000, Current=1.7819, Quantity=0.05000000, Contract Size=100000.00000000, PnL=-37.400000000000000000000000, PnL USD=-24.39377600000000000000000000, Commission=0.50000000, Final PnL=-24.89377600000000000000000000
2025-07-16 01:39:36,375 - DEBUG - app.services.portfolio_calculator - Position calculation for EURGBP: Type=SELL, Entry=0.85403000, Current=0.86785, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-138.200000000000000000000000, PnL USD=-185.1064620000000000000000000, Commission=1.00000000, Final PnL=-186.1064620000000000000000000
2025-07-16 01:39:36,376 - DEBUG - app.services.portfolio_calculator - Position calculation for EURJPY: Type=BUY, Entry=167.26050000, Current=172.97050000000002, Quantity=0.10000000, Contract Size=100000.00000000, PnL=57100.00000000020000000000000, PnL USD=383.5715821152206040412725709, Commission=1.00000000, Final PnL=382.5715821152206040412725709
2025-07-16 01:39:36,377 - DEBUG - app.services.portfolio_calculator - Position calculation for EURJPY: Type=SELL, Entry=167.23150000, Current=173.0015, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-57700.00000000000000000000000, PnL USD=-387.6021066208082545141874463, Commission=1.00000000, Final PnL=-388.6021066208082545141874463
2025-07-16 01:39:36,377 - DEBUG - app.services.portfolio_calculator - Position calculation for EURNZD: Type=SELL, Entry=1.91952500, Current=1.955565, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-360.400000000000000000000000, PnL USD=-214.1893240000000000000000000, Commission=1.00000000, Final PnL=-215.1893240000000000000000000
2025-07-16 01:39:36,377 - DEBUG - app.services.portfolio_calculator - Position calculation for EURNZD: Type=BUY, Entry=1.92063500, Current=1.9551150000000002, Quantity=0.10000000, Contract Size=100000.00000000, PnL=344.8000000000020000000000000, PnL USD=204.9180880000011886200000000, Commission=1.00000000, Final PnL=203.9180880000011886200000000
2025-07-16 01:39:36,377 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=SELL, Entry=1.34376000, Current=1.33951, Quantity=0.25000000, Contract Size=0E-8, PnL=0E-24, PnL USD=0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 01:39:36,377 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=SELL, Entry=1.34361000, Current=1.33951, Quantity=0.25000000, Contract Size=0E-8, PnL=0E-24, PnL USD=0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 01:39:36,377 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=BUY, Entry=1.34379000, Current=1.3393, Quantity=0.25000000, Contract Size=0E-8, PnL=-0E-24, PnL USD=-0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 01:39:36,378 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=BUY, Entry=1.34378000, Current=1.3393, Quantity=0.25000000, Contract Size=0E-8, PnL=-0E-24, PnL USD=-0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 01:39:36,378 - DEBUG - app.services.portfolio_calculator - Position calculation for NZDJPY: Type=BUY, Entry=87.10150000, Current=88.4525, Quantity=0.01000000, Contract Size=100000.00000000, PnL=1351.000000000000000000000000, PnL USD=9.075397678417884780739466896, Commission=0.10000000, Final PnL=8.975397678417884780739466896
2025-07-16 01:39:36,379 - DEBUG - app.services.portfolio_calculator - Position calculation for USDCHF: Type=SELL, Entry=0.81771000, Current=0.80169, Quantity=0.15000000, Contract Size=100000.00000000, PnL=240.300000000000000000000000, PnL USD=299.7978890635526611273298900, Commission=1.50000000, Final PnL=298.2978890635526611273298900
2025-07-16 01:39:36,379 - DEBUG - app.services.portfolio_calculator - Position calculation for USDCHF: Type=BUY, Entry=0.81805000, Current=0.80137, Quantity=0.15000000, Contract Size=100000.00000000, PnL=-250.200000000000000000000000, PnL USD=-312.1491129575567033460588367, Commission=1.50000000, Final PnL=-313.6491129575567033460588367
2025-07-16 01:39:36,379 - DEBUG - app.services.portfolio_calculator - Position calculation for USDNOK: Type=BUY, Entry=10.04973000, Current=10.274890000000001, Quantity=0.10000000, Contract Size=100000.00000000, PnL=2251.600000000010000000000000, PnL USD=219.1423510404307710275825823, Commission=1.00000000, Final PnL=218.1423510404307710275825823
2025-07-16 01:39:36,380 - DEBUG - app.services.portfolio_calculator - Position calculation for USDNOK: Type=BUY, Entry=10.05023000, Current=10.274890000000001, Quantity=0.10000000, Contract Size=100000.00000000, PnL=2246.600000000010000000000000, PnL USD=218.6557140910604792400677399, Commission=1.00000000, Final PnL=217.6557140910604792400677399
2025-07-16 01:39:36,380 - DEBUG - app.services.portfolio_calculator - Position calculation for USDSGD: Type=SELL, Entry=1.28795000, Current=1.2849000000000002, Quantity=0.31000000, Contract Size=100000.00000000, PnL=94.54999999999380000000000000, PnL USD=73.59408445222323409223584355, Commission=3.10000000, Final PnL=70.49408445222323409223584355
2025-07-16 01:39:36,380 - DEBUG - app.services.portfolio_calculator - Position calculation for USDTRY: Type=SELL, Entry=39.56087000, Current=40.259209999999996, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-6983.399999999960000000000000, PnL USD=-173.4615761023719878208780831, Commission=1.00000000, Final PnL=-174.4615761023719878208780831
2025-07-16 01:39:36,746 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:39:36,748 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:39:37,084 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.89752000, Current=0.89479, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-2.730000000000000000000000, PnL USD=-1.989926452901429394056461430, Commission=0.10000000, Final PnL=-2.089926452901429394056461430
2025-07-16 01:39:37,099 - WARNING - app - User 12 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:39:37,115 - WARNING - app - User 13 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:39:37,750 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:39:37,752 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:39:37,815 - DEBUG - app.firebase_stream - Firebase listener triggered (236). Event Type: patch, Path: /. Timestamp: 1752655177.8150706
2025-07-16 01:39:37,815 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0377000000', 'o': '13.0351000000'}, 'XAGUSD': {'b': '37.9740000000', 'o': '37.9700000000'}, 'NZDJPY': {'b': '88.4720000000', 'o': '88.4660000000'}, 'GBPAUD': {'b': '2.0534800000',
2025-07-16 01:39:37,815 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0377000000', 'o': '13.0351000000'}, 'XAGUSD': {'b': '37.9740000000', 'o': '37.9700000000'}, 'NZDJPY': {'b': '88.4720000000', 'o': '88.4660000000'}, 'GBPAUD': {'b': '2.0534800000',...
2025-07-16 01:39:37,815 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:39:38,755 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:39:38,756 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:39:39,770 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:39:39,772 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:39:40,165 - DEBUG - app.firebase_stream - Firebase listener triggered (237). Event Type: patch, Path: /. Timestamp: 1752655180.1650968
2025-07-16 01:39:40,165 - DEBUG - app.firebase_stream - Prepared batch update for 21 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9740000000', 'o': '37.9710000000'}, 'NZDJPY': {'b': '88.4730000000', 'o': '88.4650000000'}, 'GBPAUD': {'b': '2.0534600000', 'o': '2.0533100000'}, 'BTCUSD': {'b': '118689.720000000
2025-07-16 01:39:40,165 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9740000000', 'o': '37.9710000000'}, 'NZDJPY': {'b': '88.4730000000', 'o': '88.4650000000'}, 'GBPAUD': {'b': '2.0534600000', 'o': '2.0533100000'}, 'BTCUSD': {'b': '118689.720000000...
2025-07-16 01:39:40,166 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:39:40,777 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:39:40,779 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:39:41,793 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:39:41,796 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:39:42,418 - DEBUG - app.firebase_stream - Firebase listener triggered (238). Event Type: patch, Path: /. Timestamp: 1752655182.4182374
2025-07-16 01:39:42,418 - DEBUG - app.firebase_stream - Prepared batch update for 24 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0377000000', 'o': '13.0351300000'}, 'NZDJPY': {'b': '88.4720000000', 'o': '88.4660000000'}, 'GBPAUD': {'b': '2.0534500000', 'o': '2.0533200000'}, 'BTCUSD': {'b': '118661.000000000
2025-07-16 01:39:42,418 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0377000000', 'o': '13.0351300000'}, 'NZDJPY': {'b': '88.4720000000', 'o': '88.4660000000'}, 'GBPAUD': {'b': '2.0534500000', 'o': '2.0533200000'}, 'BTCUSD': {'b': '118661.000000000...
2025-07-16 01:39:42,419 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:39:42,808 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:39:42,812 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:39:43,826 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:39:43,828 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:39:44,772 - DEBUG - app.firebase_stream - Firebase listener triggered (239). Event Type: patch, Path: /. Timestamp: 1752655184.7721565
2025-07-16 01:39:44,772 - DEBUG - app.firebase_stream - Prepared batch update for 30 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4750000000', 'o': '88.4660000000'}, 'GBPAUD': {'b': '2.0533900000', 'o': '2.0533100000'}, 'USDJPY': {'b': '148.8650000000', 'o': '148.8600000000'}, 'USDCNH': {'b': '7.1810900000',
2025-07-16 01:39:44,772 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4750000000', 'o': '88.4660000000'}, 'GBPAUD': {'b': '2.0533900000', 'o': '2.0533100000'}, 'USDJPY': {'b': '148.8650000000', 'o': '148.8600000000'}, 'USDCNH': {'b': '7.1810900000',...
2025-07-16 01:39:44,772 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:39:44,829 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:39:44,831 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:39:45,843 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:39:45,846 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:39:46,853 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:39:46,855 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:39:47,029 - DEBUG - app.firebase_stream - Firebase listener triggered (240). Event Type: patch, Path: /. Timestamp: 1752655187.0290506
2025-07-16 01:39:47,029 - DEBUG - app.firebase_stream - Prepared batch update for 26 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0375000000', 'o': '13.0352300000'}, 'NZDJPY': {'b': '88.4740000000', 'o': '88.4660000000'}, 'GBPAUD': {'b': '2.0534100000', 'o': '2.0532600000'}, 'BTCUSD': {'b': '118681.440000000
2025-07-16 01:39:47,029 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0375000000', 'o': '13.0352300000'}, 'NZDJPY': {'b': '88.4740000000', 'o': '88.4660000000'}, 'GBPAUD': {'b': '2.0534100000', 'o': '2.0532600000'}, 'BTCUSD': {'b': '118681.440000000...
2025-07-16 01:39:47,029 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:39:47,861 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:39:47,863 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:39:48,878 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:39:48,881 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:39:49,384 - DEBUG - app.firebase_stream - Firebase listener triggered (241). Event Type: patch, Path: /. Timestamp: 1752655189.3842545
2025-07-16 01:39:49,384 - DEBUG - app.firebase_stream - Prepared batch update for 25 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9740000000', 'o': '37.9700000000'}, 'NZDJPY': {'b': '88.4750000000', 'o': '88.4670000000'}, 'BTCUSD': {'b': '118696.3000000000', 'o': '118696.2000000000'}, 'USDJPY': {'b': '148.86
2025-07-16 01:39:49,385 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9740000000', 'o': '37.9700000000'}, 'NZDJPY': {'b': '88.4750000000', 'o': '88.4670000000'}, 'BTCUSD': {'b': '118696.3000000000', 'o': '118696.2000000000'}, 'USDJPY': {'b': '148.86...
2025-07-16 01:39:49,385 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:39:49,888 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:39:49,890 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:39:50,904 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:39:50,906 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:39:51,641 - DEBUG - app.firebase_stream - Firebase listener triggered (242). Event Type: patch, Path: /. Timestamp: 1752655191.641008
2025-07-16 01:39:51,641 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9810000000', 'o': '37.9780000000'}, 'NZDJPY': {'b': '88.4720000000', 'o': '88.4640000000'}, 'GBPAUD': {'b': '2.0534100000', 'o': '2.0532800000'}, 'BTCUSD': {'b': '118702.000000000
2025-07-16 01:39:51,641 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9810000000', 'o': '37.9780000000'}, 'NZDJPY': {'b': '88.4720000000', 'o': '88.4640000000'}, 'GBPAUD': {'b': '2.0534100000', 'o': '2.0532800000'}, 'BTCUSD': {'b': '118702.000000000...
2025-07-16 01:39:51,642 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:39:51,922 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:39:51,926 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:39:52,940 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:39:52,942 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:39:53,958 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:39:53,961 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:39:53,994 - DEBUG - app.firebase_stream - Firebase listener triggered (243). Event Type: patch, Path: /. Timestamp: 1752655193.9943385
2025-07-16 01:39:53,994 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0376000000', 'o': '13.0350000000'}, 'NZDJPY': {'b': '88.4770000000', 'o': '88.4690000000'}, 'GBPAUD': {'b': '2.0533600000', 'o': '2.0532600000'}, 'BTCUSD': {'b': '118709.330000000
2025-07-16 01:39:53,994 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0376000000', 'o': '13.0350000000'}, 'NZDJPY': {'b': '88.4770000000', 'o': '88.4690000000'}, 'GBPAUD': {'b': '2.0533600000', 'o': '2.0532600000'}, 'BTCUSD': {'b': '118709.330000000...
2025-07-16 01:39:53,995 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:39:54,974 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:39:54,976 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:39:55,993 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:39:55,995 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:39:56,247 - DEBUG - app.firebase_stream - Firebase listener triggered (244). Event Type: patch, Path: /. Timestamp: 1752655196.2476199
2025-07-16 01:39:56,248 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9740000000', 'o': '37.9700000000'}, 'NZDJPY': {'b': '88.4690000000', 'o': '88.4640000000'}, 'GBPAUD': {'b': '2.0533300000', 'o': '2.0531500000'}, 'BTCUSD': {'b': '118687.530000000
2025-07-16 01:39:56,248 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9740000000', 'o': '37.9700000000'}, 'NZDJPY': {'b': '88.4690000000', 'o': '88.4640000000'}, 'GBPAUD': {'b': '2.0533300000', 'o': '2.0531500000'}, 'BTCUSD': {'b': '118687.530000000...
2025-07-16 01:39:56,248 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:39:57,009 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:39:57,011 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:39:58,024 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:39:58,027 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:39:58,600 - DEBUG - app.firebase_stream - Firebase listener triggered (245). Event Type: patch, Path: /. Timestamp: 1752655198.6000688
2025-07-16 01:39:58,600 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0377000000', 'o': '13.0351000000'}, 'NZDJPY': {'b': '88.4790000000', 'o': '88.4710000000'}, 'GBPAUD': {'b': '2.0535100000', 'o': '2.0533800000'}, 'BTCUSD': {'b': '118710.200000000
2025-07-16 01:39:58,600 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0377000000', 'o': '13.0351000000'}, 'NZDJPY': {'b': '88.4790000000', 'o': '88.4710000000'}, 'GBPAUD': {'b': '2.0535100000', 'o': '2.0533800000'}, 'BTCUSD': {'b': '118710.200000000...
2025-07-16 01:39:58,600 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:39:59,037 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:39:59,039 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:40:00,056 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:40:00,058 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:40:00,853 - DEBUG - app.firebase_stream - Firebase listener triggered (246). Event Type: patch, Path: /. Timestamp: 1752655200.8532293
2025-07-16 01:40:00,853 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9730000000', 'o': '37.9700000000'}, 'GBPAUD': {'b': '2.0533000000', 'o': '2.0531500000'}, 'USDJPY': {'b': '148.8630000000', 'o': '148.8590000000'}, 'CADCHF': {'b': '0.5842800000',
2025-07-16 01:40:00,853 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9730000000', 'o': '37.9700000000'}, 'GBPAUD': {'b': '2.0533000000', 'o': '2.0531500000'}, 'USDJPY': {'b': '148.8630000000', 'o': '148.8590000000'}, 'CADCHF': {'b': '0.5842800000',...
2025-07-16 01:40:00,853 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:40:01,082 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:40:01,085 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:40:02,094 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:40:02,096 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:40:03,104 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:40:03,107 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:40:03,209 - DEBUG - app.firebase_stream - Firebase listener triggered (247). Event Type: patch, Path: /. Timestamp: 1752655203.2097058
2025-07-16 01:40:03,209 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9670000000', 'o': '37.9630000000'}, 'NZDJPY': {'b': '88.4740000000', 'o': '88.4680000000'}, 'GBPAUD': {'b': '2.0533100000', 'o': '2.0532200000'}, 'BTCUSD': {'b': '118654.760000000
2025-07-16 01:40:03,210 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9670000000', 'o': '37.9630000000'}, 'NZDJPY': {'b': '88.4740000000', 'o': '88.4680000000'}, 'GBPAUD': {'b': '2.0533100000', 'o': '2.0532200000'}, 'BTCUSD': {'b': '118654.760000000...
2025-07-16 01:40:03,210 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:40:04,109 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:40:04,112 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:40:05,116 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:40:05,119 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:40:05,465 - DEBUG - app.firebase_stream - Firebase listener triggered (248). Event Type: patch, Path: /. Timestamp: 1752655205.4658117
2025-07-16 01:40:05,466 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0376000000', 'o': '13.0351600000'}, 'XAGUSD': {'b': '37.9580000000', 'o': '37.9560000000'}, 'NZDJPY': {'b': '88.4730000000', 'o': '88.4640000000'}, 'GBPAUD': {'b': '2.0533900000',
2025-07-16 01:40:05,466 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0376000000', 'o': '13.0351600000'}, 'XAGUSD': {'b': '37.9580000000', 'o': '37.9560000000'}, 'NZDJPY': {'b': '88.4730000000', 'o': '88.4640000000'}, 'GBPAUD': {'b': '2.0533900000',...
2025-07-16 01:40:05,467 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:40:06,123 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:40:06,126 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:40:07,138 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:40:07,140 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:40:07,815 - DEBUG - app.firebase_stream - Firebase listener triggered (249). Event Type: patch, Path: /. Timestamp: 1752655207.8155
2025-07-16 01:40:07,815 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0380000000', 'o': '13.0354000000'}, 'XAGUSD': {'b': '37.9740000000', 'o': '37.9700000000'}, 'NZDJPY': {'b': '88.4720000000', 'o': '88.4630000000'}, 'GBPAUD': {'b': '2.0533900000',
2025-07-16 01:40:07,815 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0380000000', 'o': '13.0354000000'}, 'XAGUSD': {'b': '37.9740000000', 'o': '37.9700000000'}, 'NZDJPY': {'b': '88.4720000000', 'o': '88.4630000000'}, 'GBPAUD': {'b': '2.0533900000',...
2025-07-16 01:40:07,816 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:40:08,144 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:40:08,146 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:40:09,154 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:40:09,157 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:40:10,068 - DEBUG - app.firebase_stream - Firebase listener triggered (250). Event Type: patch, Path: /. Timestamp: 1752655210.068419
2025-07-16 01:40:10,069 - DEBUG - app.firebase_stream - Prepared batch update for 30 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9580000000', 'o': '37.9540000000'}, 'GBPAUD': {'b': '2.0533900000', 'o': '2.0532100000'}, 'BTCUSD': {'b': '118673.0000000000', 'o': '118672.9000000000'}, 'CADCHF': {'b': '0.584270
2025-07-16 01:40:10,069 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9580000000', 'o': '37.9540000000'}, 'GBPAUD': {'b': '2.0533900000', 'o': '2.0532100000'}, 'BTCUSD': {'b': '118673.0000000000', 'o': '118672.9000000000'}, 'CADCHF': {'b': '0.584270...
2025-07-16 01:40:10,070 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:40:10,160 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:40:10,162 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:40:11,180 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:40:11,183 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:40:12,186 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:40:12,189 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:40:12,422 - DEBUG - app.firebase_stream - Firebase listener triggered (251). Event Type: patch, Path: /. Timestamp: 1752655212.4228845
2025-07-16 01:40:12,423 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0377000000', 'o': '13.0351600000'}, 'GBPAUD': {'b': '2.0533500000', 'o': '2.0533200000'}, 'BTCUSD': {'b': '118658.7800000000', 'o': '118658.7800000000'}, 'USDJPY': {'b': '148.8630
2025-07-16 01:40:12,423 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0377000000', 'o': '13.0351600000'}, 'GBPAUD': {'b': '2.0533500000', 'o': '2.0533200000'}, 'BTCUSD': {'b': '118658.7800000000', 'o': '118658.7800000000'}, 'USDJPY': {'b': '148.8630...
2025-07-16 01:40:12,423 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:40:13,205 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:40:13,209 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:40:14,224 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:40:14,228 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:40:14,677 - DEBUG - app.firebase_stream - Firebase listener triggered (252). Event Type: patch, Path: /. Timestamp: 1752655214.677849
2025-07-16 01:40:14,678 - DEBUG - app.firebase_stream - Prepared batch update for 37 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0374000000', 'o': '13.0348000000'}, 'NZDJPY': {'b': '88.4680000000', 'o': '88.4590000000'}, 'GBPAUD': {'b': '2.0534200000', 'o': '2.0533400000'}, 'BTCUSD': {'b': '118648.300000000
2025-07-16 01:40:14,678 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0374000000', 'o': '13.0348000000'}, 'NZDJPY': {'b': '88.4680000000', 'o': '88.4590000000'}, 'GBPAUD': {'b': '2.0534200000', 'o': '2.0533400000'}, 'BTCUSD': {'b': '118648.300000000...
2025-07-16 01:40:14,678 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:40:15,245 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:40:15,248 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:40:16,267 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:40:16,270 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:40:17,036 - DEBUG - app.firebase_stream - Firebase listener triggered (253). Event Type: patch, Path: /. Timestamp: 1752655217.0365093
2025-07-16 01:40:17,036 - DEBUG - app.firebase_stream - Prepared batch update for 35 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0375000000', 'o': '13.0349000000'}, 'XAGUSD': {'b': '37.9590000000', 'o': '37.9540000000'}, 'NZDJPY': {'b': '88.4730000000', 'o': '88.4650000000'}, 'GBPAUD': {'b': '2.0534300000',
2025-07-16 01:40:17,036 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0375000000', 'o': '13.0349000000'}, 'XAGUSD': {'b': '37.9590000000', 'o': '37.9540000000'}, 'NZDJPY': {'b': '88.4730000000', 'o': '88.4650000000'}, 'GBPAUD': {'b': '2.0534300000',...
2025-07-16 01:40:17,037 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:40:17,272 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:40:17,273 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:40:18,279 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:40:18,282 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:40:19,289 - DEBUG - app.firebase_stream - Firebase listener triggered (254). Event Type: patch, Path: /. Timestamp: 1752655219.2890382
2025-07-16 01:40:19,289 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:40:19,289 - DEBUG - app.firebase_stream - Prepared batch update for 35 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0376000000', 'o': '13.0350000000'}, 'XAGUSD': {'b': '37.9740000000', 'o': '37.9700000000'}, 'NZDJPY': {'b': '88.4750000000', 'o': '88.4660000000'}, 'GBPAUD': {'b': '2.0534400000',
2025-07-16 01:40:19,290 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0376000000', 'o': '13.0350000000'}, 'XAGUSD': {'b': '37.9740000000', 'o': '37.9700000000'}, 'NZDJPY': {'b': '88.4750000000', 'o': '88.4660000000'}, 'GBPAUD': {'b': '2.0534400000',...
2025-07-16 01:40:19,290 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:40:19,293 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:40:20,308 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:40:20,310 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:40:21,325 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:40:21,326 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:40:21,633 - DEBUG - app.firebase_stream - Firebase listener triggered (255). Event Type: patch, Path: /. Timestamp: 1752655221.6339555
2025-07-16 01:40:21,634 - DEBUG - app.firebase_stream - Prepared batch update for 23 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9570000000', 'o': '37.9540000000'}, 'NZDJPY': {'b': '88.4760000000', 'o': '88.4670000000'}, 'GBPAUD': {'b': '2.0534300000', 'o': '2.0533200000'}, 'BTCUSD': {'b': '118626.100000000
2025-07-16 01:40:21,634 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9570000000', 'o': '37.9540000000'}, 'NZDJPY': {'b': '88.4760000000', 'o': '88.4670000000'}, 'GBPAUD': {'b': '2.0534300000', 'o': '2.0533200000'}, 'BTCUSD': {'b': '118626.100000000...
2025-07-16 01:40:21,634 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:40:22,333 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:40:22,336 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:40:23,343 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:40:23,346 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:40:24,000 - DEBUG - app.firebase_stream - Firebase listener triggered (256). Event Type: patch, Path: /. Timestamp: 1752655224.000288
2025-07-16 01:40:24,000 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9590000000', 'o': '37.9550000000'}, 'GBPAUD': {'b': '2.0534200000', 'o': '2.0533200000'}, 'BTCUSD': {'b': '118615.6800000000', 'o': '118615.6800000000'}, 'USDJPY': {'b': '148.8730
2025-07-16 01:40:24,001 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9590000000', 'o': '37.9550000000'}, 'GBPAUD': {'b': '2.0534200000', 'o': '2.0533200000'}, 'BTCUSD': {'b': '118615.6800000000', 'o': '118615.6800000000'}, 'USDJPY': {'b': '148.8730...
2025-07-16 01:40:24,001 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:40:24,354 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:40:24,357 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:40:25,373 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:40:25,375 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:40:26,249 - DEBUG - app.firebase_stream - Firebase listener triggered (257). Event Type: patch, Path: /. Timestamp: 1752655226.2499034
2025-07-16 01:40:26,250 - DEBUG - app.firebase_stream - Prepared batch update for 34 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9580000000', 'o': '37.9540000000'}, 'NZDJPY': {'b': '88.4780000000', 'o': '88.4690000000'}, 'GBPAUD': {'b': '2.0533900000', 'o': '2.0532700000'}, 'BTCUSD': {'b': '118608.980000000
2025-07-16 01:40:26,250 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9580000000', 'o': '37.9540000000'}, 'NZDJPY': {'b': '88.4780000000', 'o': '88.4690000000'}, 'GBPAUD': {'b': '2.0533900000', 'o': '2.0532700000'}, 'BTCUSD': {'b': '118608.980000000...
2025-07-16 01:40:26,250 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:40:26,377 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:40:26,378 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:40:27,395 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:40:27,397 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:40:28,405 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:40:28,408 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:40:28,606 - DEBUG - app.firebase_stream - Firebase listener triggered (258). Event Type: patch, Path: /. Timestamp: 1752655228.60653
2025-07-16 01:40:28,606 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9670000000', 'o': '37.9630000000'}, 'NZDJPY': {'b': '88.4770000000', 'o': '88.4750000000'}, 'GBPAUD': {'b': '2.0533900000', 'o': '2.0532800000'}, 'BTCUSD': {'b': '118594.500000000
2025-07-16 01:40:28,607 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9670000000', 'o': '37.9630000000'}, 'NZDJPY': {'b': '88.4770000000', 'o': '88.4750000000'}, 'GBPAUD': {'b': '2.0533900000', 'o': '2.0532800000'}, 'BTCUSD': {'b': '118594.500000000...
2025-07-16 01:40:28,607 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:40:29,424 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:40:29,427 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:40:30,444 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:40:30,446 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:40:30,859 - DEBUG - app.firebase_stream - Firebase listener triggered (259). Event Type: patch, Path: /. Timestamp: 1752655230.8599143
2025-07-16 01:40:30,860 - DEBUG - app.firebase_stream - Prepared batch update for 35 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0377000000', 'o': '13.0351700000'}, 'XAGUSD': {'b': '37.9670000000', 'o': '37.9640000000'}, 'NZDJPY': {'b': '88.4840000000', 'o': '88.4750000000'}, 'GBPAUD': {'b': '2.0534000000',
2025-07-16 01:40:30,860 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0377000000', 'o': '13.0351700000'}, 'XAGUSD': {'b': '37.9670000000', 'o': '37.9640000000'}, 'NZDJPY': {'b': '88.4840000000', 'o': '88.4750000000'}, 'GBPAUD': {'b': '2.0534000000',...
2025-07-16 01:40:30,860 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:40:31,454 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:40:31,457 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:40:32,472 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:40:32,475 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:40:33,105 - DEBUG - app.firebase_stream - Firebase listener triggered (260). Event Type: patch, Path: /. Timestamp: 1752655233.1057816
2025-07-16 01:40:33,106 - DEBUG - app.firebase_stream - Prepared batch update for 35 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0379000000', 'o': '13.0353000000'}, 'XAGUSD': {'b': '37.9670000000', 'o': '37.9630000000'}, 'NZDJPY': {'b': '88.4750000000', 'o': '88.4680000000'}, 'GBPAUD': {'b': '2.0534200000',
2025-07-16 01:40:33,106 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0379000000', 'o': '13.0353000000'}, 'XAGUSD': {'b': '37.9670000000', 'o': '37.9630000000'}, 'NZDJPY': {'b': '88.4750000000', 'o': '88.4680000000'}, 'GBPAUD': {'b': '2.0534200000',...
2025-07-16 01:40:33,106 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:40:33,482 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:40:33,485 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:40:34,500 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:40:34,504 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:40:34,532 - WARNING - app - User 4 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:40:34,535 - WARNING - app - No user data found for user 5 (live). Skipping portfolio update.
2025-07-16 01:40:34,541 - WARNING - app - No group settings found for group string. Skipping portfolio update for user 8.
2025-07-16 01:40:34,560 - WARNING - app - User 9 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:40:34,575 - WARNING - app - User 10 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:40:34,591 - WARNING - app - User 11 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:40:34,606 - WARNING - app - User 12 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:40:34,622 - WARNING - app - User 13 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:40:35,044 - DEBUG - app.services.portfolio_calculator - Position calculation for BTCUSD: Type=BUY, Entry=118908.50000000, Current=118552.0, Quantity=0.40000000, Contract Size=1.00000000, PnL=-142.600000000000000000000000, PnL USD=-142.600000000000000000000000, Commission=235.57000000, Final PnL=-378.170000000000000000000000
2025-07-16 01:40:35,062 - WARNING - app - User 16 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:40:35,078 - WARNING - app - User 17 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:40:35,092 - WARNING - app - User 18 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:40:35,108 - WARNING - app - User 19 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:40:35,122 - WARNING - app - User 20 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:40:35,138 - WARNING - app - User 21 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:40:35,153 - WARNING - app - User 22 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:40:35,168 - WARNING - app - User 23 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:40:35,183 - WARNING - app - User 25 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:40:35,465 - DEBUG - app.firebase_stream - Firebase listener triggered (261). Event Type: patch, Path: /. Timestamp: 1752655235.465753
2025-07-16 01:40:35,466 - DEBUG - app.firebase_stream - Prepared batch update for 38 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0374000000', 'o': '13.0348200000'}, 'XAGUSD': {'b': '37.9670000000', 'o': '37.9640000000'}, 'NZDJPY': {'b': '88.4880000000', 'o': '88.4790000000'}, 'GBPAUD': {'b': '2.0534500000',
2025-07-16 01:40:35,466 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0374000000', 'o': '13.0348200000'}, 'XAGUSD': {'b': '37.9670000000', 'o': '37.9640000000'}, 'NZDJPY': {'b': '88.4880000000', 'o': '88.4790000000'}, 'GBPAUD': {'b': '2.0534500000',...
2025-07-16 01:40:35,466 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:40:35,556 - DEBUG - app.services.portfolio_calculator - Position calculation for XAGUSD: Type=BUY, Entry=41.09800000, Current=37.9505, Quantity=0.01000000, Contract Size=5000.00000000, PnL=-157.375000000000000000000000, PnL USD=-157.375000000000000000000000, Commission=0.10000000, Final PnL=-157.475000000000000000000000
2025-07-16 01:40:35,556 - DEBUG - app.services.portfolio_calculator - Position calculation for BTCUSD: Type=BUY, Entry=132091.90000000, Current=118552.0, Quantity=6.00000000, Contract Size=1.00000000, PnL=-81239.40000000000000000000000, PnL USD=-81239.40000000000000000000000, Commission=3661.62000000, Final PnL=-84901.02000000000000000000000
2025-07-16 01:40:35,556 - WARNING - app.services.portfolio_calculator - MARGIN CALL ALERT: User has margin level 67.78009641568147121670986692% which is below threshold 100.0%
2025-07-16 01:40:35,557 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:40:35,561 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:40:35,966 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=96.66800000, Current=97.041, Quantity=0.01000000, Contract Size=100000.00000000, PnL=373.000000000000000000000000, PnL USD=2.505457598656591099916036944, Commission=0.10000000, Final PnL=2.405457598656591099916036944
2025-07-16 01:40:35,967 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=96.56000000, Current=97.145, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-585.000000000000000000000000, PnL USD=-3.929471032745591939546599496, Commission=0.10000000, Final PnL=-4.029471032745591939546599496
2025-07-16 01:40:35,969 - WARNING - app - User 2 has no group_name set. Skipping portfolio update.
2025-07-16 01:40:35,973 - WARNING - app - No group settings found for group string. Skipping portfolio update for user 3.
2025-07-16 01:40:35,986 - WARNING - app - User 4 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:40:35,986 - WARNING - app - User 5 has no group_name set. Skipping portfolio update.
2025-07-16 01:40:35,987 - WARNING - app - User 6 has no group_name set. Skipping portfolio update.
2025-07-16 01:40:36,375 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64743000, Current=0.65202, Quantity=0.10000000, Contract Size=100000.00000000, PnL=45.900000000000000000000000, PnL USD=45.900000000000000000000000, Commission=1.00000000, Final PnL=44.900000000000000000000000
2025-07-16 01:40:36,375 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=SELL, Entry=0.64707000, Current=0.65235, Quantity=0.22000000, Contract Size=100000.00000000, PnL=-116.160000000000000000000000, PnL USD=-116.160000000000000000000000, Commission=2.20000000, Final PnL=-118.360000000000000000000000
2025-07-16 01:40:36,376 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFSGD: Type=BUY, Entry=1.57561500, Current=1.602735, Quantity=0.10000000, Contract Size=100000.00000000, PnL=271.200000000000000000000000, PnL USD=211.0850800519929326971723005, Commission=1.00000000, Final PnL=210.0850800519929326971723005
2025-07-16 01:40:36,376 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFSGD: Type=SELL, Entry=1.57505500, Current=1.6031549999999999, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-280.9999999999990000000000000, PnL USD=-218.7127857470862942582056212, Commission=1.00000000, Final PnL=-219.7127857470862942582056212
2025-07-16 01:40:36,377 - DEBUG - app.services.portfolio_calculator - Position calculation for CADJPY: Type=SELL, Entry=106.24150000, Current=108.5175, Quantity=0.15000000, Contract Size=100000.00000000, PnL=-34140.00000000000000000000000, PnL USD=-229.3198992443324937027707809, Commission=0E-8, Final PnL=-229.3198992443324937027707809
2025-07-16 01:40:36,377 - DEBUG - app.services.portfolio_calculator - Position calculation for CADJPY: Type=BUY, Entry=106.27050000, Current=108.4845, Quantity=0.15000000, Contract Size=100000.00000000, PnL=33210.00000000000000000000000, PnL USD=223.0730478589420654911838791, Commission=0E-8, Final PnL=223.0730478589420654911838791
2025-07-16 01:40:36,377 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=BUY, Entry=1.77481000, Current=1.78142, Quantity=0.22000000, Contract Size=100000.00000000, PnL=145.420000000000000000000000, PnL USD=94.84292400000000000000000000, Commission=2.20000000, Final PnL=92.64292400000000000000000000
2025-07-16 01:40:36,378 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=SELL, Entry=1.77439000, Current=1.78183, Quantity=0.21000000, Contract Size=100000.00000000, PnL=-156.240000000000000000000000, PnL USD=-101.8997280000000000000000000, Commission=2.10000000, Final PnL=-103.9997280000000000000000000
2025-07-16 01:40:36,378 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFJPY: Type=BUY, Entry=178.15500000, Current=185.715, Quantity=0.10000000, Contract Size=100000.00000000, PnL=75600.00000000000000000000000, PnL USD=507.8085642317380352644836272, Commission=1.00000000, Final PnL=506.8085642317380352644836272
2025-07-16 01:40:36,378 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFJPY: Type=SELL, Entry=178.09500000, Current=185.755, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-76600.00000000000000000000000, PnL USD=-514.5256087321578505457598657, Commission=1.00000000, Final PnL=-515.5256087321578505457598657
2025-07-16 01:40:36,379 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=BUY, Entry=1.77480000, Current=1.78142, Quantity=0.05000000, Contract Size=100000.00000000, PnL=33.100000000000000000000000, PnL USD=21.58782000000000000000000000, Commission=0.50000000, Final PnL=21.08782000000000000000000000
2025-07-16 01:40:36,379 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=SELL, Entry=1.77442000, Current=1.78183, Quantity=0.05000000, Contract Size=100000.00000000, PnL=-37.050000000000000000000000, PnL USD=-24.16401000000000000000000000, Commission=0.50000000, Final PnL=-24.66401000000000000000000000
2025-07-16 01:40:36,379 - DEBUG - app.services.portfolio_calculator - Position calculation for EURGBP: Type=SELL, Entry=0.85403000, Current=0.86782, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-137.900000000000000000000000, PnL USD=-184.6811960000000000000000000, Commission=1.00000000, Final PnL=-185.6811960000000000000000000
2025-07-16 01:40:36,379 - DEBUG - app.services.portfolio_calculator - Position calculation for EURJPY: Type=BUY, Entry=167.26050000, Current=172.96650000000002, Quantity=0.10000000, Contract Size=100000.00000000, PnL=57060.00000000020000000000000, PnL USD=383.2745591939560033585222502, Commission=1.00000000, Final PnL=382.2745591939560033585222502
2025-07-16 01:40:36,379 - DEBUG - app.services.portfolio_calculator - Position calculation for EURJPY: Type=SELL, Entry=167.23150000, Current=172.9975, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-57660.00000000000000000000000, PnL USD=-387.3047858942065491183879093, Commission=1.00000000, Final PnL=-388.3047858942065491183879093
2025-07-16 01:40:36,379 - DEBUG - app.services.portfolio_calculator - Position calculation for EURNZD: Type=SELL, Entry=1.91952500, Current=1.9551649999999998, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-356.3999999999980000000000000, PnL USD=-211.8441599999988112000000000, Commission=1.00000000, Final PnL=-212.8441599999988112000000000
2025-07-16 01:40:36,379 - DEBUG - app.services.portfolio_calculator - Position calculation for EURNZD: Type=BUY, Entry=1.92063500, Current=1.9547350000000001, Quantity=0.10000000, Contract Size=100000.00000000, PnL=341.0000000000010000000000000, PnL USD=202.6904000000005944000000000, Commission=1.00000000, Final PnL=201.6904000000005944000000000
2025-07-16 01:40:36,379 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=SELL, Entry=1.34376000, Current=1.33934, Quantity=0.25000000, Contract Size=0E-8, PnL=0E-24, PnL USD=0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 01:40:36,379 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=SELL, Entry=1.34361000, Current=1.33934, Quantity=0.25000000, Contract Size=0E-8, PnL=0E-24, PnL USD=0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 01:40:36,379 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=BUY, Entry=1.34379000, Current=1.33913, Quantity=0.25000000, Contract Size=0E-8, PnL=-0E-24, PnL USD=-0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 01:40:36,380 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=BUY, Entry=1.34378000, Current=1.33913, Quantity=0.25000000, Contract Size=0E-8, PnL=-0E-24, PnL USD=-0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 01:40:36,380 - DEBUG - app.services.portfolio_calculator - Position calculation for NZDJPY: Type=BUY, Entry=87.10150000, Current=88.4665, Quantity=0.01000000, Contract Size=100000.00000000, PnL=1365.000000000000000000000000, PnL USD=9.168765743073047858942065491, Commission=0.10000000, Final PnL=9.068765743073047858942065491
2025-07-16 01:40:36,380 - DEBUG - app.services.portfolio_calculator - Position calculation for USDCHF: Type=SELL, Entry=0.81771000, Current=0.8017299999999999, Quantity=0.15000000, Contract Size=100000.00000000, PnL=239.7000000000015000000000000, PnL USD=299.0642545227716781035558328, Commission=1.50000000, Final PnL=297.5642545227716781035558328
2025-07-16 01:40:36,380 - DEBUG - app.services.portfolio_calculator - Position calculation for USDCHF: Type=BUY, Entry=0.81805000, Current=0.8014100000000001, Quantity=0.15000000, Contract Size=100000.00000000, PnL=-249.5999999999985000000000000, PnL USD=-311.4160948222064878353087960, Commission=1.50000000, Final PnL=-312.9160948222064878353087960
2025-07-16 01:40:36,381 - DEBUG - app.services.portfolio_calculator - Position calculation for USDNOK: Type=BUY, Entry=10.04973000, Current=10.274560000000001, Quantity=0.10000000, Contract Size=100000.00000000, PnL=2248.300000000010000000000000, PnL USD=218.7964685823734692129827867, Commission=1.00000000, Final PnL=217.7964685823734692129827867
2025-07-16 01:40:36,381 - DEBUG - app.services.portfolio_calculator - Position calculation for USDNOK: Type=BUY, Entry=10.05023000, Current=10.274560000000001, Quantity=0.10000000, Contract Size=100000.00000000, PnL=2243.300000000010000000000000, PnL USD=218.3098865680017828365006579, Commission=1.00000000, Final PnL=217.3098865680017828365006579
2025-07-16 01:40:36,381 - DEBUG - app.services.portfolio_calculator - Position calculation for USDSGD: Type=SELL, Entry=1.28795000, Current=1.2849400000000002, Quantity=0.31000000, Contract Size=100000.00000000, PnL=93.30999999999380000000000000, PnL USD=72.62665493971294919792339604, Commission=3.10000000, Final PnL=69.52665493971294919792339604
2025-07-16 01:40:36,382 - DEBUG - app.services.portfolio_calculator - Position calculation for USDTRY: Type=SELL, Entry=39.56087000, Current=40.259209999999996, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-6983.399999999960000000000000, PnL USD=-173.4615761023719878208780831, Commission=1.00000000, Final PnL=-174.4615761023719878208780831
2025-07-16 01:40:36,736 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:40:36,739 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:40:37,096 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.89752000, Current=0.89478, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-2.740000000000000000000000, PnL USD=-1.997026325763097285793417102, Commission=0.10000000, Final PnL=-2.097026325763097285793417102
2025-07-16 01:40:37,125 - WARNING - app - User 12 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:40:37,145 - WARNING - app - User 13 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:40:37,720 - DEBUG - app.firebase_stream - Firebase listener triggered (262). Event Type: patch, Path: /. Timestamp: 1752655237.7201371
2025-07-16 01:40:37,720 - DEBUG - app.firebase_stream - Prepared batch update for 36 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9580000000', 'o': '37.9540000000'}, 'NZDJPY': {'b': '88.4720000000', 'o': '88.4630000000'}, 'GBPAUD': {'b': '2.0534400000', 'o': '2.0532700000'}, 'BTCUSD': {'b': '118630.270000000
2025-07-16 01:40:37,720 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9580000000', 'o': '37.9540000000'}, 'NZDJPY': {'b': '88.4720000000', 'o': '88.4630000000'}, 'GBPAUD': {'b': '2.0534400000', 'o': '2.0532700000'}, 'BTCUSD': {'b': '118630.270000000...
2025-07-16 01:40:37,721 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:40:37,742 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:40:37,746 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:40:38,753 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:40:38,755 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:40:39,769 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:40:39,772 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:40:40,073 - DEBUG - app.firebase_stream - Firebase listener triggered (263). Event Type: patch, Path: /. Timestamp: 1752655240.0739682
2025-07-16 01:40:40,074 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4870000000', 'o': '88.4790000000'}, 'GBPAUD': {'b': '2.0533800000', 'o': '2.0532300000'}, 'BTCUSD': {'b': '118668.3000000000', 'o': '118668.2000000000'}, 'CADCHF': {'b': '0.584270
2025-07-16 01:40:40,074 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4870000000', 'o': '88.4790000000'}, 'GBPAUD': {'b': '2.0533800000', 'o': '2.0532300000'}, 'BTCUSD': {'b': '118668.3000000000', 'o': '118668.2000000000'}, 'CADCHF': {'b': '0.584270...
2025-07-16 01:40:40,074 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:40:40,776 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:40:40,778 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:40:41,792 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:40:41,796 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:40:42,322 - DEBUG - app.firebase_stream - Firebase listener triggered (264). Event Type: patch, Path: /. Timestamp: 1752655242.3226497
2025-07-16 01:40:42,322 - DEBUG - app.firebase_stream - Prepared batch update for 34 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0376000000', 'o': '13.0350000000'}, 'XAGUSD': {'b': '37.9690000000', 'o': '37.9650000000'}, 'NZDJPY': {'b': '88.4870000000', 'o': '88.4810000000'}, 'GBPAUD': {'b': '2.0533100000',
2025-07-16 01:40:42,323 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0376000000', 'o': '13.0350000000'}, 'XAGUSD': {'b': '37.9690000000', 'o': '37.9650000000'}, 'NZDJPY': {'b': '88.4870000000', 'o': '88.4810000000'}, 'GBPAUD': {'b': '2.0533100000',...
2025-07-16 01:40:42,323 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:40:42,810 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:40:42,812 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:40:43,826 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:40:43,828 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:40:44,577 - DEBUG - app.firebase_stream - Firebase listener triggered (265). Event Type: patch, Path: /. Timestamp: 1752655244.5771625
2025-07-16 01:40:44,577 - DEBUG - app.firebase_stream - Prepared batch update for 38 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0374000000', 'o': '13.0350900000'}, 'XAGUSD': {'b': '37.9770000000', 'o': '37.9750000000'}, 'NZDJPY': {'b': '88.4900000000', 'o': '88.4810000000'}, 'GBPAUD': {'b': '2.0533000000',
2025-07-16 01:40:44,577 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0374000000', 'o': '13.0350900000'}, 'XAGUSD': {'b': '37.9770000000', 'o': '37.9750000000'}, 'NZDJPY': {'b': '88.4900000000', 'o': '88.4810000000'}, 'GBPAUD': {'b': '2.0533000000',...
2025-07-16 01:40:44,578 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:40:44,835 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:40:44,837 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:40:45,853 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:40:45,855 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:40:46,858 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:40:46,861 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:40:46,930 - DEBUG - app.firebase_stream - Firebase listener triggered (266). Event Type: patch, Path: /. Timestamp: 1752655246.9303062
2025-07-16 01:40:46,930 - DEBUG - app.firebase_stream - Prepared batch update for 30 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9780000000', 'o': '37.9730000000'}, 'NZDJPY': {'b': '88.4900000000', 'o': '88.4820000000'}, 'GBPAUD': {'b': '2.0533300000', 'o': '2.0531800000'}, 'BTCUSD': {'b': '118651.000000000
2025-07-16 01:40:46,930 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9780000000', 'o': '37.9730000000'}, 'NZDJPY': {'b': '88.4900000000', 'o': '88.4820000000'}, 'GBPAUD': {'b': '2.0533300000', 'o': '2.0531800000'}, 'BTCUSD': {'b': '118651.000000000...
2025-07-16 01:40:46,930 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:40:47,874 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:40:47,877 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:40:48,892 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:40:48,895 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:40:49,185 - DEBUG - app.firebase_stream - Firebase listener triggered (267). Event Type: patch, Path: /. Timestamp: 1752655249.1856
2025-07-16 01:40:49,186 - DEBUG - app.firebase_stream - Prepared batch update for 25 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0376000000', 'o': '13.0350000000'}, 'GBPAUD': {'b': '2.0533300000', 'o': '2.0531900000'}, 'BTCUSD': {'b': '118635.1000000000', 'o': '118635.0000000000'}, 'USDJPY': {'b': '148.8710
2025-07-16 01:40:49,186 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0376000000', 'o': '13.0350000000'}, 'GBPAUD': {'b': '2.0533300000', 'o': '2.0531900000'}, 'BTCUSD': {'b': '118635.1000000000', 'o': '118635.0000000000'}, 'USDJPY': {'b': '148.8710...
2025-07-16 01:40:49,187 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:40:49,909 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:40:49,911 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:40:50,927 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:40:50,929 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:40:51,543 - DEBUG - app.firebase_stream - Firebase listener triggered (268). Event Type: patch, Path: /. Timestamp: 1752655251.5437412
2025-07-16 01:40:51,544 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0373000000', 'o': '13.0347000000'}, 'XAGUSD': {'b': '37.9760000000', 'o': '37.9720000000'}, 'GBPAUD': {'b': '2.0533400000', 'o': '2.0532000000'}, 'USDJPY': {'b': '148.8740000000',
2025-07-16 01:40:51,544 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0373000000', 'o': '13.0347000000'}, 'XAGUSD': {'b': '37.9760000000', 'o': '37.9720000000'}, 'GBPAUD': {'b': '2.0533400000', 'o': '2.0532000000'}, 'USDJPY': {'b': '148.8740000000',...
2025-07-16 01:40:51,544 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:40:51,945 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:40:51,948 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:40:52,960 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:40:52,963 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:40:53,796 - DEBUG - app.firebase_stream - Firebase listener triggered (269). Event Type: patch, Path: /. Timestamp: 1752655253.7969017
2025-07-16 01:40:53,813 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9800000000', 'o': '37.9760000000'}, 'NZDJPY': {'b': '88.4920000000', 'o': '88.4840000000'}, 'GBPAUD': {'b': '2.0533600000', 'o': '2.0532200000'}, 'USDJPY': {'b': '148.8730000000',
2025-07-16 01:40:53,813 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9800000000', 'o': '37.9760000000'}, 'NZDJPY': {'b': '88.4920000000', 'o': '88.4840000000'}, 'GBPAUD': {'b': '2.0533600000', 'o': '2.0532200000'}, 'USDJPY': {'b': '148.8730000000',...
2025-07-16 01:40:53,813 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:40:53,964 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:40:53,966 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:40:54,973 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:40:54,975 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:40:55,990 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:40:55,993 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:40:56,149 - DEBUG - app.firebase_stream - Firebase listener triggered (270). Event Type: patch, Path: /. Timestamp: 1752655256.149246
2025-07-16 01:40:56,149 - DEBUG - app.firebase_stream - Prepared batch update for 30 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9810000000', 'o': '37.9760000000'}, 'NZDJPY': {'b': '88.4930000000', 'o': '88.4840000000'}, 'GBPAUD': {'b': '2.0533700000', 'o': '2.0532300000'}, 'BTCUSD': {'b': '118624.000000000
2025-07-16 01:40:56,150 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9810000000', 'o': '37.9760000000'}, 'NZDJPY': {'b': '88.4930000000', 'o': '88.4840000000'}, 'GBPAUD': {'b': '2.0533700000', 'o': '2.0532300000'}, 'BTCUSD': {'b': '118624.000000000...
2025-07-16 01:40:56,150 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:40:57,007 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:40:57,009 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:40:57,264 - INFO - app - Starting cache validation task
2025-07-16 01:40:57,270 - INFO - app - Validating cache for 30 users
2025-07-16 01:40:57,271 - WARNING - app - User 4: Missing balance/margin cache, refreshing...
2025-07-16 01:40:57,278 - WARNING - app - User 5: Missing balance/margin cache, refreshing...
2025-07-16 01:40:57,281 - WARNING - app - User 8: Missing balance/margin cache, refreshing...
2025-07-16 01:40:57,286 - WARNING - app - User 9: Missing balance/margin cache, refreshing...
2025-07-16 01:40:57,291 - WARNING - app - User 10: Missing balance/margin cache, refreshing...
2025-07-16 01:40:57,296 - WARNING - app - User 11: Missing balance/margin cache, refreshing...
2025-07-16 01:40:57,300 - WARNING - app - User 12: Missing balance/margin cache, refreshing...
2025-07-16 01:40:57,305 - WARNING - app - User 13: Missing balance/margin cache, refreshing...
2025-07-16 01:40:57,310 - WARNING - app - User 14: Missing balance/margin cache, refreshing...
2025-07-16 01:40:57,315 - WARNING - app - User 16: Missing balance/margin cache, refreshing...
2025-07-16 01:40:57,320 - WARNING - app - User 17: Missing balance/margin cache, refreshing...
2025-07-16 01:40:57,324 - WARNING - app - User 18: Missing balance/margin cache, refreshing...
2025-07-16 01:40:57,329 - WARNING - app - User 19: Missing balance/margin cache, refreshing...
2025-07-16 01:40:57,334 - WARNING - app - User 20: Missing balance/margin cache, refreshing...
2025-07-16 01:40:57,340 - WARNING - app - User 21: Missing balance/margin cache, refreshing...
2025-07-16 01:40:57,345 - WARNING - app - User 22: Missing balance/margin cache, refreshing...
2025-07-16 01:40:57,350 - WARNING - app - User 23: Missing balance/margin cache, refreshing...
2025-07-16 01:40:57,355 - WARNING - app - User 25: Missing balance/margin cache, refreshing...
2025-07-16 01:40:57,360 - WARNING - app - User 26: Missing balance/margin cache, refreshing...
2025-07-16 01:40:57,366 - WARNING - app - User 1: Missing balance/margin cache, refreshing...
2025-07-16 01:40:57,372 - WARNING - app - User 2: Missing balance/margin cache, refreshing...
2025-07-16 01:40:57,378 - WARNING - app - User 3: Missing balance/margin cache, refreshing...
2025-07-16 01:40:57,385 - WARNING - app - User 5: Missing balance/margin cache, refreshing...
2025-07-16 01:40:57,391 - WARNING - app - User 6: Missing balance/margin cache, refreshing...
2025-07-16 01:40:57,400 - INFO - app - Cache validation completed
2025-07-16 01:40:58,016 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:40:58,019 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:40:58,408 - DEBUG - app.firebase_stream - Firebase listener triggered (271). Event Type: patch, Path: /. Timestamp: 1752655258.408469
2025-07-16 01:40:58,408 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0371000000', 'o': '13.0345000000'}, 'XAGUSD': {'b': '37.9800000000', 'o': '37.9760000000'}, 'NZDJPY': {'b': '88.4780000000', 'o': '88.4750000000'}, 'GBPAUD': {'b': '2.0533800000',
2025-07-16 01:40:58,408 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0371000000', 'o': '13.0345000000'}, 'XAGUSD': {'b': '37.9800000000', 'o': '37.9760000000'}, 'NZDJPY': {'b': '88.4780000000', 'o': '88.4750000000'}, 'GBPAUD': {'b': '2.0533800000',...
2025-07-16 01:40:58,409 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:40:59,032 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:40:59,035 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:41:00,048 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:41:00,051 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:41:00,758 - DEBUG - app.firebase_stream - Firebase listener triggered (272). Event Type: patch, Path: /. Timestamp: 1752655260.7587636
2025-07-16 01:41:00,759 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9790000000', 'o': '37.9760000000'}, 'NZDJPY': {'b': '88.4930000000', 'o': '88.4850000000'}, 'GBPAUD': {'b': '2.0533700000', 'o': '2.0532400000'}, 'BTCUSD': {'b': '118605.100000000
2025-07-16 01:41:00,759 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9790000000', 'o': '37.9760000000'}, 'NZDJPY': {'b': '88.4930000000', 'o': '88.4850000000'}, 'GBPAUD': {'b': '2.0533700000', 'o': '2.0532400000'}, 'BTCUSD': {'b': '118605.100000000...
2025-07-16 01:41:00,759 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:41:01,065 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:41:01,067 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:41:02,081 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:41:02,083 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:41:03,008 - DEBUG - app.firebase_stream - Firebase listener triggered (273). Event Type: patch, Path: /. Timestamp: 1752655263.0088882
2025-07-16 01:41:03,009 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0375000000', 'o': '13.0349000000'}, 'XAGUSD': {'b': '37.9800000000', 'o': '37.9740000000'}, 'GBPAUD': {'b': '2.0533300000', 'o': '2.0532300000'}, 'BTCUSD': {'b': '118602.100000000
2025-07-16 01:41:03,009 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0375000000', 'o': '13.0349000000'}, 'XAGUSD': {'b': '37.9800000000', 'o': '37.9740000000'}, 'GBPAUD': {'b': '2.0533300000', 'o': '2.0532300000'}, 'BTCUSD': {'b': '118602.100000000...
2025-07-16 01:41:03,009 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:41:03,085 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:41:03,087 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:41:04,104 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:41:04,106 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:41:05,119 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:41:05,122 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:41:05,260 - DEBUG - app.firebase_stream - Firebase listener triggered (274). Event Type: patch, Path: /. Timestamp: 1752655265.260008
2025-07-16 01:41:05,260 - DEBUG - app.firebase_stream - Prepared batch update for 26 symbols from root path for queue. Preview: {'GBPAUD': {'b': '2.0533400000', 'o': '2.0532000000'}, 'BTCUSD': {'b': '118656.1000000000', 'o': '118656.0000000000'}, 'USDCNH': {'b': '7.1810800000', 'o': '7.1810500000'}, 'EURZAR': {'b': '20.8242600
2025-07-16 01:41:05,260 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPAUD': {'b': '2.0533400000', 'o': '2.0532000000'}, 'BTCUSD': {'b': '118656.1000000000', 'o': '118656.0000000000'}, 'USDCNH': {'b': '7.1810800000', 'o': '7.1810500000'}, 'EURZAR': {'b': '20.8242600...
2025-07-16 01:41:05,260 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:41:06,134 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:41:06,136 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:41:07,143 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:41:07,146 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:41:07,618 - DEBUG - app.firebase_stream - Firebase listener triggered (275). Event Type: patch, Path: /. Timestamp: 1752655267.618349
2025-07-16 01:41:07,618 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9810000000', 'o': '37.9740000000'}, 'NZDJPY': {'b': '88.4940000000', 'o': '88.4860000000'}, 'GBPAUD': {'b': '2.0533400000', 'o': '2.0532100000'}, 'BTCUSD': {'b': '118630.270000000
2025-07-16 01:41:07,619 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9810000000', 'o': '37.9740000000'}, 'NZDJPY': {'b': '88.4940000000', 'o': '88.4860000000'}, 'GBPAUD': {'b': '2.0533400000', 'o': '2.0532100000'}, 'BTCUSD': {'b': '118630.270000000...
2025-07-16 01:41:07,619 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:41:08,162 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:41:08,165 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:41:09,177 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:41:09,180 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:41:09,872 - DEBUG - app.firebase_stream - Firebase listener triggered (276). Event Type: patch, Path: /. Timestamp: 1752655269.8727326
2025-07-16 01:41:09,873 - DEBUG - app.firebase_stream - Prepared batch update for 27 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9690000000', 'o': '37.9650000000'}, 'NZDJPY': {'b': '88.4940000000', 'o': '88.4880000000'}, 'GBPAUD': {'b': '2.0533200000', 'o': '2.0532300000'}, 'BTCUSD': {'b': '118672.900000000
2025-07-16 01:41:09,873 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9690000000', 'o': '37.9650000000'}, 'NZDJPY': {'b': '88.4940000000', 'o': '88.4880000000'}, 'GBPAUD': {'b': '2.0533200000', 'o': '2.0532300000'}, 'BTCUSD': {'b': '118672.900000000...
2025-07-16 01:41:09,873 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:41:10,193 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:41:10,197 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:41:11,201 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:41:11,204 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:41:12,126 - DEBUG - app.firebase_stream - Firebase listener triggered (277). Event Type: patch, Path: /. Timestamp: 1752655272.1260366
2025-07-16 01:41:12,126 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0366000000', 'o': '13.0340000000'}, 'XAGUSD': {'b': '37.9790000000', 'o': '37.9740000000'}, 'NZDJPY': {'b': '88.4950000000', 'o': '88.4880000000'}, 'GBPAUD': {'b': '2.0533400000',
2025-07-16 01:41:12,126 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0366000000', 'o': '13.0340000000'}, 'XAGUSD': {'b': '37.9790000000', 'o': '37.9740000000'}, 'NZDJPY': {'b': '88.4950000000', 'o': '88.4880000000'}, 'GBPAUD': {'b': '2.0533400000',...
2025-07-16 01:41:12,126 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:41:12,210 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:41:12,212 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:41:13,225 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:41:13,230 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:41:14,244 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:41:14,262 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:41:14,408 - DEBUG - app.firebase_stream - Firebase listener triggered (278). Event Type: patch, Path: /. Timestamp: 1752655274.4081588
2025-07-16 01:41:14,408 - DEBUG - app.firebase_stream - Prepared batch update for 34 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0364000000', 'o': '13.0339000000'}, 'XAGUSD': {'b': '37.9770000000', 'o': '37.9750000000'}, 'NZDJPY': {'b': '88.4900000000', 'o': '88.4810000000'}, 'GBPAUD': {'b': '2.0533900000',
2025-07-16 01:41:14,409 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0364000000', 'o': '13.0339000000'}, 'XAGUSD': {'b': '37.9770000000', 'o': '37.9750000000'}, 'NZDJPY': {'b': '88.4900000000', 'o': '88.4810000000'}, 'GBPAUD': {'b': '2.0533900000',...
2025-07-16 01:41:14,409 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:41:15,265 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:41:15,268 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:41:16,278 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:41:16,281 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:41:16,806 - DEBUG - app.firebase_stream - Firebase listener triggered (279). Event Type: patch, Path: /. Timestamp: 1752655276.8063881
2025-07-16 01:41:16,806 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0374000000', 'o': '13.0348000000'}, 'XAGUSD': {'b': '37.9730000000', 'o': '37.9690000000'}, 'NZDJPY': {'b': '88.4900000000', 'o': '88.4860000000'}, 'GBPAUD': {'b': '2.0533300000',
2025-07-16 01:41:16,806 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0374000000', 'o': '13.0348000000'}, 'XAGUSD': {'b': '37.9730000000', 'o': '37.9690000000'}, 'NZDJPY': {'b': '88.4900000000', 'o': '88.4860000000'}, 'GBPAUD': {'b': '2.0533300000',...
2025-07-16 01:41:16,807 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:41:17,293 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:41:17,297 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:41:18,304 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:41:18,308 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:41:19,094 - DEBUG - app.firebase_stream - Firebase listener triggered (280). Event Type: patch, Path: /. Timestamp: 1752655279.0946205
2025-07-16 01:41:19,095 - DEBUG - app.firebase_stream - Prepared batch update for 34 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0362000000', 'o': '13.0336000000'}, 'XAGUSD': {'b': '37.9810000000', 'o': '37.9740000000'}, 'NZDJPY': {'b': '88.4900000000', 'o': '88.4820000000'}, 'GBPAUD': {'b': '2.0533000000',
2025-07-16 01:41:19,095 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0362000000', 'o': '13.0336000000'}, 'XAGUSD': {'b': '37.9810000000', 'o': '37.9740000000'}, 'NZDJPY': {'b': '88.4900000000', 'o': '88.4820000000'}, 'GBPAUD': {'b': '2.0533000000',...
2025-07-16 01:41:19,095 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:41:19,310 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:41:19,314 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:41:20,318 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:41:20,322 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:41:21,328 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:41:21,332 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:41:21,450 - DEBUG - app.firebase_stream - Firebase listener triggered (281). Event Type: patch, Path: /. Timestamp: 1752655281.4509437
2025-07-16 01:41:21,451 - DEBUG - app.firebase_stream - Prepared batch update for 36 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0354000000', 'o': '13.0328800000'}, 'NZDJPY': {'b': '88.4920000000', 'o': '88.4820000000'}, 'GBPAUD': {'b': '2.0532700000', 'o': '2.0531400000'}, 'BTCUSD': {'b': '118717.520000000
2025-07-16 01:41:21,452 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0354000000', 'o': '13.0328800000'}, 'NZDJPY': {'b': '88.4920000000', 'o': '88.4820000000'}, 'GBPAUD': {'b': '2.0532700000', 'o': '2.0531400000'}, 'BTCUSD': {'b': '118717.520000000...
2025-07-16 01:41:21,452 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:41:22,342 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:41:22,347 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:41:23,363 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:41:23,368 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:41:23,702 - DEBUG - app.firebase_stream - Firebase listener triggered (282). Event Type: patch, Path: /. Timestamp: 1752655283.70256
2025-07-16 01:41:23,703 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0355000000', 'o': '13.0329000000'}, 'XAGUSD': {'b': '37.9760000000', 'o': '37.9680000000'}, 'NZDJPY': {'b': '88.4920000000', 'o': '88.4830000000'}, 'GBPAUD': {'b': '2.0533100000',
2025-07-16 01:41:23,704 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0355000000', 'o': '13.0329000000'}, 'XAGUSD': {'b': '37.9760000000', 'o': '37.9680000000'}, 'NZDJPY': {'b': '88.4920000000', 'o': '88.4830000000'}, 'GBPAUD': {'b': '2.0533100000',...
2025-07-16 01:41:23,705 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:41:24,383 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:41:24,388 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:41:25,391 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:41:25,395 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:41:25,952 - DEBUG - app.firebase_stream - Firebase listener triggered (283). Event Type: patch, Path: /. Timestamp: 1752655285.9528506
2025-07-16 01:41:25,953 - DEBUG - app.firebase_stream - Prepared batch update for 36 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0358000000', 'o': '13.0332000000'}, 'XAGUSD': {'b': '37.9720000000', 'o': '37.9650000000'}, 'NZDJPY': {'b': '88.4920000000', 'o': '88.4840000000'}, 'GBPAUD': {'b': '2.0533600000',
2025-07-16 01:41:25,953 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0358000000', 'o': '13.0332000000'}, 'XAGUSD': {'b': '37.9720000000', 'o': '37.9650000000'}, 'NZDJPY': {'b': '88.4920000000', 'o': '88.4840000000'}, 'GBPAUD': {'b': '2.0533600000',...
2025-07-16 01:41:25,953 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:41:26,405 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:41:26,409 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:41:27,416 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:41:27,419 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:41:28,304 - DEBUG - app.firebase_stream - Firebase listener triggered (284). Event Type: patch, Path: /. Timestamp: 1752655288.304592
2025-07-16 01:41:28,304 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0371000000', 'o': '13.0345000000'}, 'NZDJPY': {'b': '88.4910000000', 'o': '88.4820000000'}, 'GBPAUD': {'b': '2.0533700000', 'o': '2.0532200000'}, 'USDJPY': {'b': '148.8740000000',
2025-07-16 01:41:28,305 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0371000000', 'o': '13.0345000000'}, 'NZDJPY': {'b': '88.4910000000', 'o': '88.4820000000'}, 'GBPAUD': {'b': '2.0533700000', 'o': '2.0532200000'}, 'USDJPY': {'b': '148.8740000000',...
2025-07-16 01:41:28,305 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:41:28,422 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:41:28,423 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:41:29,431 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:41:29,435 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:41:30,452 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:41:30,457 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:41:30,563 - DEBUG - app.firebase_stream - Firebase listener triggered (285). Event Type: patch, Path: /. Timestamp: 1752655290.5631828
2025-07-16 01:41:30,563 - DEBUG - app.firebase_stream - Prepared batch update for 37 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0346000000', 'o': '13.0321900000'}, 'XAGUSD': {'b': '37.9730000000', 'o': '37.9650000000'}, 'NZDJPY': {'b': '88.4940000000', 'o': '88.4850000000'}, 'GBPAUD': {'b': '2.0534200000',
2025-07-16 01:41:30,563 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0346000000', 'o': '13.0321900000'}, 'XAGUSD': {'b': '37.9730000000', 'o': '37.9650000000'}, 'NZDJPY': {'b': '88.4940000000', 'o': '88.4850000000'}, 'GBPAUD': {'b': '2.0534200000',...
2025-07-16 01:41:30,564 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:41:31,469 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:41:31,473 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:41:32,487 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:41:32,491 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:41:32,916 - DEBUG - app.firebase_stream - Firebase listener triggered (286). Event Type: patch, Path: /. Timestamp: 1752655292.9164188
2025-07-16 01:41:32,917 - DEBUG - app.firebase_stream - Prepared batch update for 30 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0328000000', 'o': '13.0305200000'}, 'NZDJPY': {'b': '88.4940000000', 'o': '88.4840000000'}, 'GBPAUD': {'b': '2.0534000000', 'o': '2.0532700000'}, 'BTCUSD': {'b': '118608.400000000
2025-07-16 01:41:32,917 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0328000000', 'o': '13.0305200000'}, 'NZDJPY': {'b': '88.4940000000', 'o': '88.4840000000'}, 'GBPAUD': {'b': '2.0534000000', 'o': '2.0532700000'}, 'BTCUSD': {'b': '118608.400000000...
2025-07-16 01:41:32,917 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:41:33,505 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:41:33,509 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:41:34,514 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:41:34,518 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:41:34,547 - WARNING - app - User 4 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:41:34,550 - WARNING - app - No user data found for user 5 (live). Skipping portfolio update.
2025-07-16 01:41:34,557 - WARNING - app - No group settings found for group string. Skipping portfolio update for user 8.
2025-07-16 01:41:34,575 - WARNING - app - User 9 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:41:34,592 - WARNING - app - User 10 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:41:34,609 - WARNING - app - User 11 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:41:34,622 - WARNING - app - User 12 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:41:34,633 - WARNING - app - User 13 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:41:35,048 - DEBUG - app.services.portfolio_calculator - Position calculation for BTCUSD: Type=BUY, Entry=118908.50000000, Current=118558.3, Quantity=0.40000000, Contract Size=1.00000000, PnL=-140.080000000000000000000000, PnL USD=-140.080000000000000000000000, Commission=235.57000000, Final PnL=-375.650000000000000000000000
2025-07-16 01:41:35,064 - WARNING - app - User 16 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:41:35,080 - WARNING - app - User 17 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:41:35,095 - WARNING - app - User 18 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:41:35,110 - WARNING - app - User 19 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:41:35,127 - WARNING - app - User 20 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:41:35,147 - WARNING - app - User 21 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:41:35,160 - DEBUG - app.firebase_stream - Firebase listener triggered (287). Event Type: patch, Path: /. Timestamp: 1752655295.160737
2025-07-16 01:41:35,160 - DEBUG - app.firebase_stream - Prepared batch update for 35 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0342000000', 'o': '13.0316000000'}, 'XAGUSD': {'b': '37.9720000000', 'o': '37.9650000000'}, 'NZDJPY': {'b': '88.4930000000', 'o': '88.4840000000'}, 'GBPAUD': {'b': '2.0533700000',
2025-07-16 01:41:35,161 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0342000000', 'o': '13.0316000000'}, 'XAGUSD': {'b': '37.9720000000', 'o': '37.9650000000'}, 'NZDJPY': {'b': '88.4930000000', 'o': '88.4840000000'}, 'GBPAUD': {'b': '2.0533700000',...
2025-07-16 01:41:35,161 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:41:35,206 - WARNING - app - User 22 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:41:35,230 - WARNING - app - User 23 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:41:35,253 - WARNING - app - User 25 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:41:35,664 - DEBUG - app.services.portfolio_calculator - Position calculation for XAGUSD: Type=BUY, Entry=41.09800000, Current=37.9525, Quantity=0.01000000, Contract Size=5000.00000000, PnL=-157.275000000000000000000000, PnL USD=-157.275000000000000000000000, Commission=0.10000000, Final PnL=-157.375000000000000000000000
2025-07-16 01:41:35,664 - DEBUG - app.services.portfolio_calculator - Position calculation for BTCUSD: Type=BUY, Entry=132091.90000000, Current=118558.3, Quantity=6.00000000, Contract Size=1.00000000, PnL=-81201.60000000000000000000000, PnL USD=-81201.60000000000000000000000, Commission=3661.62000000, Final PnL=-84863.22000000000000000000000
2025-07-16 01:41:35,664 - WARNING - app.services.portfolio_calculator - MARGIN CALL ALERT: User has margin level 67.80596946556860259657559603% which is below threshold 100.0%
2025-07-16 01:41:35,664 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:41:35,666 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:41:36,076 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=96.66800000, Current=97.044, Quantity=0.01000000, Contract Size=100000.00000000, PnL=376.000000000000000000000000, PnL USD=2.525846259261996090312439121, Commission=0.10000000, Final PnL=2.425846259261996090312439121
2025-07-16 01:41:36,077 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=96.56000000, Current=97.152, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-592.000000000000000000000000, PnL USD=-3.976864323093355546449372233, Commission=0.10000000, Final PnL=-4.076864323093355546449372233
2025-07-16 01:41:36,079 - WARNING - app - User 2 has no group_name set. Skipping portfolio update.
2025-07-16 01:41:36,086 - WARNING - app - No group settings found for group string. Skipping portfolio update for user 3.
2025-07-16 01:41:36,105 - WARNING - app - User 4 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:41:36,106 - WARNING - app - User 5 has no group_name set. Skipping portfolio update.
2025-07-16 01:41:36,107 - WARNING - app - User 6 has no group_name set. Skipping portfolio update.
2025-07-16 01:41:36,484 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64743000, Current=0.65213, Quantity=0.10000000, Contract Size=100000.00000000, PnL=47.000000000000000000000000, PnL USD=47.000000000000000000000000, Commission=1.00000000, Final PnL=46.000000000000000000000000
2025-07-16 01:41:36,484 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=SELL, Entry=0.64707000, Current=0.65245, Quantity=0.22000000, Contract Size=100000.00000000, PnL=-118.360000000000000000000000, PnL USD=-118.360000000000000000000000, Commission=2.20000000, Final PnL=-120.560000000000000000000000
2025-07-16 01:41:36,485 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFSGD: Type=BUY, Entry=1.57561500, Current=1.602675, Quantity=0.10000000, Contract Size=100000.00000000, PnL=270.600000000000000000000000, PnL USD=210.6311930318904655525371485, Commission=1.00000000, Final PnL=209.6311930318904655525371485
2025-07-16 01:41:36,486 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFSGD: Type=SELL, Entry=1.57505500, Current=1.6031449999999998, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-280.8999999999980000000000000, PnL USD=-218.6485666025780137151575064, Commission=1.00000000, Final PnL=-219.6485666025780137151575064
2025-07-16 01:41:36,486 - DEBUG - app.services.portfolio_calculator - Position calculation for CADJPY: Type=SELL, Entry=106.24150000, Current=108.5245, Quantity=0.15000000, Contract Size=100000.00000000, PnL=-34245.00000000000000000000000, PnL USD=-230.0468222032634471083762705, Commission=0E-8, Final PnL=-230.0468222032634471083762705
2025-07-16 01:41:36,487 - DEBUG - app.services.portfolio_calculator - Position calculation for CADJPY: Type=BUY, Entry=106.27050000, Current=108.4915, Quantity=0.15000000, Contract Size=100000.00000000, PnL=33315.00000000000000000000000, PnL USD=223.7993833173228716722311418, Commission=0E-8, Final PnL=223.7993833173228716722311418
2025-07-16 01:41:36,487 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=BUY, Entry=1.77481000, Current=1.78151, Quantity=0.22000000, Contract Size=100000.00000000, PnL=147.400000000000000000000000, PnL USD=96.14902000000000000000000000, Commission=2.20000000, Final PnL=93.94902000000000000000000000
2025-07-16 01:41:36,487 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=SELL, Entry=1.77439000, Current=1.7819, Quantity=0.21000000, Contract Size=100000.00000000, PnL=-157.710000000000000000000000, PnL USD=-102.8742330000000000000000000, Commission=2.10000000, Final PnL=-104.9742330000000000000000000
2025-07-16 01:41:36,488 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFJPY: Type=BUY, Entry=178.15500000, Current=185.705, Quantity=0.10000000, Contract Size=100000.00000000, PnL=75500.00000000000000000000000, PnL USD=507.1845547188316617515668980, Commission=1.00000000, Final PnL=506.1845547188316617515668980
2025-07-16 01:41:36,489 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFJPY: Type=SELL, Entry=178.09500000, Current=185.755, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-76600.00000000000000000000000, PnL USD=-514.5739985624172886115235018, Commission=1.00000000, Final PnL=-515.5739985624172886115235018
2025-07-16 01:41:36,489 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=BUY, Entry=1.77480000, Current=1.78151, Quantity=0.05000000, Contract Size=100000.00000000, PnL=33.550000000000000000000000, PnL USD=21.88466500000000000000000000, Commission=0.50000000, Final PnL=21.38466500000000000000000000
2025-07-16 01:41:36,489 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=SELL, Entry=1.77442000, Current=1.7819, Quantity=0.05000000, Contract Size=100000.00000000, PnL=-37.400000000000000000000000, PnL USD=-24.39602000000000000000000000, Commission=0.50000000, Final PnL=-24.89602000000000000000000000
2025-07-16 01:41:36,489 - DEBUG - app.services.portfolio_calculator - Position calculation for EURGBP: Type=SELL, Entry=0.85403000, Current=0.8679, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-138.700000000000000000000000, PnL USD=-185.7692320000000000000000000, Commission=1.00000000, Final PnL=-186.7692320000000000000000000
2025-07-16 01:41:36,489 - DEBUG - app.services.portfolio_calculator - Position calculation for EURJPY: Type=BUY, Entry=167.26050000, Current=172.9875, Quantity=0.10000000, Contract Size=100000.00000000, PnL=57270.00000000000000000000000, PnL USD=384.7213172019535002451951821, Commission=1.00000000, Final PnL=383.7213172019535002451951821
2025-07-16 01:41:36,490 - DEBUG - app.services.portfolio_calculator - Position calculation for EURJPY: Type=SELL, Entry=167.23150000, Current=173.01749999999998, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-57859.99999999980000000000000, PnL USD=-388.6847461726026292984730722, Commission=1.00000000, Final PnL=-389.6847461726026292984730722
2025-07-16 01:41:36,490 - DEBUG - app.services.portfolio_calculator - Position calculation for EURNZD: Type=SELL, Entry=1.91952500, Current=1.955295, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-357.700000000000000000000000, PnL USD=-212.6383420000000000000000000, Commission=1.00000000, Final PnL=-213.6383420000000000000000000
2025-07-16 01:41:36,491 - DEBUG - app.services.portfolio_calculator - Position calculation for EURNZD: Type=BUY, Entry=1.92063500, Current=1.954865, Quantity=0.10000000, Contract Size=100000.00000000, PnL=342.300000000000000000000000, PnL USD=203.4836580000000000000000000, Commission=1.00000000, Final PnL=202.4836580000000000000000000
2025-07-16 01:41:36,491 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=SELL, Entry=1.34376000, Current=1.33946, Quantity=0.25000000, Contract Size=0E-8, PnL=0E-24, PnL USD=0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 01:41:36,491 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=SELL, Entry=1.34361000, Current=1.33946, Quantity=0.25000000, Contract Size=0E-8, PnL=0E-24, PnL USD=0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 01:41:36,491 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=BUY, Entry=1.34379000, Current=1.33925, Quantity=0.25000000, Contract Size=0E-8, PnL=-0E-24, PnL USD=-0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 01:41:36,491 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=BUY, Entry=1.34378000, Current=1.33925, Quantity=0.25000000, Contract Size=0E-8, PnL=-0E-24, PnL USD=-0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 01:41:36,492 - DEBUG - app.services.portfolio_calculator - Position calculation for NZDJPY: Type=BUY, Entry=87.10150000, Current=88.47149999999999, Quantity=0.01000000, Contract Size=100000.00000000, PnL=1369.999999999990000000000000, PnL USD=9.203216423374759003365555787, Commission=0.10000000, Final PnL=9.103216423374759003365555787
2025-07-16 01:41:36,493 - DEBUG - app.services.portfolio_calculator - Position calculation for USDCHF: Type=SELL, Entry=0.81771000, Current=0.80164, Quantity=0.15000000, Contract Size=100000.00000000, PnL=241.050000000000000000000000, PnL USD=300.7523487504522826236135198, Commission=1.50000000, Final PnL=299.2523487504522826236135198
2025-07-16 01:41:36,494 - DEBUG - app.services.portfolio_calculator - Position calculation for USDCHF: Type=BUY, Entry=0.81805000, Current=0.80132, Quantity=0.15000000, Contract Size=100000.00000000, PnL=-250.950000000000000000000000, PnL USD=-313.1043431608628928620444422, Commission=1.50000000, Final PnL=-314.6043431608628928620444422
2025-07-16 01:41:36,495 - DEBUG - app.services.portfolio_calculator - Position calculation for USDNOK: Type=BUY, Entry=10.04973000, Current=10.27046, Quantity=0.10000000, Contract Size=100000.00000000, PnL=2207.300000000000000000000000, PnL USD=214.8943295857688608156891456, Commission=1.00000000, Final PnL=213.8943295857688608156891456
2025-07-16 01:41:36,495 - DEBUG - app.services.portfolio_calculator - Position calculation for USDNOK: Type=BUY, Entry=10.05023000, Current=10.27046, Quantity=0.10000000, Contract Size=100000.00000000, PnL=2202.300000000000000000000000, PnL USD=214.4075486099482454466507522, Commission=1.00000000, Final PnL=213.4075486099482454466507522
2025-07-16 01:41:36,496 - DEBUG - app.services.portfolio_calculator - Position calculation for USDSGD: Type=SELL, Entry=1.28795000, Current=1.2848600000000001, Quantity=0.31000000, Contract Size=100000.00000000, PnL=95.78999999999690000000000000, PnL USD=74.56157420740626289201454025, Commission=3.10000000, Final PnL=71.46157420740626289201454025
2025-07-16 01:41:36,496 - DEBUG - app.services.portfolio_calculator - Position calculation for USDTRY: Type=SELL, Entry=39.56087000, Current=40.258399999999995, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-6975.299999999950000000000000, PnL USD=-173.2638651704917625579850093, Commission=1.00000000, Final PnL=-174.2638651704917625579850093
2025-07-16 01:41:36,893 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:41:36,895 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:41:37,302 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.89752000, Current=0.89487, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-2.650000000000000000000000, PnL USD=-1.931472802676365332614193774, Commission=0.10000000, Final PnL=-2.031472802676365332614193774
2025-07-16 01:41:37,316 - WARNING - app - User 12 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:41:37,332 - WARNING - app - User 13 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:41:37,516 - DEBUG - app.firebase_stream - Firebase listener triggered (288). Event Type: patch, Path: /. Timestamp: 1752655297.5160983
2025-07-16 01:41:37,516 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9720000000', 'o': '37.9660000000'}, 'NZDJPY': {'b': '88.4940000000', 'o': '88.4850000000'}, 'GBPAUD': {'b': '2.0534100000', 'o': '2.0532700000'}, 'BTCUSD': {'b': '118656.100000000
2025-07-16 01:41:37,517 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9720000000', 'o': '37.9660000000'}, 'NZDJPY': {'b': '88.4940000000', 'o': '88.4850000000'}, 'GBPAUD': {'b': '2.0534100000', 'o': '2.0532700000'}, 'BTCUSD': {'b': '118656.100000000...
2025-07-16 01:41:37,517 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:41:37,909 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:41:37,912 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:41:38,926 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:41:38,928 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:41:39,767 - DEBUG - app.firebase_stream - Firebase listener triggered (289). Event Type: patch, Path: /. Timestamp: 1752655299.767942
2025-07-16 01:41:39,768 - DEBUG - app.firebase_stream - Prepared batch update for 37 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0344000000', 'o': '13.0318000000'}, 'XAGUSD': {'b': '37.9720000000', 'o': '37.9650000000'}, 'NZDJPY': {'b': '88.4920000000', 'o': '88.4830000000'}, 'GBPAUD': {'b': '2.0534200000',
2025-07-16 01:41:39,768 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0344000000', 'o': '13.0318000000'}, 'XAGUSD': {'b': '37.9720000000', 'o': '37.9650000000'}, 'NZDJPY': {'b': '88.4920000000', 'o': '88.4830000000'}, 'GBPAUD': {'b': '2.0534200000',...
2025-07-16 01:41:39,768 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:41:39,930 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:41:39,931 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:41:40,942 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:41:40,944 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:41:41,957 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:41:41,960 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:41:42,026 - DEBUG - app.firebase_stream - Firebase listener triggered (290). Event Type: patch, Path: /. Timestamp: 1752655302.0260375
2025-07-16 01:41:42,026 - DEBUG - app.firebase_stream - Prepared batch update for 35 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9730000000', 'o': '37.9650000000'}, 'NZDJPY': {'b': '88.4920000000', 'o': '88.4840000000'}, 'GBPAUD': {'b': '2.0534400000', 'o': '2.0533000000'}, 'BTCUSD': {'b': '118688.620000000
2025-07-16 01:41:42,026 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'XAGUSD': {'b': '37.9730000000', 'o': '37.9650000000'}, 'NZDJPY': {'b': '88.4920000000', 'o': '88.4840000000'}, 'GBPAUD': {'b': '2.0534400000', 'o': '2.0533000000'}, 'BTCUSD': {'b': '118688.620000000...
2025-07-16 01:41:42,026 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:41:42,972 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:41:42,974 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:41:43,991 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:41:43,994 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:41:44,378 - DEBUG - app.firebase_stream - Firebase listener triggered (291). Event Type: patch, Path: /. Timestamp: 1752655304.378175
2025-07-16 01:41:44,378 - DEBUG - app.firebase_stream - Prepared batch update for 39 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0364000000', 'o': '13.0339000000'}, 'XAGUSD': {'b': '37.9730000000', 'o': '37.9660000000'}, 'NZDJPY': {'b': '88.4920000000', 'o': '88.4830000000'}, 'GBPAUD': {'b': '2.0534500000',
2025-07-16 01:41:44,378 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0364000000', 'o': '13.0339000000'}, 'XAGUSD': {'b': '37.9730000000', 'o': '37.9660000000'}, 'NZDJPY': {'b': '88.4920000000', 'o': '88.4830000000'}, 'GBPAUD': {'b': '2.0534500000',...
2025-07-16 01:41:44,378 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:41:45,007 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:41:45,009 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:41:46,014 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:41:46,017 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:41:46,632 - DEBUG - app.firebase_stream - Firebase listener triggered (292). Event Type: patch, Path: /. Timestamp: 1752655306.6322787
2025-07-16 01:41:46,632 - DEBUG - app.firebase_stream - Prepared batch update for 30 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0342000000', 'o': '13.0320400000'}, 'XAGUSD': {'b': '37.9720000000', 'o': '37.9650000000'}, 'NZDJPY': {'b': '88.4900000000', 'o': '88.4830000000'}, 'GBPAUD': {'b': '2.0534100000',
2025-07-16 01:41:46,633 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0342000000', 'o': '13.0320400000'}, 'XAGUSD': {'b': '37.9720000000', 'o': '37.9650000000'}, 'NZDJPY': {'b': '88.4900000000', 'o': '88.4830000000'}, 'GBPAUD': {'b': '2.0534100000',...
2025-07-16 01:41:46,633 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:41:47,033 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:41:47,037 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:41:48,046 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:41:48,049 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:41:48,999 - DEBUG - app.firebase_stream - Firebase listener triggered (293). Event Type: patch, Path: /. Timestamp: 1752655308.9995625
2025-07-16 01:41:48,999 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0343000000', 'o': '13.0323000000'}, 'NZDJPY': {'b': '88.4930000000', 'o': '88.4840000000'}, 'GBPAUD': {'b': '2.0535000000', 'o': '2.0533800000'}, 'BTCUSD': {'b': '118701.400000000
2025-07-16 01:41:49,000 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0343000000', 'o': '13.0323000000'}, 'NZDJPY': {'b': '88.4930000000', 'o': '88.4840000000'}, 'GBPAUD': {'b': '2.0535000000', 'o': '2.0533800000'}, 'BTCUSD': {'b': '118701.400000000...
2025-07-16 01:41:49,000 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:41:49,051 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:41:49,053 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:41:50,064 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:41:50,066 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:41:51,069 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:41:51,072 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:41:51,237 - DEBUG - app.firebase_stream - Firebase listener triggered (294). Event Type: patch, Path: /. Timestamp: 1752655311.2372139
2025-07-16 01:41:51,237 - DEBUG - app.firebase_stream - Prepared batch update for 27 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0354000000', 'o': '13.0328800000'}, 'NZDJPY': {'b': '88.4910000000', 'o': '88.4830000000'}, 'GBPAUD': {'b': '2.0535000000', 'o': '2.0533900000'}, 'CADCHF': {'b': '0.5841800000', '
2025-07-16 01:41:51,237 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0354000000', 'o': '13.0328800000'}, 'NZDJPY': {'b': '88.4910000000', 'o': '88.4830000000'}, 'GBPAUD': {'b': '2.0535000000', 'o': '2.0533900000'}, 'CADCHF': {'b': '0.5841800000', '...
2025-07-16 01:41:51,237 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:41:52,088 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:41:52,090 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:41:53,098 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:41:53,101 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:41:53,591 - DEBUG - app.firebase_stream - Firebase listener triggered (295). Event Type: patch, Path: /. Timestamp: 1752655313.591543
2025-07-16 01:41:53,591 - DEBUG - app.firebase_stream - Prepared batch update for 24 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0341000000', 'o': '13.0323000000'}, 'GBPAUD': {'b': '2.0535300000', 'o': '2.0533700000'}, 'EURNZD': {'b': '1.9551700000', 'o': '1.9549900000'}, 'EURZAR': {'b': '20.8250800000', 'o
2025-07-16 01:41:53,591 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0341000000', 'o': '13.0323000000'}, 'GBPAUD': {'b': '2.0535300000', 'o': '2.0533700000'}, 'EURNZD': {'b': '1.9551700000', 'o': '1.9549900000'}, 'EURZAR': {'b': '20.8250800000', 'o...
2025-07-16 01:41:53,592 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:41:54,111 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:41:54,114 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:41:55,121 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:41:55,124 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:41:55,846 - DEBUG - app.firebase_stream - Firebase listener triggered (296). Event Type: patch, Path: /. Timestamp: 1752655315.8466618
2025-07-16 01:41:55,847 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0354000000', 'o': '13.0328900000'}, 'XAGUSD': {'b': '37.9730000000', 'o': '37.9660000000'}, 'NZDJPY': {'b': '88.4890000000', 'o': '88.4820000000'}, 'GBPAUD': {'b': '2.0536400000',
2025-07-16 01:41:55,847 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0354000000', 'o': '13.0328900000'}, 'XAGUSD': {'b': '37.9730000000', 'o': '37.9660000000'}, 'NZDJPY': {'b': '88.4890000000', 'o': '88.4820000000'}, 'GBPAUD': {'b': '2.0536400000',...
2025-07-16 01:41:55,848 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:41:56,134 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:41:56,136 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:41:57,139 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:41:57,142 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:41:58,151 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:41:58,154 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:41:58,202 - DEBUG - app.firebase_stream - Firebase listener triggered (297). Event Type: patch, Path: /. Timestamp: 1752655318.2021115
2025-07-16 01:41:58,202 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4900000000', 'o': '88.4830000000'}, 'GBPAUD': {'b': '2.0535700000', 'o': '2.0534700000'}, 'BTCUSD': {'b': '118700.1000000000', 'o': '118700.0000000000'}, 'USDCNH': {'b': '7.181060
2025-07-16 01:41:58,202 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4900000000', 'o': '88.4830000000'}, 'GBPAUD': {'b': '2.0535700000', 'o': '2.0534700000'}, 'BTCUSD': {'b': '118700.1000000000', 'o': '118700.0000000000'}, 'USDCNH': {'b': '7.181060...
2025-07-16 01:41:58,202 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:41:59,172 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:41:59,174 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:42:00,190 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:42:00,192 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:42:00,449 - DEBUG - app.firebase_stream - Firebase listener triggered (298). Event Type: patch, Path: /. Timestamp: 1752655320.449685
2025-07-16 01:42:00,449 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0342000000', 'o': '13.0320200000'}, 'NZDJPY': {'b': '88.4860000000', 'o': '88.4830000000'}, 'GBPAUD': {'b': '2.0535400000', 'o': '2.0534100000'}, 'BTCUSD': {'b': '118751.900000000
2025-07-16 01:42:00,450 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0342000000', 'o': '13.0320200000'}, 'NZDJPY': {'b': '88.4860000000', 'o': '88.4830000000'}, 'GBPAUD': {'b': '2.0535400000', 'o': '2.0534100000'}, 'BTCUSD': {'b': '118751.900000000...
2025-07-16 01:42:00,450 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:42:01,206 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:42:01,209 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:42:02,222 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:42:02,224 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:42:02,705 - DEBUG - app.firebase_stream - Firebase listener triggered (299). Event Type: patch, Path: /. Timestamp: 1752655322.7057972
2025-07-16 01:42:02,706 - DEBUG - app.firebase_stream - Prepared batch update for 39 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0344000000', 'o': '13.0319300000'}, 'XAGUSD': {'b': '37.9710000000', 'o': '37.9640000000'}, 'NZDJPY': {'b': '88.4850000000', 'o': '88.4790000000'}, 'GBPAUD': {'b': '2.0535200000',
2025-07-16 01:42:02,706 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0344000000', 'o': '13.0319300000'}, 'XAGUSD': {'b': '37.9710000000', 'o': '37.9640000000'}, 'NZDJPY': {'b': '88.4850000000', 'o': '88.4790000000'}, 'GBPAUD': {'b': '2.0535200000',...
2025-07-16 01:42:02,706 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:42:03,235 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:42:03,238 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:42:04,253 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:42:04,257 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:42:05,064 - DEBUG - app.firebase_stream - Firebase listener triggered (300). Event Type: patch, Path: /. Timestamp: 1752655325.0643966
2025-07-16 01:42:05,065 - DEBUG - app.firebase_stream - Prepared batch update for 36 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0343000000', 'o': '13.0319300000'}, 'NZDJPY': {'b': '88.4870000000', 'o': '88.4780000000'}, 'GBPAUD': {'b': '2.0534800000', 'o': '2.0533400000'}, 'BTCUSD': {'b': '118700.100000000
2025-07-16 01:42:05,065 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0343000000', 'o': '13.0319300000'}, 'NZDJPY': {'b': '88.4870000000', 'o': '88.4780000000'}, 'GBPAUD': {'b': '2.0534800000', 'o': '2.0533400000'}, 'BTCUSD': {'b': '118700.100000000...
2025-07-16 01:42:05,065 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:42:05,263 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:42:05,265 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:42:06,282 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:42:06,284 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:42:07,300 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:42:07,302 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:42:07,307 - DEBUG - app.firebase_stream - Firebase listener triggered (301). Event Type: patch, Path: /. Timestamp: 1752655327.3078282
2025-07-16 01:42:07,308 - DEBUG - app.firebase_stream - Prepared batch update for 27 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0344000000', 'o': '13.0319300000'}, 'XAGUSD': {'b': '37.9800000000', 'o': '37.9730000000'}, 'GBPAUD': {'b': '2.0534900000', 'o': '2.0533300000'}, 'USDCNH': {'b': '7.1810300000', '
2025-07-16 01:42:07,308 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0344000000', 'o': '13.0319300000'}, 'XAGUSD': {'b': '37.9800000000', 'o': '37.9730000000'}, 'GBPAUD': {'b': '2.0534900000', 'o': '2.0533300000'}, 'USDCNH': {'b': '7.1810300000', '...
2025-07-16 01:42:07,308 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:42:08,321 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:42:08,324 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:42:09,339 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:42:09,341 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:42:09,665 - DEBUG - app.firebase_stream - Firebase listener triggered (302). Event Type: patch, Path: /. Timestamp: 1752655329.6656284
2025-07-16 01:42:09,665 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0346000000', 'o': '13.0320000000'}, 'XAGUSD': {'b': '37.9830000000', 'o': '37.9760000000'}, 'GBPAUD': {'b': '2.0535300000', 'o': '2.0533900000'}, 'BTCUSD': {'b': '118707.440000000
2025-07-16 01:42:09,666 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0346000000', 'o': '13.0320000000'}, 'XAGUSD': {'b': '37.9830000000', 'o': '37.9760000000'}, 'GBPAUD': {'b': '2.0535300000', 'o': '2.0533900000'}, 'BTCUSD': {'b': '118707.440000000...
2025-07-16 01:42:09,666 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:42:10,345 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:42:10,349 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:42:11,364 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:42:11,366 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:42:11,919 - DEBUG - app.firebase_stream - Firebase listener triggered (303). Event Type: patch, Path: /. Timestamp: 1752655331.9195216
2025-07-16 01:42:11,919 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0344000000', 'o': '13.0318000000'}, 'NZDJPY': {'b': '88.4870000000', 'o': '88.4820000000'}, 'GBPAUD': {'b': '2.0534700000', 'o': '2.0533900000'}, 'BTCUSD': {'b': '118700.100000000
2025-07-16 01:42:11,920 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0344000000', 'o': '13.0318000000'}, 'NZDJPY': {'b': '88.4870000000', 'o': '88.4820000000'}, 'GBPAUD': {'b': '2.0534700000', 'o': '2.0533900000'}, 'BTCUSD': {'b': '118700.100000000...
2025-07-16 01:42:11,920 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:42:12,381 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:42:12,384 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:42:13,394 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:42:13,397 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:42:14,281 - DEBUG - app.firebase_stream - Firebase listener triggered (304). Event Type: patch, Path: /. Timestamp: 1752655334.2812462
2025-07-16 01:42:14,281 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0346000000', 'o': '13.0320000000'}, 'NZDJPY': {'b': '88.4920000000', 'o': '88.4860000000'}, 'GBPAUD': {'b': '2.0534300000', 'o': '2.0533000000'}, 'USDJPY': {'b': '148.8630000000',
2025-07-16 01:42:14,282 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0346000000', 'o': '13.0320000000'}, 'NZDJPY': {'b': '88.4920000000', 'o': '88.4860000000'}, 'GBPAUD': {'b': '2.0534300000', 'o': '2.0533000000'}, 'USDJPY': {'b': '148.8630000000',...
2025-07-16 01:42:14,282 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:42:14,399 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:42:14,401 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:42:15,407 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:42:15,410 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:42:16,420 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:42:16,423 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:42:16,540 - DEBUG - app.firebase_stream - Firebase listener triggered (305). Event Type: patch, Path: /. Timestamp: 1752655336.5408108
2025-07-16 01:42:16,541 - DEBUG - app.firebase_stream - Prepared batch update for 39 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0340000000', 'o': '13.0314000000'}, 'XAGUSD': {'b': '37.9870000000', 'o': '37.9800000000'}, 'NZDJPY': {'b': '88.4960000000', 'o': '88.4870000000'}, 'GBPAUD': {'b': '2.0534600000',
2025-07-16 01:42:16,542 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0340000000', 'o': '13.0314000000'}, 'XAGUSD': {'b': '37.9870000000', 'o': '37.9800000000'}, 'NZDJPY': {'b': '88.4960000000', 'o': '88.4870000000'}, 'GBPAUD': {'b': '2.0534600000',...
2025-07-16 01:42:16,542 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:42:17,438 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:42:17,441 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:42:18,450 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:42:18,454 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:42:18,788 - DEBUG - app.firebase_stream - Firebase listener triggered (306). Event Type: patch, Path: /. Timestamp: 1752655338.7886262
2025-07-16 01:42:18,789 - DEBUG - app.firebase_stream - Prepared batch update for 34 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0336000000', 'o': '13.0310000000'}, 'NZDJPY': {'b': '88.4950000000', 'o': '88.4860000000'}, 'GBPAUD': {'b': '2.0534100000', 'o': '2.0533500000'}, 'BTCUSD': {'b': '118671.200000000
2025-07-16 01:42:18,789 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0336000000', 'o': '13.0310000000'}, 'NZDJPY': {'b': '88.4950000000', 'o': '88.4860000000'}, 'GBPAUD': {'b': '2.0534100000', 'o': '2.0533500000'}, 'BTCUSD': {'b': '118671.200000000...
2025-07-16 01:42:18,790 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:42:19,468 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:42:19,471 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:42:20,490 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:42:20,492 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:42:21,137 - DEBUG - app.firebase_stream - Firebase listener triggered (307). Event Type: patch, Path: /. Timestamp: 1752655341.1378415
2025-07-16 01:42:21,138 - DEBUG - app.firebase_stream - Prepared batch update for 30 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9720000000', 'o': '37.9650000000'}, 'GBPAUD': {'b': '2.0534700000', 'o': '2.0533100000'}, 'BTCUSD': {'b': '118701.4000000000', 'o': '118701.3000000000'}, 'USDJPY': {'b': '148.8580
2025-07-16 01:42:21,138 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9720000000', 'o': '37.9650000000'}, 'GBPAUD': {'b': '2.0534700000', 'o': '2.0533100000'}, 'BTCUSD': {'b': '118701.4000000000', 'o': '118701.3000000000'}, 'USDJPY': {'b': '148.8580...
2025-07-16 01:42:21,138 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:42:21,508 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:42:21,511 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:42:22,521 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:42:22,524 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:42:23,400 - DEBUG - app.firebase_stream - Firebase listener triggered (308). Event Type: patch, Path: /. Timestamp: 1752655343.4004974
2025-07-16 01:42:23,400 - DEBUG - app.firebase_stream - Prepared batch update for 37 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0337000000', 'o': '13.0311000000'}, 'XAGUSD': {'b': '37.9950000000', 'o': '37.9910000000'}, 'NZDJPY': {'b': '88.4900000000', 'o': '88.4850000000'}, 'GBPAUD': {'b': '2.0534700000',
2025-07-16 01:42:23,400 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0337000000', 'o': '13.0311000000'}, 'XAGUSD': {'b': '37.9950000000', 'o': '37.9910000000'}, 'NZDJPY': {'b': '88.4900000000', 'o': '88.4850000000'}, 'GBPAUD': {'b': '2.0534700000',...
2025-07-16 01:42:23,401 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:42:23,526 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:42:23,530 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:42:24,535 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:42:24,537 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:42:25,548 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:42:25,550 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:42:25,743 - DEBUG - app.firebase_stream - Firebase listener triggered (309). Event Type: patch, Path: /. Timestamp: 1752655345.743249
2025-07-16 01:42:25,743 - DEBUG - app.firebase_stream - Prepared batch update for 35 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0342000000', 'o': '13.0323000000'}, 'XAGUSD': {'b': '37.9960000000', 'o': '37.9890000000'}, 'NZDJPY': {'b': '88.4880000000', 'o': '88.4790000000'}, 'GBPAUD': {'b': '2.0534600000',
2025-07-16 01:42:25,743 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0342000000', 'o': '13.0323000000'}, 'XAGUSD': {'b': '37.9960000000', 'o': '37.9890000000'}, 'NZDJPY': {'b': '88.4880000000', 'o': '88.4790000000'}, 'GBPAUD': {'b': '2.0534600000',...
2025-07-16 01:42:25,743 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:42:26,562 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:42:26,565 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:42:27,573 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:42:27,575 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:42:27,993 - DEBUG - app.firebase_stream - Firebase listener triggered (310). Event Type: patch, Path: /. Timestamp: 1752655347.9935458
2025-07-16 01:42:27,993 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0336000000', 'o': '13.0310000000'}, 'XAGUSD': {'b': '37.9980000000', 'o': '37.9910000000'}, 'NZDJPY': {'b': '88.4890000000', 'o': '88.4800000000'}, 'GBPAUD': {'b': '2.0534600000',
2025-07-16 01:42:27,993 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0336000000', 'o': '13.0310000000'}, 'XAGUSD': {'b': '37.9980000000', 'o': '37.9910000000'}, 'NZDJPY': {'b': '88.4890000000', 'o': '88.4800000000'}, 'GBPAUD': {'b': '2.0534600000',...
2025-07-16 01:42:27,994 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:42:28,589 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:42:28,591 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:42:29,593 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:42:29,596 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:42:30,351 - DEBUG - app.firebase_stream - Firebase listener triggered (311). Event Type: patch, Path: /. Timestamp: 1752655350.351675
2025-07-16 01:42:30,351 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0335000000', 'o': '13.0309000000'}, 'XAGUSD': {'b': '37.9970000000', 'o': '37.9900000000'}, 'NZDJPY': {'b': '88.4880000000', 'o': '88.4800000000'}, 'GBPAUD': {'b': '2.0534800000',
2025-07-16 01:42:30,352 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0335000000', 'o': '13.0309000000'}, 'XAGUSD': {'b': '37.9970000000', 'o': '37.9900000000'}, 'NZDJPY': {'b': '88.4880000000', 'o': '88.4800000000'}, 'GBPAUD': {'b': '2.0534800000',...
2025-07-16 01:42:30,352 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:42:30,614 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:42:30,616 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:42:31,628 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:42:31,630 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:42:32,607 - DEBUG - app.firebase_stream - Firebase listener triggered (312). Event Type: patch, Path: /. Timestamp: 1752655352.6076393
2025-07-16 01:42:32,607 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0334000000', 'o': '13.0308600000'}, 'NZDJPY': {'b': '88.4880000000', 'o': '88.4790000000'}, 'GBPAUD': {'b': '2.0535400000', 'o': '2.0534100000'}, 'USDJPY': {'b': '148.8410000000',
2025-07-16 01:42:32,608 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0334000000', 'o': '13.0308600000'}, 'NZDJPY': {'b': '88.4880000000', 'o': '88.4790000000'}, 'GBPAUD': {'b': '2.0535400000', 'o': '2.0534100000'}, 'USDJPY': {'b': '148.8410000000',...
2025-07-16 01:42:32,608 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:42:32,634 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:42:32,638 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:42:33,645 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:42:33,648 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:42:34,525 - WARNING - app - User 4 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:42:34,528 - WARNING - app - No user data found for user 5 (live). Skipping portfolio update.
2025-07-16 01:42:34,530 - WARNING - app - No group settings found for group string. Skipping portfolio update for user 8.
2025-07-16 01:42:34,541 - WARNING - app - User 9 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:42:34,552 - WARNING - app - User 10 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:42:34,565 - WARNING - app - User 11 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:42:34,579 - WARNING - app - User 12 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:42:34,594 - WARNING - app - User 13 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:42:34,860 - DEBUG - app.firebase_stream - Firebase listener triggered (313). Event Type: patch, Path: /. Timestamp: 1752655354.8600786
2025-07-16 01:42:34,860 - DEBUG - app.firebase_stream - Prepared batch update for 39 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0335000000', 'o': '13.0312000000'}, 'XAGUSD': {'b': '37.9920000000', 'o': '37.9850000000'}, 'NZDJPY': {'b': '88.4900000000', 'o': '88.4810000000'}, 'GBPAUD': {'b': '2.0534900000',
2025-07-16 01:42:34,860 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0335000000', 'o': '13.0312000000'}, 'XAGUSD': {'b': '37.9920000000', 'o': '37.9850000000'}, 'NZDJPY': {'b': '88.4900000000', 'o': '88.4810000000'}, 'GBPAUD': {'b': '2.0534900000',...
2025-07-16 01:42:34,860 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:42:34,952 - DEBUG - app.services.portfolio_calculator - Position calculation for BTCUSD: Type=BUY, Entry=118908.50000000, Current=118642.8, Quantity=0.40000000, Contract Size=1.00000000, PnL=-106.280000000000000000000000, PnL USD=-106.280000000000000000000000, Commission=235.57000000, Final PnL=-341.850000000000000000000000
2025-07-16 01:42:34,953 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:42:34,956 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:42:34,997 - WARNING - app - User 16 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:42:35,009 - WARNING - app - User 17 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:42:35,020 - WARNING - app - User 18 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:42:35,031 - WARNING - app - User 19 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:42:35,042 - WARNING - app - User 20 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:42:35,051 - WARNING - app - User 21 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:42:35,061 - WARNING - app - User 22 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:42:35,071 - WARNING - app - User 23 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:42:35,082 - WARNING - app - User 25 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:42:35,463 - DEBUG - app.services.portfolio_calculator - Position calculation for XAGUSD: Type=BUY, Entry=41.09800000, Current=37.9725, Quantity=0.01000000, Contract Size=5000.00000000, PnL=-156.275000000000000000000000, PnL USD=-156.275000000000000000000000, Commission=0.10000000, Final PnL=-156.375000000000000000000000
2025-07-16 01:42:35,464 - DEBUG - app.services.portfolio_calculator - Position calculation for BTCUSD: Type=BUY, Entry=132091.90000000, Current=118642.8, Quantity=6.00000000, Contract Size=1.00000000, PnL=-80694.60000000000000000000000, PnL USD=-80694.60000000000000000000000, Commission=3661.62000000, Final PnL=-84356.22000000000000000000000
2025-07-16 01:42:35,464 - WARNING - app.services.portfolio_calculator - MARGIN CALL ALERT: User has margin level 68.15276390732751396786294138% which is below threshold 100.0%
2025-07-16 01:42:35,875 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=96.66800000, Current=97.04, Quantity=0.01000000, Contract Size=100000.00000000, PnL=372.000000000000000000000000, PnL USD=2.499344929756313869348759398, Commission=0.10000000, Final PnL=2.399344929756313869348759398
2025-07-16 01:42:35,876 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=96.56000000, Current=97.146, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-586.000000000000000000000000, PnL USD=-3.937140131282795503866594105, Commission=0.10000000, Final PnL=-4.037140131282795503866594105
2025-07-16 01:42:35,877 - WARNING - app - User 2 has no group_name set. Skipping portfolio update.
2025-07-16 01:42:35,881 - WARNING - app - No group settings found for group string. Skipping portfolio update for user 3.
2025-07-16 01:42:35,894 - WARNING - app - User 4 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:42:35,895 - WARNING - app - User 5 has no group_name set. Skipping portfolio update.
2025-07-16 01:42:35,895 - WARNING - app - User 6 has no group_name set. Skipping portfolio update.
2025-07-16 01:42:36,283 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64743000, Current=0.65219, Quantity=0.10000000, Contract Size=100000.00000000, PnL=47.600000000000000000000000, PnL USD=47.600000000000000000000000, Commission=1.00000000, Final PnL=46.600000000000000000000000
2025-07-16 01:42:36,283 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=SELL, Entry=0.64707000, Current=0.65249, Quantity=0.22000000, Contract Size=100000.00000000, PnL=-119.240000000000000000000000, PnL USD=-119.240000000000000000000000, Commission=2.20000000, Final PnL=-121.440000000000000000000000
2025-07-16 01:42:36,285 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFSGD: Type=BUY, Entry=1.57561500, Current=1.602965, Quantity=0.10000000, Contract Size=100000.00000000, PnL=273.500000000000000000000000, PnL USD=212.8868547232081698735911327, Commission=1.00000000, Final PnL=211.8868547232081698735911327
2025-07-16 01:42:36,285 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:42:36,286 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFSGD: Type=SELL, Entry=1.57505500, Current=1.6034249999999999, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-283.6999999999990000000000000, PnL USD=-220.8263279158096705897004795, Commission=1.00000000, Final PnL=-221.8263279158096705897004795
2025-07-16 01:42:36,287 - DEBUG - app.services.portfolio_calculator - Position calculation for CADJPY: Type=SELL, Entry=106.24150000, Current=108.50750000000001, Quantity=0.15000000, Contract Size=100000.00000000, PnL=-33990.00000000015000000000000, PnL USD=-228.3675649527351702174833209, Commission=0E-8, Final PnL=-228.3675649527351702174833209
2025-07-16 01:42:36,288 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:42:36,288 - DEBUG - app.services.portfolio_calculator - Position calculation for CADJPY: Type=BUY, Entry=106.27050000, Current=108.4785, Quantity=0.15000000, Contract Size=100000.00000000, PnL=33120.00000000000000000000000, PnL USD=222.5223227783040735291153528, Commission=0E-8, Final PnL=222.5223227783040735291153528
2025-07-16 01:42:36,289 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=BUY, Entry=1.77481000, Current=1.7815999999999999, Quantity=0.22000000, Contract Size=100000.00000000, PnL=149.3799999999978000000000000, PnL USD=97.44654919999856485200000000, Commission=2.20000000, Final PnL=95.24654919999856485200000000
2025-07-16 01:42:36,289 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=SELL, Entry=1.77439000, Current=1.78201, Quantity=0.21000000, Contract Size=100000.00000000, PnL=-160.020000000000000000000000, PnL USD=-104.3874468000000000000000000, Commission=2.10000000, Final PnL=-106.4874468000000000000000000
2025-07-16 01:42:36,289 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFJPY: Type=BUY, Entry=178.15500000, Current=185.715, Quantity=0.10000000, Contract Size=100000.00000000, PnL=75600.00000000000000000000000, PnL USD=507.9313889504766895773285228, Commission=1.00000000, Final PnL=506.9313889504766895773285228
2025-07-16 01:42:36,290 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFJPY: Type=SELL, Entry=178.09500000, Current=185.765, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-76700.00000000000000000000000, PnL USD=-515.3219250330894456426071124, Commission=1.00000000, Final PnL=-516.3219250330894456426071124
2025-07-16 01:42:36,290 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=BUY, Entry=1.77480000, Current=1.7815999999999999, Quantity=0.05000000, Contract Size=100000.00000000, PnL=33.99999999999950000000000000, PnL USD=22.17955999999967383000000000, Commission=0.50000000, Final PnL=21.67955999999967383000000000
2025-07-16 01:42:36,290 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=SELL, Entry=1.77442000, Current=1.78201, Quantity=0.05000000, Contract Size=100000.00000000, PnL=-37.950000000000000000000000, PnL USD=-24.75630300000000000000000000, Commission=0.50000000, Final PnL=-25.25630300000000000000000000
2025-07-16 01:42:36,290 - DEBUG - app.services.portfolio_calculator - Position calculation for EURGBP: Type=SELL, Entry=0.85403000, Current=0.86788, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-138.500000000000000000000000, PnL USD=-185.5249050000000000000000000, Commission=1.00000000, Final PnL=-186.5249050000000000000000000
2025-07-16 01:42:36,291 - DEBUG - app.services.portfolio_calculator - Position calculation for EURJPY: Type=BUY, Entry=167.26050000, Current=172.97750000000002, Quantity=0.10000000, Contract Size=100000.00000000, PnL=57170.00000000020000000000000, PnL USD=384.1063162208843112356304463, Commission=1.00000000, Final PnL=383.1063162208843112356304463
2025-07-16 01:42:36,291 - DEBUG - app.services.portfolio_calculator - Position calculation for EURJPY: Type=SELL, Entry=167.23150000, Current=173.02249999999998, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-57909.99999999980000000000000, PnL USD=-389.0781314037302051209696383, Commission=1.00000000, Final PnL=-390.0781314037302051209696383
2025-07-16 01:42:36,292 - DEBUG - app.services.portfolio_calculator - Position calculation for EURNZD: Type=SELL, Entry=1.91952500, Current=1.955495, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-359.700000000000000000000000, PnL USD=-213.8488440000000000000000000, Commission=1.00000000, Final PnL=-214.8488440000000000000000000
2025-07-16 01:42:36,292 - DEBUG - app.services.portfolio_calculator - Position calculation for EURNZD: Type=BUY, Entry=1.92063500, Current=1.955095, Quantity=0.10000000, Contract Size=100000.00000000, PnL=344.600000000000000000000000, PnL USD=204.8715920000000000000000000, Commission=1.00000000, Final PnL=203.8715920000000000000000000
2025-07-16 01:42:36,292 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=SELL, Entry=1.34376000, Current=1.33963, Quantity=0.25000000, Contract Size=0E-8, PnL=0E-24, PnL USD=0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 01:42:36,292 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=SELL, Entry=1.34361000, Current=1.33963, Quantity=0.25000000, Contract Size=0E-8, PnL=0E-24, PnL USD=0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 01:42:36,292 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=BUY, Entry=1.34379000, Current=1.33942, Quantity=0.25000000, Contract Size=0E-8, PnL=-0E-24, PnL USD=-0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 01:42:36,292 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=BUY, Entry=1.34378000, Current=1.33942, Quantity=0.25000000, Contract Size=0E-8, PnL=-0E-24, PnL USD=-0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 01:42:36,292 - DEBUG - app.services.portfolio_calculator - Position calculation for NZDJPY: Type=BUY, Entry=87.10150000, Current=88.46849999999999, Quantity=0.01000000, Contract Size=100000.00000000, PnL=1366.999999999990000000000000, PnL USD=9.184420749937785123522732617, Commission=0.10000000, Final PnL=9.084420749937785123522732617
2025-07-16 01:42:36,293 - DEBUG - app.services.portfolio_calculator - Position calculation for USDCHF: Type=SELL, Entry=0.81771000, Current=0.80149, Quantity=0.15000000, Contract Size=100000.00000000, PnL=243.300000000000000000000000, PnL USD=303.6164424588813736990540844, Commission=1.50000000, Final PnL=302.1164424588813736990540844
2025-07-16 01:42:36,294 - DEBUG - app.services.portfolio_calculator - Position calculation for USDCHF: Type=BUY, Entry=0.81805000, Current=0.80117, Quantity=0.15000000, Contract Size=100000.00000000, PnL=-253.200000000000000000000000, PnL USD=-315.9707489954326503107295280, Commission=1.50000000, Final PnL=-317.4707489954326503107295280
2025-07-16 01:42:36,294 - DEBUG - app.services.portfolio_calculator - Position calculation for USDNOK: Type=BUY, Entry=10.04973000, Current=10.268650000000001, Quantity=0.10000000, Contract Size=100000.00000000, PnL=2189.200000000010000000000000, PnL USD=213.1666325864915919337091890, Commission=1.00000000, Final PnL=212.1666325864915919337091890
2025-07-16 01:42:36,295 - DEBUG - app.services.portfolio_calculator - Position calculation for USDNOK: Type=BUY, Entry=10.05023000, Current=10.268650000000001, Quantity=0.10000000, Contract Size=100000.00000000, PnL=2184.200000000010000000000000, PnL USD=212.6797729286565594601700114, Commission=1.00000000, Final PnL=211.6797729286565594601700114
2025-07-16 01:42:36,295 - DEBUG - app.services.portfolio_calculator - Position calculation for USDSGD: Type=SELL, Entry=1.28795000, Current=1.2848700000000002, Quantity=0.31000000, Contract Size=100000.00000000, PnL=95.47999999999380000000000000, PnL USD=74.31969612055062581729871100, Commission=3.10000000, Final PnL=71.21969612055062581729871100
2025-07-16 01:42:36,295 - DEBUG - app.services.portfolio_calculator - Position calculation for USDTRY: Type=SELL, Entry=39.56087000, Current=40.258669999999995, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-6977.999999999950000000000000, PnL USD=-173.3297696984377468421591256, Commission=1.00000000, Final PnL=-174.3297696984377468421591256
2025-07-16 01:42:37,073 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.89752000, Current=0.89491, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-2.610000000000000000000000, PnL USD=-1.902471025584955171659741964, Commission=0.10000000, Final PnL=-2.002471025584955171659741964
2025-07-16 01:42:37,088 - WARNING - app - User 12 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:42:37,105 - WARNING - app - User 13 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:42:37,139 - DEBUG - app.firebase_stream - Firebase listener triggered (314). Event Type: patch, Path: /. Timestamp: 1752655357.1397202
2025-07-16 01:42:37,139 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0337000000', 'o': '13.0312000000'}, 'XAGUSD': {'b': '37.9890000000', 'o': '37.9810000000'}, 'NZDJPY': {'b': '88.4880000000', 'o': '88.4790000000'}, 'GBPAUD': {'b': '2.0534700000',
2025-07-16 01:42:37,140 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0337000000', 'o': '13.0312000000'}, 'XAGUSD': {'b': '37.9890000000', 'o': '37.9810000000'}, 'NZDJPY': {'b': '88.4880000000', 'o': '88.4790000000'}, 'GBPAUD': {'b': '2.0534700000',...
2025-07-16 01:42:37,140 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:42:37,291 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:42:37,293 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:42:38,305 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:42:38,307 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:42:39,312 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:42:39,314 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:42:39,471 - DEBUG - app.firebase_stream - Firebase listener triggered (315). Event Type: patch, Path: /. Timestamp: 1752655359.4717464
2025-07-16 01:42:39,471 - DEBUG - app.firebase_stream - Prepared batch update for 37 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0336000000', 'o': '13.0312000000'}, 'XAGUSD': {'b': '37.9850000000', 'o': '37.9770000000'}, 'NZDJPY': {'b': '88.4810000000', 'o': '88.4790000000'}, 'GBPAUD': {'b': '2.0534800000',
2025-07-16 01:42:39,472 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0336000000', 'o': '13.0312000000'}, 'XAGUSD': {'b': '37.9850000000', 'o': '37.9770000000'}, 'NZDJPY': {'b': '88.4810000000', 'o': '88.4790000000'}, 'GBPAUD': {'b': '2.0534800000',...
2025-07-16 01:42:39,472 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:42:40,332 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:42:40,335 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:42:41,337 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:42:41,340 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:42:41,802 - DEBUG - app.firebase_stream - Firebase listener triggered (316). Event Type: patch, Path: /. Timestamp: 1752655361.8024526
2025-07-16 01:42:41,802 - DEBUG - app.firebase_stream - Prepared batch update for 38 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0337000000', 'o': '13.0312000000'}, 'NZDJPY': {'b': '88.4810000000', 'o': '88.4740000000'}, 'GBPAUD': {'b': '2.0535200000', 'o': '2.0533900000'}, 'BTCUSD': {'b': '118700.100000000
2025-07-16 01:42:41,802 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0337000000', 'o': '13.0312000000'}, 'NZDJPY': {'b': '88.4810000000', 'o': '88.4740000000'}, 'GBPAUD': {'b': '2.0535200000', 'o': '2.0533900000'}, 'BTCUSD': {'b': '118700.100000000...
2025-07-16 01:42:41,803 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:42:42,357 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:42:42,360 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:42:43,362 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:42:43,365 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:42:44,073 - DEBUG - app.firebase_stream - Firebase listener triggered (317). Event Type: patch, Path: /. Timestamp: 1752655364.0736887
2025-07-16 01:42:44,074 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0338000000', 'o': '13.0312000000'}, 'NZDJPY': {'b': '88.4830000000', 'o': '88.4740000000'}, 'GBPAUD': {'b': '2.0537200000', 'o': '2.0535700000'}, 'BTCUSD': {'b': '118727.370000000
2025-07-16 01:42:44,074 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0338000000', 'o': '13.0312000000'}, 'NZDJPY': {'b': '88.4830000000', 'o': '88.4740000000'}, 'GBPAUD': {'b': '2.0537200000', 'o': '2.0535700000'}, 'BTCUSD': {'b': '118727.370000000...
2025-07-16 01:42:44,074 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:42:44,382 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:42:44,386 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:42:45,401 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:42:45,403 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:42:46,431 - DEBUG - app.firebase_stream - Firebase listener triggered (318). Event Type: patch, Path: /. Timestamp: 1752655366.4312904
2025-07-16 01:42:46,431 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:42:46,431 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0337000000', 'o': '13.0311000000'}, 'NZDJPY': {'b': '88.4810000000', 'o': '88.4720000000'}, 'GBPAUD': {'b': '2.0536900000', 'o': '2.0535700000'}, 'BTCUSD': {'b': '118728.570000000
2025-07-16 01:42:46,432 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0337000000', 'o': '13.0311000000'}, 'NZDJPY': {'b': '88.4810000000', 'o': '88.4720000000'}, 'GBPAUD': {'b': '2.0536900000', 'o': '2.0535700000'}, 'BTCUSD': {'b': '118728.570000000...
2025-07-16 01:42:46,432 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:42:46,434 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:42:47,448 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:42:47,451 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:42:48,456 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:42:48,458 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:42:48,682 - DEBUG - app.firebase_stream - Firebase listener triggered (319). Event Type: patch, Path: /. Timestamp: 1752655368.6820145
2025-07-16 01:42:48,682 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0339000000', 'o': '13.0313000000'}, 'NZDJPY': {'b': '88.4770000000', 'o': '88.4730000000'}, 'GBPAUD': {'b': '2.0537100000', 'o': '2.0535900000'}, 'BTCUSD': {'b': '118738.000000000
2025-07-16 01:42:48,682 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0339000000', 'o': '13.0313000000'}, 'NZDJPY': {'b': '88.4770000000', 'o': '88.4730000000'}, 'GBPAUD': {'b': '2.0537100000', 'o': '2.0535900000'}, 'BTCUSD': {'b': '118738.000000000...
2025-07-16 01:42:48,683 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:42:49,461 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:42:49,464 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:42:50,466 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:42:50,470 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:42:51,036 - DEBUG - app.firebase_stream - Firebase listener triggered (320). Event Type: patch, Path: /. Timestamp: 1752655371.0361392
2025-07-16 01:42:51,047 - DEBUG - app.firebase_stream - Prepared batch update for 34 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9850000000', 'o': '37.9780000000'}, 'NZDJPY': {'b': '88.4770000000', 'o': '88.4690000000'}, 'GBPAUD': {'b': '2.0534700000', 'o': '2.0533000000'}, 'BTCUSD': {'b': '118722.900000000
2025-07-16 01:42:51,047 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9850000000', 'o': '37.9780000000'}, 'NZDJPY': {'b': '88.4770000000', 'o': '88.4690000000'}, 'GBPAUD': {'b': '2.0534700000', 'o': '2.0533000000'}, 'BTCUSD': {'b': '118722.900000000...
2025-07-16 01:42:51,047 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:42:51,488 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:42:51,491 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:42:52,493 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:42:52,495 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:42:53,392 - DEBUG - app.firebase_stream - Firebase listener triggered (321). Event Type: patch, Path: /. Timestamp: 1752655373.39257
2025-07-16 01:42:53,392 - DEBUG - app.firebase_stream - Prepared batch update for 27 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4760000000', 'o': '88.4670000000'}, 'GBPAUD': {'b': '2.0537300000', 'o': '2.0535900000'}, 'BTCUSD': {'b': '118681.9000000000', 'o': '118681.8000000000'}, 'USDCNH': {'b': '7.181030
2025-07-16 01:42:53,392 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4760000000', 'o': '88.4670000000'}, 'GBPAUD': {'b': '2.0537300000', 'o': '2.0535900000'}, 'BTCUSD': {'b': '118681.9000000000', 'o': '118681.8000000000'}, 'USDCNH': {'b': '7.181030...
2025-07-16 01:42:53,393 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:42:53,497 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:42:53,500 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:42:54,513 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:42:54,514 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:42:55,518 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:42:55,520 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:42:55,643 - DEBUG - app.firebase_stream - Firebase listener triggered (322). Event Type: patch, Path: /. Timestamp: 1752655375.6433783
2025-07-16 01:42:55,643 - DEBUG - app.firebase_stream - Prepared batch update for 21 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9860000000', 'o': '37.9780000000'}, 'GBPAUD': {'b': '2.0537200000', 'o': '2.0535700000'}, 'BTCUSD': {'b': '118722.9000000000', 'o': '118722.8000000000'}, 'USDJPY': {'b': '148.8400
2025-07-16 01:42:55,643 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9860000000', 'o': '37.9780000000'}, 'GBPAUD': {'b': '2.0537200000', 'o': '2.0535700000'}, 'BTCUSD': {'b': '118722.9000000000', 'o': '118722.8000000000'}, 'USDJPY': {'b': '148.8400...
2025-07-16 01:42:55,644 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:42:56,537 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:42:56,539 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:42:57,542 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:42:57,544 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:42:57,900 - DEBUG - app.firebase_stream - Firebase listener triggered (323). Event Type: patch, Path: /. Timestamp: 1752655377.900533
2025-07-16 01:42:57,900 - DEBUG - app.firebase_stream - Prepared batch update for 34 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0341000000', 'o': '13.0315000000'}, 'XAGUSD': {'b': '37.9870000000', 'o': '37.9790000000'}, 'NZDJPY': {'b': '88.4770000000', 'o': '88.4700000000'}, 'GBPAUD': {'b': '2.0537000000',
2025-07-16 01:42:57,900 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0341000000', 'o': '13.0315000000'}, 'XAGUSD': {'b': '37.9870000000', 'o': '37.9790000000'}, 'NZDJPY': {'b': '88.4770000000', 'o': '88.4700000000'}, 'GBPAUD': {'b': '2.0537000000',...
2025-07-16 01:42:57,901 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:42:58,546 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:42:58,548 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:42:59,552 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:42:59,554 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:43:00,251 - DEBUG - app.firebase_stream - Firebase listener triggered (324). Event Type: patch, Path: /. Timestamp: 1752655380.2513273
2025-07-16 01:43:00,251 - DEBUG - app.firebase_stream - Prepared batch update for 21 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0333000000', 'o': '13.0308600000'}, 'XAGUSD': {'b': '37.9880000000', 'o': '37.9790000000'}, 'NZDJPY': {'b': '88.4790000000', 'o': '88.4700000000'}, 'GBPAUD': {'b': '2.0536800000',
2025-07-16 01:43:00,251 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0333000000', 'o': '13.0308600000'}, 'XAGUSD': {'b': '37.9880000000', 'o': '37.9790000000'}, 'NZDJPY': {'b': '88.4790000000', 'o': '88.4700000000'}, 'GBPAUD': {'b': '2.0536800000',...
2025-07-16 01:43:00,251 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:43:00,556 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:43:00,587 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:43:01,590 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:43:01,593 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:43:02,512 - DEBUG - app.firebase_stream - Firebase listener triggered (325). Event Type: patch, Path: /. Timestamp: 1752655382.51272
2025-07-16 01:43:02,513 - DEBUG - app.firebase_stream - Prepared batch update for 35 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0342000000', 'o': '13.0316000000'}, 'XAGUSD': {'b': '37.9870000000', 'o': '37.9800000000'}, 'NZDJPY': {'b': '88.4760000000', 'o': '88.4690000000'}, 'GBPAUD': {'b': '2.0537200000',
2025-07-16 01:43:02,513 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0342000000', 'o': '13.0316000000'}, 'XAGUSD': {'b': '37.9870000000', 'o': '37.9800000000'}, 'NZDJPY': {'b': '88.4760000000', 'o': '88.4690000000'}, 'GBPAUD': {'b': '2.0537200000',...
2025-07-16 01:43:02,513 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:43:02,594 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:43:02,596 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:43:03,604 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:43:03,607 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:43:04,615 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:43:04,618 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:43:04,865 - DEBUG - app.firebase_stream - Firebase listener triggered (326). Event Type: patch, Path: /. Timestamp: 1752655384.8652775
2025-07-16 01:43:04,865 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4760000000', 'o': '88.4680000000'}, 'GBPAUD': {'b': '2.0537100000', 'o': '2.0535800000'}, 'BTCUSD': {'b': '118726.9900000000', 'o': '118726.9900000000'}, 'USDJPY': {'b': '148.8460
2025-07-16 01:43:04,865 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4760000000', 'o': '88.4680000000'}, 'GBPAUD': {'b': '2.0537100000', 'o': '2.0535800000'}, 'BTCUSD': {'b': '118726.9900000000', 'o': '118726.9900000000'}, 'USDJPY': {'b': '148.8460...
2025-07-16 01:43:04,866 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:43:05,633 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:43:05,635 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:43:06,646 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:43:06,649 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:43:07,115 - DEBUG - app.firebase_stream - Firebase listener triggered (327). Event Type: patch, Path: /. Timestamp: 1752655387.1151547
2025-07-16 01:43:07,115 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9930000000', 'o': '37.9860000000'}, 'NZDJPY': {'b': '88.4760000000', 'o': '88.4670000000'}, 'GBPAUD': {'b': '2.0537300000', 'o': '2.0535800000'}, 'BTCUSD': {'b': '118724.600000000
2025-07-16 01:43:07,115 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9930000000', 'o': '37.9860000000'}, 'NZDJPY': {'b': '88.4760000000', 'o': '88.4670000000'}, 'GBPAUD': {'b': '2.0537300000', 'o': '2.0535800000'}, 'BTCUSD': {'b': '118724.600000000...
2025-07-16 01:43:07,116 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:43:07,662 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:43:07,664 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:43:08,678 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:43:08,680 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:43:09,467 - DEBUG - app.firebase_stream - Firebase listener triggered (328). Event Type: patch, Path: /. Timestamp: 1752655389.4678378
2025-07-16 01:43:09,468 - DEBUG - app.firebase_stream - Prepared batch update for 24 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0343000000', 'o': '13.0317000000'}, 'USDJPY': {'b': '148.8460000000', 'o': '148.8400000000'}, 'USDCNH': {'b': '7.1809800000', 'o': '7.1809500000'}, 'EURNZD': {'b': '1.9556000000',
2025-07-16 01:43:09,468 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0343000000', 'o': '13.0317000000'}, 'USDJPY': {'b': '148.8460000000', 'o': '148.8400000000'}, 'USDCNH': {'b': '7.1809800000', 'o': '7.1809500000'}, 'EURNZD': {'b': '1.9556000000',...
2025-07-16 01:43:09,468 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:43:09,685 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:43:09,687 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:43:10,703 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:43:10,705 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:43:11,722 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:43:11,725 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:43:11,762 - DEBUG - app.firebase_stream - Firebase listener triggered (329). Event Type: patch, Path: /. Timestamp: 1752655391.762877
2025-07-16 01:43:11,763 - DEBUG - app.firebase_stream - Prepared batch update for 30 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0346000000', 'o': '13.0320900000'}, 'NZDJPY': {'b': '88.4810000000', 'o': '88.4720000000'}, 'GBPAUD': {'b': '2.0537900000', 'o': '2.0536400000'}, 'BTCUSD': {'b': '118743.590000000
2025-07-16 01:43:11,763 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0346000000', 'o': '13.0320900000'}, 'NZDJPY': {'b': '88.4810000000', 'o': '88.4720000000'}, 'GBPAUD': {'b': '2.0537900000', 'o': '2.0536400000'}, 'BTCUSD': {'b': '118743.590000000...
2025-07-16 01:43:11,763 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:43:12,743 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:43:12,745 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:43:13,760 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:43:13,762 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:43:14,077 - DEBUG - app.firebase_stream - Firebase listener triggered (330). Event Type: patch, Path: /. Timestamp: 1752655394.0777948
2025-07-16 01:43:14,078 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9900000000', 'o': '37.9830000000'}, 'NZDJPY': {'b': '88.4750000000', 'o': '88.4670000000'}, 'GBPAUD': {'b': '2.0537500000', 'o': '2.0536200000'}, 'BTCUSD': {'b': '118747.460000000
2025-07-16 01:43:14,078 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9900000000', 'o': '37.9830000000'}, 'NZDJPY': {'b': '88.4750000000', 'o': '88.4670000000'}, 'GBPAUD': {'b': '2.0537500000', 'o': '2.0536200000'}, 'BTCUSD': {'b': '118747.460000000...
2025-07-16 01:43:14,078 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:43:14,778 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:43:14,780 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:43:15,784 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:43:15,786 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:43:16,435 - DEBUG - app.firebase_stream - Firebase listener triggered (331). Event Type: patch, Path: /. Timestamp: 1752655396.4349954
2025-07-16 01:43:16,435 - DEBUG - app.firebase_stream - Prepared batch update for 24 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4750000000', 'o': '88.4680000000'}, 'GBPAUD': {'b': '2.0537300000', 'o': '2.0536100000'}, 'USDJPY': {'b': '148.8410000000', 'o': '148.8360000000'}, 'USDCNH': {'b': '7.1809900000',
2025-07-16 01:43:16,435 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4750000000', 'o': '88.4680000000'}, 'GBPAUD': {'b': '2.0537300000', 'o': '2.0536100000'}, 'USDJPY': {'b': '148.8410000000', 'o': '148.8360000000'}, 'USDCNH': {'b': '7.1809900000',...
2025-07-16 01:43:16,435 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:43:16,802 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:43:16,805 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:43:17,821 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:43:17,823 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:43:18,687 - DEBUG - app.firebase_stream - Firebase listener triggered (332). Event Type: patch, Path: /. Timestamp: 1752655398.6874983
2025-07-16 01:43:18,687 - DEBUG - app.firebase_stream - Prepared batch update for 38 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0348000000', 'o': '13.0323900000'}, 'XAGUSD': {'b': '37.9920000000', 'o': '37.9850000000'}, 'NZDJPY': {'b': '88.4760000000', 'o': '88.4680000000'}, 'GBPAUD': {'b': '2.0537300000',
2025-07-16 01:43:18,687 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0348000000', 'o': '13.0323900000'}, 'XAGUSD': {'b': '37.9920000000', 'o': '37.9850000000'}, 'NZDJPY': {'b': '88.4760000000', 'o': '88.4680000000'}, 'GBPAUD': {'b': '2.0537300000',...
2025-07-16 01:43:18,688 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:43:18,824 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:43:18,828 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:43:19,832 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:43:19,835 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:43:20,843 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:43:20,846 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:43:21,036 - DEBUG - app.firebase_stream - Firebase listener triggered (333). Event Type: patch, Path: /. Timestamp: 1752655401.0369356
2025-07-16 01:43:21,037 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4770000000', 'o': '88.4680000000'}, 'GBPAUD': {'b': '2.0537100000', 'o': '2.0535900000'}, 'BTCUSD': {'b': '118747.6000000000', 'o': '118747.5000000000'}, 'USDJPY': {'b': '148.8410
2025-07-16 01:43:21,037 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4770000000', 'o': '88.4680000000'}, 'GBPAUD': {'b': '2.0537100000', 'o': '2.0535900000'}, 'BTCUSD': {'b': '118747.6000000000', 'o': '118747.5000000000'}, 'USDJPY': {'b': '148.8410...
2025-07-16 01:43:21,037 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:43:21,861 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:43:21,863 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:43:22,869 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:43:22,871 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:43:23,273 - DEBUG - app.firebase_stream - Firebase listener triggered (334). Event Type: patch, Path: /. Timestamp: 1752655403.2739275
2025-07-16 01:43:23,274 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0345000000', 'o': '13.0321900000'}, 'NZDJPY': {'b': '88.4740000000', 'o': '88.4650000000'}, 'GBPAUD': {'b': '2.0537100000', 'o': '2.0535500000'}, 'USDJPY': {'b': '148.8380000000',
2025-07-16 01:43:23,274 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0345000000', 'o': '13.0321900000'}, 'NZDJPY': {'b': '88.4740000000', 'o': '88.4650000000'}, 'GBPAUD': {'b': '2.0537100000', 'o': '2.0535500000'}, 'USDJPY': {'b': '148.8380000000',...
2025-07-16 01:43:23,274 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:43:23,881 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:43:23,884 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:43:24,888 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:43:24,891 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:43:25,652 - DEBUG - app.firebase_stream - Firebase listener triggered (335). Event Type: patch, Path: /. Timestamp: 1752655405.6527
2025-07-16 01:43:25,652 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'GBPAUD': {'b': '2.0537200000', 'o': '2.0535600000'}, 'BTCUSD': {'b': '118722.9000000000', 'o': '118722.8000000000'}, 'USDJPY': {'b': '148.8390000000', 'o': '148.8340000000'}, 'CADCHF': {'b': '0.5841
2025-07-16 01:43:25,653 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPAUD': {'b': '2.0537200000', 'o': '2.0535600000'}, 'BTCUSD': {'b': '118722.9000000000', 'o': '118722.8000000000'}, 'USDJPY': {'b': '148.8390000000', 'o': '148.8340000000'}, 'CADCHF': {'b': '0.5841...
2025-07-16 01:43:25,653 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:43:25,903 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:43:25,906 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:43:26,916 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:43:26,919 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:43:27,908 - DEBUG - app.firebase_stream - Firebase listener triggered (336). Event Type: patch, Path: /. Timestamp: 1752655407.9084516
2025-07-16 01:43:27,909 - DEBUG - app.firebase_stream - Prepared batch update for 40 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0344000000', 'o': '13.0321900000'}, 'XAGUSD': {'b': '37.9980000000', 'o': '37.9910000000'}, 'NZDJPY': {'b': '88.4700000000', 'o': '88.4610000000'}, 'GBPAUD': {'b': '2.0537300000',
2025-07-16 01:43:27,909 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0344000000', 'o': '13.0321900000'}, 'XAGUSD': {'b': '37.9980000000', 'o': '37.9910000000'}, 'NZDJPY': {'b': '88.4700000000', 'o': '88.4610000000'}, 'GBPAUD': {'b': '2.0537300000',...
2025-07-16 01:43:27,910 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:43:27,923 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:43:27,930 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:43:28,938 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:43:28,940 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:43:29,958 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:43:29,960 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:43:30,194 - DEBUG - app.firebase_stream - Firebase listener triggered (337). Event Type: patch, Path: /. Timestamp: 1752655410.194154
2025-07-16 01:43:30,194 - DEBUG - app.firebase_stream - Prepared batch update for 36 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0344000000', 'o': '13.0318300000'}, 'XAGUSD': {'b': '37.9970000000', 'o': '37.9900000000'}, 'GBPAUD': {'b': '2.0537700000', 'o': '2.0536400000'}, 'BTCUSD': {'b': '118746.000000000
2025-07-16 01:43:30,194 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0344000000', 'o': '13.0318300000'}, 'XAGUSD': {'b': '37.9970000000', 'o': '37.9900000000'}, 'GBPAUD': {'b': '2.0537700000', 'o': '2.0536400000'}, 'BTCUSD': {'b': '118746.000000000...
2025-07-16 01:43:30,194 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:43:30,967 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:43:30,970 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:43:31,980 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:43:31,983 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:43:32,612 - DEBUG - app.firebase_stream - Firebase listener triggered (338). Event Type: patch, Path: /. Timestamp: 1752655412.6121037
2025-07-16 01:43:32,612 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4700000000', 'o': '88.4630000000'}, 'GBPAUD': {'b': '2.0537500000', 'o': '2.0536300000'}, 'BTCUSD': {'b': '118722.9000000000', 'o': '118722.8000000000'}, 'USDJPY': {'b': '148.8470
2025-07-16 01:43:32,612 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4700000000', 'o': '88.4630000000'}, 'GBPAUD': {'b': '2.0537500000', 'o': '2.0536300000'}, 'BTCUSD': {'b': '118722.9000000000', 'o': '118722.8000000000'}, 'USDJPY': {'b': '148.8470...
2025-07-16 01:43:32,612 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:43:32,997 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:43:33,001 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:43:34,014 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:43:34,016 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:43:34,527 - WARNING - app - User 4 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:43:34,529 - WARNING - app - No user data found for user 5 (live). Skipping portfolio update.
2025-07-16 01:43:34,531 - WARNING - app - No group settings found for group string. Skipping portfolio update for user 8.
2025-07-16 01:43:34,541 - WARNING - app - User 9 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:43:34,553 - WARNING - app - User 10 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:43:34,564 - WARNING - app - User 11 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:43:34,575 - WARNING - app - User 12 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:43:34,586 - WARNING - app - User 13 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:43:34,861 - DEBUG - app.firebase_stream - Firebase listener triggered (339). Event Type: patch, Path: /. Timestamp: 1752655414.8612287
2025-07-16 01:43:34,861 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0343000000', 'o': '13.0318300000'}, 'NZDJPY': {'b': '88.4720000000', 'o': '88.4640000000'}, 'GBPAUD': {'b': '2.0537700000', 'o': '2.0536400000'}, 'BTCUSD': {'b': '118755.700000000
2025-07-16 01:43:34,861 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0343000000', 'o': '13.0318300000'}, 'NZDJPY': {'b': '88.4720000000', 'o': '88.4640000000'}, 'GBPAUD': {'b': '2.0537700000', 'o': '2.0536400000'}, 'BTCUSD': {'b': '118755.700000000...
2025-07-16 01:43:34,861 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:43:34,959 - DEBUG - app.services.portfolio_calculator - Position calculation for BTCUSD: Type=BUY, Entry=118908.50000000, Current=118672.8, Quantity=0.40000000, Contract Size=1.00000000, PnL=-94.280000000000000000000000, PnL USD=-94.280000000000000000000000, Commission=235.57000000, Final PnL=-329.850000000000000000000000
2025-07-16 01:43:35,010 - WARNING - app - User 16 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:43:35,017 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:43:35,019 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:43:35,024 - WARNING - app - User 17 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:43:35,037 - WARNING - app - User 18 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:43:35,048 - WARNING - app - User 19 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:43:35,060 - WARNING - app - User 20 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:43:35,071 - WARNING - app - User 21 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:43:35,082 - WARNING - app - User 22 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:43:35,093 - WARNING - app - User 23 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:43:35,108 - WARNING - app - User 25 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:43:35,468 - DEBUG - app.services.portfolio_calculator - Position calculation for XAGUSD: Type=BUY, Entry=41.09800000, Current=37.9775, Quantity=0.01000000, Contract Size=5000.00000000, PnL=-156.025000000000000000000000, PnL USD=-156.025000000000000000000000, Commission=0.10000000, Final PnL=-156.125000000000000000000000
2025-07-16 01:43:35,468 - DEBUG - app.services.portfolio_calculator - Position calculation for BTCUSD: Type=BUY, Entry=132091.90000000, Current=118705.6, Quantity=6.00000000, Contract Size=1.00000000, PnL=-80317.80000000000000000000000, PnL USD=-80317.80000000000000000000000, Commission=3661.62000000, Final PnL=-83979.42000000000000000000000
2025-07-16 01:43:35,469 - WARNING - app.services.portfolio_calculator - MARGIN CALL ALERT: User has margin level 68.41016320706215477995722004% which is below threshold 100.0%
2025-07-16 01:43:35,880 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=96.66800000, Current=97.032, Quantity=0.01000000, Contract Size=100000.00000000, PnL=364.000000000000000000000000, PnL USD=2.445447705041384499623777276, Commission=0.10000000, Final PnL=2.345447705041384499623777276
2025-07-16 01:43:35,881 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=96.56000000, Current=97.13799999999999, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-577.9999999999900000000000000, PnL USD=-3.883155971192021390949156186, Commission=0.10000000, Final PnL=-3.983155971192021390949156186
2025-07-16 01:43:35,882 - WARNING - app - User 2 has no group_name set. Skipping portfolio update.
2025-07-16 01:43:35,887 - WARNING - app - No group settings found for group string. Skipping portfolio update for user 3.
2025-07-16 01:43:35,903 - WARNING - app - User 4 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:43:35,904 - WARNING - app - User 5 has no group_name set. Skipping portfolio update.
2025-07-16 01:43:35,905 - WARNING - app - User 6 has no group_name set. Skipping portfolio update.
2025-07-16 01:43:36,288 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64743000, Current=0.6521, Quantity=0.10000000, Contract Size=100000.00000000, PnL=46.700000000000000000000000, PnL USD=46.700000000000000000000000, Commission=1.00000000, Final PnL=45.700000000000000000000000
2025-07-16 01:43:36,288 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=SELL, Entry=0.64707000, Current=0.6524099999999999, Quantity=0.22000000, Contract Size=100000.00000000, PnL=-117.4799999999978000000000000, PnL USD=-117.4799999999978000000000000, Commission=2.20000000, Final PnL=-119.6799999999978000000000000
2025-07-16 01:43:36,289 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:43:36,290 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFSGD: Type=BUY, Entry=1.57561500, Current=1.6029950000000002, Quantity=0.10000000, Contract Size=100000.00000000, PnL=273.8000000000020000000000000, PnL USD=213.1137333042762850649148479, Commission=1.00000000, Final PnL=212.1137333042762850649148479
2025-07-16 01:43:36,292 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFSGD: Type=SELL, Entry=1.57505500, Current=1.6034249999999999, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-283.6999999999990000000000000, PnL USD=-220.8194526604182882406052492, Commission=1.00000000, Final PnL=-221.8194526604182882406052492
2025-07-16 01:43:36,292 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:43:36,293 - DEBUG - app.services.portfolio_calculator - Position calculation for CADJPY: Type=SELL, Entry=106.24150000, Current=108.5125, Quantity=0.15000000, Contract Size=100000.00000000, PnL=-34065.00000000000000000000000, PnL USD=-228.8576265720735246694614640, Commission=0E-8, Final PnL=-228.8576265720735246694614640
2025-07-16 01:43:36,294 - DEBUG - app.services.portfolio_calculator - Position calculation for CADJPY: Type=BUY, Entry=106.27050000, Current=108.4815, Quantity=0.15000000, Contract Size=100000.00000000, PnL=33165.00000000000000000000000, PnL USD=222.8111899387294421154466301, Commission=0E-8, Final PnL=222.8111899387294421154466301
2025-07-16 01:43:36,294 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=BUY, Entry=1.77481000, Current=1.7819099999999999, Quantity=0.22000000, Contract Size=100000.00000000, PnL=156.1999999999978000000000000, PnL USD=101.8830119999985650280000000, Commission=2.20000000, Final PnL=99.6830119999985650280000000
2025-07-16 01:43:36,294 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=SELL, Entry=1.77439000, Current=1.78231, Quantity=0.21000000, Contract Size=100000.00000000, PnL=-166.320000000000000000000000, PnL USD=-108.4838832000000000000000000, Commission=2.10000000, Final PnL=-110.5838832000000000000000000
2025-07-16 01:43:36,294 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFJPY: Type=BUY, Entry=178.15500000, Current=185.745, Quantity=0.10000000, Contract Size=100000.00000000, PnL=75900.00000000000000000000000, PnL USD=509.9161560786842953885843276, Commission=1.00000000, Final PnL=508.9161560786842953885843276
2025-07-16 01:43:36,295 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFJPY: Type=SELL, Entry=178.09500000, Current=185.785, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-76900.00000000000000000000000, PnL USD=-516.6344190046221648930452542, Commission=1.00000000, Final PnL=-517.6344190046221648930452542
2025-07-16 01:43:36,295 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=BUY, Entry=1.77480000, Current=1.7819099999999999, Quantity=0.05000000, Contract Size=100000.00000000, PnL=35.54999999999950000000000000, PnL USD=23.18784299999967387000000000, Commission=0.50000000, Final PnL=22.68784299999967387000000000
2025-07-16 01:43:36,295 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=SELL, Entry=1.77442000, Current=1.78231, Quantity=0.05000000, Contract Size=100000.00000000, PnL=-39.450000000000000000000000, PnL USD=-25.73165700000000000000000000, Commission=0.50000000, Final PnL=-26.23165700000000000000000000
2025-07-16 01:43:36,295 - DEBUG - app.services.portfolio_calculator - Position calculation for EURGBP: Type=SELL, Entry=0.85403000, Current=0.86792, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-138.900000000000000000000000, PnL USD=-186.0621060000000000000000000, Commission=1.00000000, Final PnL=-187.0621060000000000000000000
2025-07-16 01:43:36,295 - DEBUG - app.services.portfolio_calculator - Position calculation for EURJPY: Type=BUY, Entry=167.26050000, Current=173.00050000000002, Quantity=0.10000000, Contract Size=100000.00000000, PnL=57400.00000000020000000000000, PnL USD=385.6282919488350532086423734, Commission=1.00000000, Final PnL=384.6282919488350532086423734
2025-07-16 01:43:36,296 - DEBUG - app.services.portfolio_calculator - Position calculation for EURJPY: Type=SELL, Entry=167.23150000, Current=173.0305, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-57990.00000000000000000000000, PnL USD=-389.5920670751370525636891325, Commission=1.00000000, Final PnL=-390.5920670751370525636891325
2025-07-16 01:43:36,296 - DEBUG - app.services.portfolio_calculator - Position calculation for EURNZD: Type=SELL, Entry=1.91952500, Current=1.955905, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-363.800000000000000000000000, PnL USD=-216.2318060000000000000000000, Commission=1.00000000, Final PnL=-217.2318060000000000000000000
2025-07-16 01:43:36,296 - DEBUG - app.services.portfolio_calculator - Position calculation for EURNZD: Type=BUY, Entry=1.92063500, Current=1.9554550000000002, Quantity=0.10000000, Contract Size=100000.00000000, PnL=348.2000000000020000000000000, PnL USD=206.9596340000011887400000000, Commission=1.00000000, Final PnL=205.9596340000011887400000000
2025-07-16 01:43:36,296 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=SELL, Entry=1.34376000, Current=1.33964, Quantity=0.25000000, Contract Size=0E-8, PnL=0E-24, PnL USD=0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 01:43:36,296 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=SELL, Entry=1.34361000, Current=1.33964, Quantity=0.25000000, Contract Size=0E-8, PnL=0E-24, PnL USD=0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 01:43:36,297 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=BUY, Entry=1.34379000, Current=1.3394300000000001, Quantity=0.25000000, Contract Size=0E-8, PnL=-0E-32, PnL USD=-0E-32, Commission=2.50000000, Final PnL=-2.500000000000000000000000000
2025-07-16 01:43:36,297 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=BUY, Entry=1.34378000, Current=1.3394300000000001, Quantity=0.25000000, Contract Size=0E-8, PnL=-0E-32, PnL USD=-0E-32, Commission=2.50000000, Final PnL=-2.500000000000000000000000000
2025-07-16 01:43:36,297 - DEBUG - app.services.portfolio_calculator - Position calculation for NZDJPY: Type=BUY, Entry=87.10150000, Current=88.4515, Quantity=0.01000000, Contract Size=100000.00000000, PnL=1350.000000000000000000000000, PnL USD=9.069654950016123831022250887, Commission=0.10000000, Final PnL=8.969654950016123831022250887
2025-07-16 01:43:36,298 - DEBUG - app.services.portfolio_calculator - Position calculation for USDCHF: Type=SELL, Entry=0.81771000, Current=0.8014399999999999, Quantity=0.15000000, Contract Size=100000.00000000, PnL=244.0500000000015000000000000, PnL USD=304.5713786519256448976026158, Commission=1.50000000, Final PnL=303.0713786519256448976026158
2025-07-16 01:43:36,298 - DEBUG - app.services.portfolio_calculator - Position calculation for USDCHF: Type=BUY, Entry=0.81805000, Current=0.80111, Quantity=0.15000000, Contract Size=100000.00000000, PnL=-254.100000000000000000000000, PnL USD=-317.1136542325500131038700096, Commission=1.50000000, Final PnL=-318.6136542325500131038700096
2025-07-16 01:43:36,299 - DEBUG - app.services.portfolio_calculator - Position calculation for USDNOK: Type=BUY, Entry=10.04973000, Current=10.27219, Quantity=0.10000000, Contract Size=100000.00000000, PnL=2224.600000000000000000000000, PnL USD=216.5366402071338534391714646, Commission=1.00000000, Final PnL=215.5366402071338534391714646
2025-07-16 01:43:36,299 - DEBUG - app.services.portfolio_calculator - Position calculation for USDNOK: Type=BUY, Entry=10.05023000, Current=10.27219, Quantity=0.10000000, Contract Size=100000.00000000, PnL=2219.600000000000000000000000, PnL USD=216.0499535214215144716285997, Commission=1.00000000, Final PnL=215.0499535214215144716285997
2025-07-16 01:43:36,300 - DEBUG - app.services.portfolio_calculator - Position calculation for USDSGD: Type=SELL, Entry=1.28795000, Current=1.28491, Quantity=0.31000000, Contract Size=100000.00000000, PnL=94.240000000000000000000000, PnL USD=73.35222142656994302437809396, Commission=3.10000000, Final PnL=70.25222142656994302437809396
2025-07-16 01:43:36,300 - DEBUG - app.services.portfolio_calculator - Position calculation for USDTRY: Type=SELL, Entry=39.56087000, Current=40.258579999999995, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-6977.099999999950000000000000, PnL USD=-173.3078016206779549028613386, Commission=1.00000000, Final PnL=-174.3078016206779549028613386
2025-07-16 01:43:37,108 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.89752000, Current=0.89481, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-2.710000000000000000000000, PnL USD=-1.975261849748901215041145215, Commission=0.10000000, Final PnL=-2.075261849748901215041145215
2025-07-16 01:43:37,119 - WARNING - app - User 12 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:43:37,130 - WARNING - app - User 13 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:43:37,169 - DEBUG - app.firebase_stream - Firebase listener triggered (340). Event Type: patch, Path: /. Timestamp: 1752655417.1697881
2025-07-16 01:43:37,170 - DEBUG - app.firebase_stream - Prepared batch update for 35 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0343000000', 'o': '13.0317000000'}, 'XAGUSD': {'b': '37.9960000000', 'o': '37.9890000000'}, 'NZDJPY': {'b': '88.4710000000', 'o': '88.4630000000'}, 'GBPAUD': {'b': '2.0537600000',
2025-07-16 01:43:37,170 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0343000000', 'o': '13.0317000000'}, 'XAGUSD': {'b': '37.9960000000', 'o': '37.9890000000'}, 'NZDJPY': {'b': '88.4710000000', 'o': '88.4630000000'}, 'GBPAUD': {'b': '2.0537600000',...
2025-07-16 01:43:37,170 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:43:37,300 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:43:37,302 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:43:38,304 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:43:38,306 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:43:39,318 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:43:39,320 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:43:39,476 - DEBUG - app.firebase_stream - Firebase listener triggered (341). Event Type: patch, Path: /. Timestamp: 1752655419.4765277
2025-07-16 01:43:39,476 - DEBUG - app.firebase_stream - Prepared batch update for 39 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0348000000', 'o': '13.0322000000'}, 'NZDJPY': {'b': '88.4680000000', 'o': '88.4610000000'}, 'GBPAUD': {'b': '2.0539100000', 'o': '2.0537600000'}, 'BTCUSD': {'b': '118758.100000000
2025-07-16 01:43:39,477 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0348000000', 'o': '13.0322000000'}, 'NZDJPY': {'b': '88.4680000000', 'o': '88.4610000000'}, 'GBPAUD': {'b': '2.0539100000', 'o': '2.0537600000'}, 'BTCUSD': {'b': '118758.100000000...
2025-07-16 01:43:39,477 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:43:40,332 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:43:40,335 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:43:41,345 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:43:41,347 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:43:41,799 - DEBUG - app.firebase_stream - Firebase listener triggered (342). Event Type: patch, Path: /. Timestamp: 1752655421.799384
2025-07-16 01:43:41,799 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0349000000', 'o': '13.0323000000'}, 'GBPAUD': {'b': '2.0539000000', 'o': '2.0537100000'}, 'BTCUSD': {'b': '118753.4000000000', 'o': '118753.3000000000'}, 'USDCNH': {'b': '7.181090
2025-07-16 01:43:41,799 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0349000000', 'o': '13.0323000000'}, 'GBPAUD': {'b': '2.0539000000', 'o': '2.0537100000'}, 'BTCUSD': {'b': '118753.4000000000', 'o': '118753.3000000000'}, 'USDCNH': {'b': '7.181090...
2025-07-16 01:43:41,800 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:43:42,360 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:43:42,362 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:43:43,370 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:43:43,372 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:43:44,087 - DEBUG - app.firebase_stream - Firebase listener triggered (343). Event Type: patch, Path: /. Timestamp: 1752655424.0870724
2025-07-16 01:43:44,087 - DEBUG - app.firebase_stream - Prepared batch update for 37 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0347000000', 'o': '13.0322900000'}, 'XAGUSD': {'b': '37.9990000000', 'o': '37.9900000000'}, 'NZDJPY': {'b': '88.4650000000', 'o': '88.4560000000'}, 'GBPAUD': {'b': '2.0539200000',
2025-07-16 01:43:44,087 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0347000000', 'o': '13.0322900000'}, 'XAGUSD': {'b': '37.9990000000', 'o': '37.9900000000'}, 'NZDJPY': {'b': '88.4650000000', 'o': '88.4560000000'}, 'GBPAUD': {'b': '2.0539200000',...
2025-07-16 01:43:44,087 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:43:44,388 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:43:44,390 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:43:45,404 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:43:45,407 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:43:46,356 - DEBUG - app.firebase_stream - Firebase listener triggered (344). Event Type: patch, Path: /. Timestamp: 1752655426.3564918
2025-07-16 01:43:46,356 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0345000000', 'o': '13.0323900000'}, 'XAGUSD': {'b': '37.9960000000', 'o': '37.9890000000'}, 'GBPAUD': {'b': '2.0539500000', 'o': '2.0538200000'}, 'USDJPY': {'b': '148.8330000000',
2025-07-16 01:43:46,356 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0345000000', 'o': '13.0323900000'}, 'XAGUSD': {'b': '37.9960000000', 'o': '37.9890000000'}, 'GBPAUD': {'b': '2.0539500000', 'o': '2.0538200000'}, 'USDJPY': {'b': '148.8330000000',...
2025-07-16 01:43:46,356 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:43:46,409 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:43:46,411 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:43:47,427 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:43:47,429 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:43:48,446 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:43:48,448 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:43:48,690 - DEBUG - app.firebase_stream - Firebase listener triggered (345). Event Type: patch, Path: /. Timestamp: 1752655428.690578
2025-07-16 01:43:48,690 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0352000000', 'o': '13.0326000000'}, 'XAGUSD': {'b': '38.0020000000', 'o': '37.9950000000'}, 'GBPAUD': {'b': '2.0539600000', 'o': '2.0538000000'}, 'USDJPY': {'b': '148.8350000000',
2025-07-16 01:43:48,691 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0352000000', 'o': '13.0326000000'}, 'XAGUSD': {'b': '38.0020000000', 'o': '37.9950000000'}, 'GBPAUD': {'b': '2.0539600000', 'o': '2.0538000000'}, 'USDJPY': {'b': '148.8350000000',...
2025-07-16 01:43:48,691 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:43:49,454 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:43:49,457 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:43:50,474 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:43:50,477 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:43:51,043 - DEBUG - app.firebase_stream - Firebase listener triggered (346). Event Type: patch, Path: /. Timestamp: 1752655431.0436022
2025-07-16 01:43:51,043 - DEBUG - app.firebase_stream - Prepared batch update for 27 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0350000000', 'o': '13.0325300000'}, 'NZDJPY': {'b': '88.4640000000', 'o': '88.4550000000'}, 'GBPAUD': {'b': '2.0539700000', 'o': '2.0538200000'}, 'USDCNH': {'b': '7.1810500000', '
2025-07-16 01:43:51,044 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0350000000', 'o': '13.0325300000'}, 'NZDJPY': {'b': '88.4640000000', 'o': '88.4550000000'}, 'GBPAUD': {'b': '2.0539700000', 'o': '2.0538200000'}, 'USDCNH': {'b': '7.1810500000', '...
2025-07-16 01:43:51,044 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:43:51,494 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:43:51,496 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:43:52,498 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:43:52,501 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:43:53,298 - DEBUG - app.firebase_stream - Firebase listener triggered (347). Event Type: patch, Path: /. Timestamp: 1752655433.2987702
2025-07-16 01:43:53,299 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4630000000', 'o': '88.4560000000'}, 'GBPAUD': {'b': '2.0539700000', 'o': '2.0538500000'}, 'BTCUSD': {'b': '118759.4800000000', 'o': '118759.4800000000'}, 'USDJPY': {'b': '148.8410
2025-07-16 01:43:53,299 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4630000000', 'o': '88.4560000000'}, 'GBPAUD': {'b': '2.0539700000', 'o': '2.0538500000'}, 'BTCUSD': {'b': '118759.4800000000', 'o': '118759.4800000000'}, 'USDJPY': {'b': '148.8410...
2025-07-16 01:43:53,299 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:43:53,510 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:43:53,512 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:43:54,524 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:43:54,527 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:43:55,542 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:43:55,545 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:43:55,654 - DEBUG - app.firebase_stream - Firebase listener triggered (348). Event Type: patch, Path: /. Timestamp: 1752655435.6542356
2025-07-16 01:43:55,654 - DEBUG - app.firebase_stream - Prepared batch update for 34 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0352000000', 'o': '13.0326000000'}, 'XAGUSD': {'b': '38.0030000000', 'o': '37.9960000000'}, 'NZDJPY': {'b': '88.4670000000', 'o': '88.4580000000'}, 'GBPAUD': {'b': '2.0540000000',
2025-07-16 01:43:55,654 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0352000000', 'o': '13.0326000000'}, 'XAGUSD': {'b': '38.0030000000', 'o': '37.9960000000'}, 'NZDJPY': {'b': '88.4670000000', 'o': '88.4580000000'}, 'GBPAUD': {'b': '2.0540000000',...
2025-07-16 01:43:55,655 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:43:56,552 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:43:56,554 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:43:57,556 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:43:57,557 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:43:57,904 - DEBUG - app.firebase_stream - Firebase listener triggered (349). Event Type: patch, Path: /. Timestamp: 1752655437.903977
2025-07-16 01:43:57,904 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0352000000', 'o': '13.0327600000'}, 'XAGUSD': {'b': '38.0060000000', 'o': '37.9990000000'}, 'NZDJPY': {'b': '88.4650000000', 'o': '88.4580000000'}, 'GBPAUD': {'b': '2.0539900000',
2025-07-16 01:43:57,904 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0352000000', 'o': '13.0327600000'}, 'XAGUSD': {'b': '38.0060000000', 'o': '37.9990000000'}, 'NZDJPY': {'b': '88.4650000000', 'o': '88.4580000000'}, 'GBPAUD': {'b': '2.0539900000',...
2025-07-16 01:43:57,904 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:43:58,564 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:43:58,567 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:43:59,581 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:43:59,584 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:44:00,264 - DEBUG - app.firebase_stream - Firebase listener triggered (350). Event Type: patch, Path: /. Timestamp: 1752655440.2640815
2025-07-16 01:44:00,264 - DEBUG - app.firebase_stream - Prepared batch update for 34 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0348000000', 'o': '13.0324000000'}, 'XAGUSD': {'b': '38.0120000000', 'o': '38.0060000000'}, 'NZDJPY': {'b': '88.4630000000', 'o': '88.4560000000'}, 'GBPAUD': {'b': '2.0539700000',
2025-07-16 01:44:00,264 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0348000000', 'o': '13.0324000000'}, 'XAGUSD': {'b': '38.0120000000', 'o': '38.0060000000'}, 'NZDJPY': {'b': '88.4630000000', 'o': '88.4560000000'}, 'GBPAUD': {'b': '2.0539700000',...
2025-07-16 01:44:00,264 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:44:00,592 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:44:00,595 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:44:01,600 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:44:01,603 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:44:02,515 - DEBUG - app.firebase_stream - Firebase listener triggered (351). Event Type: patch, Path: /. Timestamp: 1752655442.5152626
2025-07-16 01:44:02,515 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0351000000', 'o': '13.0325000000'}, 'NZDJPY': {'b': '88.4650000000', 'o': '88.4560000000'}, 'BTCUSD': {'b': '118756.7000000000', 'o': '118756.6000000000'}, 'CADCHF': {'b': '0.5840
2025-07-16 01:44:02,516 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0351000000', 'o': '13.0325000000'}, 'NZDJPY': {'b': '88.4650000000', 'o': '88.4560000000'}, 'BTCUSD': {'b': '118756.7000000000', 'o': '118756.6000000000'}, 'CADCHF': {'b': '0.5840...
2025-07-16 01:44:02,516 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:44:02,605 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:44:02,607 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:44:03,619 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:44:03,621 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:44:04,634 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:44:04,636 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:44:04,872 - DEBUG - app.firebase_stream - Firebase listener triggered (352). Event Type: patch, Path: /. Timestamp: 1752655444.8724904
2025-07-16 01:44:04,872 - DEBUG - app.firebase_stream - Prepared batch update for 38 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0343000000', 'o': '13.0318300000'}, 'NZDJPY': {'b': '88.4680000000', 'o': '88.4600000000'}, 'GBPAUD': {'b': '2.0539600000', 'o': '2.0537900000'}, 'BTCUSD': {'b': '118761.500000000
2025-07-16 01:44:04,872 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0343000000', 'o': '13.0318300000'}, 'NZDJPY': {'b': '88.4680000000', 'o': '88.4600000000'}, 'GBPAUD': {'b': '2.0539600000', 'o': '2.0537900000'}, 'BTCUSD': {'b': '118761.500000000...
2025-07-16 01:44:04,873 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:44:05,649 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:44:05,652 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:44:06,664 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:44:06,666 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:44:07,124 - DEBUG - app.firebase_stream - Firebase listener triggered (353). Event Type: patch, Path: /. Timestamp: 1752655447.124072
2025-07-16 01:44:07,124 - DEBUG - app.firebase_stream - Prepared batch update for 36 symbols from root path for queue. Preview: {'XAGUSD': {'b': '38.0120000000', 'o': '38.0050000000'}, 'GBPAUD': {'b': '2.0540000000', 'o': '2.0538300000'}, 'USDJPY': {'b': '148.8420000000', 'o': '148.8390000000'}, 'USDCNH': {'b': '7.1810900000',
2025-07-16 01:44:07,124 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'XAGUSD': {'b': '38.0120000000', 'o': '38.0050000000'}, 'GBPAUD': {'b': '2.0540000000', 'o': '2.0538300000'}, 'USDJPY': {'b': '148.8420000000', 'o': '148.8390000000'}, 'USDCNH': {'b': '7.1810900000',...
2025-07-16 01:44:07,124 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:44:07,679 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:44:07,681 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:44:08,691 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:44:08,693 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:44:09,476 - DEBUG - app.firebase_stream - Firebase listener triggered (354). Event Type: patch, Path: /. Timestamp: 1752655449.4766977
2025-07-16 01:44:09,477 - DEBUG - app.firebase_stream - Prepared batch update for 23 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0355000000', 'o': '13.0329900000'}, 'GBPAUD': {'b': '2.0539900000', 'o': '2.0538200000'}, 'USDCNH': {'b': '7.1810600000', 'o': '7.1810100000'}, 'CADCHF': {'b': '0.5840900000', 'o'
2025-07-16 01:44:09,477 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0355000000', 'o': '13.0329900000'}, 'GBPAUD': {'b': '2.0539900000', 'o': '2.0538200000'}, 'USDCNH': {'b': '7.1810600000', 'o': '7.1810100000'}, 'CADCHF': {'b': '0.5840900000', 'o'...
2025-07-16 01:44:09,477 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:44:09,707 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:44:09,710 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:44:10,714 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:44:10,716 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:44:11,692 - DEBUG - app.firebase_stream - Firebase listener triggered (355). Event Type: patch, Path: /. Timestamp: 1752655451.692389
2025-07-16 01:44:11,693 - DEBUG - app.firebase_stream - Prepared batch update for 21 symbols from root path for queue. Preview: {'XAGUSD': {'b': '38.0110000000', 'o': '38.0040000000'}, 'NZDJPY': {'b': '88.4630000000', 'o': '88.4570000000'}, 'GBPAUD': {'b': '2.0539900000', 'o': '2.0538300000'}, 'USDJPY': {'b': '148.8430000000',
2025-07-16 01:44:11,693 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '38.0110000000', 'o': '38.0040000000'}, 'NZDJPY': {'b': '88.4630000000', 'o': '88.4570000000'}, 'GBPAUD': {'b': '2.0539900000', 'o': '2.0538300000'}, 'USDJPY': {'b': '148.8430000000',...
2025-07-16 01:44:11,693 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:44:11,718 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:44:11,719 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:44:12,734 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:44:12,736 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:44:13,739 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:44:13,741 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:44:13,980 - DEBUG - app.firebase_stream - Firebase listener triggered (356). Event Type: patch, Path: /. Timestamp: 1752655453.9808981
2025-07-16 01:44:13,981 - DEBUG - app.firebase_stream - Prepared batch update for 24 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4630000000', 'o': '88.4540000000'}, 'GBPAUD': {'b': '2.0539900000', 'o': '2.0538700000'}, 'USDJPY': {'b': '148.8440000000', 'o': '148.8400000000'}, 'USDCNH': {'b': '7.1810700000',
2025-07-16 01:44:13,981 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4630000000', 'o': '88.4540000000'}, 'GBPAUD': {'b': '2.0539900000', 'o': '2.0538700000'}, 'USDJPY': {'b': '148.8440000000', 'o': '148.8400000000'}, 'USDCNH': {'b': '7.1810700000',...
2025-07-16 01:44:13,981 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:44:14,757 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:44:14,759 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:44:15,769 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:44:15,771 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:44:16,343 - DEBUG - app.firebase_stream - Firebase listener triggered (357). Event Type: patch, Path: /. Timestamp: 1752655456.3437037
2025-07-16 01:44:16,344 - DEBUG - app.firebase_stream - Prepared batch update for 34 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0354000000', 'o': '13.0329800000'}, 'NZDJPY': {'b': '88.4640000000', 'o': '88.4560000000'}, 'GBPAUD': {'b': '2.0540100000', 'o': '2.0538900000'}, 'BTCUSD': {'b': '118748.800000000
2025-07-16 01:44:16,344 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0354000000', 'o': '13.0329800000'}, 'NZDJPY': {'b': '88.4640000000', 'o': '88.4560000000'}, 'GBPAUD': {'b': '2.0540100000', 'o': '2.0538900000'}, 'BTCUSD': {'b': '118748.800000000...
2025-07-16 01:44:16,344 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:44:16,783 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:44:16,786 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:44:17,800 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:44:17,803 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:44:18,579 - DEBUG - app.firebase_stream - Firebase listener triggered (358). Event Type: patch, Path: /. Timestamp: 1752655458.5797489
2025-07-16 01:44:18,580 - DEBUG - app.firebase_stream - Prepared batch update for 27 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0354000000', 'o': '13.0331800000'}, 'XAGUSD': {'b': '37.9960000000', 'o': '37.9890000000'}, 'GBPAUD': {'b': '2.0540000000', 'o': '2.0538600000'}, 'BTCUSD': {'b': '118761.500000000
2025-07-16 01:44:18,580 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0354000000', 'o': '13.0331800000'}, 'XAGUSD': {'b': '37.9960000000', 'o': '37.9890000000'}, 'GBPAUD': {'b': '2.0540000000', 'o': '2.0538600000'}, 'BTCUSD': {'b': '118761.500000000...
2025-07-16 01:44:18,580 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:44:18,807 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:44:18,810 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:44:19,824 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:44:19,828 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:44:20,844 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:44:20,847 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:44:20,944 - DEBUG - app.firebase_stream - Firebase listener triggered (359). Event Type: patch, Path: /. Timestamp: 1752655460.9441972
2025-07-16 01:44:20,944 - DEBUG - app.firebase_stream - Prepared batch update for 27 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0355000000', 'o': '13.0331800000'}, 'XAGUSD': {'b': '38.0110000000', 'o': '38.0040000000'}, 'NZDJPY': {'b': '88.4650000000', 'o': '88.4560000000'}, 'GBPAUD': {'b': '2.0540200000',
2025-07-16 01:44:20,944 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0355000000', 'o': '13.0331800000'}, 'XAGUSD': {'b': '38.0110000000', 'o': '38.0040000000'}, 'NZDJPY': {'b': '88.4650000000', 'o': '88.4560000000'}, 'GBPAUD': {'b': '2.0540200000',...
2025-07-16 01:44:20,945 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:44:21,864 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:44:21,867 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:44:22,874 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:44:22,876 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:44:23,198 - DEBUG - app.firebase_stream - Firebase listener triggered (360). Event Type: patch, Path: /. Timestamp: 1752655463.19889
2025-07-16 01:44:23,199 - DEBUG - app.firebase_stream - Prepared batch update for 36 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0355000000', 'o': '13.0329000000'}, 'NZDJPY': {'b': '88.4630000000', 'o': '88.4610000000'}, 'GBPAUD': {'b': '2.0539700000', 'o': '2.0538700000'}, 'BTCUSD': {'b': '118761.500000000
2025-07-16 01:44:23,199 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0355000000', 'o': '13.0329000000'}, 'NZDJPY': {'b': '88.4630000000', 'o': '88.4610000000'}, 'GBPAUD': {'b': '2.0539700000', 'o': '2.0538700000'}, 'BTCUSD': {'b': '118761.500000000...
2025-07-16 01:44:23,199 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:44:23,891 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:44:23,893 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:44:24,899 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:44:24,902 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:44:25,551 - DEBUG - app.firebase_stream - Firebase listener triggered (361). Event Type: patch, Path: /. Timestamp: 1752655465.551326
2025-07-16 01:44:25,551 - DEBUG - app.firebase_stream - Prepared batch update for 34 symbols from root path for queue. Preview: {'XAGUSD': {'b': '38.0120000000', 'o': '38.0050000000'}, 'NZDJPY': {'b': '88.4700000000', 'o': '88.4600000000'}, 'GBPAUD': {'b': '2.0539700000', 'o': '2.0538300000'}, 'BTCUSD': {'b': '118768.980000000
2025-07-16 01:44:25,551 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '38.0120000000', 'o': '38.0050000000'}, 'NZDJPY': {'b': '88.4700000000', 'o': '88.4600000000'}, 'GBPAUD': {'b': '2.0539700000', 'o': '2.0538300000'}, 'BTCUSD': {'b': '118768.980000000...
2025-07-16 01:44:25,551 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:44:25,917 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:44:25,919 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:44:26,932 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:44:26,935 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:44:27,805 - DEBUG - app.firebase_stream - Firebase listener triggered (362). Event Type: patch, Path: /. Timestamp: 1752655467.8053806
2025-07-16 01:44:27,805 - DEBUG - app.firebase_stream - Prepared batch update for 30 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0354000000', 'o': '13.0328000000'}, 'XAGUSD': {'b': '38.0030000000', 'o': '37.9960000000'}, 'NZDJPY': {'b': '88.4690000000', 'o': '88.4600000000'}, 'USDJPY': {'b': '148.8530000000
2025-07-16 01:44:27,805 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0354000000', 'o': '13.0328000000'}, 'XAGUSD': {'b': '38.0030000000', 'o': '37.9960000000'}, 'NZDJPY': {'b': '88.4690000000', 'o': '88.4600000000'}, 'USDJPY': {'b': '148.8530000000...
2025-07-16 01:44:27,805 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:44:27,938 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:44:27,940 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:44:28,950 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:44:28,951 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:44:29,957 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:44:29,959 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:44:30,162 - DEBUG - app.firebase_stream - Firebase listener triggered (363). Event Type: patch, Path: /. Timestamp: 1752655470.1626494
2025-07-16 01:44:30,162 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4630000000', 'o': '88.4580000000'}, 'BTCUSD': {'b': '118778.5500000000', 'o': '118778.5500000000'}, 'USDJPY': {'b': '148.8400000000', 'o': '148.8350000000'}, 'USDCNH': {'b': '7.18
2025-07-16 01:44:30,163 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4630000000', 'o': '88.4580000000'}, 'BTCUSD': {'b': '118778.5500000000', 'o': '118778.5500000000'}, 'USDJPY': {'b': '148.8400000000', 'o': '148.8350000000'}, 'USDCNH': {'b': '7.18...
2025-07-16 01:44:30,163 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:44:30,966 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:44:30,969 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:44:31,983 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:44:31,985 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:44:32,515 - DEBUG - app.firebase_stream - Firebase listener triggered (364). Event Type: patch, Path: /. Timestamp: 1752655472.515076
2025-07-16 01:44:32,515 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'XAGUSD': {'b': '38.0120000000', 'o': '38.0050000000'}, 'NZDJPY': {'b': '88.4690000000', 'o': '88.4610000000'}, 'GBPAUD': {'b': '2.0539700000', 'o': '2.0538200000'}, 'BTCUSD': {'b': '118785.000000000
2025-07-16 01:44:32,515 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '38.0120000000', 'o': '38.0050000000'}, 'NZDJPY': {'b': '88.4690000000', 'o': '88.4610000000'}, 'GBPAUD': {'b': '2.0539700000', 'o': '2.0538200000'}, 'BTCUSD': {'b': '118785.000000000...
2025-07-16 01:44:32,515 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:44:32,991 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:44:32,994 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:44:34,004 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:44:34,006 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:44:34,534 - WARNING - app - User 4 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:44:34,537 - WARNING - app - No user data found for user 5 (live). Skipping portfolio update.
2025-07-16 01:44:34,543 - WARNING - app - No group settings found for group string. Skipping portfolio update for user 8.
2025-07-16 01:44:34,558 - WARNING - app - User 9 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:44:34,573 - WARNING - app - User 10 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:44:34,588 - WARNING - app - User 11 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:44:34,608 - WARNING - app - User 12 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:44:34,630 - WARNING - app - User 13 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:44:34,875 - DEBUG - app.firebase_stream - Firebase listener triggered (365). Event Type: patch, Path: /. Timestamp: 1752655474.8749845
2025-07-16 01:44:34,875 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0355000000', 'o': '13.0331200000'}, 'NZDJPY': {'b': '88.4650000000', 'o': '88.4590000000'}, 'GBPAUD': {'b': '2.0540700000', 'o': '2.0538900000'}, 'BTCUSD': {'b': '118776.000000000
2025-07-16 01:44:34,875 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0355000000', 'o': '13.0331200000'}, 'NZDJPY': {'b': '88.4650000000', 'o': '88.4590000000'}, 'GBPAUD': {'b': '2.0540700000', 'o': '2.0538900000'}, 'BTCUSD': {'b': '118776.000000000...
2025-07-16 01:44:34,875 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:44:35,067 - DEBUG - app.services.portfolio_calculator - Position calculation for BTCUSD: Type=BUY, Entry=118908.50000000, Current=118734.9, Quantity=0.40000000, Contract Size=1.00000000, PnL=-69.440000000000000000000000, PnL USD=-69.440000000000000000000000, Commission=235.57000000, Final PnL=-305.010000000000000000000000
2025-07-16 01:44:35,068 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:44:35,074 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:44:35,119 - WARNING - app - User 16 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:44:35,131 - WARNING - app - User 17 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:44:35,142 - WARNING - app - User 18 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:44:35,158 - WARNING - app - User 19 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:44:35,171 - WARNING - app - User 20 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:44:35,183 - WARNING - app - User 21 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:44:35,195 - WARNING - app - User 22 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:44:35,207 - WARNING - app - User 23 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:44:35,223 - WARNING - app - User 25 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:44:35,578 - DEBUG - app.services.portfolio_calculator - Position calculation for XAGUSD: Type=BUY, Entry=41.09800000, Current=37.9925, Quantity=0.01000000, Contract Size=5000.00000000, PnL=-155.275000000000000000000000, PnL USD=-155.275000000000000000000000, Commission=0.10000000, Final PnL=-155.375000000000000000000000
2025-07-16 01:44:35,578 - DEBUG - app.services.portfolio_calculator - Position calculation for BTCUSD: Type=BUY, Entry=132091.90000000, Current=118725.9, Quantity=6.00000000, Contract Size=1.00000000, PnL=-80196.00000000000000000000000, PnL USD=-80196.00000000000000000000000, Commission=3661.62000000, Final PnL=-83857.62000000000000000000000
2025-07-16 01:44:35,578 - WARNING - app.services.portfolio_calculator - MARGIN CALL ALERT: User has margin level 68.49382395280537247395577156% which is below threshold 100.0%
2025-07-16 01:44:35,989 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=96.66800000, Current=97.033, Quantity=0.01000000, Contract Size=100000.00000000, PnL=365.000000000000000000000000, PnL USD=2.452083599255641471787602534, Commission=0.10000000, Final PnL=2.352083599255641471787602534
2025-07-16 01:44:35,990 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=96.56000000, Current=97.139, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-579.000000000000000000000000, PnL USD=-3.889743572517853184013758540, Commission=0.10000000, Final PnL=-3.989743572517853184013758540
2025-07-16 01:44:35,992 - WARNING - app - User 2 has no group_name set. Skipping portfolio update.
2025-07-16 01:44:36,001 - WARNING - app - No group settings found for group string. Skipping portfolio update for user 3.
2025-07-16 01:44:36,043 - WARNING - app - User 4 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:44:36,044 - WARNING - app - User 5 has no group_name set. Skipping portfolio update.
2025-07-16 01:44:36,045 - WARNING - app - User 6 has no group_name set. Skipping portfolio update.
2025-07-16 01:44:36,082 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:44:36,085 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:44:36,500 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64743000, Current=0.6520900000000001, Quantity=0.10000000, Contract Size=100000.00000000, PnL=46.60000000000100000000000000, PnL USD=46.60000000000100000000000000, Commission=1.00000000, Final PnL=45.60000000000100000000000000
2025-07-16 01:44:36,501 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=SELL, Entry=0.64707000, Current=0.65239, Quantity=0.22000000, Contract Size=100000.00000000, PnL=-117.040000000000000000000000, PnL USD=-117.040000000000000000000000, Commission=2.20000000, Final PnL=-119.240000000000000000000000
2025-07-16 01:44:36,502 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFSGD: Type=BUY, Entry=1.57561500, Current=1.6031950000000001, Quantity=0.10000000, Contract Size=100000.00000000, PnL=275.8000000000010000000000000, PnL USD=214.6704442853147669603661384, Commission=1.00000000, Final PnL=213.6704442853147669603661384
2025-07-16 01:44:36,502 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFSGD: Type=SELL, Entry=1.57505500, Current=1.6036549999999998, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-285.9999999999980000000000000, PnL USD=-222.6096702886126591736978113, Commission=1.00000000, Final PnL=-223.6096702886126591736978113
2025-07-16 01:44:36,503 - DEBUG - app.services.portfolio_calculator - Position calculation for CADJPY: Type=SELL, Entry=106.24150000, Current=108.5125, Quantity=0.15000000, Contract Size=100000.00000000, PnL=-34065.00000000000000000000000, PnL USD=-228.8499392017628129765607680, Commission=0E-8, Final PnL=-228.8499392017628129765607680
2025-07-16 01:44:36,504 - DEBUG - app.services.portfolio_calculator - Position calculation for CADJPY: Type=BUY, Entry=106.27050000, Current=108.4815, Quantity=0.15000000, Contract Size=100000.00000000, PnL=33165.00000000000000000000000, PnL USD=222.8037056693516422242077755, Commission=0E-8, Final PnL=222.8037056693516422242077755
2025-07-16 01:44:36,504 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=BUY, Entry=1.77481000, Current=1.7819999999999998, Quantity=0.22000000, Contract Size=100000.00000000, PnL=158.1799999999956000000000000, PnL USD=103.1713231999971301440000000, Commission=2.20000000, Final PnL=100.9713231999971301440000000
2025-07-16 01:44:36,504 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=SELL, Entry=1.77439000, Current=1.78241, Quantity=0.21000000, Contract Size=100000.00000000, PnL=-168.420000000000000000000000, PnL USD=-109.8502608000000000000000000, Commission=2.10000000, Final PnL=-111.9502608000000000000000000
2025-07-16 01:44:36,505 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFJPY: Type=BUY, Entry=178.15500000, Current=185.745, Quantity=0.10000000, Contract Size=100000.00000000, PnL=75900.00000000000000000000000, PnL USD=509.8990279000087334484357050, Commission=1.00000000, Final PnL=508.8990279000087334484357050
2025-07-16 01:44:36,506 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFJPY: Type=SELL, Entry=178.09500000, Current=185.795, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-77000.00000000000000000000000, PnL USD=-517.2888688840668310346449181, Commission=1.00000000, Final PnL=-518.2888688840668310346449181
2025-07-16 01:44:36,506 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=BUY, Entry=1.77480000, Current=1.7819999999999998, Quantity=0.05000000, Contract Size=100000.00000000, PnL=35.99999999999900000000000000, PnL USD=23.48063999999934776000000000, Commission=0.50000000, Final PnL=22.98063999999934776000000000
2025-07-16 01:44:36,506 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=SELL, Entry=1.77442000, Current=1.78241, Quantity=0.05000000, Contract Size=100000.00000000, PnL=-39.950000000000000000000000, PnL USD=-26.05698800000000000000000000, Commission=0.50000000, Final PnL=-26.55698800000000000000000000
2025-07-16 01:44:36,506 - DEBUG - app.services.portfolio_calculator - Position calculation for EURGBP: Type=SELL, Entry=0.85403000, Current=0.86786, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-138.300000000000000000000000, PnL USD=-185.2791270000000000000000000, Commission=1.00000000, Final PnL=-186.2791270000000000000000000
2025-07-16 01:44:36,507 - DEBUG - app.services.portfolio_calculator - Position calculation for EURJPY: Type=BUY, Entry=167.26050000, Current=173.01250000000002, Quantity=0.10000000, Contract Size=100000.00000000, PnL=57520.00000000020000000000000, PnL USD=386.4215030936575010245006819, Commission=1.00000000, Final PnL=385.4215030936575010245006819
2025-07-16 01:44:36,508 - DEBUG - app.services.portfolio_calculator - Position calculation for EURJPY: Type=SELL, Entry=167.23150000, Current=173.0435, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-58120.00000000000000000000000, PnL USD=-390.4523254485969379186176967, Commission=1.00000000, Final PnL=-391.4523254485969379186176967
2025-07-16 01:44:36,508 - DEBUG - app.services.portfolio_calculator - Position calculation for EURNZD: Type=SELL, Entry=1.91952500, Current=1.9560549999999999, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-365.2999999999990000000000000, PnL USD=-217.1197079999994056400000000, Commission=1.00000000, Final PnL=-218.1197079999994056400000000
2025-07-16 01:44:36,508 - DEBUG - app.services.portfolio_calculator - Position calculation for EURNZD: Type=BUY, Entry=1.92063500, Current=1.9556250000000002, Quantity=0.10000000, Contract Size=100000.00000000, PnL=349.9000000000020000000000000, PnL USD=207.9665640000011887200000000, Commission=1.00000000, Final PnL=206.9665640000011887200000000
2025-07-16 01:44:36,508 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=SELL, Entry=1.34376000, Current=1.33979, Quantity=0.25000000, Contract Size=0E-8, PnL=0E-24, PnL USD=0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 01:44:36,508 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=SELL, Entry=1.34361000, Current=1.33979, Quantity=0.25000000, Contract Size=0E-8, PnL=0E-24, PnL USD=0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 01:44:36,508 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=BUY, Entry=1.34379000, Current=1.33958, Quantity=0.25000000, Contract Size=0E-8, PnL=-0E-24, PnL USD=-0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 01:44:36,508 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=BUY, Entry=1.34378000, Current=1.33958, Quantity=0.25000000, Contract Size=0E-8, PnL=-0E-24, PnL USD=-0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 01:44:36,509 - DEBUG - app.services.portfolio_calculator - Position calculation for NZDJPY: Type=BUY, Entry=87.10150000, Current=88.4465, Quantity=0.01000000, Contract Size=100000.00000000, PnL=1345.000000000000000000000000, PnL USD=9.035760112325582957683083310, Commission=0.10000000, Final PnL=8.935760112325582957683083310
2025-07-16 01:44:36,510 - DEBUG - app.services.portfolio_calculator - Position calculation for USDCHF: Type=SELL, Entry=0.81771000, Current=0.8014399999999999, Quantity=0.15000000, Contract Size=100000.00000000, PnL=244.0500000000015000000000000, PnL USD=304.5713786519256448976026158, Commission=1.50000000, Final PnL=303.0713786519256448976026158
2025-07-16 01:44:36,510 - DEBUG - app.services.portfolio_calculator - Position calculation for USDCHF: Type=BUY, Entry=0.81805000, Current=0.80112, Quantity=0.15000000, Contract Size=100000.00000000, PnL=-253.950000000000000000000000, PnL USD=-316.9264560895555916085312434, Commission=1.50000000, Final PnL=-318.4264560895555916085312434
2025-07-16 01:44:36,511 - DEBUG - app.services.portfolio_calculator - Position calculation for USDNOK: Type=BUY, Entry=10.04973000, Current=10.27195, Quantity=0.10000000, Contract Size=100000.00000000, PnL=2222.200000000000000000000000, PnL USD=216.3179802274736100241023904, Commission=1.00000000, Final PnL=215.3179802274736100241023904
2025-07-16 01:44:36,512 - DEBUG - app.services.portfolio_calculator - Position calculation for USDNOK: Type=BUY, Entry=10.05023000, Current=10.27195, Quantity=0.10000000, Contract Size=100000.00000000, PnL=2217.200000000000000000000000, PnL USD=215.8312599047585672511204302, Commission=1.00000000, Final PnL=214.8312599047585672511204302
2025-07-16 01:44:36,513 - DEBUG - app.services.portfolio_calculator - Position calculation for USDSGD: Type=SELL, Entry=1.28795000, Current=1.28491, Quantity=0.31000000, Contract Size=100000.00000000, PnL=94.240000000000000000000000, PnL USD=73.35222142656994302437809396, Commission=3.10000000, Final PnL=70.25222142656994302437809396
2025-07-16 01:44:36,513 - DEBUG - app.services.portfolio_calculator - Position calculation for USDTRY: Type=SELL, Entry=39.56087000, Current=40.25869, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-6978.200000000000000000000000, PnL USD=-173.3346514801579987749183155, Commission=1.00000000, Final PnL=-174.3346514801579987749183155
2025-07-16 01:44:37,123 - DEBUG - app.firebase_stream - Firebase listener triggered (366). Event Type: patch, Path: /. Timestamp: 1752655477.1232748
2025-07-16 01:44:37,123 - DEBUG - app.firebase_stream - Prepared batch update for 34 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0356000000', 'o': '13.0330000000'}, 'XAGUSD': {'b': '38.0110000000', 'o': '38.0030000000'}, 'NZDJPY': {'b': '88.4720000000', 'o': '88.4630000000'}, 'GBPAUD': {'b': '2.0540500000',
2025-07-16 01:44:37,123 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0356000000', 'o': '13.0330000000'}, 'XAGUSD': {'b': '38.0110000000', 'o': '38.0030000000'}, 'NZDJPY': {'b': '88.4720000000', 'o': '88.4630000000'}, 'GBPAUD': {'b': '2.0540500000',...
2025-07-16 01:44:37,123 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:44:37,321 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:44:37,323 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.89752000, Current=0.89483, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-2.690000000000000000000000, PnL USD=-1.960669980611962273502529191, Commission=0.10000000, Final PnL=-2.060669980611962273502529191
2025-07-16 01:44:37,329 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:44:37,409 - WARNING - app - User 12 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:44:37,424 - WARNING - app - User 13 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:44:38,344 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:44:38,347 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:44:39,360 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:44:39,363 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:44:39,475 - DEBUG - app.firebase_stream - Firebase listener triggered (367). Event Type: patch, Path: /. Timestamp: 1752655479.4754806
2025-07-16 01:44:39,475 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0357000000', 'o': '13.0331200000'}, 'XAGUSD': {'b': '38.0120000000', 'o': '38.0050000000'}, 'GBPAUD': {'b': '2.0540000000', 'o': '2.0538200000'}, 'USDJPY': {'b': '148.8520000000',
2025-07-16 01:44:39,476 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0357000000', 'o': '13.0331200000'}, 'XAGUSD': {'b': '38.0120000000', 'o': '38.0050000000'}, 'GBPAUD': {'b': '2.0540000000', 'o': '2.0538200000'}, 'USDJPY': {'b': '148.8520000000',...
2025-07-16 01:44:39,476 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:44:40,375 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:44:40,379 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:44:41,383 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:44:41,385 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:44:41,732 - DEBUG - app.firebase_stream - Firebase listener triggered (368). Event Type: patch, Path: /. Timestamp: 1752655481.7321067
2025-07-16 01:44:41,732 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0355000000', 'o': '13.0329900000'}, 'XAGUSD': {'b': '38.0110000000', 'o': '38.0040000000'}, 'NZDJPY': {'b': '88.4660000000', 'o': '88.4580000000'}, 'GBPAUD': {'b': '2.0539400000',
2025-07-16 01:44:41,732 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0355000000', 'o': '13.0329900000'}, 'XAGUSD': {'b': '38.0110000000', 'o': '38.0040000000'}, 'NZDJPY': {'b': '88.4660000000', 'o': '88.4580000000'}, 'GBPAUD': {'b': '2.0539400000',...
2025-07-16 01:44:41,733 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:44:42,397 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:44:42,399 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:44:43,405 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:44:43,407 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:44:43,986 - DEBUG - app.firebase_stream - Firebase listener triggered (369). Event Type: patch, Path: /. Timestamp: 1752655483.9860528
2025-07-16 01:44:43,986 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0359000000', 'o': '13.0333000000'}, 'XAGUSD': {'b': '38.0170000000', 'o': '38.0100000000'}, 'NZDJPY': {'b': '88.4720000000', 'o': '88.4640000000'}, 'GBPAUD': {'b': '2.0539400000',
2025-07-16 01:44:43,986 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0359000000', 'o': '13.0333000000'}, 'XAGUSD': {'b': '38.0170000000', 'o': '38.0100000000'}, 'NZDJPY': {'b': '88.4720000000', 'o': '88.4640000000'}, 'GBPAUD': {'b': '2.0539400000',...
2025-07-16 01:44:43,987 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:44:44,416 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:44:44,419 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:44:45,426 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:44:45,428 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:44:46,340 - DEBUG - app.firebase_stream - Firebase listener triggered (370). Event Type: patch, Path: /. Timestamp: 1752655486.3404174
2025-07-16 01:44:46,340 - DEBUG - app.firebase_stream - Prepared batch update for 23 symbols from root path for queue. Preview: {'XAGUSD': {'b': '38.0180000000', 'o': '38.0110000000'}, 'NZDJPY': {'b': '88.4730000000', 'o': '88.4640000000'}, 'GBPAUD': {'b': '2.0539700000', 'o': '2.0537900000'}, 'USDJPY': {'b': '148.8530000000',
2025-07-16 01:44:46,341 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'XAGUSD': {'b': '38.0180000000', 'o': '38.0110000000'}, 'NZDJPY': {'b': '88.4730000000', 'o': '88.4640000000'}, 'GBPAUD': {'b': '2.0539700000', 'o': '2.0537900000'}, 'USDJPY': {'b': '148.8530000000',...
2025-07-16 01:44:46,342 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:44:46,430 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:44:46,432 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:44:47,448 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:44:47,450 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:44:48,452 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:44:48,454 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:44:48,568 - DEBUG - app.firebase_stream - Firebase listener triggered (371). Event Type: patch, Path: /. Timestamp: 1752655488.5685601
2025-07-16 01:44:48,569 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0359000000', 'o': '13.0333300000'}, 'NZDJPY': {'b': '88.4720000000', 'o': '88.4640000000'}, 'GBPAUD': {'b': '2.0540100000', 'o': '2.0538500000'}, 'BTCUSD': {'b': '118785.000000000
2025-07-16 01:44:48,569 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0359000000', 'o': '13.0333300000'}, 'NZDJPY': {'b': '88.4720000000', 'o': '88.4640000000'}, 'GBPAUD': {'b': '2.0540100000', 'o': '2.0538500000'}, 'BTCUSD': {'b': '118785.000000000...
2025-07-16 01:44:48,569 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:44:49,466 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:44:49,469 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:44:50,472 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:44:50,476 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:44:50,947 - DEBUG - app.firebase_stream - Firebase listener triggered (372). Event Type: patch, Path: /. Timestamp: 1752655490.9469905
2025-07-16 01:44:50,947 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0356000000', 'o': '13.0333300000'}, 'NZDJPY': {'b': '88.4730000000', 'o': '88.4630000000'}, 'GBPAUD': {'b': '2.0539700000', 'o': '2.0538100000'}, 'BTCUSD': {'b': '118761.500000000
2025-07-16 01:44:50,947 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0356000000', 'o': '13.0333300000'}, 'NZDJPY': {'b': '88.4730000000', 'o': '88.4630000000'}, 'GBPAUD': {'b': '2.0539700000', 'o': '2.0538100000'}, 'BTCUSD': {'b': '118761.500000000...
2025-07-16 01:44:50,947 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:44:51,492 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:44:51,495 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:44:52,500 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:44:52,503 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:44:53,202 - DEBUG - app.firebase_stream - Firebase listener triggered (373). Event Type: patch, Path: /. Timestamp: 1752655493.2025526
2025-07-16 01:44:53,202 - DEBUG - app.firebase_stream - Prepared batch update for 24 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0354000000', 'o': '13.0333300000'}, 'XAGUSD': {'b': '38.0110000000', 'o': '38.0040000000'}, 'NZDJPY': {'b': '88.4730000000', 'o': '88.4640000000'}, 'GBPAUD': {'b': '2.0539700000',
2025-07-16 01:44:53,202 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0354000000', 'o': '13.0333300000'}, 'XAGUSD': {'b': '38.0110000000', 'o': '38.0040000000'}, 'NZDJPY': {'b': '88.4730000000', 'o': '88.4640000000'}, 'GBPAUD': {'b': '2.0539700000',...
2025-07-16 01:44:53,202 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:44:53,519 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:44:53,521 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:44:54,531 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:44:54,532 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:44:55,450 - DEBUG - app.firebase_stream - Firebase listener triggered (374). Event Type: patch, Path: /. Timestamp: 1752655495.450514
2025-07-16 01:44:55,450 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'XAGUSD': {'b': '38.0190000000', 'o': '38.0110000000'}, 'GBPAUD': {'b': '2.0539700000', 'o': '2.0538100000'}, 'EURNZD': {'b': '1.9559300000', 'o': '1.9557200000'}, 'EURZAR': {'b': '20.8290300000', 'o
2025-07-16 01:44:55,451 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '38.0190000000', 'o': '38.0110000000'}, 'GBPAUD': {'b': '2.0539700000', 'o': '2.0538100000'}, 'EURNZD': {'b': '1.9559300000', 'o': '1.9557200000'}, 'EURZAR': {'b': '20.8290300000', 'o...
2025-07-16 01:44:55,451 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:44:55,534 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:44:55,536 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:44:56,540 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:44:56,544 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:44:57,561 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:44:57,564 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:44:57,808 - DEBUG - app.firebase_stream - Firebase listener triggered (375). Event Type: patch, Path: /. Timestamp: 1752655497.8084219
2025-07-16 01:44:57,808 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0354000000', 'o': '13.0328000000'}, 'NZDJPY': {'b': '88.4720000000', 'o': '88.4630000000'}, 'GBPAUD': {'b': '2.0539900000', 'o': '2.0538400000'}, 'USDJPY': {'b': '148.8510000000',
2025-07-16 01:44:57,808 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0354000000', 'o': '13.0328000000'}, 'NZDJPY': {'b': '88.4720000000', 'o': '88.4630000000'}, 'GBPAUD': {'b': '2.0539900000', 'o': '2.0538400000'}, 'USDJPY': {'b': '148.8510000000',...
2025-07-16 01:44:57,808 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:44:58,579 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:44:58,581 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:44:59,596 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:44:59,599 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:45:00,067 - DEBUG - app.firebase_stream - Firebase listener triggered (376). Event Type: patch, Path: /. Timestamp: 1752655500.0671282
2025-07-16 01:45:00,067 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0356000000', 'o': '13.0330700000'}, 'XAGUSD': {'b': '38.0120000000', 'o': '38.0050000000'}, 'NZDJPY': {'b': '88.4690000000', 'o': '88.4620000000'}, 'GBPAUD': {'b': '2.0539900000',
2025-07-16 01:45:00,067 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0356000000', 'o': '13.0330700000'}, 'XAGUSD': {'b': '38.0120000000', 'o': '38.0050000000'}, 'NZDJPY': {'b': '88.4690000000', 'o': '88.4620000000'}, 'GBPAUD': {'b': '2.0539900000',...
2025-07-16 01:45:00,067 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:45:00,613 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:45:00,614 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:45:01,617 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:45:01,619 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:45:02,418 - DEBUG - app.firebase_stream - Firebase listener triggered (377). Event Type: patch, Path: /. Timestamp: 1752655502.418929
2025-07-16 01:45:02,419 - DEBUG - app.firebase_stream - Prepared batch update for 25 symbols from root path for queue. Preview: {'XAGUSD': {'b': '38.0200000000', 'o': '38.0130000000'}, 'NZDJPY': {'b': '88.4710000000', 'o': '88.4620000000'}, 'GBPAUD': {'b': '2.0539900000', 'o': '2.0538400000'}, 'CADCHF': {'b': '0.5840600000', '
2025-07-16 01:45:02,419 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '38.0200000000', 'o': '38.0130000000'}, 'NZDJPY': {'b': '88.4710000000', 'o': '88.4620000000'}, 'GBPAUD': {'b': '2.0539900000', 'o': '2.0538400000'}, 'CADCHF': {'b': '0.5840600000', '...
2025-07-16 01:45:02,419 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:45:02,636 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:45:02,639 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:45:03,647 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:45:03,649 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:45:04,657 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:45:04,667 - DEBUG - app.firebase_stream - Firebase listener triggered (378). Event Type: patch, Path: /. Timestamp: 1752655504.6678424
2025-07-16 01:45:04,668 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0357000000', 'o': '13.0332100000'}, 'XAGUSD': {'b': '38.0250000000', 'o': '38.0180000000'}, 'NZDJPY': {'b': '88.4650000000', 'o': '88.4570000000'}, 'GBPAUD': {'b': '2.0540300000',
2025-07-16 01:45:04,669 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0357000000', 'o': '13.0332100000'}, 'XAGUSD': {'b': '38.0250000000', 'o': '38.0180000000'}, 'NZDJPY': {'b': '88.4650000000', 'o': '88.4570000000'}, 'GBPAUD': {'b': '2.0540300000',...
2025-07-16 01:45:04,669 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:45:04,670 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:45:05,699 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:45:05,702 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:45:06,707 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:45:06,709 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:45:06,923 - DEBUG - app.firebase_stream - Firebase listener triggered (379). Event Type: patch, Path: /. Timestamp: 1752655506.923539
2025-07-16 01:45:06,923 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0360000000', 'o': '13.0334000000'}, 'XAGUSD': {'b': '38.0220000000', 'o': '38.0150000000'}, 'NZDJPY': {'b': '88.4670000000', 'o': '88.4570000000'}, 'GBPAUD': {'b': '2.0540500000',
2025-07-16 01:45:06,924 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0360000000', 'o': '13.0334000000'}, 'XAGUSD': {'b': '38.0220000000', 'o': '38.0150000000'}, 'NZDJPY': {'b': '88.4670000000', 'o': '88.4570000000'}, 'GBPAUD': {'b': '2.0540500000',...
2025-07-16 01:45:06,924 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:45:07,713 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:45:07,716 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:45:08,730 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:45:08,733 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:45:09,255 - DEBUG - app.firebase_stream - Firebase listener triggered (380). Event Type: patch, Path: /. Timestamp: 1752655509.2553651
2025-07-16 01:45:09,255 - DEBUG - app.firebase_stream - Prepared batch update for 35 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0357000000', 'o': '13.0332100000'}, 'XAGUSD': {'b': '38.0200000000', 'o': '38.0090000000'}, 'NZDJPY': {'b': '88.4640000000', 'o': '88.4570000000'}, 'GBPAUD': {'b': '2.0540400000',
2025-07-16 01:45:09,255 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0357000000', 'o': '13.0332100000'}, 'XAGUSD': {'b': '38.0200000000', 'o': '38.0090000000'}, 'NZDJPY': {'b': '88.4640000000', 'o': '88.4570000000'}, 'GBPAUD': {'b': '2.0540400000',...
2025-07-16 01:45:09,256 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:45:09,747 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:45:09,749 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:45:10,752 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:45:10,754 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:45:11,529 - DEBUG - app.firebase_stream - Firebase listener triggered (381). Event Type: patch, Path: /. Timestamp: 1752655511.5299296
2025-07-16 01:45:11,530 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0359000000', 'o': '13.0334900000'}, 'XAGUSD': {'b': '38.0140000000', 'o': '38.0070000000'}, 'NZDJPY': {'b': '88.4620000000', 'o': '88.4530000000'}, 'GBPAUD': {'b': '2.0540100000',
2025-07-16 01:45:11,530 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0359000000', 'o': '13.0334900000'}, 'XAGUSD': {'b': '38.0140000000', 'o': '38.0070000000'}, 'NZDJPY': {'b': '88.4620000000', 'o': '88.4530000000'}, 'GBPAUD': {'b': '2.0540100000',...
2025-07-16 01:45:11,530 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:45:11,756 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:45:11,759 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:45:12,771 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:45:12,773 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:45:13,774 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:45:13,776 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:45:13,871 - DEBUG - app.firebase_stream - Firebase listener triggered (382). Event Type: patch, Path: /. Timestamp: 1752655513.8718252
2025-07-16 01:45:13,872 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'XAGUSD': {'b': '38.0160000000', 'o': '38.0090000000'}, 'NZDJPY': {'b': '88.4620000000', 'o': '88.4540000000'}, 'GBPAUD': {'b': '2.0540200000', 'o': '2.0538900000'}, 'BTCUSD': {'b': '118730.100000000
2025-07-16 01:45:13,872 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '38.0160000000', 'o': '38.0090000000'}, 'NZDJPY': {'b': '88.4620000000', 'o': '88.4540000000'}, 'GBPAUD': {'b': '2.0540200000', 'o': '2.0538900000'}, 'BTCUSD': {'b': '118730.100000000...
2025-07-16 01:45:13,873 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:45:14,784 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:45:14,787 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:45:15,803 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:45:15,805 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:45:16,134 - DEBUG - app.firebase_stream - Firebase listener triggered (383). Event Type: patch, Path: /. Timestamp: 1752655516.1345382
2025-07-16 01:45:16,134 - DEBUG - app.firebase_stream - Prepared batch update for 30 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0360000000', 'o': '13.0335000000'}, 'XAGUSD': {'b': '38.0120000000', 'o': '38.0050000000'}, 'NZDJPY': {'b': '88.4720000000', 'o': '88.4640000000'}, 'GBPAUD': {'b': '2.0540000000',
2025-07-16 01:45:16,134 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0360000000', 'o': '13.0335000000'}, 'XAGUSD': {'b': '38.0120000000', 'o': '38.0050000000'}, 'NZDJPY': {'b': '88.4720000000', 'o': '88.4640000000'}, 'GBPAUD': {'b': '2.0540000000',...
2025-07-16 01:45:16,135 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:45:16,818 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:45:16,822 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:45:17,835 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:45:17,837 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:45:18,491 - DEBUG - app.firebase_stream - Firebase listener triggered (384). Event Type: patch, Path: /. Timestamp: 1752655518.491429
2025-07-16 01:45:18,491 - DEBUG - app.firebase_stream - Prepared batch update for 34 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0361000000', 'o': '13.0335000000'}, 'XAGUSD': {'b': '38.0130000000', 'o': '38.0060000000'}, 'NZDJPY': {'b': '88.4610000000', 'o': '88.4520000000'}, 'GBPAUD': {'b': '2.0540200000',
2025-07-16 01:45:18,491 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0361000000', 'o': '13.0335000000'}, 'XAGUSD': {'b': '38.0130000000', 'o': '38.0060000000'}, 'NZDJPY': {'b': '88.4610000000', 'o': '88.4520000000'}, 'GBPAUD': {'b': '2.0540200000',...
2025-07-16 01:45:18,492 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:45:18,843 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:45:18,847 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:45:19,854 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:45:19,857 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:45:20,742 - DEBUG - app.firebase_stream - Firebase listener triggered (385). Event Type: patch, Path: /. Timestamp: 1752655520.7428231
2025-07-16 01:45:20,743 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0360000000', 'o': '13.0337900000'}, 'NZDJPY': {'b': '88.4600000000', 'o': '88.4510000000'}, 'GBPAUD': {'b': '2.0540700000', 'o': '2.0539100000'}, 'BTCUSD': {'b': '118730.100000000
2025-07-16 01:45:20,743 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0360000000', 'o': '13.0337900000'}, 'NZDJPY': {'b': '88.4600000000', 'o': '88.4510000000'}, 'GBPAUD': {'b': '2.0540700000', 'o': '2.0539100000'}, 'BTCUSD': {'b': '118730.100000000...
2025-07-16 01:45:20,743 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:45:20,859 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:45:20,861 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:45:21,871 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:45:21,874 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:45:22,876 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:45:22,880 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:45:23,099 - DEBUG - app.firebase_stream - Firebase listener triggered (386). Event Type: patch, Path: /. Timestamp: 1752655523.0993834
2025-07-16 01:45:23,099 - DEBUG - app.firebase_stream - Prepared batch update for 30 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4610000000', 'o': '88.4510000000'}, 'GBPAUD': {'b': '2.0539700000', 'o': '2.0538100000'}, 'BTCUSD': {'b': '118721.6800000000', 'o': '118721.6800000000'}, 'USDJPY': {'b': '148.8530
2025-07-16 01:45:23,100 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4610000000', 'o': '88.4510000000'}, 'GBPAUD': {'b': '2.0539700000', 'o': '2.0538100000'}, 'BTCUSD': {'b': '118721.6800000000', 'o': '118721.6800000000'}, 'USDJPY': {'b': '148.8530...
2025-07-16 01:45:23,100 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:45:23,895 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:45:23,896 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:45:24,912 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:45:24,915 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:45:25,352 - DEBUG - app.firebase_stream - Firebase listener triggered (387). Event Type: patch, Path: /. Timestamp: 1752655525.3519845
2025-07-16 01:45:25,352 - DEBUG - app.firebase_stream - Prepared batch update for 30 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0363000000', 'o': '13.0337900000'}, 'XAGUSD': {'b': '38.0110000000', 'o': '38.0040000000'}, 'NZDJPY': {'b': '88.4620000000', 'o': '88.4530000000'}, 'GBPAUD': {'b': '2.0541100000',
2025-07-16 01:45:25,352 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0363000000', 'o': '13.0337900000'}, 'XAGUSD': {'b': '38.0110000000', 'o': '38.0040000000'}, 'NZDJPY': {'b': '88.4620000000', 'o': '88.4530000000'}, 'GBPAUD': {'b': '2.0541100000',...
2025-07-16 01:45:25,352 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:45:25,928 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:45:25,930 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:45:26,943 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:45:26,945 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:45:27,703 - DEBUG - app.firebase_stream - Firebase listener triggered (388). Event Type: patch, Path: /. Timestamp: 1752655527.7039282
2025-07-16 01:45:27,704 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0365000000', 'o': '13.0339000000'}, 'XAGUSD': {'b': '38.0120000000', 'o': '38.0050000000'}, 'NZDJPY': {'b': '88.4720000000', 'o': '88.4630000000'}, 'GBPAUD': {'b': '2.0539700000',
2025-07-16 01:45:27,704 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0365000000', 'o': '13.0339000000'}, 'XAGUSD': {'b': '38.0120000000', 'o': '38.0050000000'}, 'NZDJPY': {'b': '88.4720000000', 'o': '88.4630000000'}, 'GBPAUD': {'b': '2.0539700000',...
2025-07-16 01:45:27,704 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:45:27,955 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:45:27,957 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:45:28,959 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:45:28,961 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:45:29,972 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:45:29,975 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:45:30,067 - DEBUG - app.firebase_stream - Firebase listener triggered (389). Event Type: patch, Path: /. Timestamp: 1752655530.0677037
2025-07-16 01:45:30,068 - DEBUG - app.firebase_stream - Prepared batch update for 34 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0354000000', 'o': '13.0333300000'}, 'XAGUSD': {'b': '38.0040000000', 'o': '37.9970000000'}, 'NZDJPY': {'b': '88.4550000000', 'o': '88.4460000000'}, 'GBPAUD': {'b': '2.0542300000',
2025-07-16 01:45:30,068 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0354000000', 'o': '13.0333300000'}, 'XAGUSD': {'b': '38.0040000000', 'o': '37.9970000000'}, 'NZDJPY': {'b': '88.4550000000', 'o': '88.4460000000'}, 'GBPAUD': {'b': '2.0542300000',...
2025-07-16 01:45:30,068 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:45:30,986 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:45:30,988 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:45:31,999 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:45:32,003 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:45:32,271 - DEBUG - app.firebase_stream - Firebase listener triggered (390). Event Type: patch, Path: /. Timestamp: 1752655532.2711425
2025-07-16 01:45:32,271 - DEBUG - app.firebase_stream - Prepared batch update for 39 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0368000000', 'o': '13.0342900000'}, 'NZDJPY': {'b': '88.4570000000', 'o': '88.4490000000'}, 'GBPAUD': {'b': '2.0542200000', 'o': '2.0540700000'}, 'BTCUSD': {'b': '118713.700000000
2025-07-16 01:45:32,271 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0368000000', 'o': '13.0342900000'}, 'NZDJPY': {'b': '88.4570000000', 'o': '88.4490000000'}, 'GBPAUD': {'b': '2.0542200000', 'o': '2.0540700000'}, 'BTCUSD': {'b': '118713.700000000...
2025-07-16 01:45:32,271 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:45:33,006 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:45:33,009 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:45:34,010 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:45:34,013 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:45:34,535 - WARNING - app - User 4 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:45:34,537 - WARNING - app - No user data found for user 5 (live). Skipping portfolio update.
2025-07-16 01:45:34,542 - WARNING - app - No group settings found for group string. Skipping portfolio update for user 8.
2025-07-16 01:45:34,558 - WARNING - app - User 9 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:45:34,574 - WARNING - app - User 10 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:45:34,590 - WARNING - app - User 11 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:45:34,605 - WARNING - app - User 12 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:45:34,620 - WARNING - app - User 13 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:45:34,771 - DEBUG - app.firebase_stream - Firebase listener triggered (391). Event Type: patch, Path: /. Timestamp: 1752655534.7718277
2025-07-16 01:45:34,772 - DEBUG - app.firebase_stream - Prepared batch update for 34 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0366000000', 'o': '13.0340000000'}, 'XAGUSD': {'b': '38.0200000000', 'o': '38.0130000000'}, 'NZDJPY': {'b': '88.4590000000', 'o': '88.4500000000'}, 'GBPAUD': {'b': '2.0542100000',
2025-07-16 01:45:34,772 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0366000000', 'o': '13.0340000000'}, 'XAGUSD': {'b': '38.0200000000', 'o': '38.0130000000'}, 'NZDJPY': {'b': '88.4590000000', 'o': '88.4500000000'}, 'GBPAUD': {'b': '2.0542100000',...
2025-07-16 01:45:34,772 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:45:34,968 - DEBUG - app.services.portfolio_calculator - Position calculation for BTCUSD: Type=BUY, Entry=118908.50000000, Current=118663.6, Quantity=0.40000000, Contract Size=1.00000000, PnL=-97.960000000000000000000000, PnL USD=-97.960000000000000000000000, Commission=235.57000000, Final PnL=-333.530000000000000000000000
2025-07-16 01:45:35,014 - WARNING - app - User 16 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:45:35,015 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:45:35,016 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:45:35,035 - WARNING - app - User 17 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:45:35,053 - WARNING - app - User 18 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:45:35,063 - WARNING - app - User 19 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:45:35,084 - WARNING - app - User 20 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:45:35,098 - WARNING - app - User 21 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:45:35,118 - WARNING - app - User 22 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:45:35,138 - WARNING - app - User 23 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:45:35,160 - WARNING - app - User 25 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:45:35,583 - DEBUG - app.services.portfolio_calculator - Position calculation for XAGUSD: Type=BUY, Entry=41.09800000, Current=38.000499999999995, Quantity=0.01000000, Contract Size=5000.00000000, PnL=-154.8750000000002500000000000, PnL USD=-154.8750000000002500000000000, Commission=0.10000000, Final PnL=-154.9750000000002500000000000
2025-07-16 01:45:35,583 - DEBUG - app.services.portfolio_calculator - Position calculation for BTCUSD: Type=BUY, Entry=132091.90000000, Current=118663.6, Quantity=6.00000000, Contract Size=1.00000000, PnL=-80569.80000000000000000000000, PnL USD=-80569.80000000000000000000000, Commission=3661.62000000, Final PnL=-84231.42000000000000000000000
2025-07-16 01:45:35,583 - WARNING - app.services.portfolio_calculator - MARGIN CALL ALERT: User has margin level 68.23891638478809374809493457% which is below threshold 100.0%
2025-07-16 01:45:35,983 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=96.66800000, Current=97.03, Quantity=0.01000000, Contract Size=100000.00000000, PnL=362.000000000000000000000000, PnL USD=2.431749785038693035253654342, Commission=0.10000000, Final PnL=2.331749785038693035253654342
2025-07-16 01:45:35,984 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=96.56000000, Current=97.133, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-573.000000000000000000000000, PnL USD=-3.849150902837489251934651763, Commission=0.10000000, Final PnL=-3.949150902837489251934651763
2025-07-16 01:45:35,986 - WARNING - app - User 2 has no group_name set. Skipping portfolio update.
2025-07-16 01:45:35,995 - WARNING - app - No group settings found for group string. Skipping portfolio update for user 3.
2025-07-16 01:45:36,017 - WARNING - app - User 4 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:45:36,018 - WARNING - app - User 5 has no group_name set. Skipping portfolio update.
2025-07-16 01:45:36,018 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:45:36,019 - WARNING - app - User 6 has no group_name set. Skipping portfolio update.
2025-07-16 01:45:36,020 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:45:36,401 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64743000, Current=0.65202, Quantity=0.10000000, Contract Size=100000.00000000, PnL=45.900000000000000000000000, PnL USD=45.900000000000000000000000, Commission=1.00000000, Final PnL=44.900000000000000000000000
2025-07-16 01:45:36,401 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=SELL, Entry=0.64707000, Current=0.65232, Quantity=0.22000000, Contract Size=100000.00000000, PnL=-115.500000000000000000000000, PnL USD=-115.500000000000000000000000, Commission=2.20000000, Final PnL=-117.700000000000000000000000
2025-07-16 01:45:36,403 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFSGD: Type=BUY, Entry=1.57561500, Current=1.603135, Quantity=0.10000000, Contract Size=100000.00000000, PnL=275.200000000000000000000000, PnL USD=214.1984293152966632679270542, Commission=1.00000000, Final PnL=213.1984293152966632679270542
2025-07-16 01:45:36,403 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFSGD: Type=SELL, Entry=1.57505500, Current=1.603585, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-285.300000000000000000000000, PnL USD=-222.0596362051385829590828073, Commission=1.00000000, Final PnL=-223.0596362051385829590828073
2025-07-16 01:45:36,404 - DEBUG - app.services.portfolio_calculator - Position calculation for CADJPY: Type=SELL, Entry=106.24150000, Current=108.5185, Quantity=0.15000000, Contract Size=100000.00000000, PnL=-34155.00000000000000000000000, PnL USD=-229.4376074806534823731728289, Commission=0E-8, Final PnL=-229.4376074806534823731728289
2025-07-16 01:45:36,405 - DEBUG - app.services.portfolio_calculator - Position calculation for CADJPY: Type=BUY, Entry=106.27050000, Current=108.4845, Quantity=0.15000000, Contract Size=100000.00000000, PnL=33210.00000000000000000000000, PnL USD=223.0895313843508168529664660, Commission=0E-8, Final PnL=223.0895313843508168529664660
2025-07-16 01:45:36,405 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=BUY, Entry=1.77481000, Current=1.78206, Quantity=0.22000000, Contract Size=100000.00000000, PnL=159.500000000000000000000000, PnL USD=104.0211150000000000000000000, Commission=2.20000000, Final PnL=101.8211150000000000000000000
2025-07-16 01:45:36,405 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=SELL, Entry=1.77439000, Current=1.7824200000000001, Quantity=0.21000000, Contract Size=100000.00000000, PnL=-168.6300000000021000000000000, PnL USD=-109.9754271000013695570000000, Commission=2.10000000, Final PnL=-112.0754271000013695570000000
2025-07-16 01:45:36,406 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFJPY: Type=BUY, Entry=178.15500000, Current=185.745, Quantity=0.10000000, Contract Size=100000.00000000, PnL=75900.00000000000000000000000, PnL USD=509.8613499570077386070507309, Commission=1.00000000, Final PnL=508.8613499570077386070507309
2025-07-16 01:45:36,406 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFJPY: Type=SELL, Entry=178.09500000, Current=185.795, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-77000.00000000000000000000000, PnL USD=-517.2506448839208942390369733, Commission=1.00000000, Final PnL=-518.2506448839208942390369733
2025-07-16 01:45:36,407 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=BUY, Entry=1.77480000, Current=1.78206, Quantity=0.05000000, Contract Size=100000.00000000, PnL=36.300000000000000000000000, PnL USD=23.67377100000000000000000000, Commission=0.50000000, Final PnL=23.17377100000000000000000000
2025-07-16 01:45:36,407 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=SELL, Entry=1.77442000, Current=1.7824200000000001, Quantity=0.05000000, Contract Size=100000.00000000, PnL=-40.00000000000050000000000000, PnL USD=-26.08680000000032608500000000, Commission=0.50000000, Final PnL=-26.58680000000032608500000000
2025-07-16 01:45:36,407 - DEBUG - app.services.portfolio_calculator - Position calculation for EURGBP: Type=SELL, Entry=0.85403000, Current=0.8678, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-137.700000000000000000000000, PnL USD=-184.4698050000000000000000000, Commission=1.00000000, Final PnL=-185.4698050000000000000000000
2025-07-16 01:45:36,407 - DEBUG - app.services.portfolio_calculator - Position calculation for EURJPY: Type=BUY, Entry=167.26050000, Current=173.0105, Quantity=0.10000000, Contract Size=100000.00000000, PnL=57500.00000000000000000000000, PnL USD=386.2585984522785898538263113, Commission=1.00000000, Final PnL=385.2585984522785898538263113
2025-07-16 01:45:36,408 - DEBUG - app.services.portfolio_calculator - Position calculation for EURJPY: Type=SELL, Entry=167.23150000, Current=173.04049999999998, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-58089.99999999980000000000000, PnL USD=-390.2219475494397570937231298, Commission=1.00000000, Final PnL=-391.2219475494397570937231298
2025-07-16 01:45:36,408 - DEBUG - app.services.portfolio_calculator - Position calculation for EURNZD: Type=SELL, Entry=1.91952500, Current=1.956305, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-367.800000000000000000000000, PnL USD=-218.5504380000000000000000000, Commission=1.00000000, Final PnL=-219.5504380000000000000000000
2025-07-16 01:45:36,408 - DEBUG - app.services.portfolio_calculator - Position calculation for EURNZD: Type=BUY, Entry=1.92063500, Current=1.9558950000000002, Quantity=0.10000000, Contract Size=100000.00000000, PnL=352.6000000000020000000000000, PnL USD=209.5184460000011884200000000, Commission=1.00000000, Final PnL=208.5184460000011884200000000
2025-07-16 01:45:36,408 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=SELL, Entry=1.34376000, Current=1.33975, Quantity=0.25000000, Contract Size=0E-8, PnL=0E-24, PnL USD=0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 01:45:36,408 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=SELL, Entry=1.34361000, Current=1.33975, Quantity=0.25000000, Contract Size=0E-8, PnL=0E-24, PnL USD=0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 01:45:36,408 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=BUY, Entry=1.34379000, Current=1.33954, Quantity=0.25000000, Contract Size=0E-8, PnL=-0E-24, PnL USD=-0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 01:45:36,409 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=BUY, Entry=1.34378000, Current=1.33954, Quantity=0.25000000, Contract Size=0E-8, PnL=-0E-24, PnL USD=-0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 01:45:36,409 - DEBUG - app.services.portfolio_calculator - Position calculation for NZDJPY: Type=BUY, Entry=87.10150000, Current=88.4375, Quantity=0.01000000, Contract Size=100000.00000000, PnL=1336.000000000000000000000000, PnL USD=8.974634565778159931212381771, Commission=0.10000000, Final PnL=8.874634565778159931212381771
2025-07-16 01:45:36,409 - DEBUG - app.services.portfolio_calculator - Position calculation for USDCHF: Type=SELL, Entry=0.81771000, Current=0.80151, Quantity=0.15000000, Contract Size=100000.00000000, PnL=243.000000000000000000000000, PnL USD=303.2345013477088948787061995, Commission=1.50000000, Final PnL=301.7345013477088948787061995
2025-07-16 01:45:36,410 - DEBUG - app.services.portfolio_calculator - Position calculation for USDCHF: Type=BUY, Entry=0.81805000, Current=0.80118, Quantity=0.15000000, Contract Size=100000.00000000, PnL=-253.050000000000000000000000, PnL USD=-315.7756813417190775681341719, Commission=1.50000000, Final PnL=-317.2756813417190775681341719
2025-07-16 01:45:36,410 - DEBUG - app.services.portfolio_calculator - Position calculation for USDNOK: Type=BUY, Entry=10.04973000, Current=10.27532, Quantity=0.10000000, Contract Size=100000.00000000, PnL=2255.900000000000000000000000, PnL USD=219.5142836569431281004361288, Commission=1.00000000, Final PnL=218.5142836569431281004361288
2025-07-16 01:45:36,411 - DEBUG - app.services.portfolio_calculator - Position calculation for USDNOK: Type=BUY, Entry=10.05023000, Current=10.27532, Quantity=0.10000000, Contract Size=100000.00000000, PnL=2250.900000000000000000000000, PnL USD=219.0277499372371501579288454, Commission=1.00000000, Final PnL=218.0277499372371501579288454
2025-07-16 01:45:36,412 - DEBUG - app.services.portfolio_calculator - Position calculation for USDSGD: Type=SELL, Entry=1.28795000, Current=1.2849400000000002, Quantity=0.31000000, Contract Size=100000.00000000, PnL=93.30999999999380000000000000, PnL USD=72.62665493971294919792339604, Commission=3.10000000, Final PnL=69.52665493971294919792339604
2025-07-16 01:45:36,412 - DEBUG - app.services.portfolio_calculator - Position calculation for USDTRY: Type=SELL, Entry=39.56087000, Current=40.25907, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-6982.000000000000000000000000, PnL USD=-173.4274044112460046121455816, Commission=1.00000000, Final PnL=-174.4274044112460046121455816
2025-07-16 01:45:37,127 - DEBUG - app.firebase_stream - Firebase listener triggered (392). Event Type: patch, Path: /. Timestamp: 1752655537.1271086
2025-07-16 01:45:37,127 - DEBUG - app.firebase_stream - Prepared batch update for 34 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0361000000', 'o': '13.0335000000'}, 'XAGUSD': {'b': '38.0040000000', 'o': '37.9970000000'}, 'NZDJPY': {'b': '88.4570000000', 'o': '88.4490000000'}, 'GBPAUD': {'b': '2.0542100000',
2025-07-16 01:45:37,127 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0361000000', 'o': '13.0335000000'}, 'XAGUSD': {'b': '38.0040000000', 'o': '37.9970000000'}, 'NZDJPY': {'b': '88.4570000000', 'o': '88.4490000000'}, 'GBPAUD': {'b': '2.0542100000',...
2025-07-16 01:45:37,127 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:45:37,177 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:45:37,177 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.89752000, Current=0.89484, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-2.680000000000000000000000, PnL USD=-1.953224642698365267584487898, Commission=0.10000000, Final PnL=-2.053224642698365267584487898
2025-07-16 01:45:37,191 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:45:37,251 - WARNING - app - User 12 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:45:37,274 - WARNING - app - User 13 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:45:38,216 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:45:38,219 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:45:39,228 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:45:39,230 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:45:39,386 - DEBUG - app.firebase_stream - Firebase listener triggered (393). Event Type: patch, Path: /. Timestamp: 1752655539.3865325
2025-07-16 01:45:39,386 - DEBUG - app.firebase_stream - Prepared batch update for 34 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4570000000', 'o': '88.4480000000'}, 'GBPAUD': {'b': '2.0542400000', 'o': '2.0540900000'}, 'USDJPY': {'b': '148.8620000000', 'o': '148.8600000000'}, 'CADCHF': {'b': '0.5840900000',
2025-07-16 01:45:39,386 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4570000000', 'o': '88.4480000000'}, 'GBPAUD': {'b': '2.0542400000', 'o': '2.0540900000'}, 'USDJPY': {'b': '148.8620000000', 'o': '148.8600000000'}, 'CADCHF': {'b': '0.5840900000',...
2025-07-16 01:45:39,387 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:45:40,236 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:45:40,239 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:45:41,244 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:45:41,247 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:45:41,733 - DEBUG - app.firebase_stream - Firebase listener triggered (394). Event Type: patch, Path: /. Timestamp: 1752655541.7331643
2025-07-16 01:45:41,733 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0360000000', 'o': '13.0334000000'}, 'XAGUSD': {'b': '38.0050000000', 'o': '37.9970000000'}, 'GBPAUD': {'b': '2.0540400000', 'o': '2.0538900000'}, 'USDJPY': {'b': '148.8640000000',
2025-07-16 01:45:41,733 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0360000000', 'o': '13.0334000000'}, 'XAGUSD': {'b': '38.0050000000', 'o': '37.9970000000'}, 'GBPAUD': {'b': '2.0540400000', 'o': '2.0538900000'}, 'USDJPY': {'b': '148.8640000000',...
2025-07-16 01:45:41,733 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:45:42,264 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:45:42,267 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:45:43,276 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:45:43,277 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:48:52,501 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:48:52,504 - INFO - app - Starting stale cache cleanup task
2025-07-16 01:48:52,506 - INFO - app - Starting cache validation task
2025-07-16 01:48:52,508 - INFO - app - Found 24 static orders cache entries to check
2025-07-16 01:48:52,524 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:48:52,525 - WARNING - app - Found stale cache entry for user 2, will be refreshed on next access
2025-07-16 01:48:52,533 - WARNING - app - Found stale cache entry for user 3, will be refreshed on next access
2025-07-16 01:48:52,534 - INFO - app - Validating cache for 30 users
2025-07-16 01:48:52,535 - WARNING - app - User 4: Missing balance/margin cache, refreshing...
2025-07-16 01:48:52,536 - WARNING - app - Found stale cache entry for user 17, will be refreshed on next access
2025-07-16 01:48:52,538 - WARNING - app - Found stale cache entry for user 18, will be refreshed on next access
2025-07-16 01:48:52,540 - WARNING - app - Found stale cache entry for user 23, will be refreshed on next access
2025-07-16 01:48:52,541 - WARNING - app - Found stale cache entry for user 19, will be refreshed on next access
2025-07-16 01:48:52,542 - WARNING - app - Found stale cache entry for user 8, will be refreshed on next access
2025-07-16 01:48:52,544 - WARNING - app - Found stale cache entry for user 5, will be refreshed on next access
2025-07-16 01:48:52,544 - WARNING - app - Found stale cache entry for user 24, will be refreshed on next access
2025-07-16 01:48:52,545 - WARNING - app - Found stale cache entry for user 13, will be refreshed on next access
2025-07-16 01:48:52,546 - WARNING - app - User 5: Missing balance/margin cache, refreshing...
2025-07-16 01:48:52,546 - WARNING - app - Found stale cache entry for user 16, will be refreshed on next access
2025-07-16 01:48:52,547 - WARNING - app - Found stale cache entry for user 25, will be refreshed on next access
2025-07-16 01:48:52,548 - WARNING - app - Found stale cache entry for user 12, will be refreshed on next access
2025-07-16 01:48:52,549 - WARNING - app - User 8: Missing balance/margin cache, refreshing...
2025-07-16 01:48:52,551 - WARNING - app - Found stale cache entry for user 21, will be refreshed on next access
2025-07-16 01:48:52,553 - WARNING - app - Found stale cache entry for user 22, will be refreshed on next access
2025-07-16 01:48:52,554 - WARNING - app - Found stale cache entry for user 6, will be refreshed on next access
2025-07-16 01:48:52,555 - WARNING - app - Found stale cache entry for user 20, will be refreshed on next access
2025-07-16 01:48:52,555 - INFO - app - Completed stale cache cleanup task
2025-07-16 01:48:53,413 - WARNING - app - User 9: Missing balance/margin cache, refreshing...
2025-07-16 01:48:53,443 - WARNING - app - User 10: Missing balance/margin cache, refreshing...
2025-07-16 01:48:53,461 - WARNING - app - User 11: Missing balance/margin cache, refreshing...
2025-07-16 01:48:53,491 - WARNING - app - User 12: Missing balance/margin cache, refreshing...
2025-07-16 01:48:53,514 - WARNING - app - User 13: Missing balance/margin cache, refreshing...
2025-07-16 01:48:53,540 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:48:53,547 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:48:53,549 - WARNING - app - User 14: Missing balance/margin cache, refreshing...
2025-07-16 01:48:53,562 - WARNING - app - User 16: Missing balance/margin cache, refreshing...
2025-07-16 01:48:53,578 - WARNING - app - User 17: Missing balance/margin cache, refreshing...
2025-07-16 01:48:53,586 - WARNING - app - User 18: Missing balance/margin cache, refreshing...
2025-07-16 01:48:53,594 - WARNING - app - User 19: Missing balance/margin cache, refreshing...
2025-07-16 01:48:53,604 - WARNING - app - User 20: Missing balance/margin cache, refreshing...
2025-07-16 01:48:53,614 - WARNING - app - User 21: Missing balance/margin cache, refreshing...
2025-07-16 01:48:53,624 - WARNING - app - User 22: Missing balance/margin cache, refreshing...
2025-07-16 01:48:53,634 - WARNING - app - User 23: Missing balance/margin cache, refreshing...
2025-07-16 01:48:53,640 - WARNING - app - User 25: Missing balance/margin cache, refreshing...
2025-07-16 01:48:53,647 - WARNING - app - User 26: Missing balance/margin cache, refreshing...
2025-07-16 01:48:53,652 - WARNING - app - User 1: Missing balance/margin cache, refreshing...
2025-07-16 01:48:53,657 - WARNING - app - User 2: Missing balance/margin cache, refreshing...
2025-07-16 01:48:53,661 - WARNING - app - User 3: Missing balance/margin cache, refreshing...
2025-07-16 01:48:53,666 - WARNING - app - User 5: Missing balance/margin cache, refreshing...
2025-07-16 01:48:53,673 - WARNING - app - User 6: Missing balance/margin cache, refreshing...
2025-07-16 01:48:53,689 - INFO - app - Cache validation completed
2025-07-16 01:48:54,561 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:48:54,563 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:48:55,578 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:48:55,583 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:48:56,597 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:48:56,600 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:48:57,614 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:48:57,617 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:48:58,620 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:48:58,623 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:48:59,631 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:48:59,634 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:49:00,646 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:49:00,651 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:49:01,661 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:49:01,666 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:49:02,669 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:49:02,671 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:49:03,675 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:49:03,677 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:49:04,686 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:49:04,691 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:49:05,705 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:49:05,707 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:49:06,712 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:49:06,716 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:49:07,725 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:49:07,728 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:49:08,744 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:49:08,748 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:49:09,749 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:49:09,752 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:49:10,758 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:49:10,761 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:49:11,762 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:49:11,765 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:49:12,770 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:49:12,772 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:49:13,777 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:49:13,781 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:49:14,785 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:49:14,789 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:49:15,796 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:49:15,799 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:49:16,814 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:49:16,816 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:49:17,819 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:49:17,823 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:49:18,839 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:49:18,842 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:49:19,528 - INFO - app.api.v1.endpoints.users - Refresh token decoded. User ID from token payload: 14
2025-07-16 01:49:19,537 - DEBUG - app.api.v1.endpoints.users - Comparing Redis user_id (type: <class 'int'>, value: 14) with decoded user_id (type: <class 'str'>, value: 14)
2025-07-16 01:49:19,539 - INFO - app.api.v1.endpoints.users - Refresh token validated successfully for user ID: 14
2025-07-16 01:49:19,564 - INFO - app.api.v1.endpoints.users - New access and refresh tokens generated for user ID 14 using refresh token.
2025-07-16 01:49:19,606 - INFO - app.api.v1.endpoints.users - Refresh token decoded. User ID from token payload: 14
2025-07-16 01:49:19,609 - DEBUG - app.api.v1.endpoints.users - Comparing Redis user_id (type: <class 'int'>, value: 14) with decoded user_id (type: <class 'str'>, value: 14)
2025-07-16 01:49:19,609 - INFO - app.api.v1.endpoints.users - Refresh token validated successfully for user ID: 14
2025-07-16 01:49:19,620 - INFO - app.api.v1.endpoints.users - Refresh token decoded. User ID from token payload: 14
2025-07-16 01:49:19,623 - DEBUG - app.api.v1.endpoints.users - Comparing Redis user_id (type: <class 'int'>, value: 14) with decoded user_id (type: <class 'str'>, value: 14)
2025-07-16 01:49:19,625 - INFO - app.api.v1.endpoints.users - Refresh token validated successfully for user ID: 14
2025-07-16 01:49:19,627 - INFO - app.api.v1.endpoints.users - New access and refresh tokens generated for user ID 14 using refresh token.
2025-07-16 01:49:19,629 - INFO - app.api.v1.endpoints.users - Refresh token decoded. User ID from token payload: 14
2025-07-16 01:49:19,633 - DEBUG - app.api.v1.endpoints.users - Comparing Redis user_id (type: <class 'int'>, value: 14) with decoded user_id (type: <class 'str'>, value: 14)
2025-07-16 01:49:19,634 - INFO - app.api.v1.endpoints.users - Refresh token validated successfully for user ID: 14
2025-07-16 01:49:19,635 - INFO - app.api.v1.endpoints.users - New access and refresh tokens generated for user ID 14 using refresh token.
2025-07-16 01:49:19,648 - INFO - app.api.v1.endpoints.users - New access and refresh tokens generated for user ID 14 using refresh token.
2025-07-16 01:49:19,845 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:49:19,849 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:49:19,874 - INFO - app.api.v1.endpoints.favorites - Direct SQL query found 0 symbols for user 14
2025-07-16 01:49:19,875 - INFO - app.api.v1.endpoints.favorites - Symbols: []
2025-07-16 01:49:20,867 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:49:20,872 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:49:21,876 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:49:21,881 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:49:22,887 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:49:22,892 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:49:23,897 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:49:23,902 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:49:24,920 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:49:24,925 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:49:25,944 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:49:25,950 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:49:26,954 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:49:26,957 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:49:27,964 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:49:27,969 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:49:28,248 - INFO - app.core.firebase - [FIREBASE] Payload being pushed to Firebase (all stringified): {'order_id': '1000330-001', 'close_price': '118680', 'user_id': '14', 'order_type': 'BUY', 'order_company_name': 'BTCUSD', 'order_quantity': '0.40000000', 'contract_value': '0.40000000', 'order_status': 'CLOSED', 'status': 'CLOSED', 'action': 'close_order', 'close_id': '1000331-003', 'account_type': 'live', 'timestamp': '2025-07-16T08:49:28.248813'}
2025-07-16 01:49:28,959 - INFO - app.core.firebase - Order data (ID: 1000330-001) sent to Firebase successfully.
2025-07-16 01:49:28,977 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:49:28,983 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:49:29,993 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:49:29,999 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:49:31,014 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:49:31,017 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:49:32,033 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:49:32,035 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:49:33,038 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:49:33,041 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:49:34,083 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:49:34,088 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:49:34,555 - WARNING - app - User 4 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:49:34,560 - WARNING - app - No user data found for user 5 (live). Skipping portfolio update.
2025-07-16 01:49:34,566 - WARNING - app - No group settings found for group string. Skipping portfolio update for user 8.
2025-07-16 01:49:34,593 - WARNING - app - User 9 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:49:34,620 - WARNING - app - User 10 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:49:34,644 - WARNING - app - User 11 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:49:34,668 - WARNING - app - User 12 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:49:34,694 - WARNING - app - User 13 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:49:35,069 - DEBUG - app.services.portfolio_calculator - Position calculation for BTCUSD: Type=BUY, Entry=118908.50000000, Current=118730.0000000000, Quantity=0.40000000, Contract Size=1.00000000, PnL=-71.40000000000000000000000000, PnL USD=-71.40000000000000000000000000, Commission=235.57000000, Final PnL=-306.9700000000000000000000000
2025-07-16 01:49:35,091 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:49:35,094 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:49:35,101 - WARNING - app - User 16 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:49:35,121 - WARNING - app - User 17 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:49:35,141 - WARNING - app - User 18 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:49:35,160 - WARNING - app - User 19 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:49:35,179 - WARNING - app - User 20 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:49:35,200 - WARNING - app - User 21 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:49:35,216 - WARNING - app - User 22 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:49:35,231 - WARNING - app - User 23 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:49:35,248 - WARNING - app - User 25 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:49:35,646 - DEBUG - app.services.portfolio_calculator - Position calculation for XAGUSD: Type=BUY, Entry=41.09800000, Current=37.9970000000, Quantity=0.01000000, Contract Size=5000.00000000, PnL=-155.0500000000000000000000000, PnL USD=-155.0500000000000000000000000, Commission=0.10000000, Final PnL=-155.1500000000000000000000000
2025-07-16 01:49:35,647 - DEBUG - app.services.portfolio_calculator - Position calculation for BTCUSD: Type=BUY, Entry=132091.90000000, Current=118730.0000000000, Quantity=6.00000000, Contract Size=1.00000000, PnL=-80171.40000000000000000000000, PnL USD=-80171.40000000000000000000000, Commission=3661.62000000, Final PnL=-83833.02000000000000000000000
2025-07-16 01:49:35,647 - WARNING - app.services.portfolio_calculator - MARGIN CALL ALERT: User has margin level 68.51077114181455549520027618% which is below threshold 100.0%
2025-07-16 01:49:36,095 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=96.66800000, Current=97.0760000000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=408.0000000000000000000000000, PnL USD=2.741474886611792373593146313, Commission=0.10000000, Final PnL=2.641474886611792373593146313
2025-07-16 01:49:36,096 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=96.56000000, Current=97.0820000000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-522.0000000000000000000000000, PnL USD=-3.507475222576852007391231312, Commission=0.10000000, Final PnL=-3.607475222576852007391231312
2025-07-16 01:49:36,099 - WARNING - app - User 2 has no group_name set. Skipping portfolio update.
2025-07-16 01:49:36,100 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:49:36,105 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:49:36,111 - WARNING - app - No group settings found for group string. Skipping portfolio update for user 3.
2025-07-16 01:49:36,134 - WARNING - app - User 4 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:49:36,135 - WARNING - app - User 5 has no group_name set. Skipping portfolio update.
2025-07-16 01:49:36,136 - WARNING - app - User 6 has no group_name set. Skipping portfolio update.
2025-07-16 01:49:36,606 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64743000, Current=0.6521300000, Quantity=0.10000000, Contract Size=100000.00000000, PnL=47.00000000000000000000000000, PnL USD=47.00000000000000000000000000, Commission=1.00000000, Final PnL=46.00000000000000000000000000
2025-07-16 01:49:36,607 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=SELL, Entry=0.64707000, Current=0.6521600000, Quantity=0.22000000, Contract Size=100000.00000000, PnL=-111.9800000000000000000000000, PnL USD=-111.9800000000000000000000000, Commission=2.20000000, Final PnL=-114.1800000000000000000000000
2025-07-16 01:49:36,608 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFSGD: Type=BUY, Entry=1.57561500, Current=1.6033600000, Quantity=0.10000000, Contract Size=100000.00000000, PnL=277.4500000000000000000000000, PnL USD=215.9446459426223128531623107, Commission=1.00000000, Final PnL=214.9446459426223128531623107
2025-07-16 01:49:36,609 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFSGD: Type=SELL, Entry=1.57505500, Current=1.6035800000, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-285.2500000000000000000000000, PnL USD=-222.0155352500739403184881929, Commission=1.00000000, Final PnL=-223.0155352500739403184881929
2025-07-16 01:49:36,611 - DEBUG - app.services.portfolio_calculator - Position calculation for CADJPY: Type=SELL, Entry=106.24150000, Current=108.5050000000, Quantity=0.15000000, Contract Size=100000.00000000, PnL=-33952.50000000000000000000000, PnL USD=-228.1355408329189792106218000, Commission=0E-8, Final PnL=-228.1355408329189792106218000
2025-07-16 01:49:36,612 - DEBUG - app.services.portfolio_calculator - Position calculation for CADJPY: Type=BUY, Entry=106.27050000, Current=108.4960000000, Quantity=0.15000000, Contract Size=100000.00000000, PnL=33382.50000000000000000000000, PnL USD=224.3055648878556166261271552, Commission=0E-8, Final PnL=224.3055648878556166261271552
2025-07-16 01:49:36,612 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=BUY, Entry=1.77481000, Current=1.7823100000, Quantity=0.22000000, Contract Size=100000.00000000, PnL=165.0000000000000000000000000, PnL USD=107.5998000000000000000000000, Commission=2.20000000, Final PnL=105.3998000000000000000000000
2025-07-16 01:49:36,613 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=SELL, Entry=1.77439000, Current=1.7824100000, Quantity=0.21000000, Contract Size=100000.00000000, PnL=-168.4200000000000000000000000, PnL USD=-109.8300504000000000000000000, Commission=2.10000000, Final PnL=-111.9300504000000000000000000
2025-07-16 01:49:36,614 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFJPY: Type=BUY, Entry=178.15500000, Current=185.7700000000, Quantity=0.10000000, Contract Size=100000.00000000, PnL=76150.00000000000000000000000, PnL USD=511.6713477483772996653810490, Commission=1.00000000, Final PnL=510.6713477483772996653810490
2025-07-16 01:49:36,615 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFJPY: Type=SELL, Entry=178.09500000, Current=185.7800000000, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-76850.00000000000000000000000, PnL USD=-516.3748269791568677516025426, Commission=1.00000000, Final PnL=-517.3748269791568677516025426
2025-07-16 01:49:36,615 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=BUY, Entry=1.77480000, Current=1.7823100000, Quantity=0.05000000, Contract Size=100000.00000000, PnL=37.55000000000000000000000000, PnL USD=24.48710600000000000000000000, Commission=0.50000000, Final PnL=23.98710600000000000000000000
2025-07-16 01:49:36,616 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=SELL, Entry=1.77442000, Current=1.7824100000, Quantity=0.05000000, Contract Size=100000.00000000, PnL=-39.95000000000000000000000000, PnL USD=-26.05219400000000000000000000, Commission=0.50000000, Final PnL=-26.55219400000000000000000000
2025-07-16 01:49:36,616 - DEBUG - app.services.portfolio_calculator - Position calculation for EURGBP: Type=SELL, Entry=0.85403000, Current=0.8677000000, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-136.7000000000000000000000000, PnL USD=-183.1274210000000000000000000, Commission=1.00000000, Final PnL=-184.1274210000000000000000000
2025-07-16 01:49:36,617 - DEBUG - app.services.portfolio_calculator - Position calculation for EURJPY: Type=BUY, Entry=167.26050000, Current=173.0170000000, Quantity=0.10000000, Contract Size=100000.00000000, PnL=57565.00000000000000000000000, PnL USD=386.7939741711797669762003951, Commission=1.00000000, Final PnL=385.7939741711797669762003951
2025-07-16 01:49:36,618 - DEBUG - app.services.portfolio_calculator - Position calculation for EURJPY: Type=SELL, Entry=167.23150000, Current=173.0210000000, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-57895.00000000000000000000000, PnL USD=-389.0113286656901347882762421, Commission=1.00000000, Final PnL=-390.0113286656901347882762421
2025-07-16 01:49:36,619 - DEBUG - app.services.portfolio_calculator - Position calculation for EURNZD: Type=SELL, Entry=1.91952500, Current=1.9562700000, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-367.4500000000000000000000000, PnL USD=-218.3277665000000000000000000, Commission=1.00000000, Final PnL=-219.3277665000000000000000000
2025-07-16 01:49:36,619 - DEBUG - app.services.portfolio_calculator - Position calculation for EURNZD: Type=BUY, Entry=1.92063500, Current=1.9560900000, Quantity=0.10000000, Contract Size=100000.00000000, PnL=354.5500000000000000000000000, PnL USD=210.6629735000000000000000000, Commission=1.00000000, Final PnL=209.6629735000000000000000000
2025-07-16 01:49:36,619 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=SELL, Entry=1.34376000, Current=1.3396200000, Quantity=0.25000000, Contract Size=0E-8, PnL=0E-26, PnL USD=0E-26, Commission=2.50000000, Final PnL=-2.50000000000000000000000000
2025-07-16 01:49:36,619 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=SELL, Entry=1.34361000, Current=1.3396200000, Quantity=0.25000000, Contract Size=0E-8, PnL=0E-26, PnL USD=0E-26, Commission=2.50000000, Final PnL=-2.50000000000000000000000000
2025-07-16 01:49:36,619 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=BUY, Entry=1.34379000, Current=1.3396100000, Quantity=0.25000000, Contract Size=0E-8, PnL=-0E-26, PnL USD=-0E-26, Commission=2.50000000, Final PnL=-2.50000000000000000000000000
2025-07-16 01:49:36,619 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=BUY, Entry=1.34378000, Current=1.3396100000, Quantity=0.25000000, Contract Size=0E-8, PnL=-0E-26, PnL USD=-0E-26, Commission=2.50000000, Final PnL=-2.50000000000000000000000000
2025-07-16 01:49:36,620 - DEBUG - app.services.portfolio_calculator - Position calculation for NZDJPY: Type=BUY, Entry=87.10150000, Current=88.4480000000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=1346.500000000000000000000000, PnL USD=9.047478263206697754424630105, Commission=0.10000000, Final PnL=8.947478263206697754424630105
2025-07-16 01:49:36,621 - DEBUG - app.services.portfolio_calculator - Position calculation for USDCHF: Type=SELL, Entry=0.81771000, Current=0.8013400000, Quantity=0.15000000, Contract Size=100000.00000000, PnL=245.5500000000000000000000000, PnL USD=306.4242393990066638380712307, Commission=1.50000000, Final PnL=304.9242393990066638380712307
2025-07-16 01:49:36,622 - DEBUG - app.services.portfolio_calculator - Position calculation for USDCHF: Type=BUY, Entry=0.81805000, Current=0.8013100000, Quantity=0.15000000, Contract Size=100000.00000000, PnL=-251.1000000000000000000000000, PnL USD=-313.3501385179823795143135248, Commission=1.50000000, Final PnL=-314.8501385179823795143135248
2025-07-16 01:49:36,623 - DEBUG - app.services.portfolio_calculator - Position calculation for USDNOK: Type=BUY, Entry=10.04973000, Current=10.2745600000, Quantity=0.10000000, Contract Size=100000.00000000, PnL=2248.300000000000000000000000, PnL USD=218.8107354777427740292299143, Commission=1.00000000, Final PnL=217.8107354777427740292299143
2025-07-16 01:49:36,624 - DEBUG - app.services.portfolio_calculator - Position calculation for USDNOK: Type=BUY, Entry=10.05023000, Current=10.2745600000, Quantity=0.10000000, Contract Size=100000.00000000, PnL=2243.300000000000000000000000, PnL USD=218.3241217351867477559807262, Commission=1.00000000, Final PnL=217.3241217351867477559807262
2025-07-16 01:49:36,625 - DEBUG - app.services.portfolio_calculator - Position calculation for USDSGD: Type=SELL, Entry=1.28795000, Current=1.2847800000, Quantity=0.31000000, Contract Size=100000.00000000, PnL=98.27000000000000000000000000, PnL USD=76.48542208247069628430441618, Commission=3.10000000, Final PnL=73.38542208247069628430441618
2025-07-16 01:49:36,626 - DEBUG - app.services.portfolio_calculator - Position calculation for USDTRY: Type=SELL, Entry=39.56087000, Current=40.2587900000, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-6979.200000000000000000000000, PnL USD=-173.3600937940901774536494247, Commission=1.00000000, Final PnL=-174.3600937940901774536494247
2025-07-16 01:49:37,425 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:49:37,427 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.89752000, Current=0.8947300000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-2.79000000000000000000000000, PnL USD=-2.033246124807789008810733208, Commission=0.10000000, Final PnL=-2.133246124807789008810733208
2025-07-16 01:49:37,430 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:49:37,457 - WARNING - app - User 12 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:49:37,478 - WARNING - app - User 13 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:49:38,434 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:49:38,437 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:49:39,454 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:49:39,457 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:49:40,462 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:49:40,465 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:49:41,481 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:49:41,486 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:49:42,497 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:49:42,501 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:49:43,514 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:49:43,518 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:49:44,526 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:49:44,531 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:49:45,544 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:49:45,548 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:49:46,560 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:49:46,566 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:49:47,578 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:49:47,582 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:49:48,591 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:49:48,595 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:49:49,607 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:49:49,612 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:49:50,620 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:49:50,624 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:49:51,635 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:49:51,639 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:49:52,785 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:49:52,788 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:49:53,334 - WARNING - app.services.portfolio_calculator - No adjusted prices found for symbol BTCUSD
2025-07-16 01:49:53,345 - INFO - app.core.firebase - [FIREBASE] Payload being pushed to Firebase (all stringified): {'order_id': '1000332-001', 'user_id': '14', 'order_company_name': 'AUDJPY', 'order_type': 'BUY', 'order_quantity': '0.1', 'price': '97.097', 'status': 'OPEN', 'contract_value': '10000.0', 'account_type': 'live', 'timestamp': '2025-07-16T08:49:53.344946'}
2025-07-16 01:49:53,705 - INFO - app.core.firebase - Order data (ID: 1000332-001) sent to Firebase successfully.
2025-07-16 01:49:53,792 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:49:53,796 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:49:54,800 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:49:54,804 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:49:55,817 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:49:55,822 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:49:56,828 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:49:56,832 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:49:57,843 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:49:57,847 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:49:58,863 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:49:58,868 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:49:59,874 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:49:59,879 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:50:00,886 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:50:00,892 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:50:01,898 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:50:01,901 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:50:02,906 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:50:02,909 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:50:03,924 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:50:03,928 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:50:04,931 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:50:04,936 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:50:05,943 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:50:05,948 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:50:06,953 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:50:06,957 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:50:07,972 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:50:07,977 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:50:08,981 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:50:08,984 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:50:09,991 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:50:09,994 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:50:11,000 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:50:11,004 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:50:12,011 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:50:12,014 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:50:13,019 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:50:13,023 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:50:14,032 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:50:14,035 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:50:15,045 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:50:15,049 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:50:16,053 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:50:16,057 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:50:17,081 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:50:17,085 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:50:18,095 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:50:18,099 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:50:19,106 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:50:19,111 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:50:20,121 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:50:20,125 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:50:21,131 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:50:21,136 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:50:22,142 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:50:22,146 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:50:23,156 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:50:23,161 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:50:24,170 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:50:24,175 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:50:25,183 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:50:25,187 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:50:26,203 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:50:26,207 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:50:27,211 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:50:27,215 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:50:28,225 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:50:28,228 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:50:29,239 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:50:29,242 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:50:30,246 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:50:30,250 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:50:31,253 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:50:31,256 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:50:32,261 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:50:32,265 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:50:33,277 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:50:33,281 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:50:34,284 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:50:34,287 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:50:34,526 - WARNING - app - User 4 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:50:34,529 - WARNING - app - No user data found for user 5 (live). Skipping portfolio update.
2025-07-16 01:50:34,533 - WARNING - app - No group settings found for group string. Skipping portfolio update for user 8.
2025-07-16 01:50:34,549 - WARNING - app - User 9 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:50:34,562 - WARNING - app - User 10 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:50:34,579 - WARNING - app - User 11 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:50:34,605 - WARNING - app - User 12 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:50:34,632 - WARNING - app - User 13 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:50:35,078 - DEBUG - app.services.portfolio_calculator - Position calculation for BTCUSD: Type=BUY, Entry=118908.50000000, Current=118730.0000000000, Quantity=0.40000000, Contract Size=1.00000000, PnL=-71.40000000000000000000000000, PnL USD=-71.40000000000000000000000000, Commission=235.57000000, Final PnL=-306.9700000000000000000000000
2025-07-16 01:50:35,115 - WARNING - app - User 16 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:50:35,136 - WARNING - app - User 17 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:50:35,164 - WARNING - app - User 18 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:50:35,190 - WARNING - app - User 19 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:50:35,216 - WARNING - app - User 20 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:50:35,242 - WARNING - app - User 21 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:50:35,265 - WARNING - app - User 22 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:50:35,281 - WARNING - app - User 23 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:50:35,290 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:50:35,294 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:50:35,301 - WARNING - app - User 25 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:50:35,789 - DEBUG - app.services.portfolio_calculator - Position calculation for XAGUSD: Type=BUY, Entry=41.09800000, Current=37.9970000000, Quantity=0.01000000, Contract Size=5000.00000000, PnL=-155.0500000000000000000000000, PnL USD=-155.0500000000000000000000000, Commission=0.10000000, Final PnL=-155.1500000000000000000000000
2025-07-16 01:50:35,789 - DEBUG - app.services.portfolio_calculator - Position calculation for BTCUSD: Type=BUY, Entry=132091.90000000, Current=118730.0000000000, Quantity=6.00000000, Contract Size=1.00000000, PnL=-80171.40000000000000000000000, PnL USD=-80171.40000000000000000000000, Commission=3661.62000000, Final PnL=-83833.02000000000000000000000
2025-07-16 01:50:35,790 - WARNING - app.services.portfolio_calculator - MARGIN CALL ALERT: User has margin level 68.51077114181455549520027618% which is below threshold 100.0%
2025-07-16 01:50:36,159 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=96.66800000, Current=97.0760000000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=408.0000000000000000000000000, PnL USD=2.741585415840719262997332330, Commission=0.10000000, Final PnL=2.641585415840719262997332330
2025-07-16 01:50:36,160 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=96.56000000, Current=97.0820000000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-522.0000000000000000000000000, PnL USD=-3.507616634972684939423057540, Commission=0.10000000, Final PnL=-3.607616634972684939423057540
2025-07-16 01:50:36,163 - WARNING - app - User 2 has no group_name set. Skipping portfolio update.
2025-07-16 01:50:36,171 - WARNING - app - No group settings found for group string. Skipping portfolio update for user 3.
2025-07-16 01:50:36,202 - WARNING - app - User 4 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:50:36,203 - WARNING - app - User 5 has no group_name set. Skipping portfolio update.
2025-07-16 01:50:36,204 - WARNING - app - User 6 has no group_name set. Skipping portfolio update.
2025-07-16 01:50:36,295 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:50:36,299 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:50:36,610 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64743000, Current=0.6521300000, Quantity=0.10000000, Contract Size=100000.00000000, PnL=47.00000000000000000000000000, PnL USD=47.00000000000000000000000000, Commission=1.00000000, Final PnL=46.00000000000000000000000000
2025-07-16 01:50:36,610 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=SELL, Entry=0.64707000, Current=0.6521600000, Quantity=0.22000000, Contract Size=100000.00000000, PnL=-111.9800000000000000000000000, PnL USD=-111.9800000000000000000000000, Commission=2.20000000, Final PnL=-114.1800000000000000000000000
2025-07-16 01:50:36,612 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFSGD: Type=BUY, Entry=1.57561500, Current=1.6033600000, Quantity=0.10000000, Contract Size=100000.00000000, PnL=277.4500000000000000000000000, PnL USD=215.9496882759050117139766032, Commission=1.00000000, Final PnL=214.9496882759050117139766032
2025-07-16 01:50:36,613 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFSGD: Type=SELL, Entry=1.57505500, Current=1.6035800000, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-285.2500000000000000000000000, PnL USD=-222.0207193393472863269483729, Commission=1.00000000, Final PnL=-223.0207193393472863269483729
2025-07-16 01:50:36,614 - DEBUG - app.services.portfolio_calculator - Position calculation for CADJPY: Type=SELL, Entry=106.24150000, Current=108.5050000000, Quantity=0.15000000, Contract Size=100000.00000000, PnL=-33952.50000000000000000000000, PnL USD=-228.1462716454216195512669753, Commission=0E-8, Final PnL=-228.1462716454216195512669753
2025-07-16 01:50:36,615 - DEBUG - app.services.portfolio_calculator - Position calculation for CADJPY: Type=BUY, Entry=106.27050000, Current=108.4960000000, Quantity=0.15000000, Contract Size=100000.00000000, PnL=33382.50000000000000000000000, PnL USD=224.3161155497617911691383493, Commission=0E-8, Final PnL=224.3161155497617911691383493
2025-07-16 01:50:36,616 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=BUY, Entry=1.77481000, Current=1.7823100000, Quantity=0.22000000, Contract Size=100000.00000000, PnL=165.0000000000000000000000000, PnL USD=107.5965000000000000000000000, Commission=2.20000000, Final PnL=105.3965000000000000000000000
2025-07-16 01:50:36,616 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=SELL, Entry=1.77439000, Current=1.7824100000, Quantity=0.21000000, Contract Size=100000.00000000, PnL=-168.4200000000000000000000000, PnL USD=-109.8266820000000000000000000, Commission=2.10000000, Final PnL=-111.9266820000000000000000000
2025-07-16 01:50:36,617 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFJPY: Type=BUY, Entry=178.15500000, Current=185.7700000000, Quantity=0.10000000, Contract Size=100000.00000000, PnL=76150.00000000000000000000000, PnL USD=511.6954152359577742089383748, Commission=1.00000000, Final PnL=510.6954152359577742089383748
2025-07-16 01:50:36,618 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFJPY: Type=SELL, Entry=178.09500000, Current=185.7800000000, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-76850.00000000000000000000000, PnL USD=-516.3991157043119494150612489, Commission=1.00000000, Final PnL=-517.3991157043119494150612489
2025-07-16 01:50:36,618 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=BUY, Entry=1.77480000, Current=1.7823100000, Quantity=0.05000000, Contract Size=100000.00000000, PnL=37.55000000000000000000000000, PnL USD=24.48635500000000000000000000, Commission=0.50000000, Final PnL=23.98635500000000000000000000
2025-07-16 01:50:36,618 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=SELL, Entry=1.77442000, Current=1.7824100000, Quantity=0.05000000, Contract Size=100000.00000000, PnL=-39.95000000000000000000000000, PnL USD=-26.05139500000000000000000000, Commission=0.50000000, Final PnL=-26.55139500000000000000000000
2025-07-16 01:50:36,618 - DEBUG - app.services.portfolio_calculator - Position calculation for EURGBP: Type=SELL, Entry=0.85403000, Current=0.8677000000, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-136.7000000000000000000000000, PnL USD=-183.1082830000000000000000000, Commission=1.00000000, Final PnL=-184.1082830000000000000000000
2025-07-16 01:50:36,619 - DEBUG - app.services.portfolio_calculator - Position calculation for EURJPY: Type=BUY, Entry=167.26050000, Current=173.0170000000, Quantity=0.10000000, Contract Size=100000.00000000, PnL=57565.00000000000000000000000, PnL USD=386.8121678011544224863760676, Commission=1.00000000, Final PnL=385.8121678011544224863760676
2025-07-16 01:50:36,620 - DEBUG - app.services.portfolio_calculator - Position calculation for EURJPY: Type=SELL, Entry=167.23150000, Current=173.0210000000, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-57895.00000000000000000000000, PnL USD=-389.0296265933785336549768511, Commission=1.00000000, Final PnL=-390.0296265933785336549768511
2025-07-16 01:50:36,620 - DEBUG - app.services.portfolio_calculator - Position calculation for EURNZD: Type=SELL, Entry=1.91952500, Current=1.9562700000, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-367.4500000000000000000000000, PnL USD=-218.3387900000000000000000000, Commission=1.00000000, Final PnL=-219.3387900000000000000000000
2025-07-16 01:50:36,620 - DEBUG - app.services.portfolio_calculator - Position calculation for EURNZD: Type=BUY, Entry=1.92063500, Current=1.9560900000, Quantity=0.10000000, Contract Size=100000.00000000, PnL=354.5500000000000000000000000, PnL USD=210.6736100000000000000000000, Commission=1.00000000, Final PnL=209.6736100000000000000000000
2025-07-16 01:50:36,620 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=SELL, Entry=1.34376000, Current=1.3396200000, Quantity=0.25000000, Contract Size=0E-8, PnL=0E-26, PnL USD=0E-26, Commission=2.50000000, Final PnL=-2.50000000000000000000000000
2025-07-16 01:50:36,620 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=SELL, Entry=1.34361000, Current=1.3396200000, Quantity=0.25000000, Contract Size=0E-8, PnL=0E-26, PnL USD=0E-26, Commission=2.50000000, Final PnL=-2.50000000000000000000000000
2025-07-16 01:50:36,620 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=BUY, Entry=1.34379000, Current=1.3396100000, Quantity=0.25000000, Contract Size=0E-8, PnL=-0E-26, PnL USD=-0E-26, Commission=2.50000000, Final PnL=-2.50000000000000000000000000
2025-07-16 01:50:36,620 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=BUY, Entry=1.34378000, Current=1.3396100000, Quantity=0.25000000, Contract Size=0E-8, PnL=-0E-26, PnL USD=-0E-26, Commission=2.50000000, Final PnL=-2.50000000000000000000000000
2025-07-16 01:50:36,621 - DEBUG - app.services.portfolio_calculator - Position calculation for NZDJPY: Type=BUY, Entry=87.10150000, Current=88.4480000000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=1346.500000000000000000000000, PnL USD=9.047903829484138450063499956, Commission=0.10000000, Final PnL=8.947903829484138450063499956
2025-07-16 01:50:36,622 - DEBUG - app.services.portfolio_calculator - Position calculation for USDCHF: Type=SELL, Entry=0.81771000, Current=0.8013400000, Quantity=0.15000000, Contract Size=100000.00000000, PnL=245.5500000000000000000000000, PnL USD=306.4548336370216908369318324, Commission=1.50000000, Final PnL=304.9548336370216908369318324
2025-07-16 01:50:36,623 - DEBUG - app.services.portfolio_calculator - Position calculation for USDCHF: Type=BUY, Entry=0.81805000, Current=0.8013100000, Quantity=0.15000000, Contract Size=100000.00000000, PnL=-251.1000000000000000000000000, PnL USD=-313.3814242567955470134538102, Commission=1.50000000, Final PnL=-314.8814242567955470134538102
2025-07-16 01:50:36,624 - DEBUG - app.services.portfolio_calculator - Position calculation for USDNOK: Type=BUY, Entry=10.04973000, Current=10.2745600000, Quantity=0.10000000, Contract Size=100000.00000000, PnL=2248.300000000000000000000000, PnL USD=218.7983849228322824691723265, Commission=1.00000000, Final PnL=217.7983849228322824691723265
2025-07-16 01:50:36,625 - DEBUG - app.services.portfolio_calculator - Position calculation for USDNOK: Type=BUY, Entry=10.05023000, Current=10.2745600000, Quantity=0.10000000, Contract Size=100000.00000000, PnL=2243.300000000000000000000000, PnL USD=218.3117986467062488382752657, Commission=1.00000000, Final PnL=217.3117986467062488382752657
2025-07-16 01:50:36,626 - DEBUG - app.services.portfolio_calculator - Position calculation for USDSGD: Type=SELL, Entry=1.28795000, Current=1.2847800000, Quantity=0.31000000, Contract Size=100000.00000000, PnL=98.27000000000000000000000000, PnL USD=76.48720802621440079701741141, Commission=3.10000000, Final PnL=73.38720802621440079701741141
2025-07-16 01:50:36,627 - DEBUG - app.services.portfolio_calculator - Position calculation for USDTRY: Type=SELL, Entry=39.56087000, Current=40.2587900000, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-6979.200000000000000000000000, PnL USD=-173.3581990936648944678982306, Commission=1.00000000, Final PnL=-174.3581990936648944678982306
2025-07-16 01:50:37,735 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:50:37,737 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.89752000, Current=0.8947300000, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-2.79000000000000000000000000, PnL USD=-2.033246124807789008810733208, Commission=0.10000000, Final PnL=-2.133246124807789008810733208
2025-07-16 01:50:37,740 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:50:37,762 - WARNING - app - User 12 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:50:37,774 - WARNING - app - User 13 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:50:38,751 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:50:38,755 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:50:39,758 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:50:39,760 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:50:40,769 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:50:40,773 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:50:41,780 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:50:41,783 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:50:42,792 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:50:42,796 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:50:43,807 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:50:43,811 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:50:44,816 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:50:44,820 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:50:45,833 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:50:45,837 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:50:46,848 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:50:46,851 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:50:47,859 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:50:47,862 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:50:48,864 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:50:48,869 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:50:49,886 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:50:49,889 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:50:50,892 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:50:50,897 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:50:51,912 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:50:51,918 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:50:52,922 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:50:52,925 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:50:53,947 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:50:53,962 - DEBUG - app.firebase_stream - Firebase listener triggered (395). Event Type: put, Path: /. Timestamp: 1752655853.9622648
2025-07-16 01:50:53,963 - DEBUG - app.firebase_stream - Prepared batch update for 48 symbols from root path for queue. Preview: {'AUDCAD': {'b': '0.8947300000', 'o': '0.8947000000'}, 'AUDCHF': {'b': '0.5224800000', 'o': '0.5224200000'}, 'AUDJPY': {'b': '97.0340000000', 'o': '97.0300000000'}, 'AUDNZD': {'b': '1.0000000000', 'o'
2025-07-16 01:50:53,964 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'AUDCAD': {'b': '0.8947300000', 'o': '0.8947000000'}, 'AUDCHF': {'b': '0.5224800000', 'o': '0.5224200000'}, 'AUDJPY': {'b': '97.0340000000', 'o': '97.0300000000'}, 'AUDNZD': {'b': '1.0000000000', 'o'...
2025-07-16 01:50:53,967 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type put at path /.
2025-07-16 01:50:53,967 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:50:54,764 - DEBUG - app.firebase_stream - Firebase listener triggered (396). Event Type: patch, Path: /. Timestamp: 1752655854.7643414
2025-07-16 01:50:54,765 - DEBUG - app.firebase_stream - Prepared batch update for 34 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4220000000', 'o': '88.4170000000'}, 'GBPAUD': {'b': '2.0543100000', 'o': '2.0542400000'}, 'USDJPY': {'b': '148.8160000000', 'o': '148.8120000000'}, 'CADCHF': {'b': '0.5839800000',
2025-07-16 01:50:54,765 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'NZDJPY': {'b': '88.4220000000', 'o': '88.4170000000'}, 'GBPAUD': {'b': '2.0543100000', 'o': '2.0542400000'}, 'USDJPY': {'b': '148.8160000000', 'o': '148.8120000000'}, 'CADCHF': {'b': '0.5839800000',...
2025-07-16 01:50:54,766 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:50:54,998 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:50:55,001 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:50:56,008 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:50:56,011 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:50:57,021 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:50:57,026 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:50:57,081 - DEBUG - app.firebase_stream - Firebase listener triggered (397). Event Type: patch, Path: /. Timestamp: 1752655857.0810978
2025-07-16 01:50:57,081 - DEBUG - app.firebase_stream - Prepared batch update for 37 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0320000000', 'o': '13.0294000000'}, 'NZDJPY': {'b': '88.4230000000', 'o': '88.4140000000'}, 'GBPAUD': {'b': '2.0542800000', 'o': '2.0541300000'}, 'USDJPY': {'b': '148.8100000000',
2025-07-16 01:50:57,082 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0320000000', 'o': '13.0294000000'}, 'NZDJPY': {'b': '88.4230000000', 'o': '88.4140000000'}, 'GBPAUD': {'b': '2.0542800000', 'o': '2.0541300000'}, 'USDJPY': {'b': '148.8100000000',...
2025-07-16 01:50:57,082 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:50:58,038 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:50:58,042 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:50:59,053 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:50:59,056 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:50:59,363 - DEBUG - app.firebase_stream - Firebase listener triggered (398). Event Type: patch, Path: /. Timestamp: 1752655859.3630857
2025-07-16 01:50:59,363 - DEBUG - app.firebase_stream - Prepared batch update for 24 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0319000000', 'o': '13.0293000000'}, 'NZDJPY': {'b': '88.4240000000', 'o': '88.4140000000'}, 'CADCHF': {'b': '0.5839800000', 'o': '0.5839200000'}, 'EURNZD': {'b': '1.9562600000', '
2025-07-16 01:50:59,364 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0319000000', 'o': '13.0293000000'}, 'NZDJPY': {'b': '88.4240000000', 'o': '88.4140000000'}, 'CADCHF': {'b': '0.5839800000', 'o': '0.5839200000'}, 'EURNZD': {'b': '1.9562600000', '...
2025-07-16 01:50:59,365 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:51:00,061 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:51:00,066 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:51:01,076 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:51:01,079 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:51:01,686 - DEBUG - app.firebase_stream - Firebase listener triggered (399). Event Type: patch, Path: /. Timestamp: 1752655861.6861832
2025-07-16 01:51:01,686 - DEBUG - app.firebase_stream - Prepared batch update for 37 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0339000000', 'o': '13.0313000000'}, 'NZDJPY': {'b': '88.4210000000', 'o': '88.4140000000'}, 'GBPAUD': {'b': '2.0543100000', 'o': '2.0541600000'}, 'BTCUSD': {'b': '118724.100000000
2025-07-16 01:51:01,687 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0339000000', 'o': '13.0313000000'}, 'NZDJPY': {'b': '88.4210000000', 'o': '88.4140000000'}, 'GBPAUD': {'b': '2.0543100000', 'o': '2.0541600000'}, 'BTCUSD': {'b': '118724.100000000...
2025-07-16 01:51:01,687 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:51:02,087 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:51:02,091 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:51:03,097 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:51:03,100 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:51:03,980 - DEBUG - app.firebase_stream - Firebase listener triggered (400). Event Type: patch, Path: /. Timestamp: 1752655863.9805307
2025-07-16 01:51:03,981 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0320000000', 'o': '13.0294700000'}, 'NZDJPY': {'b': '88.4290000000', 'o': '88.4200000000'}, 'GBPAUD': {'b': '2.0543300000', 'o': '2.0541600000'}, 'USDCNH': {'b': '7.1810000000', '
2025-07-16 01:51:03,982 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0320000000', 'o': '13.0294700000'}, 'NZDJPY': {'b': '88.4290000000', 'o': '88.4200000000'}, 'GBPAUD': {'b': '2.0543300000', 'o': '2.0541600000'}, 'USDCNH': {'b': '7.1810000000', '...
2025-07-16 01:51:03,985 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:51:04,102 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:51:04,105 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:51:05,116 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:51:05,119 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:51:06,125 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:51:06,128 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:51:06,240 - DEBUG - app.firebase_stream - Firebase listener triggered (401). Event Type: patch, Path: /. Timestamp: 1752655866.2401128
2025-07-16 01:51:06,241 - DEBUG - app.firebase_stream - Prepared batch update for 39 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0338000000', 'o': '13.0312000000'}, 'XAGUSD': {'b': '37.9980000000', 'o': '37.9920000000'}, 'NZDJPY': {'b': '88.4240000000', 'o': '88.4150000000'}, 'GBPAUD': {'b': '2.0542400000',
2025-07-16 01:51:06,242 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0338000000', 'o': '13.0312000000'}, 'XAGUSD': {'b': '37.9980000000', 'o': '37.9920000000'}, 'NZDJPY': {'b': '88.4240000000', 'o': '88.4150000000'}, 'GBPAUD': {'b': '2.0542400000',...
2025-07-16 01:51:06,246 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:51:07,144 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:51:07,148 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:51:08,162 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:51:08,166 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:51:08,578 - DEBUG - app.firebase_stream - Firebase listener triggered (402). Event Type: patch, Path: /. Timestamp: 1752655868.5785134
2025-07-16 01:51:08,578 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0337000000', 'o': '13.0311000000'}, 'XAGUSD': {'b': '37.9980000000', 'o': '37.9910000000'}, 'GBPAUD': {'b': '2.0542600000', 'o': '2.0540900000'}, 'USDJPY': {'b': '148.8160000000',
2025-07-16 01:51:08,579 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0337000000', 'o': '13.0311000000'}, 'XAGUSD': {'b': '37.9980000000', 'o': '37.9910000000'}, 'GBPAUD': {'b': '2.0542600000', 'o': '2.0540900000'}, 'USDJPY': {'b': '148.8160000000',...
2025-07-16 01:51:08,583 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:51:09,180 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:51:09,184 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:51:10,190 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:51:10,193 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:51:10,799 - DEBUG - app.firebase_stream - Firebase listener triggered (403). Event Type: patch, Path: /. Timestamp: 1752655870.7993724
2025-07-16 01:51:10,800 - DEBUG - app.firebase_stream - Prepared batch update for 22 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0319000000', 'o': '13.0294700000'}, 'NZDJPY': {'b': '88.4230000000', 'o': '88.4150000000'}, 'BTCUSD': {'b': '118717.6000000000', 'o': '118717.5000000000'}, 'USDJPY': {'b': '148.81
2025-07-16 01:51:10,801 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0319000000', 'o': '13.0294700000'}, 'NZDJPY': {'b': '88.4230000000', 'o': '88.4150000000'}, 'BTCUSD': {'b': '118717.6000000000', 'o': '118717.5000000000'}, 'USDJPY': {'b': '148.81...
2025-07-16 01:51:10,803 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:51:11,203 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:51:11,207 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:51:12,209 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:51:12,213 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:51:13,187 - DEBUG - app.firebase_stream - Firebase listener triggered (404). Event Type: patch, Path: /. Timestamp: 1752655873.1876082
2025-07-16 01:51:13,188 - DEBUG - app.firebase_stream - Prepared batch update for 24 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0340000000', 'o': '13.0314000000'}, 'XAGUSD': {'b': '37.9960000000', 'o': '37.9900000000'}, 'USDJPY': {'b': '148.8160000000', 'o': '148.8120000000'}, 'EURNZD': {'b': '1.9562200000
2025-07-16 01:51:13,189 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0340000000', 'o': '13.0314000000'}, 'XAGUSD': {'b': '37.9960000000', 'o': '37.9900000000'}, 'USDJPY': {'b': '148.8160000000', 'o': '148.8120000000'}, 'EURNZD': {'b': '1.9562200000...
2025-07-16 01:51:13,191 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:51:13,217 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:51:13,224 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:51:14,238 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:51:14,241 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:51:15,250 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:51:15,252 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:51:15,450 - DEBUG - app.firebase_stream - Firebase listener triggered (405). Event Type: patch, Path: /. Timestamp: 1752655875.4506757
2025-07-16 01:51:15,451 - DEBUG - app.firebase_stream - Prepared batch update for 34 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0336000000', 'o': '13.0310000000'}, 'XAGUSD': {'b': '37.9940000000', 'o': '37.9910000000'}, 'NZDJPY': {'b': '88.4280000000', 'o': '88.4200000000'}, 'GBPAUD': {'b': '2.0542500000',
2025-07-16 01:51:15,451 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0336000000', 'o': '13.0310000000'}, 'XAGUSD': {'b': '37.9940000000', 'o': '37.9910000000'}, 'NZDJPY': {'b': '88.4280000000', 'o': '88.4200000000'}, 'GBPAUD': {'b': '2.0542500000',...
2025-07-16 01:51:15,451 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:51:16,260 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:51:16,264 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:51:17,275 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:51:17,279 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:51:17,701 - DEBUG - app.firebase_stream - Firebase listener triggered (406). Event Type: patch, Path: /. Timestamp: 1752655877.7012317
2025-07-16 01:51:17,701 - DEBUG - app.firebase_stream - Prepared batch update for 36 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0338600000', 'o': '13.0313000000'}, 'XAGUSD': {'b': '37.9980000000', 'o': '37.9910000000'}, 'NZDJPY': {'b': '88.4210000000', 'o': '88.4140000000'}, 'GBPAUD': {'b': '2.0542500000',
2025-07-16 01:51:17,702 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0338600000', 'o': '13.0313000000'}, 'XAGUSD': {'b': '37.9980000000', 'o': '37.9910000000'}, 'NZDJPY': {'b': '88.4210000000', 'o': '88.4140000000'}, 'GBPAUD': {'b': '2.0542500000',...
2025-07-16 01:51:17,704 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:51:18,294 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:51:18,297 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:51:19,300 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:51:19,304 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:51:20,059 - DEBUG - app.firebase_stream - Firebase listener triggered (407). Event Type: patch, Path: /. Timestamp: 1752655880.0592155
2025-07-16 01:51:20,060 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0337000000', 'o': '13.0311000000'}, 'XAGUSD': {'b': '37.9910000000', 'o': '37.9860000000'}, 'NZDJPY': {'b': '88.4230000000', 'o': '88.4160000000'}, 'GBPAUD': {'b': '2.0542300000',
2025-07-16 01:51:20,060 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0337000000', 'o': '13.0311000000'}, 'XAGUSD': {'b': '37.9910000000', 'o': '37.9860000000'}, 'NZDJPY': {'b': '88.4230000000', 'o': '88.4160000000'}, 'GBPAUD': {'b': '2.0542300000',...
2025-07-16 01:51:20,061 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:51:20,306 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:51:20,309 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:51:21,324 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:51:21,329 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:51:22,311 - DEBUG - app.firebase_stream - Firebase listener triggered (408). Event Type: patch, Path: /. Timestamp: 1752655882.3113058
2025-07-16 01:51:22,311 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9870000000', 'o': '37.9790000000'}, 'NZDJPY': {'b': '88.4210000000', 'o': '88.4130000000'}, 'GBPAUD': {'b': '2.0542500000', 'o': '2.0540900000'}, 'BTCUSD': {'b': '118709.800000000
2025-07-16 01:51:22,312 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'XAGUSD': {'b': '37.9870000000', 'o': '37.9790000000'}, 'NZDJPY': {'b': '88.4210000000', 'o': '88.4130000000'}, 'GBPAUD': {'b': '2.0542500000', 'o': '2.0540900000'}, 'BTCUSD': {'b': '118709.800000000...
2025-07-16 01:51:22,312 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:51:22,336 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:51:22,347 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:51:23,354 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:51:23,357 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:51:24,364 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:51:24,367 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:51:24,583 - DEBUG - app.firebase_stream - Firebase listener triggered (409). Event Type: patch, Path: /. Timestamp: 1752655884.5829737
2025-07-16 01:51:24,583 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0338600000', 'o': '13.0313000000'}, 'XAGUSD': {'b': '37.9860000000', 'o': '37.9810000000'}, 'NZDJPY': {'b': '88.4210000000', 'o': '88.4150000000'}, 'USDJPY': {'b': '148.8150000000
2025-07-16 01:51:24,584 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0338600000', 'o': '13.0313000000'}, 'XAGUSD': {'b': '37.9860000000', 'o': '37.9810000000'}, 'NZDJPY': {'b': '88.4210000000', 'o': '88.4150000000'}, 'USDJPY': {'b': '148.8150000000...
2025-07-16 01:51:24,584 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:51:25,372 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:51:25,376 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:51:26,383 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:51:26,385 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:51:26,908 - DEBUG - app.firebase_stream - Firebase listener triggered (410). Event Type: patch, Path: /. Timestamp: 1752655886.9088814
2025-07-16 01:51:26,909 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0339000000', 'o': '13.0313000000'}, 'NZDJPY': {'b': '88.4230000000', 'o': '88.4140000000'}, 'GBPAUD': {'b': '2.0542500000', 'o': '2.0541000000'}, 'USDJPY': {'b': '148.8170000000',
2025-07-16 01:51:26,910 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0339000000', 'o': '13.0313000000'}, 'NZDJPY': {'b': '88.4230000000', 'o': '88.4140000000'}, 'GBPAUD': {'b': '2.0542500000', 'o': '2.0541000000'}, 'USDJPY': {'b': '148.8170000000',...
2025-07-16 01:51:26,910 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:51:27,399 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:51:27,402 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:51:28,418 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:51:28,421 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:51:29,158 - DEBUG - app.firebase_stream - Firebase listener triggered (411). Event Type: patch, Path: /. Timestamp: 1752655889.1580913
2025-07-16 01:51:29,158 - DEBUG - app.firebase_stream - Prepared batch update for 27 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9880000000', 'o': '37.9810000000'}, 'NZDJPY': {'b': '88.4230000000', 'o': '88.4160000000'}, 'GBPAUD': {'b': '2.0542500000', 'o': '2.0540900000'}, 'USDCNH': {'b': '7.1809600000', '
2025-07-16 01:51:29,159 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'XAGUSD': {'b': '37.9880000000', 'o': '37.9810000000'}, 'NZDJPY': {'b': '88.4230000000', 'o': '88.4160000000'}, 'GBPAUD': {'b': '2.0542500000', 'o': '2.0540900000'}, 'USDCNH': {'b': '7.1809600000', '...
2025-07-16 01:51:29,159 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:51:29,429 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:51:29,432 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:51:30,435 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:51:30,438 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:51:31,447 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:51:31,451 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:51:31,520 - DEBUG - app.firebase_stream - Firebase listener triggered (412). Event Type: patch, Path: /. Timestamp: 1752655891.520743
2025-07-16 01:51:31,521 - DEBUG - app.firebase_stream - Prepared batch update for 27 symbols from root path for queue. Preview: {'USDJPY': {'b': '148.8180000000', 'o': '148.8150000000'}, 'EURZAR': {'b': '20.8334000000', 'o': '20.8277300000'}, 'AUDJPY': {'b': '97.0410000000', 'o': '97.0360000000'}, 'EURSEK': {'b': '11.309090000
2025-07-16 01:51:31,522 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'USDJPY': {'b': '148.8180000000', 'o': '148.8150000000'}, 'EURZAR': {'b': '20.8334000000', 'o': '20.8277300000'}, 'AUDJPY': {'b': '97.0410000000', 'o': '97.0360000000'}, 'EURSEK': {'b': '11.309090000...
2025-07-16 01:51:31,528 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:51:32,464 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:51:32,467 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:51:33,479 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:51:33,482 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:51:33,781 - DEBUG - app.firebase_stream - Firebase listener triggered (413). Event Type: patch, Path: /. Timestamp: 1752655893.7815595
2025-07-16 01:51:33,782 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0331000000', 'o': '13.0305000000'}, 'NZDJPY': {'b': '88.4230000000', 'o': '88.4150000000'}, 'GBPAUD': {'b': '2.0542500000', 'o': '2.0540800000'}, 'BTCUSD': {'b': '118717.600000000
2025-07-16 01:51:33,782 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0331000000', 'o': '13.0305000000'}, 'NZDJPY': {'b': '88.4230000000', 'o': '88.4150000000'}, 'GBPAUD': {'b': '2.0542500000', 'o': '2.0540800000'}, 'BTCUSD': {'b': '118717.600000000...
2025-07-16 01:51:33,785 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:51:34,499 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:51:34,502 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:51:34,539 - WARNING - app - User 4 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:51:34,545 - WARNING - app - No user data found for user 5 (live). Skipping portfolio update.
2025-07-16 01:51:34,551 - WARNING - app - No group settings found for group string. Skipping portfolio update for user 8.
2025-07-16 01:51:34,577 - WARNING - app - User 9 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:51:34,598 - WARNING - app - User 10 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:51:34,626 - WARNING - app - User 11 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:51:34,650 - WARNING - app - User 12 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:51:34,673 - WARNING - app - User 13 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:51:35,077 - DEBUG - app.services.portfolio_calculator - Position calculation for BTCUSD: Type=BUY, Entry=118908.50000000, Current=118667.5, Quantity=0.40000000, Contract Size=1.00000000, PnL=-96.400000000000000000000000, PnL USD=-96.400000000000000000000000, Commission=235.57000000, Final PnL=-331.970000000000000000000000
2025-07-16 01:51:35,091 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=97.09700000, Current=97.017, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-800.000000000000000000000000, PnL USD=-5.375729923328651968525101299, Commission=1.00000000, Final PnL=-6.375729923328651968525101299
2025-07-16 01:51:35,115 - WARNING - app - User 16 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:51:35,140 - WARNING - app - User 17 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:51:35,171 - WARNING - app - User 18 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:51:35,193 - WARNING - app - User 19 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:51:35,216 - WARNING - app - User 20 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:51:35,240 - WARNING - app - User 21 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:51:35,263 - WARNING - app - User 22 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:51:35,286 - WARNING - app - User 23 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:51:35,309 - WARNING - app - User 25 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:51:35,693 - DEBUG - app.services.portfolio_calculator - Position calculation for XAGUSD: Type=BUY, Entry=41.09800000, Current=37.9685, Quantity=0.01000000, Contract Size=5000.00000000, PnL=-156.475000000000000000000000, PnL USD=-156.475000000000000000000000, Commission=0.10000000, Final PnL=-156.575000000000000000000000
2025-07-16 01:51:35,693 - DEBUG - app.services.portfolio_calculator - Position calculation for BTCUSD: Type=BUY, Entry=132091.90000000, Current=118667.5, Quantity=6.00000000, Contract Size=1.00000000, PnL=-80546.40000000000000000000000, PnL USD=-80546.40000000000000000000000, Commission=3661.62000000, Final PnL=-84208.02000000000000000000000
2025-07-16 01:51:35,693 - WARNING - app.services.portfolio_calculator - MARGIN CALL ALERT: User has margin level 68.25379850846987397367106561% which is below threshold 100.0%
2025-07-16 01:51:35,694 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:51:35,698 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:51:36,096 - DEBUG - app.firebase_stream - Firebase listener triggered (414). Event Type: patch, Path: /. Timestamp: 1752655896.0964785
2025-07-16 01:51:36,096 - DEBUG - app.firebase_stream - Prepared batch update for 20 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0338000000', 'o': '13.0312000000'}, 'XAGUSD': {'b': '37.9910000000', 'o': '37.9840000000'}, 'USDJPY': {'b': '148.8180000000', 'o': '148.8150000000'}, 'USDCNH': {'b': '7.1809500000
2025-07-16 01:51:36,097 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0338000000', 'o': '13.0312000000'}, 'XAGUSD': {'b': '37.9910000000', 'o': '37.9840000000'}, 'USDJPY': {'b': '148.8180000000', 'o': '148.8150000000'}, 'USDCNH': {'b': '7.1809500000...
2025-07-16 01:51:36,098 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:51:36,099 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=96.66800000, Current=96.982, Quantity=0.01000000, Contract Size=100000.00000000, PnL=314.000000000000000000000000, PnL USD=2.109959816688841403593651306, Commission=0.10000000, Final PnL=2.009959816688841403593651306
2025-07-16 01:51:36,100 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=96.56000000, Current=97.088, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-528.000000000000000000000000, PnL USD=-3.547957908317542232794420030, Commission=0.10000000, Final PnL=-3.647957908317542232794420030
2025-07-16 01:51:36,123 - WARNING - app - User 2 has no group_name set. Skipping portfolio update.
2025-07-16 01:51:36,150 - WARNING - app - No group settings found for group string. Skipping portfolio update for user 3.
2025-07-16 01:51:36,177 - WARNING - app - User 4 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:51:36,178 - WARNING - app - User 5 has no group_name set. Skipping portfolio update.
2025-07-16 01:51:36,180 - WARNING - app - User 6 has no group_name set. Skipping portfolio update.
2025-07-16 01:51:36,574 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64743000, Current=0.65193, Quantity=0.10000000, Contract Size=100000.00000000, PnL=45.000000000000000000000000, PnL USD=45.000000000000000000000000, Commission=1.00000000, Final PnL=44.000000000000000000000000
2025-07-16 01:51:36,575 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=SELL, Entry=0.64707000, Current=0.65223, Quantity=0.22000000, Contract Size=100000.00000000, PnL=-113.520000000000000000000000, PnL USD=-113.520000000000000000000000, Commission=2.20000000, Final PnL=-115.720000000000000000000000
2025-07-16 01:51:36,576 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFSGD: Type=BUY, Entry=1.57561500, Current=1.6031950000000001, Quantity=0.10000000, Contract Size=100000.00000000, PnL=275.8000000000010000000000000, PnL USD=214.6654317047930011908560932, Commission=1.00000000, Final PnL=213.6654317047930011908560932
2025-07-16 01:51:36,578 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFSGD: Type=SELL, Entry=1.57505500, Current=1.603645, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-285.900000000000000000000000, PnL USD=-222.5266385946341425446960204, Commission=1.00000000, Final PnL=-223.5266385946341425446960204
2025-07-16 01:51:36,580 - DEBUG - app.services.portfolio_calculator - Position calculation for CADJPY: Type=SELL, Entry=106.24150000, Current=108.4725, Quantity=0.15000000, Contract Size=100000.00000000, PnL=-33465.00000000000000000000000, PnL USD=-224.8719912913760432205781559, Commission=0E-8, Final PnL=-224.8719912913760432205781559
2025-07-16 01:51:36,581 - DEBUG - app.services.portfolio_calculator - Position calculation for CADJPY: Type=BUY, Entry=106.27050000, Current=108.44149999999999, Quantity=0.15000000, Contract Size=100000.00000000, PnL=32564.99999999985000000000000, PnL USD=218.8243357658337701084546224, Commission=0E-8, Final PnL=218.8243357658337701084546224
2025-07-16 01:51:36,581 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=BUY, Entry=1.77481000, Current=1.78219, Quantity=0.22000000, Contract Size=100000.00000000, PnL=162.360000000000000000000000, PnL USD=105.8717088000000000000000000, Commission=2.20000000, Final PnL=103.6717088000000000000000000
2025-07-16 01:51:36,581 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=SELL, Entry=1.77439000, Current=1.7825600000000001, Quantity=0.21000000, Contract Size=100000.00000000, PnL=-171.5700000000021000000000000, PnL USD=-111.8773656000013693680000000, Commission=2.10000000, Final PnL=-113.9773656000013693680000000
2025-07-16 01:51:36,583 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFJPY: Type=BUY, Entry=178.15500000, Current=185.705, Quantity=0.10000000, Contract Size=100000.00000000, PnL=75500.00000000000000000000000, PnL USD=507.3311024204061336666263490, Commission=1.00000000, Final PnL=506.3311024204061336666263490
2025-07-16 01:51:36,584 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFJPY: Type=SELL, Entry=178.09500000, Current=185.755, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-76600.00000000000000000000000, PnL USD=-514.7226813960676799849480574, Commission=1.00000000, Final PnL=-515.7226813960676799849480574
2025-07-16 01:51:36,584 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=BUY, Entry=1.77480000, Current=1.78219, Quantity=0.05000000, Contract Size=100000.00000000, PnL=36.950000000000000000000000, PnL USD=24.09435600000000000000000000, Commission=0.50000000, Final PnL=23.59435600000000000000000000
2025-07-16 01:51:36,584 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=SELL, Entry=1.77442000, Current=1.7825600000000001, Quantity=0.05000000, Contract Size=100000.00000000, PnL=-40.70000000000050000000000000, PnL USD=-26.53965600000032604000000000, Commission=0.50000000, Final PnL=-27.03965600000032604000000000
2025-07-16 01:51:36,585 - DEBUG - app.services.portfolio_calculator - Position calculation for EURGBP: Type=SELL, Entry=0.85403000, Current=0.86786, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-138.300000000000000000000000, PnL USD=-185.2487010000000000000000000, Commission=1.00000000, Final PnL=-186.2487010000000000000000000
2025-07-16 01:51:36,585 - DEBUG - app.services.portfolio_calculator - Position calculation for EURJPY: Type=BUY, Entry=167.26050000, Current=172.94750000000002, Quantity=0.10000000, Contract Size=100000.00000000, PnL=56870.00000000020000000000000, PnL USD=382.1446330417032885806824443, Commission=1.00000000, Final PnL=381.1446330417032885806824443
2025-07-16 01:51:36,586 - DEBUG - app.services.portfolio_calculator - Position calculation for EURJPY: Type=SELL, Entry=167.23150000, Current=172.9775, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-57460.00000000000000000000000, PnL USD=-386.1092072195567740461503313, Commission=1.00000000, Final PnL=-387.1092072195567740461503313
2025-07-16 01:51:36,586 - DEBUG - app.services.portfolio_calculator - Position calculation for EURNZD: Type=SELL, Entry=1.91952500, Current=1.956375, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-368.500000000000000000000000, PnL USD=-218.9516450000000000000000000, Commission=1.00000000, Final PnL=-219.9516450000000000000000000
2025-07-16 01:51:36,587 - DEBUG - app.services.portfolio_calculator - Position calculation for EURNZD: Type=BUY, Entry=1.92063500, Current=1.955945, Quantity=0.10000000, Contract Size=100000.00000000, PnL=353.100000000000000000000000, PnL USD=209.8014270000000000000000000, Commission=1.00000000, Final PnL=208.8014270000000000000000000
2025-07-16 01:51:36,587 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=SELL, Entry=1.34376000, Current=1.33959, Quantity=0.25000000, Contract Size=0E-8, PnL=0E-24, PnL USD=0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 01:51:36,587 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=SELL, Entry=1.34361000, Current=1.33959, Quantity=0.25000000, Contract Size=0E-8, PnL=0E-24, PnL USD=0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 01:51:36,587 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=BUY, Entry=1.34379000, Current=1.33938, Quantity=0.25000000, Contract Size=0E-8, PnL=-0E-24, PnL USD=-0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 01:51:36,587 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=BUY, Entry=1.34378000, Current=1.33938, Quantity=0.25000000, Contract Size=0E-8, PnL=-0E-24, PnL USD=-0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 01:51:36,588 - DEBUG - app.services.portfolio_calculator - Position calculation for NZDJPY: Type=BUY, Entry=87.10150000, Current=88.4025, Quantity=0.01000000, Contract Size=100000.00000000, PnL=1301.000000000000000000000000, PnL USD=8.742222043032428872851402384, Commission=0.10000000, Final PnL=8.642222043032428872851402384
2025-07-16 01:51:36,589 - DEBUG - app.services.portfolio_calculator - Position calculation for USDCHF: Type=SELL, Entry=0.81771000, Current=0.80145, Quantity=0.15000000, Contract Size=100000.00000000, PnL=243.900000000000000000000000, PnL USD=304.3803818794459004118307750, Commission=1.50000000, Final PnL=302.8803818794459004118307750
2025-07-16 01:51:36,590 - DEBUG - app.services.portfolio_calculator - Position calculation for USDCHF: Type=BUY, Entry=0.81805000, Current=0.80112, Quantity=0.15000000, Contract Size=100000.00000000, PnL=-253.950000000000000000000000, PnL USD=-316.9225009359790340696368401, Commission=1.50000000, Final PnL=-318.4225009359790340696368401
2025-07-16 01:51:36,590 - DEBUG - app.services.portfolio_calculator - Position calculation for USDNOK: Type=BUY, Entry=10.04973000, Current=10.275360000000001, Quantity=0.10000000, Contract Size=100000.00000000, PnL=2256.300000000010000000000000, PnL USD=219.5491472681159913865662739, Commission=1.00000000, Final PnL=218.5491472681159913865662739
2025-07-16 01:51:36,591 - DEBUG - app.services.portfolio_calculator - Position calculation for USDNOK: Type=BUY, Entry=10.05023000, Current=10.275360000000001, Quantity=0.10000000, Contract Size=100000.00000000, PnL=2251.300000000010000000000000, PnL USD=219.0626225434160068580525194, Commission=1.00000000, Final PnL=218.0626225434160068580525194
2025-07-16 01:51:36,592 - DEBUG - app.services.portfolio_calculator - Position calculation for USDSGD: Type=SELL, Entry=1.28795000, Current=1.2849400000000002, Quantity=0.31000000, Contract Size=100000.00000000, PnL=93.30999999999380000000000000, PnL USD=72.62665493971294919792339604, Commission=3.10000000, Final PnL=69.52665493971294919792339604
2025-07-16 01:51:36,593 - DEBUG - app.services.portfolio_calculator - Position calculation for USDTRY: Type=SELL, Entry=39.56087000, Current=40.25899, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-6981.200000000000000000000000, PnL USD=-173.4078776238957704692932037, Commission=1.00000000, Final PnL=-174.4078776238957704692932037
2025-07-16 01:51:36,990 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:51:36,995 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:51:37,433 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.89752000, Current=0.89471, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-2.810000000000000000000000, PnL USD=-2.047821365845837675540559252, Commission=0.10000000, Final PnL=-2.147821365845837675540559252
2025-07-16 01:51:37,463 - WARNING - app - User 12 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:51:37,494 - WARNING - app - User 13 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:51:38,005 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:51:38,009 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:51:38,374 - DEBUG - app.firebase_stream - Firebase listener triggered (415). Event Type: patch, Path: /. Timestamp: 1752655898.3743434
2025-07-16 01:51:38,374 - DEBUG - app.firebase_stream - Prepared batch update for 24 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0330000000', 'o': '13.0304000000'}, 'NZDJPY': {'b': '88.4230000000', 'o': '88.4160000000'}, 'GBPAUD': {'b': '2.0542300000', 'o': '2.0540800000'}, 'CADCHF': {'b': '0.5840100000', '
2025-07-16 01:51:38,376 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0330000000', 'o': '13.0304000000'}, 'NZDJPY': {'b': '88.4230000000', 'o': '88.4160000000'}, 'GBPAUD': {'b': '2.0542300000', 'o': '2.0540800000'}, 'CADCHF': {'b': '0.5840100000', '...
2025-07-16 01:51:38,376 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:51:39,023 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:51:39,028 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:51:40,037 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:51:40,040 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:51:40,757 - DEBUG - app.firebase_stream - Firebase listener triggered (416). Event Type: patch, Path: /. Timestamp: 1752655900.757136
2025-07-16 01:51:40,758 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4230000000', 'o': '88.4150000000'}, 'GBPAUD': {'b': '2.0542000000', 'o': '2.0540500000'}, 'USDCNH': {'b': '7.1809600000', 'o': '7.1809600000'}, 'EURNZD': {'b': '1.9562200000', 'o'
2025-07-16 01:51:40,763 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4230000000', 'o': '88.4150000000'}, 'GBPAUD': {'b': '2.0542000000', 'o': '2.0540500000'}, 'USDCNH': {'b': '7.1809600000', 'o': '7.1809600000'}, 'EURNZD': {'b': '1.9562200000', 'o'...
2025-07-16 01:51:40,770 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:51:41,045 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:51:41,049 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:51:42,059 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:51:42,062 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:51:42,994 - DEBUG - app.firebase_stream - Firebase listener triggered (417). Event Type: patch, Path: /. Timestamp: 1752655902.994402
2025-07-16 01:51:42,994 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0329000000', 'o': '13.0303000000'}, 'XAGUSD': {'b': '37.9960000000', 'o': '37.9900000000'}, 'NZDJPY': {'b': '88.4230000000', 'o': '88.4170000000'}, 'GBPAUD': {'b': '2.0541900000',
2025-07-16 01:51:42,995 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0329000000', 'o': '13.0303000000'}, 'XAGUSD': {'b': '37.9960000000', 'o': '37.9900000000'}, 'NZDJPY': {'b': '88.4230000000', 'o': '88.4170000000'}, 'GBPAUD': {'b': '2.0541900000',...
2025-07-16 01:51:42,999 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:51:43,067 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:51:43,076 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:51:44,095 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:51:44,099 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:51:45,108 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:51:45,112 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:51:45,340 - DEBUG - app.firebase_stream - Firebase listener triggered (418). Event Type: patch, Path: /. Timestamp: 1752655905.3402307
2025-07-16 01:51:45,340 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0336000000', 'o': '13.0310000000'}, 'NZDJPY': {'b': '88.4230000000', 'o': '88.4150000000'}, 'GBPAUD': {'b': '2.0542000000', 'o': '2.0540300000'}, 'EURNZD': {'b': '1.9562300000', '
2025-07-16 01:51:45,341 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0336000000', 'o': '13.0310000000'}, 'NZDJPY': {'b': '88.4230000000', 'o': '88.4150000000'}, 'GBPAUD': {'b': '2.0542000000', 'o': '2.0540300000'}, 'EURNZD': {'b': '1.9562300000', '...
2025-07-16 01:51:45,342 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:51:46,116 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:51:46,118 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:51:47,125 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:51:47,128 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:51:47,592 - DEBUG - app.firebase_stream - Firebase listener triggered (419). Event Type: patch, Path: /. Timestamp: 1752655907.592509
2025-07-16 01:51:47,592 - DEBUG - app.firebase_stream - Prepared batch update for 24 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0330000000', 'o': '13.0306000000'}, 'XAGUSD': {'b': '37.9910000000', 'o': '37.9860000000'}, 'GBPAUD': {'b': '2.0542000000', 'o': '2.0540400000'}, 'USDJPY': {'b': '148.8180000000',
2025-07-16 01:51:47,594 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0330000000', 'o': '13.0306000000'}, 'XAGUSD': {'b': '37.9910000000', 'o': '37.9860000000'}, 'GBPAUD': {'b': '2.0542000000', 'o': '2.0540400000'}, 'USDJPY': {'b': '148.8180000000',...
2025-07-16 01:51:47,596 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:51:48,136 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:51:48,140 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:51:49,157 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:51:49,162 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:51:49,849 - DEBUG - app.firebase_stream - Firebase listener triggered (420). Event Type: patch, Path: /. Timestamp: 1752655909.849233
2025-07-16 01:51:49,849 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9930000000', 'o': '37.9860000000'}, 'NZDJPY': {'b': '88.4260000000', 'o': '88.4180000000'}, 'GBPAUD': {'b': '2.0541300000', 'o': '2.0539900000'}, 'USDJPY': {'b': '148.8130000000',
2025-07-16 01:51:49,849 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9930000000', 'o': '37.9860000000'}, 'NZDJPY': {'b': '88.4260000000', 'o': '88.4180000000'}, 'GBPAUD': {'b': '2.0541300000', 'o': '2.0539900000'}, 'USDJPY': {'b': '148.8130000000',...
2025-07-16 01:51:49,851 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:51:50,171 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:51:50,174 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:51:51,178 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:51:51,181 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:51:52,217 - DEBUG - app.firebase_stream - Firebase listener triggered (421). Event Type: patch, Path: /. Timestamp: 1752655912.2178774
2025-07-16 01:51:52,218 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:51:52,218 - DEBUG - app.firebase_stream - Prepared batch update for 35 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0330000000', 'o': '13.0304000000'}, 'XAGUSD': {'b': '37.9920000000', 'o': '37.9860000000'}, 'NZDJPY': {'b': '88.4290000000', 'o': '88.4200000000'}, 'GBPAUD': {'b': '2.0541000000',
2025-07-16 01:51:52,220 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0330000000', 'o': '13.0304000000'}, 'XAGUSD': {'b': '37.9920000000', 'o': '37.9860000000'}, 'NZDJPY': {'b': '88.4290000000', 'o': '88.4200000000'}, 'GBPAUD': {'b': '2.0541000000',...
2025-07-16 01:51:52,220 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:51:52,226 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:51:53,255 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:51:53,259 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:51:54,276 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:51:54,281 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:51:54,460 - DEBUG - app.firebase_stream - Firebase listener triggered (422). Event Type: patch, Path: /. Timestamp: 1752655914.4600892
2025-07-16 01:51:54,461 - DEBUG - app.firebase_stream - Prepared batch update for 22 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9930000000', 'o': '37.9860000000'}, 'NZDJPY': {'b': '88.4280000000', 'o': '88.4190000000'}, 'GBPAUD': {'b': '2.0540900000', 'o': '2.0539400000'}, 'CADCHF': {'b': '0.5840100000', '
2025-07-16 01:51:54,461 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'XAGUSD': {'b': '37.9930000000', 'o': '37.9860000000'}, 'NZDJPY': {'b': '88.4280000000', 'o': '88.4190000000'}, 'GBPAUD': {'b': '2.0540900000', 'o': '2.0539400000'}, 'CADCHF': {'b': '0.5840100000', '...
2025-07-16 01:51:54,463 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:51:54,965 - DEBUG - app.services.portfolio_calculator - Position calculation for BTCUSD: Type=BUY, Entry=118908.50000000, Current=118667.5, Quantity=0.40000000, Contract Size=1.00000000, PnL=-96.400000000000000000000000, PnL USD=-96.400000000000000000000000, Commission=235.57000000, Final PnL=-331.970000000000000000000000
2025-07-16 01:51:54,967 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=97.09700000, Current=97.029, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-680.000000000000000000000000, PnL USD=-4.569370434829354173246336104, Commission=1.00000000, Final PnL=-5.569370434829354173246336104
2025-07-16 01:51:55,024 - INFO - app.core.firebase - [FIREBASE] Payload being pushed to Firebase (all stringified): {'order_id': '1000333-001', 'user_id': '14', 'order_company_name': 'AUDJPY', 'order_type': 'BUY', 'order_quantity': '0.01', 'price': '97.059', 'status': 'OPEN', 'contract_value': '1000.0', 'account_type': 'live', 'timestamp': '2025-07-16T08:51:55.024961'}
2025-07-16 01:51:55,357 - INFO - app.core.firebase - Order data (ID: 1000333-001) sent to Firebase successfully.
2025-07-16 01:51:55,359 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:51:55,368 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:51:56,377 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:51:56,381 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:51:56,719 - DEBUG - app.firebase_stream - Firebase listener triggered (423). Event Type: patch, Path: /. Timestamp: 1752655916.719862
2025-07-16 01:51:56,720 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4280000000', 'o': '88.4210000000'}, 'GBPAUD': {'b': '2.0540900000', 'o': '2.0539300000'}, 'USDJPY': {'b': '148.8180000000', 'o': '148.8160000000'}, 'USDCNH': {'b': '7.1809600000',
2025-07-16 01:51:56,720 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'NZDJPY': {'b': '88.4280000000', 'o': '88.4210000000'}, 'GBPAUD': {'b': '2.0540900000', 'o': '2.0539300000'}, 'USDJPY': {'b': '148.8180000000', 'o': '148.8160000000'}, 'USDCNH': {'b': '7.1809600000',...
2025-07-16 01:51:56,721 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:51:57,392 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:51:57,395 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:51:58,404 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:51:58,408 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:51:59,026 - DEBUG - app.firebase_stream - Firebase listener triggered (424). Event Type: patch, Path: /. Timestamp: 1752655919.0262773
2025-07-16 01:51:59,026 - DEBUG - app.firebase_stream - Prepared batch update for 27 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4320000000', 'o': '88.4230000000'}, 'GBPAUD': {'b': '2.0540700000', 'o': '2.0539200000'}, 'USDJPY': {'b': '148.8180000000', 'o': '148.8140000000'}, 'USDCNH': {'b': '7.1809800000',
2025-07-16 01:51:59,027 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4320000000', 'o': '88.4230000000'}, 'GBPAUD': {'b': '2.0540700000', 'o': '2.0539200000'}, 'USDJPY': {'b': '148.8180000000', 'o': '148.8140000000'}, 'USDCNH': {'b': '7.1809800000',...
2025-07-16 01:51:59,029 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:51:59,425 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:51:59,429 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:52:00,434 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:52:00,439 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:52:01,279 - DEBUG - app.firebase_stream - Firebase listener triggered (425). Event Type: patch, Path: /. Timestamp: 1752655921.279349
2025-07-16 01:52:01,279 - DEBUG - app.firebase_stream - Prepared batch update for 26 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0326000000', 'o': '13.0300800000'}, 'XAGUSD': {'b': '37.9930000000', 'o': '37.9870000000'}, 'GBPAUD': {'b': '2.0542500000', 'o': '2.0540900000'}, 'USDJPY': {'b': '148.8230000000',
2025-07-16 01:52:01,280 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0326000000', 'o': '13.0300800000'}, 'XAGUSD': {'b': '37.9930000000', 'o': '37.9870000000'}, 'GBPAUD': {'b': '2.0542500000', 'o': '2.0540900000'}, 'USDJPY': {'b': '148.8230000000',...
2025-07-16 01:52:01,281 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:52:01,443 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:52:01,448 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:52:02,462 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:52:02,465 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:52:03,480 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:52:03,484 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:52:03,677 - DEBUG - app.firebase_stream - Firebase listener triggered (426). Event Type: patch, Path: /. Timestamp: 1752655923.6774292
2025-07-16 01:52:03,678 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0331000000', 'o': '13.0309300000'}, 'XAGUSD': {'b': '37.9930000000', 'o': '37.9860000000'}, 'NZDJPY': {'b': '88.4360000000', 'o': '88.4270000000'}, 'USDJPY': {'b': '148.8260000000
2025-07-16 01:52:03,679 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0331000000', 'o': '13.0309300000'}, 'XAGUSD': {'b': '37.9930000000', 'o': '37.9860000000'}, 'NZDJPY': {'b': '88.4360000000', 'o': '88.4270000000'}, 'USDJPY': {'b': '148.8260000000...
2025-07-16 01:52:03,682 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:52:04,499 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:52:04,502 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:52:05,519 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:52:05,524 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:52:05,889 - DEBUG - app.firebase_stream - Firebase listener triggered (427). Event Type: patch, Path: /. Timestamp: 1752655925.8898075
2025-07-16 01:52:05,890 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0333000000', 'o': '13.0308500000'}, 'GBPAUD': {'b': '2.0540700000', 'o': '2.0539000000'}, 'BTCUSD': {'b': '118710.1000000000', 'o': '118710.0000000000'}, 'EURNZD': {'b': '1.956040
2025-07-16 01:52:05,890 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0333000000', 'o': '13.0308500000'}, 'GBPAUD': {'b': '2.0540700000', 'o': '2.0539000000'}, 'BTCUSD': {'b': '118710.1000000000', 'o': '118710.0000000000'}, 'EURNZD': {'b': '1.956040...
2025-07-16 01:52:05,891 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:52:06,539 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:52:06,542 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:52:07,556 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:52:07,558 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:52:08,270 - DEBUG - app.firebase_stream - Firebase listener triggered (428). Event Type: patch, Path: /. Timestamp: 1752655928.2703102
2025-07-16 01:52:08,270 - DEBUG - app.firebase_stream - Prepared batch update for 25 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0334000000', 'o': '13.0308500000'}, 'XAGUSD': {'b': '37.9910000000', 'o': '37.9840000000'}, 'NZDJPY': {'b': '88.4230000000', 'o': '88.4170000000'}, 'GBPAUD': {'b': '2.0540400000',
2025-07-16 01:52:08,271 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0334000000', 'o': '13.0308500000'}, 'XAGUSD': {'b': '37.9910000000', 'o': '37.9840000000'}, 'NZDJPY': {'b': '88.4230000000', 'o': '88.4170000000'}, 'GBPAUD': {'b': '2.0540400000',...
2025-07-16 01:52:08,271 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:52:08,564 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:52:08,567 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:52:09,578 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:52:09,583 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:52:10,547 - DEBUG - app.firebase_stream - Firebase listener triggered (429). Event Type: patch, Path: /. Timestamp: 1752655930.5472925
2025-07-16 01:52:10,548 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0336000000', 'o': '13.0310000000'}, 'XAGUSD': {'b': '37.9930000000', 'o': '37.9860000000'}, 'NZDJPY': {'b': '88.4370000000', 'o': '88.4280000000'}, 'GBPAUD': {'b': '2.0541800000',
2025-07-16 01:52:10,549 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0336000000', 'o': '13.0310000000'}, 'XAGUSD': {'b': '37.9930000000', 'o': '37.9860000000'}, 'NZDJPY': {'b': '88.4370000000', 'o': '88.4280000000'}, 'GBPAUD': {'b': '2.0541800000',...
2025-07-16 01:52:10,550 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:52:10,592 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:52:10,609 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:52:11,628 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:52:11,632 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:52:12,636 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:52:12,640 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:52:12,879 - DEBUG - app.firebase_stream - Firebase listener triggered (430). Event Type: patch, Path: /. Timestamp: 1752655932.879283
2025-07-16 01:52:12,879 - DEBUG - app.firebase_stream - Prepared batch update for 21 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9920000000', 'o': '37.9850000000'}, 'NZDJPY': {'b': '88.4360000000', 'o': '88.4280000000'}, 'GBPAUD': {'b': '2.0542000000', 'o': '2.0540900000'}, 'USDJPY': {'b': '148.8270000000',
2025-07-16 01:52:12,880 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'XAGUSD': {'b': '37.9920000000', 'o': '37.9850000000'}, 'NZDJPY': {'b': '88.4360000000', 'o': '88.4280000000'}, 'GBPAUD': {'b': '2.0542000000', 'o': '2.0540900000'}, 'USDJPY': {'b': '148.8270000000',...
2025-07-16 01:52:12,881 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:52:13,645 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:52:13,647 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:52:14,655 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:52:14,660 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:52:15,244 - DEBUG - app.firebase_stream - Firebase listener triggered (431). Event Type: patch, Path: /. Timestamp: 1752655935.2439682
2025-07-16 01:52:15,244 - DEBUG - app.firebase_stream - Prepared batch update for 27 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0333000000', 'o': '13.0307200000'}, 'XAGUSD': {'b': '37.9920000000', 'o': '37.9860000000'}, 'GBPAUD': {'b': '2.0540700000', 'o': '2.0538900000'}, 'USDJPY': {'b': '148.8270000000',
2025-07-16 01:52:15,245 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0333000000', 'o': '13.0307200000'}, 'XAGUSD': {'b': '37.9920000000', 'o': '37.9860000000'}, 'GBPAUD': {'b': '2.0540700000', 'o': '2.0538900000'}, 'USDJPY': {'b': '148.8270000000',...
2025-07-16 01:52:15,245 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:52:15,669 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:52:15,672 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:52:16,681 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:52:16,685 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:52:17,516 - DEBUG - app.firebase_stream - Firebase listener triggered (432). Event Type: patch, Path: /. Timestamp: 1752655937.5164347
2025-07-16 01:52:17,517 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9920000000', 'o': '37.9870000000'}, 'NZDJPY': {'b': '88.4340000000', 'o': '88.4250000000'}, 'GBPAUD': {'b': '2.0540500000', 'o': '2.0538700000'}, 'BTCUSD': {'b': '118697.970000000
2025-07-16 01:52:17,517 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9920000000', 'o': '37.9870000000'}, 'NZDJPY': {'b': '88.4340000000', 'o': '88.4250000000'}, 'GBPAUD': {'b': '2.0540500000', 'o': '2.0538700000'}, 'BTCUSD': {'b': '118697.970000000...
2025-07-16 01:52:17,518 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:52:17,688 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:52:17,693 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:52:18,703 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:52:18,706 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:52:19,844 - DEBUG - app.firebase_stream - Firebase listener triggered (433). Event Type: patch, Path: /. Timestamp: 1752655939.8445494
2025-07-16 01:52:19,846 - DEBUG - app.firebase_stream - Prepared batch update for 27 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0334000000', 'o': '13.0308000000'}, 'NZDJPY': {'b': '88.4340000000', 'o': '88.4260000000'}, 'GBPAUD': {'b': '2.0540100000', 'o': '2.0538500000'}, 'USDCNH': {'b': '7.1810400000', '
2025-07-16 01:52:19,846 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0334000000', 'o': '13.0308000000'}, 'NZDJPY': {'b': '88.4340000000', 'o': '88.4260000000'}, 'GBPAUD': {'b': '2.0540100000', 'o': '2.0538500000'}, 'USDCNH': {'b': '7.1810400000', '...
2025-07-16 01:52:19,847 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:52:19,847 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:52:19,865 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:52:20,896 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:52:20,899 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:52:21,916 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:52:21,920 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:52:22,074 - DEBUG - app.firebase_stream - Firebase listener triggered (434). Event Type: patch, Path: /. Timestamp: 1752655942.0748248
2025-07-16 01:52:22,075 - DEBUG - app.firebase_stream - Prepared batch update for 32 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0333000000', 'o': '13.0307600000'}, 'NZDJPY': {'b': '88.4300000000', 'o': '88.4230000000'}, 'BTCUSD': {'b': '118686.4000000000', 'o': '118686.3000000000'}, 'USDJPY': {'b': '148.81
2025-07-16 01:52:22,075 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0333000000', 'o': '13.0307600000'}, 'NZDJPY': {'b': '88.4300000000', 'o': '88.4230000000'}, 'BTCUSD': {'b': '118686.4000000000', 'o': '118686.3000000000'}, 'USDJPY': {'b': '148.81...
2025-07-16 01:52:22,076 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:52:22,924 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:52:22,928 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:52:23,934 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:52:23,938 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:52:24,456 - DEBUG - app.firebase_stream - Firebase listener triggered (435). Event Type: patch, Path: /. Timestamp: 1752655944.4566102
2025-07-16 01:52:24,457 - DEBUG - app.firebase_stream - Prepared batch update for 21 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9940000000', 'o': '37.9870000000'}, 'NZDJPY': {'b': '88.4300000000', 'o': '88.4220000000'}, 'USDJPY': {'b': '148.8160000000', 'o': '148.8110000000'}, 'USDCNH': {'b': '7.1810000000
2025-07-16 01:52:24,458 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9940000000', 'o': '37.9870000000'}, 'NZDJPY': {'b': '88.4300000000', 'o': '88.4220000000'}, 'USDJPY': {'b': '148.8160000000', 'o': '148.8110000000'}, 'USDCNH': {'b': '7.1810000000...
2025-07-16 01:52:24,460 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:52:24,947 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:52:24,950 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:52:25,960 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:52:25,963 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:52:26,721 - DEBUG - app.firebase_stream - Firebase listener triggered (436). Event Type: patch, Path: /. Timestamp: 1752655946.7218776
2025-07-16 01:52:26,722 - DEBUG - app.firebase_stream - Prepared batch update for 23 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4290000000', 'o': '88.4210000000'}, 'GBPAUD': {'b': '2.0540100000', 'o': '2.0538600000'}, 'BTCUSD': {'b': '118681.2000000000', 'o': '118681.1000000000'}, 'USDJPY': {'b': '148.8160
2025-07-16 01:52:26,723 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4290000000', 'o': '88.4210000000'}, 'GBPAUD': {'b': '2.0540100000', 'o': '2.0538600000'}, 'BTCUSD': {'b': '118681.2000000000', 'o': '118681.1000000000'}, 'USDJPY': {'b': '148.8160...
2025-07-16 01:52:26,723 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:52:26,966 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:52:26,969 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:52:27,977 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:52:27,981 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:52:28,972 - DEBUG - app.firebase_stream - Firebase listener triggered (437). Event Type: patch, Path: /. Timestamp: 1752655948.972651
2025-07-16 01:52:28,973 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0330000000', 'o': '13.0305300000'}, 'NZDJPY': {'b': '88.4300000000', 'o': '88.4230000000'}, 'GBPAUD': {'b': '2.0540200000', 'o': '2.0538800000'}, 'EURNZD': {'b': '1.9560400000', '
2025-07-16 01:52:28,974 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0330000000', 'o': '13.0305300000'}, 'NZDJPY': {'b': '88.4300000000', 'o': '88.4230000000'}, 'GBPAUD': {'b': '2.0540200000', 'o': '2.0538800000'}, 'EURNZD': {'b': '1.9560400000', '...
2025-07-16 01:52:28,976 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:52:28,994 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:52:29,009 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:52:30,025 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:52:30,027 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:52:31,035 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:52:31,038 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:52:31,322 - DEBUG - app.firebase_stream - Firebase listener triggered (438). Event Type: patch, Path: /. Timestamp: 1752655951.3224335
2025-07-16 01:52:31,323 - DEBUG - app.firebase_stream - Prepared batch update for 34 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9930000000', 'o': '37.9860000000'}, 'GBPAUD': {'b': '2.0540100000', 'o': '2.0538700000'}, 'USDJPY': {'b': '148.8170000000', 'o': '148.8130000000'}, 'CADCHF': {'b': '0.5840300000',
2025-07-16 01:52:31,323 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9930000000', 'o': '37.9860000000'}, 'GBPAUD': {'b': '2.0540100000', 'o': '2.0538700000'}, 'USDJPY': {'b': '148.8170000000', 'o': '148.8130000000'}, 'CADCHF': {'b': '0.5840300000',...
2025-07-16 01:52:31,323 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:52:32,053 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:52:32,056 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:52:33,061 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:52:33,064 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:52:33,682 - DEBUG - app.firebase_stream - Firebase listener triggered (439). Event Type: patch, Path: /. Timestamp: 1752655953.6823325
2025-07-16 01:52:33,707 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0327000000', 'o': '13.0301000000'}, 'XAGUSD': {'b': '37.9870000000', 'o': '37.9830000000'}, 'NZDJPY': {'b': '88.4280000000', 'o': '88.4190000000'}, 'GBPAUD': {'b': '2.0540300000',
2025-07-16 01:52:33,708 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0327000000', 'o': '13.0301000000'}, 'XAGUSD': {'b': '37.9870000000', 'o': '37.9830000000'}, 'NZDJPY': {'b': '88.4280000000', 'o': '88.4190000000'}, 'GBPAUD': {'b': '2.0540300000',...
2025-07-16 01:52:33,709 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:52:34,080 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:52:34,083 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:52:34,563 - WARNING - app - User 4 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:52:34,568 - WARNING - app - No user data found for user 5 (live). Skipping portfolio update.
2025-07-16 01:52:34,576 - WARNING - app - No group settings found for group string. Skipping portfolio update for user 8.
2025-07-16 01:52:34,604 - WARNING - app - User 9 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:52:34,640 - WARNING - app - User 10 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:52:34,676 - WARNING - app - User 11 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:52:34,712 - WARNING - app - User 12 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:52:34,747 - WARNING - app - User 13 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:52:35,150 - DEBUG - app.services.portfolio_calculator - Position calculation for BTCUSD: Type=BUY, Entry=118908.50000000, Current=118631.1, Quantity=0.40000000, Contract Size=1.00000000, PnL=-110.960000000000000000000000, PnL USD=-110.960000000000000000000000, Commission=235.57000000, Final PnL=-346.530000000000000000000000
2025-07-16 01:52:35,152 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:52:35,153 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=97.09700000, Current=97.029, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-680.000000000000000000000000, PnL USD=-4.569186214496415204639067886, Commission=1.00000000, Final PnL=-5.569186214496415204639067886
2025-07-16 01:52:35,155 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=97.09700000, Current=97.029, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-68.000000000000000000000000, PnL USD=-0.4569186214496415204639067886, Commission=0.10000000, Final PnL=-0.5569186214496415204639067886
2025-07-16 01:52:35,157 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:52:35,199 - WARNING - app - User 16 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:52:35,238 - WARNING - app - User 17 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:52:35,270 - WARNING - app - User 18 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:52:35,300 - WARNING - app - User 19 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:52:35,336 - WARNING - app - User 20 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:52:35,371 - WARNING - app - User 21 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:52:35,404 - WARNING - app - User 22 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:52:35,442 - WARNING - app - User 23 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:52:35,480 - WARNING - app - User 25 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:52:35,903 - DEBUG - app.services.portfolio_calculator - Position calculation for XAGUSD: Type=BUY, Entry=41.09800000, Current=37.970499999999994, Quantity=0.01000000, Contract Size=5000.00000000, PnL=-156.3750000000003000000000000, PnL USD=-156.3750000000003000000000000, Commission=0.10000000, Final PnL=-156.4750000000003000000000000
2025-07-16 01:52:35,903 - DEBUG - app.services.portfolio_calculator - Position calculation for BTCUSD: Type=BUY, Entry=132091.90000000, Current=118631.1, Quantity=6.00000000, Contract Size=1.00000000, PnL=-80764.80000000000000000000000, PnL USD=-80764.80000000000000000000000, Commission=3661.62000000, Final PnL=-84426.42000000000000000000000
2025-07-16 01:52:35,904 - WARNING - app.services.portfolio_calculator - MARGIN CALL ALERT: User has margin level 68.10477247178489276030421518% which is below threshold 100.0%
2025-07-16 01:52:35,930 - DEBUG - app.firebase_stream - Firebase listener triggered (440). Event Type: patch, Path: /. Timestamp: 1752655955.9305313
2025-07-16 01:52:35,931 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0330000000', 'o': '13.0305300000'}, 'XAGUSD': {'b': '37.9880000000', 'o': '37.9820000000'}, 'GBPAUD': {'b': '2.0540300000', 'o': '2.0539200000'}, 'USDJPY': {'b': '148.8180000000',
2025-07-16 01:52:35,932 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0330000000', 'o': '13.0305300000'}, 'XAGUSD': {'b': '37.9880000000', 'o': '37.9820000000'}, 'GBPAUD': {'b': '2.0540300000', 'o': '2.0539200000'}, 'USDJPY': {'b': '148.8180000000',...
2025-07-16 01:52:35,932 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:52:36,518 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:52:36,519 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=96.66800000, Current=96.994, Quantity=0.01000000, Contract Size=100000.00000000, PnL=326.000000000000000000000000, PnL USD=2.190595223696058272520797215, Commission=0.10000000, Final PnL=2.090595223696058272520797215
2025-07-16 01:52:36,520 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=96.56000000, Current=97.099, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-539.000000000000000000000000, PnL USD=-3.621873698074157695977637114, Commission=0.10000000, Final PnL=-3.721873698074157695977637114
2025-07-16 01:52:36,522 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:52:36,524 - WARNING - app - User 2 has no group_name set. Skipping portfolio update.
2025-07-16 01:52:36,535 - WARNING - app - No group settings found for group string. Skipping portfolio update for user 3.
2025-07-16 01:52:36,569 - WARNING - app - User 4 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:52:36,571 - WARNING - app - User 5 has no group_name set. Skipping portfolio update.
2025-07-16 01:52:36,572 - WARNING - app - User 6 has no group_name set. Skipping portfolio update.
2025-07-16 01:52:36,980 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64743000, Current=0.65197, Quantity=0.10000000, Contract Size=100000.00000000, PnL=45.400000000000000000000000, PnL USD=45.400000000000000000000000, Commission=1.00000000, Final PnL=44.400000000000000000000000
2025-07-16 01:52:36,981 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=SELL, Entry=0.64707000, Current=0.65227, Quantity=0.22000000, Contract Size=100000.00000000, PnL=-114.400000000000000000000000, PnL USD=-114.400000000000000000000000, Commission=2.20000000, Final PnL=-116.600000000000000000000000
2025-07-16 01:52:36,982 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFSGD: Type=BUY, Entry=1.57561500, Current=1.6030950000000002, Quantity=0.10000000, Contract Size=100000.00000000, PnL=274.8000000000020000000000000, PnL USD=213.8870943889678468854832307, Commission=1.00000000, Final PnL=212.8870943889678468854832307
2025-07-16 01:52:36,984 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFSGD: Type=SELL, Entry=1.57505500, Current=1.6035249999999999, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-284.6999999999990000000000000, PnL USD=-221.5926338156422450361537683, Commission=1.00000000, Final PnL=-222.5926338156422450361537683
2025-07-16 01:52:36,986 - DEBUG - app.services.portfolio_calculator - Position calculation for CADJPY: Type=SELL, Entry=106.24150000, Current=108.4705, Quantity=0.15000000, Contract Size=100000.00000000, PnL=-33435.00000000000000000000000, PnL USD=-224.6704027738580010482602911, Commission=0E-8, Final PnL=-224.6704027738580010482602911
2025-07-16 01:52:36,989 - DEBUG - app.services.portfolio_calculator - Position calculation for CADJPY: Type=BUY, Entry=106.27050000, Current=108.44149999999999, Quantity=0.15000000, Contract Size=100000.00000000, PnL=32564.99999999985000000000000, PnL USD=218.8243357658337701084546224, Commission=0E-8, Final PnL=218.8243357658337701084546224
2025-07-16 01:52:36,989 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=BUY, Entry=1.77481000, Current=1.7820999999999998, Quantity=0.22000000, Contract Size=100000.00000000, PnL=160.3799999999956000000000000, PnL USD=104.5870055999971306720000000, Commission=2.20000000, Final PnL=102.3870055999971306720000000
2025-07-16 01:52:36,989 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=SELL, Entry=1.77439000, Current=1.78251, Quantity=0.21000000, Contract Size=100000.00000000, PnL=-170.520000000000000000000000, PnL USD=-111.1995024000000000000000000, Commission=2.10000000, Final PnL=-113.2995024000000000000000000
2025-07-16 01:52:36,992 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFJPY: Type=BUY, Entry=178.15500000, Current=185.69500000000002, Quantity=0.10000000, Contract Size=100000.00000000, PnL=75400.00000000020000000000000, PnL USD=506.6591406953473370156835867, Commission=1.00000000, Final PnL=505.6591406953473370156835867
2025-07-16 01:52:36,993 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFJPY: Type=SELL, Entry=178.09500000, Current=185.73499999999999, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-76399.99999999990000000000000, PnL USD=-513.3787579459467268744372321, Commission=1.00000000, Final PnL=-514.3787579459467268744372321
2025-07-16 01:52:36,994 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=BUY, Entry=1.77480000, Current=1.7820999999999998, Quantity=0.05000000, Contract Size=100000.00000000, PnL=36.49999999999900000000000000, PnL USD=23.80237999999934788000000000, Commission=0.50000000, Final PnL=23.30237999999934788000000000
2025-07-16 01:52:36,994 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=SELL, Entry=1.77442000, Current=1.78251, Quantity=0.05000000, Contract Size=100000.00000000, PnL=-40.450000000000000000000000, PnL USD=-26.37825400000000000000000000, Commission=0.50000000, Final PnL=-26.87825400000000000000000000
2025-07-16 01:52:36,994 - DEBUG - app.services.portfolio_calculator - Position calculation for EURGBP: Type=SELL, Entry=0.85403000, Current=0.8679, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-138.700000000000000000000000, PnL USD=-185.7761670000000000000000000, Commission=1.00000000, Final PnL=-186.7761670000000000000000000
2025-07-16 01:52:36,996 - DEBUG - app.services.portfolio_calculator - Position calculation for EURJPY: Type=BUY, Entry=167.26050000, Current=172.9435, Quantity=0.10000000, Contract Size=100000.00000000, PnL=56830.00000000000000000000000, PnL USD=381.8758483516778884274751710, Commission=1.00000000, Final PnL=380.8758483516778884274751710
2025-07-16 01:52:36,998 - DEBUG - app.services.portfolio_calculator - Position calculation for EURJPY: Type=SELL, Entry=167.23150000, Current=172.9735, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-57420.00000000000000000000000, PnL USD=-385.8404225295327178163931782, Commission=1.00000000, Final PnL=-386.8404225295327178163931782
2025-07-16 01:52:36,998 - DEBUG - app.services.portfolio_calculator - Position calculation for EURNZD: Type=SELL, Entry=1.91952500, Current=1.956195, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-366.700000000000000000000000, PnL USD=-217.8894730000000000000000000, Commission=1.00000000, Final PnL=-218.8894730000000000000000000
2025-07-16 01:52:36,999 - DEBUG - app.services.portfolio_calculator - Position calculation for EURNZD: Type=BUY, Entry=1.92063500, Current=1.955745, Quantity=0.10000000, Contract Size=100000.00000000, PnL=351.100000000000000000000000, PnL USD=208.6201090000000000000000000, Commission=1.00000000, Final PnL=207.6201090000000000000000000
2025-07-16 01:52:36,999 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=SELL, Entry=1.34376000, Current=1.33951, Quantity=0.25000000, Contract Size=0E-8, PnL=0E-24, PnL USD=0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 01:52:37,000 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=SELL, Entry=1.34361000, Current=1.33951, Quantity=0.25000000, Contract Size=0E-8, PnL=0E-24, PnL USD=0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 01:52:37,000 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=BUY, Entry=1.34379000, Current=1.3393, Quantity=0.25000000, Contract Size=0E-8, PnL=-0E-24, PnL USD=-0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 01:52:37,001 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=BUY, Entry=1.34378000, Current=1.3393, Quantity=0.25000000, Contract Size=0E-8, PnL=-0E-24, PnL USD=-0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 01:52:37,004 - DEBUG - app.services.portfolio_calculator - Position calculation for NZDJPY: Type=BUY, Entry=87.10150000, Current=88.4065, Quantity=0.01000000, Contract Size=100000.00000000, PnL=1305.000000000000000000000000, PnL USD=8.769100512034834495827117687, Commission=0.10000000, Final PnL=8.669100512034834495827117687
2025-07-16 01:52:37,007 - DEBUG - app.services.portfolio_calculator - Position calculation for USDCHF: Type=SELL, Entry=0.81771000, Current=0.80147, Quantity=0.15000000, Contract Size=100000.00000000, PnL=243.600000000000000000000000, PnL USD=303.9984026356511755603254630, Commission=1.50000000, Final PnL=302.4984026356511755603254630
2025-07-16 01:52:37,009 - DEBUG - app.services.portfolio_calculator - Position calculation for USDCHF: Type=BUY, Entry=0.81805000, Current=0.80116, Quantity=0.15000000, Contract Size=100000.00000000, PnL=-253.350000000000000000000000, PnL USD=-316.1658263864623371437128738, Commission=1.50000000, Final PnL=-317.6658263864623371437128738
2025-07-16 01:52:37,011 - DEBUG - app.services.portfolio_calculator - Position calculation for USDNOK: Type=BUY, Entry=10.04973000, Current=10.27563, Quantity=0.10000000, Contract Size=100000.00000000, PnL=2259.000000000000000000000000, PnL USD=219.8163623554505505626286884, Commission=1.00000000, Final PnL=218.8163623554505505626286884
2025-07-16 01:52:37,013 - DEBUG - app.services.portfolio_calculator - Position calculation for USDNOK: Type=BUY, Entry=10.05023000, Current=10.27563, Quantity=0.10000000, Contract Size=100000.00000000, PnL=2254.000000000000000000000000, PnL USD=219.3298276888824882550531490, Commission=1.00000000, Final PnL=218.3298276888824882550531490
2025-07-16 01:52:37,015 - DEBUG - app.services.portfolio_calculator - Position calculation for USDSGD: Type=SELL, Entry=1.28795000, Current=1.2849400000000002, Quantity=0.31000000, Contract Size=100000.00000000, PnL=93.30999999999380000000000000, PnL USD=72.62665493971294919792339604, Commission=3.10000000, Final PnL=69.52665493971294919792339604
2025-07-16 01:52:37,019 - DEBUG - app.services.portfolio_calculator - Position calculation for USDTRY: Type=SELL, Entry=39.56087000, Current=40.259209999999996, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-6983.399999999960000000000000, PnL USD=-173.4615761023719878208780831, Commission=1.00000000, Final PnL=-174.4615761023719878208780831
2025-07-16 01:52:37,525 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:52:37,529 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:52:37,814 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.89752000, Current=0.89476, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-2.760000000000000000000000, PnL USD=-2.011412580073897549137497540, Commission=0.10000000, Final PnL=-2.111412580073897549137497540
2025-07-16 01:52:37,857 - WARNING - app - User 12 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:52:37,894 - WARNING - app - User 13 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:52:38,282 - DEBUG - app.firebase_stream - Firebase listener triggered (441). Event Type: patch, Path: /. Timestamp: 1752655958.2825758
2025-07-16 01:52:38,283 - DEBUG - app.firebase_stream - Prepared batch update for 30 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0330000000', 'o': '13.0304000000'}, 'XAGUSD': {'b': '37.9880000000', 'o': '37.9810000000'}, 'NZDJPY': {'b': '88.4270000000', 'o': '88.4190000000'}, 'GBPAUD': {'b': '2.0540500000',
2025-07-16 01:52:38,284 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0330000000', 'o': '13.0304000000'}, 'XAGUSD': {'b': '37.9880000000', 'o': '37.9810000000'}, 'NZDJPY': {'b': '88.4270000000', 'o': '88.4190000000'}, 'GBPAUD': {'b': '2.0540500000',...
2025-07-16 01:52:38,284 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:52:38,539 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:52:38,542 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:52:39,549 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:52:39,553 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:52:40,559 - DEBUG - app.firebase_stream - Firebase listener triggered (442). Event Type: patch, Path: /. Timestamp: 1752655960.559935
2025-07-16 01:52:40,560 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:52:40,561 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0329000000', 'o': '13.0304500000'}, 'XAGUSD': {'b': '37.9890000000', 'o': '37.9810000000'}, 'NZDJPY': {'b': '88.4260000000', 'o': '88.4200000000'}, 'GBPAUD': {'b': '2.0540700000',
2025-07-16 01:52:40,562 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0329000000', 'o': '13.0304500000'}, 'XAGUSD': {'b': '37.9890000000', 'o': '37.9810000000'}, 'NZDJPY': {'b': '88.4260000000', 'o': '88.4200000000'}, 'GBPAUD': {'b': '2.0540700000',...
2025-07-16 01:52:40,563 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:52:40,569 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:52:41,593 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:52:41,597 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:52:42,603 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:52:42,606 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:52:42,894 - DEBUG - app.firebase_stream - Firebase listener triggered (443). Event Type: patch, Path: /. Timestamp: 1752655962.8942678
2025-07-16 01:52:42,894 - DEBUG - app.firebase_stream - Prepared batch update for 30 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9870000000', 'o': '37.9810000000'}, 'NZDJPY': {'b': '88.4360000000', 'o': '88.4290000000'}, 'GBPAUD': {'b': '2.0540600000', 'o': '2.0539500000'}, 'BTCUSD': {'b': '118677.900000000
2025-07-16 01:52:42,895 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9870000000', 'o': '37.9810000000'}, 'NZDJPY': {'b': '88.4360000000', 'o': '88.4290000000'}, 'GBPAUD': {'b': '2.0540600000', 'o': '2.0539500000'}, 'BTCUSD': {'b': '118677.900000000...
2025-07-16 01:52:42,895 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:52:43,609 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:52:43,614 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:52:44,626 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:52:44,630 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:52:45,253 - DEBUG - app.firebase_stream - Firebase listener triggered (444). Event Type: patch, Path: /. Timestamp: 1752655965.2533495
2025-07-16 01:52:45,253 - DEBUG - app.firebase_stream - Prepared batch update for 39 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0334000000', 'o': '13.0308000000'}, 'XAGUSD': {'b': '37.9880000000', 'o': '37.9810000000'}, 'NZDJPY': {'b': '88.4250000000', 'o': '88.4160000000'}, 'GBPAUD': {'b': '2.0540600000',
2025-07-16 01:52:45,254 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0334000000', 'o': '13.0308000000'}, 'XAGUSD': {'b': '37.9880000000', 'o': '37.9810000000'}, 'NZDJPY': {'b': '88.4250000000', 'o': '88.4160000000'}, 'GBPAUD': {'b': '2.0540600000',...
2025-07-16 01:52:45,254 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:52:45,645 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:52:45,648 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:52:46,657 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:52:46,660 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:52:47,495 - DEBUG - app.firebase_stream - Firebase listener triggered (445). Event Type: patch, Path: /. Timestamp: 1752655967.4958353
2025-07-16 01:52:47,496 - DEBUG - app.firebase_stream - Prepared batch update for 20 symbols from root path for queue. Preview: {'GBPAUD': {'b': '2.0540200000', 'o': '2.0538600000'}, 'EURNZD': {'b': '1.9560900000', 'o': '1.9559400000'}, 'USDSGD': {'b': '1.2847600000', 'o': '1.2847200000'}, 'EURZAR': {'b': '20.8330700000', 'o':
2025-07-16 01:52:47,497 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPAUD': {'b': '2.0540200000', 'o': '2.0538600000'}, 'EURNZD': {'b': '1.9560900000', 'o': '1.9559400000'}, 'USDSGD': {'b': '1.2847600000', 'o': '1.2847200000'}, 'EURZAR': {'b': '20.8330700000', 'o':...
2025-07-16 01:52:47,500 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:52:47,676 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:52:47,678 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:52:48,680 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:52:48,720 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:52:49,725 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:52:49,728 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:52:49,846 - DEBUG - app.firebase_stream - Firebase listener triggered (446). Event Type: patch, Path: /. Timestamp: 1752655969.8462913
2025-07-16 01:52:49,846 - DEBUG - app.firebase_stream - Prepared batch update for 23 symbols from root path for queue. Preview: {'GBPAUD': {'b': '2.0540500000', 'o': '2.0539500000'}, 'USDCNH': {'b': '7.1810600000', 'o': '7.1810500000'}, 'CADCHF': {'b': '0.5840100000', 'o': '0.5839500000'}, 'EURNZD': {'b': '1.9561000000', 'o': 
2025-07-16 01:52:49,847 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPAUD': {'b': '2.0540500000', 'o': '2.0539500000'}, 'USDCNH': {'b': '7.1810600000', 'o': '7.1810500000'}, 'CADCHF': {'b': '0.5840100000', 'o': '0.5839500000'}, 'EURNZD': {'b': '1.9561000000', 'o': ...
2025-07-16 01:52:49,848 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:52:50,729 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:52:50,732 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:52:51,739 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:52:51,742 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:52:52,123 - DEBUG - app.firebase_stream - Firebase listener triggered (447). Event Type: patch, Path: /. Timestamp: 1752655972.1232684
2025-07-16 01:52:52,124 - DEBUG - app.firebase_stream - Prepared batch update for 37 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0331000000', 'o': '13.0305000000'}, 'XAGUSD': {'b': '37.9920000000', 'o': '37.9870000000'}, 'NZDJPY': {'b': '88.4260000000', 'o': '88.4170000000'}, 'GBPAUD': {'b': '2.0540600000',
2025-07-16 01:52:52,125 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0331000000', 'o': '13.0305000000'}, 'XAGUSD': {'b': '37.9920000000', 'o': '37.9870000000'}, 'NZDJPY': {'b': '88.4260000000', 'o': '88.4170000000'}, 'GBPAUD': {'b': '2.0540600000',...
2025-07-16 01:52:52,129 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:52:52,751 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:52:52,754 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:52:53,761 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:52:53,764 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:52:54,463 - DEBUG - app.firebase_stream - Firebase listener triggered (448). Event Type: patch, Path: /. Timestamp: 1752655974.4630392
2025-07-16 01:52:54,463 - DEBUG - app.firebase_stream - Prepared batch update for 26 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9880000000', 'o': '37.9830000000'}, 'BTCUSD': {'b': '118669.4000000000', 'o': '118669.3000000000'}, 'USDJPY': {'b': '148.8150000000', 'o': '148.8110000000'}, 'EURNZD': {'b': '1.95
2025-07-16 01:52:54,466 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9880000000', 'o': '37.9830000000'}, 'BTCUSD': {'b': '118669.4000000000', 'o': '118669.3000000000'}, 'USDJPY': {'b': '148.8150000000', 'o': '148.8110000000'}, 'EURNZD': {'b': '1.95...
2025-07-16 01:52:54,466 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:52:54,772 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:52:54,778 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:52:55,786 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:52:55,790 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:52:56,659 - DEBUG - app.firebase_stream - Firebase listener triggered (449). Event Type: patch, Path: /. Timestamp: 1752655976.6598003
2025-07-16 01:52:56,660 - DEBUG - app.firebase_stream - Prepared batch update for 20 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0333000000', 'o': '13.0307600000'}, 'XAGUSD': {'b': '37.9870000000', 'o': '37.9820000000'}, 'GBPAUD': {'b': '2.0540100000', 'o': '2.0538600000'}, 'BTCUSD': {'b': '118667.100000000
2025-07-16 01:52:56,661 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0333000000', 'o': '13.0307600000'}, 'XAGUSD': {'b': '37.9870000000', 'o': '37.9820000000'}, 'GBPAUD': {'b': '2.0540100000', 'o': '2.0538600000'}, 'BTCUSD': {'b': '118667.100000000...
2025-07-16 01:52:56,667 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:52:56,794 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:52:56,797 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:52:57,815 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:52:57,818 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:52:58,823 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:52:58,827 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:52:59,083 - DEBUG - app.firebase_stream - Firebase listener triggered (450). Event Type: patch, Path: /. Timestamp: 1752655979.0830185
2025-07-16 01:52:59,083 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0333000000', 'o': '13.0307000000'}, 'NZDJPY': {'b': '88.4250000000', 'o': '88.4180000000'}, 'GBPAUD': {'b': '2.0540600000', 'o': '2.0539200000'}, 'USDJPY': {'b': '148.8100000000',
2025-07-16 01:52:59,084 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0333000000', 'o': '13.0307000000'}, 'NZDJPY': {'b': '88.4250000000', 'o': '88.4180000000'}, 'GBPAUD': {'b': '2.0540600000', 'o': '2.0539200000'}, 'USDJPY': {'b': '148.8100000000',...
2025-07-16 01:52:59,086 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:52:59,839 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:52:59,843 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:53:00,854 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:53:00,860 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:53:01,322 - DEBUG - app.firebase_stream - Firebase listener triggered (451). Event Type: patch, Path: /. Timestamp: 1752655981.3221033
2025-07-16 01:53:01,322 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0334000000', 'o': '13.0308000000'}, 'XAGUSD': {'b': '37.9880000000', 'o': '37.9820000000'}, 'NZDJPY': {'b': '88.4250000000', 'o': '88.4150000000'}, 'GBPAUD': {'b': '2.0540900000',
2025-07-16 01:53:01,323 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0334000000', 'o': '13.0308000000'}, 'XAGUSD': {'b': '37.9880000000', 'o': '37.9820000000'}, 'NZDJPY': {'b': '88.4250000000', 'o': '88.4150000000'}, 'GBPAUD': {'b': '2.0540900000',...
2025-07-16 01:53:01,327 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:53:01,874 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:53:01,879 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:53:02,892 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:53:02,899 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:53:03,693 - DEBUG - app.firebase_stream - Firebase listener triggered (452). Event Type: patch, Path: /. Timestamp: 1752655983.6929524
2025-07-16 01:53:03,693 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0327000000', 'o': '13.0301000000'}, 'NZDJPY': {'b': '88.4220000000', 'o': '88.4140000000'}, 'GBPAUD': {'b': '2.0541100000', 'o': '2.0539500000'}, 'BTCUSD': {'b': '118692.200000000
2025-07-16 01:53:03,694 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0327000000', 'o': '13.0301000000'}, 'NZDJPY': {'b': '88.4220000000', 'o': '88.4140000000'}, 'GBPAUD': {'b': '2.0541100000', 'o': '2.0539500000'}, 'BTCUSD': {'b': '118692.200000000...
2025-07-16 01:53:03,695 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:53:03,901 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:53:03,904 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:53:04,912 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:53:04,916 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:53:05,915 - DEBUG - app.firebase_stream - Firebase listener triggered (453). Event Type: patch, Path: /. Timestamp: 1752655985.9150085
2025-07-16 01:53:05,915 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0334000000', 'o': '13.0309000000'}, 'XAGUSD': {'b': '37.9880000000', 'o': '37.9810000000'}, 'NZDJPY': {'b': '88.4230000000', 'o': '88.4140000000'}, 'GBPAUD': {'b': '2.0540300000',
2025-07-16 01:53:05,915 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0334000000', 'o': '13.0309000000'}, 'XAGUSD': {'b': '37.9880000000', 'o': '37.9810000000'}, 'NZDJPY': {'b': '88.4230000000', 'o': '88.4140000000'}, 'GBPAUD': {'b': '2.0540300000',...
2025-07-16 01:53:05,915 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:53:05,925 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:53:05,929 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:53:06,949 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:53:06,950 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:53:07,953 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:53:07,956 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:53:08,230 - DEBUG - app.firebase_stream - Firebase listener triggered (454). Event Type: patch, Path: /. Timestamp: 1752655988.2307894
2025-07-16 01:53:08,231 - DEBUG - app.firebase_stream - Prepared batch update for 35 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0334000000', 'o': '13.0308000000'}, 'XAGUSD': {'b': '37.9880000000', 'o': '37.9840000000'}, 'NZDJPY': {'b': '88.4270000000', 'o': '88.4180000000'}, 'GBPAUD': {'b': '2.0540300000',
2025-07-16 01:53:08,231 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0334000000', 'o': '13.0308000000'}, 'XAGUSD': {'b': '37.9880000000', 'o': '37.9840000000'}, 'NZDJPY': {'b': '88.4270000000', 'o': '88.4180000000'}, 'GBPAUD': {'b': '2.0540300000',...
2025-07-16 01:53:08,231 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:53:08,972 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:53:08,974 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:53:09,986 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:53:09,989 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:53:10,572 - DEBUG - app.firebase_stream - Firebase listener triggered (455). Event Type: patch, Path: /. Timestamp: 1752655990.5720136
2025-07-16 01:53:10,572 - DEBUG - app.firebase_stream - Prepared batch update for 36 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9880000000', 'o': '37.9860000000'}, 'NZDJPY': {'b': '88.4270000000', 'o': '88.4190000000'}, 'USDJPY': {'b': '148.8160000000', 'o': '148.8130000000'}, 'USDCNH': {'b': '7.1810200000
2025-07-16 01:53:10,572 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9880000000', 'o': '37.9860000000'}, 'NZDJPY': {'b': '88.4270000000', 'o': '88.4190000000'}, 'USDJPY': {'b': '148.8160000000', 'o': '148.8130000000'}, 'USDCNH': {'b': '7.1810200000...
2025-07-16 01:53:10,572 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:53:11,000 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:53:11,003 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:53:12,015 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:53:12,019 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:53:12,883 - DEBUG - app.firebase_stream - Firebase listener triggered (456). Event Type: patch, Path: /. Timestamp: 1752655992.8834844
2025-07-16 01:53:12,883 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0333000000', 'o': '13.0307000000'}, 'XAGUSD': {'b': '37.9890000000', 'o': '37.9850000000'}, 'NZDJPY': {'b': '88.4270000000', 'o': '88.4180000000'}, 'GBPAUD': {'b': '2.0540100000',
2025-07-16 01:53:12,883 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0333000000', 'o': '13.0307000000'}, 'XAGUSD': {'b': '37.9890000000', 'o': '37.9850000000'}, 'NZDJPY': {'b': '88.4270000000', 'o': '88.4180000000'}, 'GBPAUD': {'b': '2.0540100000',...
2025-07-16 01:53:12,884 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:53:13,033 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:53:13,036 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:53:14,044 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:53:14,048 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:53:15,052 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:53:15,055 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:53:15,236 - DEBUG - app.firebase_stream - Firebase listener triggered (457). Event Type: patch, Path: /. Timestamp: 1752655995.2366521
2025-07-16 01:53:15,237 - DEBUG - app.firebase_stream - Prepared batch update for 25 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0332000000', 'o': '13.0306000000'}, 'XAGUSD': {'b': '37.9880000000', 'o': '37.9850000000'}, 'NZDJPY': {'b': '88.4270000000', 'o': '88.4190000000'}, 'GBPAUD': {'b': '2.0540200000',
2025-07-16 01:53:15,237 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0332000000', 'o': '13.0306000000'}, 'XAGUSD': {'b': '37.9880000000', 'o': '37.9850000000'}, 'NZDJPY': {'b': '88.4270000000', 'o': '88.4190000000'}, 'GBPAUD': {'b': '2.0540200000',...
2025-07-16 01:53:15,237 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:53:16,068 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:53:16,072 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:53:17,074 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:53:17,079 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:53:17,493 - DEBUG - app.firebase_stream - Firebase listener triggered (458). Event Type: patch, Path: /. Timestamp: 1752655997.493637
2025-07-16 01:53:17,493 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9870000000', 'o': '37.9860000000'}, 'GBPAUD': {'b': '2.0539800000', 'o': '2.0538800000'}, 'BTCUSD': {'b': '118689.0000000000', 'o': '118688.9000000000'}, 'USDJPY': {'b': '148.8090
2025-07-16 01:53:17,494 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9870000000', 'o': '37.9860000000'}, 'GBPAUD': {'b': '2.0539800000', 'o': '2.0538800000'}, 'BTCUSD': {'b': '118689.0000000000', 'o': '118688.9000000000'}, 'USDJPY': {'b': '148.8090...
2025-07-16 01:53:17,494 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:53:18,094 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:53:18,097 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:53:19,103 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:53:19,107 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:53:19,854 - DEBUG - app.firebase_stream - Firebase listener triggered (459). Event Type: patch, Path: /. Timestamp: 1752655999.8545294
2025-07-16 01:53:19,854 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9940000000', 'o': '37.9900000000'}, 'NZDJPY': {'b': '88.4300000000', 'o': '88.4210000000'}, 'GBPAUD': {'b': '2.0539400000', 'o': '2.0537800000'}, 'BTCUSD': {'b': '118687.900000000
2025-07-16 01:53:19,855 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9940000000', 'o': '37.9900000000'}, 'NZDJPY': {'b': '88.4300000000', 'o': '88.4210000000'}, 'GBPAUD': {'b': '2.0539400000', 'o': '2.0537800000'}, 'BTCUSD': {'b': '118687.900000000...
2025-07-16 01:53:19,855 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:53:20,121 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:53:20,125 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:53:21,142 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:53:21,146 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:53:22,049 - DEBUG - app.firebase_stream - Firebase listener triggered (460). Event Type: patch, Path: /. Timestamp: 1752656002.0499063
2025-07-16 01:53:22,050 - DEBUG - app.firebase_stream - Prepared batch update for 35 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0334000000', 'o': '13.0308000000'}, 'XAGUSD': {'b': '37.9940000000', 'o': '37.9910000000'}, 'NZDJPY': {'b': '88.4290000000', 'o': '88.4210000000'}, 'GBPAUD': {'b': '2.0539800000',
2025-07-16 01:53:22,050 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0334000000', 'o': '13.0308000000'}, 'XAGUSD': {'b': '37.9940000000', 'o': '37.9910000000'}, 'NZDJPY': {'b': '88.4290000000', 'o': '88.4210000000'}, 'GBPAUD': {'b': '2.0539800000',...
2025-07-16 01:53:22,051 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:53:22,148 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:53:22,150 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:53:23,163 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:53:23,167 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:53:24,173 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:53:24,177 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:53:24,363 - DEBUG - app.firebase_stream - Firebase listener triggered (461). Event Type: patch, Path: /. Timestamp: 1752656004.3633332
2025-07-16 01:53:24,363 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9930000000', 'o': '37.9910000000'}, 'NZDJPY': {'b': '88.4270000000', 'o': '88.4190000000'}, 'GBPAUD': {'b': '2.0539900000', 'o': '2.0538700000'}, 'BTCUSD': {'b': '118669.400000000
2025-07-16 01:53:24,364 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9930000000', 'o': '37.9910000000'}, 'NZDJPY': {'b': '88.4270000000', 'o': '88.4190000000'}, 'GBPAUD': {'b': '2.0539900000', 'o': '2.0538700000'}, 'BTCUSD': {'b': '118669.400000000...
2025-07-16 01:53:24,364 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:53:25,184 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:53:25,187 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:53:26,191 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:53:26,195 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:53:26,639 - DEBUG - app.firebase_stream - Firebase listener triggered (462). Event Type: patch, Path: /. Timestamp: 1752656006.6398005
2025-07-16 01:53:26,640 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4270000000', 'o': '88.4180000000'}, 'GBPAUD': {'b': '2.0539500000', 'o': '2.0538800000'}, 'USDJPY': {'b': '148.8180000000', 'o': '148.8140000000'}, 'CADCHF': {'b': '0.5840400000',
2025-07-16 01:53:26,640 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4270000000', 'o': '88.4180000000'}, 'GBPAUD': {'b': '2.0539500000', 'o': '2.0538800000'}, 'USDJPY': {'b': '148.8180000000', 'o': '148.8140000000'}, 'CADCHF': {'b': '0.5840400000',...
2025-07-16 01:53:26,640 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:53:27,212 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:53:27,216 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:53:28,226 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:53:28,244 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:53:28,956 - DEBUG - app.firebase_stream - Firebase listener triggered (463). Event Type: patch, Path: /. Timestamp: 1752656008.956757
2025-07-16 01:53:28,956 - DEBUG - app.firebase_stream - Prepared batch update for 28 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0333000000', 'o': '13.0307000000'}, 'XAGUSD': {'b': '37.9960000000', 'o': '37.9940000000'}, 'NZDJPY': {'b': '88.4280000000', 'o': '88.4190000000'}, 'GBPAUD': {'b': '2.0539700000',
2025-07-16 01:53:28,957 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0333000000', 'o': '13.0307000000'}, 'XAGUSD': {'b': '37.9960000000', 'o': '37.9940000000'}, 'NZDJPY': {'b': '88.4280000000', 'o': '88.4190000000'}, 'GBPAUD': {'b': '2.0539700000',...
2025-07-16 01:53:28,957 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:53:29,258 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:53:29,261 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:53:30,275 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:53:30,280 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:53:31,295 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:53:31,300 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:53:31,315 - DEBUG - app.firebase_stream - Firebase listener triggered (464). Event Type: patch, Path: /. Timestamp: 1752656011.3156593
2025-07-16 01:53:31,316 - DEBUG - app.firebase_stream - Prepared batch update for 23 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0334000000', 'o': '13.0308000000'}, 'XAGUSD': {'b': '37.9940000000', 'o': '37.9920000000'}, 'NZDJPY': {'b': '88.4250000000', 'o': '88.4160000000'}, 'GBPAUD': {'b': '2.0539600000',
2025-07-16 01:53:31,316 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0334000000', 'o': '13.0308000000'}, 'XAGUSD': {'b': '37.9940000000', 'o': '37.9920000000'}, 'NZDJPY': {'b': '88.4250000000', 'o': '88.4160000000'}, 'GBPAUD': {'b': '2.0539600000',...
2025-07-16 01:53:31,316 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:53:32,304 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:53:32,306 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:53:33,310 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:53:33,312 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:53:33,524 - DEBUG - app.firebase_stream - Firebase listener triggered (465). Event Type: patch, Path: /. Timestamp: 1752656013.5245564
2025-07-16 01:53:33,524 - DEBUG - app.firebase_stream - Prepared batch update for 26 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0335000000', 'o': '13.0309000000'}, 'XAGUSD': {'b': '37.9950000000', 'o': '37.9920000000'}, 'NZDJPY': {'b': '88.4290000000', 'o': '88.4190000000'}, 'GBPAUD': {'b': '2.0539600000',
2025-07-16 01:53:33,525 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0335000000', 'o': '13.0309000000'}, 'XAGUSD': {'b': '37.9950000000', 'o': '37.9920000000'}, 'NZDJPY': {'b': '88.4290000000', 'o': '88.4190000000'}, 'GBPAUD': {'b': '2.0539600000',...
2025-07-16 01:53:33,525 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:53:34,327 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:53:34,331 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:53:34,536 - WARNING - app - User 4 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:53:34,539 - WARNING - app - No user data found for user 5 (live). Skipping portfolio update.
2025-07-16 01:53:34,546 - WARNING - app - No group settings found for group string. Skipping portfolio update for user 8.
2025-07-16 01:53:34,562 - WARNING - app - User 9 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:53:34,585 - WARNING - app - User 10 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:53:34,608 - WARNING - app - User 11 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:53:34,626 - WARNING - app - User 12 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:53:34,641 - WARNING - app - User 13 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:53:34,986 - DEBUG - app.services.portfolio_calculator - Position calculation for BTCUSD: Type=BUY, Entry=118908.50000000, Current=118638.9, Quantity=0.40000000, Contract Size=1.00000000, PnL=-107.840000000000000000000000, PnL USD=-107.840000000000000000000000, Commission=235.57000000, Final PnL=-343.410000000000000000000000
2025-07-16 01:53:34,988 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=97.09700000, Current=97.025, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-720.000000000000000000000000, PnL USD=-4.838124420433012135628754586, Commission=1.00000000, Final PnL=-5.838124420433012135628754586
2025-07-16 01:53:34,989 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=97.09700000, Current=97.025, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-72.000000000000000000000000, PnL USD=-0.4838124420433012135628754586, Commission=0.10000000, Final PnL=-0.5838124420433012135628754586
2025-07-16 01:53:35,015 - WARNING - app - User 16 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:53:35,032 - WARNING - app - User 17 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:53:35,047 - WARNING - app - User 18 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:53:35,061 - WARNING - app - User 19 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:53:35,074 - WARNING - app - User 20 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:53:35,086 - WARNING - app - User 21 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:53:35,098 - WARNING - app - User 22 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:53:35,112 - WARNING - app - User 23 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:53:35,127 - WARNING - app - User 25 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:53:35,499 - DEBUG - app.services.portfolio_calculator - Position calculation for XAGUSD: Type=BUY, Entry=41.09800000, Current=37.979499999999994, Quantity=0.01000000, Contract Size=5000.00000000, PnL=-155.9250000000003000000000000, PnL USD=-155.9250000000003000000000000, Commission=0.10000000, Final PnL=-156.0250000000003000000000000
2025-07-16 01:53:35,499 - DEBUG - app.services.portfolio_calculator - Position calculation for BTCUSD: Type=BUY, Entry=132091.90000000, Current=118638.9, Quantity=6.00000000, Contract Size=1.00000000, PnL=-80718.00000000000000000000000, PnL USD=-80718.00000000000000000000000, Commission=3661.62000000, Final PnL=-84379.62000000000000000000000
2025-07-16 01:53:35,499 - WARNING - app.services.portfolio_calculator - MARGIN CALL ALERT: User has margin level 68.13702845086581512702336295% which is below threshold 100.0%
2025-07-16 01:53:35,500 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:53:35,505 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:53:35,833 - DEBUG - app.firebase_stream - Firebase listener triggered (466). Event Type: patch, Path: /. Timestamp: 1752656015.8330853
2025-07-16 01:53:35,833 - DEBUG - app.firebase_stream - Prepared batch update for 25 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9970000000', 'o': '37.9920000000'}, 'NZDJPY': {'b': '88.4280000000', 'o': '88.4200000000'}, 'GBPAUD': {'b': '2.0540000000', 'o': '2.0538600000'}, 'USDJPY': {'b': '148.8230000000',
2025-07-16 01:53:35,834 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9970000000', 'o': '37.9920000000'}, 'NZDJPY': {'b': '88.4280000000', 'o': '88.4200000000'}, 'GBPAUD': {'b': '2.0540000000', 'o': '2.0538600000'}, 'USDJPY': {'b': '148.8230000000',...
2025-07-16 01:53:35,834 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:53:35,912 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=BUY, Entry=96.66800000, Current=96.99000000000001, Quantity=0.01000000, Contract Size=100000.00000000, PnL=322.0000000000100000000000000, PnL USD=2.163644060393957923170477682, Commission=0.10000000, Final PnL=2.063644060393957923170477682
2025-07-16 01:53:35,913 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDJPY: Type=SELL, Entry=96.56000000, Current=97.096, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-536.000000000000000000000000, PnL USD=-3.601593839661880220127265275, Commission=0.10000000, Final PnL=-3.701593839661880220127265275
2025-07-16 01:53:35,926 - WARNING - app - User 2 has no group_name set. Skipping portfolio update.
2025-07-16 01:53:36,000 - WARNING - app - No group settings found for group string. Skipping portfolio update for user 3.
2025-07-16 01:53:36,038 - WARNING - app - User 4 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:53:36,039 - WARNING - app - User 5 has no group_name set. Skipping portfolio update.
2025-07-16 01:53:36,040 - WARNING - app - User 6 has no group_name set. Skipping portfolio update.
2025-07-16 01:53:36,524 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=BUY, Entry=0.64743000, Current=0.65195, Quantity=0.10000000, Contract Size=100000.00000000, PnL=45.200000000000000000000000, PnL USD=45.200000000000000000000000, Commission=1.00000000, Final PnL=44.200000000000000000000000
2025-07-16 01:53:36,525 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDUSD: Type=SELL, Entry=0.64707000, Current=0.65226, Quantity=0.22000000, Contract Size=100000.00000000, PnL=-114.180000000000000000000000, PnL USD=-114.180000000000000000000000, Commission=2.20000000, Final PnL=-116.380000000000000000000000
2025-07-16 01:53:36,526 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFSGD: Type=BUY, Entry=1.57561500, Current=1.602975, Quantity=0.10000000, Contract Size=100000.00000000, PnL=273.600000000000000000000000, PnL USD=212.9630350345987094564616690, Commission=1.00000000, Final PnL=211.9630350345987094564616690
2025-07-16 01:53:36,526 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:53:36,527 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFSGD: Type=SELL, Entry=1.57505500, Current=1.6033849999999998, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-283.2999999999980000000000000, PnL USD=-220.5132595953998116335728130, Commission=1.00000000, Final PnL=-221.5132595953998116335728130
2025-07-16 01:53:36,528 - DEBUG - app.services.portfolio_calculator - Position calculation for CADJPY: Type=SELL, Entry=106.24150000, Current=108.4715, Quantity=0.15000000, Contract Size=100000.00000000, PnL=-33450.00000000000000000000000, PnL USD=-224.7636454042721891105541482, Commission=0E-8, Final PnL=-224.7636454042721891105541482
2025-07-16 01:53:36,530 - DEBUG - app.services.portfolio_calculator - Position calculation for CADJPY: Type=BUY, Entry=106.27050000, Current=108.44149999999999, Quantity=0.15000000, Contract Size=100000.00000000, PnL=32564.99999999985000000000000, PnL USD=218.8169839339339349428515754, Commission=0E-8, Final PnL=218.8169839339339349428515754
2025-07-16 01:53:36,531 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=BUY, Entry=1.77481000, Current=1.78209, Quantity=0.22000000, Contract Size=100000.00000000, PnL=160.160000000000000000000000, PnL USD=104.4435392000000000000000000, Commission=2.20000000, Final PnL=102.2435392000000000000000000
2025-07-16 01:53:36,531 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=SELL, Entry=1.77439000, Current=1.7824600000000002, Quantity=0.21000000, Contract Size=100000.00000000, PnL=-169.4700000000042000000000000, PnL USD=-110.5147764000027389040000000, Commission=2.10000000, Final PnL=-112.6147764000027389040000000
2025-07-16 01:53:36,532 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:53:36,534 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFJPY: Type=BUY, Entry=178.15500000, Current=185.685, Quantity=0.10000000, Contract Size=100000.00000000, PnL=75300.00000000000000000000000, PnL USD=505.9701793405589189842967821, Commission=1.00000000, Final PnL=504.9701793405589189842967821
2025-07-16 01:53:36,535 - DEBUG - app.services.portfolio_calculator - Position calculation for CHFJPY: Type=SELL, Entry=178.09500000, Current=185.725, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-76300.00000000000000000000000, PnL USD=-512.6895708324654119322954113, Commission=1.00000000, Final PnL=-513.6895708324654119322954113
2025-07-16 01:53:36,535 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=BUY, Entry=1.77480000, Current=1.78209, Quantity=0.05000000, Contract Size=100000.00000000, PnL=36.450000000000000000000000, PnL USD=23.76977400000000000000000000, Commission=0.50000000, Final PnL=23.26977400000000000000000000
2025-07-16 01:53:36,536 - DEBUG - app.services.portfolio_calculator - Position calculation for EURAUD: Type=SELL, Entry=1.77442000, Current=1.7824600000000002, Quantity=0.05000000, Contract Size=100000.00000000, PnL=-40.20000000000100000000000000, PnL USD=-26.21522400000065212000000000, Commission=0.50000000, Final PnL=-26.71522400000065212000000000
2025-07-16 01:53:36,536 - DEBUG - app.services.portfolio_calculator - Position calculation for EURGBP: Type=SELL, Entry=0.85403000, Current=0.86791, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-138.800000000000000000000000, PnL USD=-185.9073320000000000000000000, Commission=1.00000000, Final PnL=-186.9073320000000000000000000
2025-07-16 01:53:36,537 - DEBUG - app.services.portfolio_calculator - Position calculation for EURJPY: Type=BUY, Entry=167.26050000, Current=172.94250000000002, Quantity=0.10000000, Contract Size=100000.00000000, PnL=56820.00000000020000000000000, PnL USD=381.7958245701282731835804950, Commission=1.00000000, Final PnL=380.7958245701282731835804950
2025-07-16 01:53:36,539 - DEBUG - app.services.portfolio_calculator - Position calculation for EURJPY: Type=SELL, Entry=167.23150000, Current=172.9725, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-57410.00000000000000000000000, PnL USD=-385.7602655503517601446013049, Commission=1.00000000, Final PnL=-386.7602655503517601446013049
2025-07-16 01:53:36,539 - DEBUG - app.services.portfolio_calculator - Position calculation for EURNZD: Type=SELL, Entry=1.91952500, Current=1.956235, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-367.100000000000000000000000, PnL USD=-218.1344910000000000000000000, Commission=1.00000000, Final PnL=-219.1344910000000000000000000
2025-07-16 01:53:36,539 - DEBUG - app.services.portfolio_calculator - Position calculation for EURNZD: Type=BUY, Entry=1.92063500, Current=1.955775, Quantity=0.10000000, Contract Size=100000.00000000, PnL=351.400000000000000000000000, PnL USD=208.8053940000000000000000000, Commission=1.00000000, Final PnL=207.8053940000000000000000000
2025-07-16 01:53:36,539 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=SELL, Entry=1.34376000, Current=1.33949, Quantity=0.25000000, Contract Size=0E-8, PnL=0E-24, PnL USD=0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 01:53:36,540 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=SELL, Entry=1.34361000, Current=1.33949, Quantity=0.25000000, Contract Size=0E-8, PnL=0E-24, PnL USD=0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 01:53:36,540 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=BUY, Entry=1.34379000, Current=1.33928, Quantity=0.25000000, Contract Size=0E-8, PnL=-0E-24, PnL USD=-0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 01:53:36,540 - DEBUG - app.services.portfolio_calculator - Position calculation for GBPUSD: Type=BUY, Entry=1.34378000, Current=1.33928, Quantity=0.25000000, Contract Size=0E-8, PnL=-0E-24, PnL USD=-0E-24, Commission=2.50000000, Final PnL=-2.500000000000000000000000
2025-07-16 01:53:36,541 - DEBUG - app.services.portfolio_calculator - Position calculation for NZDJPY: Type=BUY, Entry=87.10150000, Current=88.4065, Quantity=0.01000000, Contract Size=100000.00000000, PnL=1305.000000000000000000000000, PnL USD=8.768805896937973297138211164, Commission=0.10000000, Final PnL=8.668805896937973297138211164
2025-07-16 01:53:36,542 - DEBUG - app.services.portfolio_calculator - Position calculation for USDCHF: Type=SELL, Entry=0.81771000, Current=0.80151, Quantity=0.15000000, Contract Size=100000.00000000, PnL=243.000000000000000000000000, PnL USD=303.2307173964585647079376568, Commission=1.50000000, Final PnL=301.7307173964585647079376568
2025-07-16 01:53:36,543 - DEBUG - app.services.portfolio_calculator - Position calculation for USDCHF: Type=BUY, Entry=0.81805000, Current=0.8011900000000001, Quantity=0.15000000, Contract Size=100000.00000000, PnL=-252.8999999999985000000000000, PnL USD=-315.5845614385346344385240276, Commission=1.50000000, Final PnL=-317.0845614385346344385240276
2025-07-16 01:53:36,545 - DEBUG - app.services.portfolio_calculator - Position calculation for USDNOK: Type=BUY, Entry=10.04973000, Current=10.27594, Quantity=0.10000000, Contract Size=100000.00000000, PnL=2262.100000000000000000000000, PnL USD=220.1175854693785407491451603, Commission=1.00000000, Final PnL=219.1175854693785407491451603
2025-07-16 01:53:36,546 - DEBUG - app.services.portfolio_calculator - Position calculation for USDNOK: Type=BUY, Entry=10.05023000, Current=10.27594, Quantity=0.10000000, Contract Size=100000.00000000, PnL=2257.100000000000000000000000, PnL USD=219.6310517496725628066378768, Commission=1.00000000, Final PnL=218.6310517496725628066378768
2025-07-16 01:53:36,548 - DEBUG - app.services.portfolio_calculator - Position calculation for USDSGD: Type=SELL, Entry=1.28795000, Current=1.28488, Quantity=0.31000000, Contract Size=100000.00000000, PnL=95.170000000000000000000000, PnL USD=74.07782179913289173600678742, Commission=3.10000000, Final PnL=70.97782179913289173600678742
2025-07-16 01:53:36,549 - DEBUG - app.services.portfolio_calculator - Position calculation for USDTRY: Type=SELL, Entry=39.56087000, Current=40.2588400000, Quantity=0.10000000, Contract Size=100000.00000000, PnL=-6979.700000000000000000000000, PnL USD=-173.3706187262226134682469738, Commission=1.00000000, Final PnL=-174.3706187262226134682469738
2025-07-16 01:53:37,343 - DEBUG - app.services.portfolio_calculator - Position calculation for AUDCAD: Type=BUY, Entry=0.89752000, Current=0.89477, Quantity=0.01000000, Contract Size=100000.00000000, PnL=-2.750000000000000000000000, PnL USD=-2.004095642731691675351081119, Commission=0.10000000, Final PnL=-2.104095642731691675351081119
2025-07-16 01:53:37,375 - WARNING - app - User 12 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:53:37,402 - WARNING - app - User 13 has no open or pending orders. Skipping portfolio update.
2025-07-16 01:53:37,544 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:53:37,548 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:53:38,188 - DEBUG - app.firebase_stream - Firebase listener triggered (467). Event Type: patch, Path: /. Timestamp: 1752656018.1883943
2025-07-16 01:53:38,188 - DEBUG - app.firebase_stream - Prepared batch update for 30 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9880000000', 'o': '37.9810000000'}, 'NZDJPY': {'b': '88.4340000000', 'o': '88.4250000000'}, 'GBPAUD': {'b': '2.0539700000', 'o': '2.0538600000'}, 'USDJPY': {'b': '148.8290000000',
2025-07-16 01:53:38,190 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9880000000', 'o': '37.9810000000'}, 'NZDJPY': {'b': '88.4340000000', 'o': '88.4250000000'}, 'GBPAUD': {'b': '2.0539700000', 'o': '2.0538600000'}, 'USDJPY': {'b': '148.8290000000',...
2025-07-16 01:53:38,190 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:53:38,553 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:53:38,556 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:53:39,572 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:53:39,574 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:53:40,440 - DEBUG - app.firebase_stream - Firebase listener triggered (468). Event Type: patch, Path: /. Timestamp: 1752656020.4408727
2025-07-16 01:53:40,441 - DEBUG - app.firebase_stream - Prepared batch update for 27 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9960000000', 'o': '37.9920000000'}, 'NZDJPY': {'b': '88.4270000000', 'o': '88.4190000000'}, 'GBPAUD': {'b': '2.0539400000', 'o': '2.0538600000'}, 'USDJPY': {'b': '148.8180000000',
2025-07-16 01:53:40,442 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9960000000', 'o': '37.9920000000'}, 'NZDJPY': {'b': '88.4270000000', 'o': '88.4190000000'}, 'GBPAUD': {'b': '2.0539400000', 'o': '2.0538600000'}, 'USDJPY': {'b': '148.8180000000',...
2025-07-16 01:53:40,444 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:53:40,577 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:53:40,581 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:53:41,602 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:53:41,606 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:53:42,616 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:53:42,620 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:53:42,794 - DEBUG - app.firebase_stream - Firebase listener triggered (469). Event Type: patch, Path: /. Timestamp: 1752656022.7942102
2025-07-16 01:53:42,794 - DEBUG - app.firebase_stream - Prepared batch update for 29 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0332000000', 'o': '13.0306000000'}, 'NZDJPY': {'b': '88.4350000000', 'o': '88.4250000000'}, 'GBPAUD': {'b': '2.0539300000', 'o': '2.0538600000'}, 'USDJPY': {'b': '148.8290000000',
2025-07-16 01:53:42,795 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0332000000', 'o': '13.0306000000'}, 'NZDJPY': {'b': '88.4350000000', 'o': '88.4250000000'}, 'GBPAUD': {'b': '2.0539300000', 'o': '2.0538600000'}, 'USDJPY': {'b': '148.8290000000',...
2025-07-16 01:53:42,807 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:53:43,623 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:53:43,626 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:53:44,637 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:53:44,641 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:53:45,040 - DEBUG - app.firebase_stream - Firebase listener triggered (470). Event Type: patch, Path: /. Timestamp: 1752656025.04038
2025-07-16 01:53:45,040 - DEBUG - app.firebase_stream - Prepared batch update for 20 symbols from root path for queue. Preview: {'NZDJPY': {'b': '88.4350000000', 'o': '88.4260000000'}, 'EURNZD': {'b': '1.9561000000', 'o': '1.9559100000'}, 'EURZAR': {'b': '20.8351800000', 'o': '20.8309100000'}, 'AUDJPY': {'b': '97.0520000000', 
2025-07-16 01:53:45,041 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'NZDJPY': {'b': '88.4350000000', 'o': '88.4260000000'}, 'EURNZD': {'b': '1.9561000000', 'o': '1.9559100000'}, 'EURZAR': {'b': '20.8351800000', 'o': '20.8309100000'}, 'AUDJPY': {'b': '97.0520000000', ...
2025-07-16 01:53:45,045 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:53:45,648 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:53:45,651 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:53:46,664 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:53:46,668 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:53:47,323 - DEBUG - app.firebase_stream - Firebase listener triggered (471). Event Type: patch, Path: /. Timestamp: 1752656027.3230684
2025-07-16 01:53:47,324 - DEBUG - app.firebase_stream - Prepared batch update for 26 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0336000000', 'o': '13.0310000000'}, 'XAGUSD': {'b': '37.9870000000', 'o': '37.9860000000'}, 'NZDJPY': {'b': '88.4360000000', 'o': '88.4270000000'}, 'GBPAUD': {'b': '2.0539500000',
2025-07-16 01:53:47,325 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0336000000', 'o': '13.0310000000'}, 'XAGUSD': {'b': '37.9870000000', 'o': '37.9860000000'}, 'NZDJPY': {'b': '88.4360000000', 'o': '88.4270000000'}, 'GBPAUD': {'b': '2.0539500000',...
2025-07-16 01:53:47,326 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:53:47,678 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:53:47,682 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:53:48,694 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:53:48,698 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:53:49,653 - DEBUG - app.firebase_stream - Firebase listener triggered (472). Event Type: patch, Path: /. Timestamp: 1752656029.6531246
2025-07-16 01:53:49,653 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0334000000', 'o': '13.0308000000'}, 'NZDJPY': {'b': '88.4360000000', 'o': '88.4290000000'}, 'GBPAUD': {'b': '2.0539700000', 'o': '2.0538700000'}, 'USDJPY': {'b': '148.8290000000',
2025-07-16 01:53:49,654 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0334000000', 'o': '13.0308000000'}, 'NZDJPY': {'b': '88.4360000000', 'o': '88.4290000000'}, 'GBPAUD': {'b': '2.0539700000', 'o': '2.0538700000'}, 'USDJPY': {'b': '148.8290000000',...
2025-07-16 01:53:49,657 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:53:49,701 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:53:49,712 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:53:50,737 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:53:50,739 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:53:51,743 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:53:51,748 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:53:51,923 - DEBUG - app.firebase_stream - Firebase listener triggered (473). Event Type: patch, Path: /. Timestamp: 1752656031.9230766
2025-07-16 01:53:51,923 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0333000000', 'o': '13.0307000000'}, 'XAGUSD': {'b': '37.9940000000', 'o': '37.9920000000'}, 'NZDJPY': {'b': '88.4360000000', 'o': '88.4270000000'}, 'GBPAUD': {'b': '2.0540000000',
2025-07-16 01:53:51,924 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0333000000', 'o': '13.0307000000'}, 'XAGUSD': {'b': '37.9940000000', 'o': '37.9920000000'}, 'NZDJPY': {'b': '88.4360000000', 'o': '88.4270000000'}, 'GBPAUD': {'b': '2.0540000000',...
2025-07-16 01:53:51,924 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:53:52,762 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:53:52,782 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:53:53,691 - INFO - app - Starting cache validation task
2025-07-16 01:53:53,702 - INFO - app - Validating cache for 30 users
2025-07-16 01:53:53,703 - WARNING - app - User 4: Missing balance/margin cache, refreshing...
2025-07-16 01:53:53,716 - WARNING - app - User 5: Missing balance/margin cache, refreshing...
2025-07-16 01:53:53,721 - WARNING - app - User 8: Missing balance/margin cache, refreshing...
2025-07-16 01:53:53,737 - WARNING - app - User 9: Missing balance/margin cache, refreshing...
2025-07-16 01:53:53,756 - WARNING - app - User 10: Missing balance/margin cache, refreshing...
2025-07-16 01:53:53,777 - WARNING - app - User 11: Missing balance/margin cache, refreshing...
2025-07-16 01:53:53,789 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:53:53,801 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:53:53,810 - WARNING - app - User 12: Missing balance/margin cache, refreshing...
2025-07-16 01:53:53,845 - WARNING - app - User 13: Missing balance/margin cache, refreshing...
2025-07-16 01:53:53,864 - WARNING - app - User 16: Missing balance/margin cache, refreshing...
2025-07-16 01:53:53,881 - WARNING - app - User 17: Missing balance/margin cache, refreshing...
2025-07-16 01:53:53,897 - WARNING - app - User 18: Missing balance/margin cache, refreshing...
2025-07-16 01:53:53,914 - WARNING - app - User 19: Missing balance/margin cache, refreshing...
2025-07-16 01:53:53,929 - WARNING - app - User 20: Missing balance/margin cache, refreshing...
2025-07-16 01:53:53,947 - WARNING - app - User 21: Missing balance/margin cache, refreshing...
2025-07-16 01:53:53,966 - WARNING - app - User 22: Missing balance/margin cache, refreshing...
2025-07-16 01:53:53,984 - WARNING - app - User 23: Missing balance/margin cache, refreshing...
2025-07-16 01:53:53,999 - WARNING - app - User 25: Missing balance/margin cache, refreshing...
2025-07-16 01:53:54,018 - WARNING - app - User 26: Missing balance/margin cache, refreshing...
2025-07-16 01:53:54,038 - WARNING - app - User 1: Missing balance/margin cache, refreshing...
2025-07-16 01:53:54,055 - WARNING - app - User 2: Missing balance/margin cache, refreshing...
2025-07-16 01:53:54,068 - WARNING - app - User 3: Missing balance/margin cache, refreshing...
2025-07-16 01:53:54,081 - WARNING - app - User 5: Missing balance/margin cache, refreshing...
2025-07-16 01:53:54,094 - WARNING - app - User 6: Missing balance/margin cache, refreshing...
2025-07-16 01:53:54,112 - INFO - app - Cache validation completed
2025-07-16 01:53:54,187 - DEBUG - app.firebase_stream - Firebase listener triggered (474). Event Type: patch, Path: /. Timestamp: 1752656034.1874995
2025-07-16 01:53:54,188 - DEBUG - app.firebase_stream - Prepared batch update for 35 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9950000000', 'o': '37.9890000000'}, 'NZDJPY': {'b': '88.4340000000', 'o': '88.4280000000'}, 'GBPAUD': {'b': '2.0539900000', 'o': '2.0538400000'}, 'BTCUSD': {'b': '118694.100000000
2025-07-16 01:53:54,188 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9950000000', 'o': '37.9890000000'}, 'NZDJPY': {'b': '88.4340000000', 'o': '88.4280000000'}, 'GBPAUD': {'b': '2.0539900000', 'o': '2.0538400000'}, 'BTCUSD': {'b': '118694.100000000...
2025-07-16 01:53:54,189 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:53:54,819 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:53:54,826 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:53:55,838 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:53:55,840 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:53:56,603 - DEBUG - app.firebase_stream - Firebase listener triggered (475). Event Type: patch, Path: /. Timestamp: 1752656036.6030436
2025-07-16 01:53:56,603 - DEBUG - app.firebase_stream - Prepared batch update for 35 symbols from root path for queue. Preview: {'XAGUSD': {'b': '37.9930000000', 'o': '37.9910000000'}, 'NZDJPY': {'b': '88.4270000000', 'o': '88.4190000000'}, 'GBPAUD': {'b': '2.0539800000', 'o': '2.0538700000'}, 'BTCUSD': {'b': '118724.000000000
2025-07-16 01:53:56,604 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'XAGUSD': {'b': '37.9930000000', 'o': '37.9910000000'}, 'NZDJPY': {'b': '88.4270000000', 'o': '88.4190000000'}, 'GBPAUD': {'b': '2.0539800000', 'o': '2.0538700000'}, 'BTCUSD': {'b': '118724.000000000...
2025-07-16 01:53:56,606 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:53:56,841 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:53:56,863 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:53:57,867 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:53:57,871 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:53:58,788 - DEBUG - app.firebase_stream - Firebase listener triggered (476). Event Type: patch, Path: /. Timestamp: 1752656038.7882683
2025-07-16 01:53:58,788 - DEBUG - app.firebase_stream - Prepared batch update for 34 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0332000000', 'o': '13.0306300000'}, 'NZDJPY': {'b': '88.4370000000', 'o': '88.4290000000'}, 'GBPAUD': {'b': '2.0539600000', 'o': '2.0538400000'}, 'BTCUSD': {'b': '118689.000000000
2025-07-16 01:53:58,789 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 1. Data preview: {'GBPSEK': {'b': '13.0332000000', 'o': '13.0306300000'}, 'NZDJPY': {'b': '88.4370000000', 'o': '88.4290000000'}, 'GBPAUD': {'b': '2.0539600000', 'o': '2.0538400000'}, 'BTCUSD': {'b': '118689.000000000...
2025-07-16 01:53:58,792 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:53:58,875 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:53:58,879 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:53:59,892 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:53:59,895 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:54:00,911 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:54:00,916 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:54:01,142 - DEBUG - app.firebase_stream - Firebase listener triggered (477). Event Type: patch, Path: /. Timestamp: 1752656041.1424015
2025-07-16 01:54:01,142 - DEBUG - app.firebase_stream - Prepared batch update for 38 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0327600000', 'o': '13.0302000000'}, 'XAGUSD': {'b': '37.9940000000', 'o': '37.9900000000'}, 'NZDJPY': {'b': '88.4280000000', 'o': '88.4190000000'}, 'GBPAUD': {'b': '2.0540100000',
2025-07-16 01:54:01,144 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0327600000', 'o': '13.0302000000'}, 'XAGUSD': {'b': '37.9940000000', 'o': '37.9900000000'}, 'NZDJPY': {'b': '88.4280000000', 'o': '88.4190000000'}, 'GBPAUD': {'b': '2.0540100000',...
2025-07-16 01:54:01,149 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:54:01,934 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:54:01,939 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:54:02,954 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:54:02,958 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:54:03,392 - DEBUG - app.firebase_stream - Firebase listener triggered (478). Event Type: patch, Path: /. Timestamp: 1752656043.392171
2025-07-16 01:54:03,392 - DEBUG - app.firebase_stream - Prepared batch update for 33 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0323000000', 'o': '13.0297000000'}, 'NZDJPY': {'b': '88.4380000000', 'o': '88.4290000000'}, 'GBPAUD': {'b': '2.0540500000', 'o': '2.0538800000'}, 'USDJPY': {'b': '148.8180000000',
2025-07-16 01:54:03,394 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0323000000', 'o': '13.0297000000'}, 'NZDJPY': {'b': '88.4380000000', 'o': '88.4290000000'}, 'GBPAUD': {'b': '2.0540500000', 'o': '2.0538800000'}, 'USDJPY': {'b': '148.8180000000',...
2025-07-16 01:54:03,397 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:54:03,975 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:54:03,979 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:54:04,992 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:54:04,995 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:54:05,734 - DEBUG - app.firebase_stream - Firebase listener triggered (479). Event Type: patch, Path: /. Timestamp: 1752656045.734115
2025-07-16 01:54:05,734 - DEBUG - app.firebase_stream - Prepared batch update for 27 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0325000000', 'o': '13.0299000000'}, 'XAGUSD': {'b': '37.9930000000', 'o': '37.9900000000'}, 'GBPAUD': {'b': '2.0540500000', 'o': '2.0538700000'}, 'BTCUSD': {'b': '118724.300000000
2025-07-16 01:54:05,736 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0325000000', 'o': '13.0299000000'}, 'XAGUSD': {'b': '37.9930000000', 'o': '37.9900000000'}, 'GBPAUD': {'b': '2.0540500000', 'o': '2.0538700000'}, 'BTCUSD': {'b': '118724.300000000...
2025-07-16 01:54:05,739 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:54:05,998 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:54:06,001 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:54:07,019 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:54:07,023 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:54:07,994 - DEBUG - app.firebase_stream - Firebase listener triggered (480). Event Type: patch, Path: /. Timestamp: 1752656047.9941926
2025-07-16 01:54:07,994 - DEBUG - app.firebase_stream - Prepared batch update for 31 symbols from root path for queue. Preview: {'GBPSEK': {'b': '13.0323000000', 'o': '13.0297000000'}, 'XAGUSD': {'b': '37.9970000000', 'o': '37.9930000000'}, 'NZDJPY': {'b': '88.4300000000', 'o': '88.4260000000'}, 'GBPAUD': {'b': '2.0539900000',
2025-07-16 01:54:07,995 - DEBUG - app.firebase_stream - Successfully queued data for path '/'. Queue size (approx): 0. Data preview: {'GBPSEK': {'b': '13.0323000000', 'o': '13.0297000000'}, 'XAGUSD': {'b': '37.9970000000', 'o': '37.9930000000'}, 'NZDJPY': {'b': '88.4300000000', 'o': '88.4260000000'}, 'GBPAUD': {'b': '2.0539900000',...
2025-07-16 01:54:08,003 - DEBUG - app.firebase_stream - Firebase listener callback finished for event type patch at path /.
2025-07-16 01:54:08,029 - DEBUG - app - BarclaysMarginChecker heartbeat: loop is alive
2025-07-16 01:54:08,038 - DEBUG - app - Fetched 0 live users for Barclays margin check.
2025-07-16 01:54:08,771 - INFO - app - Application shutdown initiated
2025-07-16 01:54:08,772 - INFO - app - Scheduler shutdown completed
2025-07-16 01:54:09,169 - INFO - app.firebase_stream - Firebase event processing task cancelled.
2025-07-16 01:54:10,321 - INFO - app.firebase_stream - Firebase listener closed.
2025-07-16 01:54:10,321 - INFO - app.firebase_stream - Firebase Admin event processing task finished.
2025-07-16 01:54:10,323 - INFO - app - Redis connection closed
2025-07-16 01:54:10,323 - INFO - app - Application shutdown completed
