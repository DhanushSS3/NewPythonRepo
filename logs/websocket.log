2025-07-09 06:41:19,676 - INFO - websocket - Redis publisher task started. Publishing to channel 'market_data_updates'.
2025-07-09 06:41:21,293 - INFO - websocket - --- MINIMAL TEST: ENTERED websocket_endpoint --- Connection ID: 127.0.0.1:51425-1752068481293
2025-07-09 06:41:21,294 - INFO - websocket - WebSocket connection accepted (early) for 127.0.0.1:51425 in 0.001s
2025-07-09 06:41:21,297 - DEBUG - websocket - User 0: Successfully sent loading message
2025-07-09 06:41:21,298 - INFO - websocket - WebSocket auth: token payload={'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1752068572, 'iat': 1752066772}, account_number=5O42G, user_type=demo
2025-07-09 06:41:21,298 - INFO - websocket - WebSocket auth: About to call get_demo_user_by_account_number with account_number=5O42G, user_type=demo
2025-07-09 06:41:21,514 - INFO - websocket - WebSocket auth: get_demo_user_by_account_number(5O42G, demo) returned: <app.database.models.DemoUser object at 0x000001DED63763C0>
2025-07-09 06:41:26,447 - INFO - websocket - [WS] Using order model: DemoUserOrder for user_type=demo, account_number=5O42G
2025-07-09 06:41:26,454 - INFO - websocket - [WS] Open positions from DB for user_id=1: []
2025-07-09 06:41:27,892 - INFO - websocket - --- MINIMAL TEST: ENTERED websocket_endpoint --- Connection ID: 127.0.0.1:51465-1752068487892
2025-07-09 06:41:27,893 - INFO - websocket - WebSocket connection accepted (early) for 127.0.0.1:51465 in 0.000s
2025-07-09 06:41:27,894 - DEBUG - websocket - User 0: Successfully sent loading message
2025-07-09 06:41:27,896 - INFO - websocket - WebSocket auth: token payload={'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1752068572, 'iat': 1752066772}, account_number=5O42G, user_type=demo
2025-07-09 06:41:27,896 - INFO - websocket - WebSocket auth: About to call get_demo_user_by_account_number with account_number=5O42G, user_type=demo
2025-07-09 06:41:27,899 - INFO - websocket - WebSocket auth: get_demo_user_by_account_number(5O42G, demo) returned: <app.database.models.DemoUser object at 0x000001DED6B58180>
2025-07-09 06:41:30,508 - INFO - websocket - [WS] Using order model: DemoUserOrder for user_type=demo, account_number=5O42G
2025-07-09 06:41:30,512 - INFO - websocket - [WS] Open positions from DB for user_id=1: []
2025-07-09 06:41:41,896 - DEBUG - websocket - Cached/updated group-symbol settings for group 'Group B'.
2025-07-09 06:41:41,900 - INFO - websocket - User 1: Fetched 0 open orders directly from database
2025-07-09 06:41:41,905 - INFO - websocket - User 1: Fetched 1 pending orders directly from database
2025-07-09 06:41:41,908 - INFO - websocket - User 1: Updated static orders cache with 0 open orders and 1 pending orders
2025-07-09 06:41:41,939 - INFO - websocket - User 5O42G: Fetching initial market data for 79 symbols from cache (adjusted or last known price)
2025-07-09 06:41:41,954 - DEBUG - websocket - Cached/updated group-symbol settings for group 'Group B'.
2025-07-09 06:41:41,957 - INFO - websocket - User 1: Fetched 0 open orders directly from database
2025-07-09 06:41:41,960 - INFO - websocket - User 1: Fetched 1 pending orders directly from database
2025-07-09 06:41:41,962 - INFO - websocket - User 1: Updated static orders cache with 0 open orders and 1 pending orders
2025-07-09 06:41:41,976 - INFO - websocket - User 5O42G: Fetching initial market data for 79 symbols from cache (adjusted or last known price)
2025-07-09 06:41:42,047 - DEBUG - websocket - User 1: Successfully sent initial connection data
2025-07-09 06:41:42,048 - INFO - websocket - User 5O42G: Sent initial connection data with 48 symbols (fresh from cache)
2025-07-09 06:41:42,080 - INFO - websocket - User 1: WebSocket disconnected while sending initial connection data
2025-07-09 06:41:42,080 - WARNING - websocket - User 5O42G: Failed to send initial connection data, connection may be closed
2025-07-09 06:41:44,259 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 06:41:44,259 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 06:41:44,260 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 06:41:44,588 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 06:41:44,588 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 06:41:44,589 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 06:41:46,834 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 06:41:46,834 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 06:41:46,835 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 06:41:49,097 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 06:41:49,098 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 06:41:49,098 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 06:41:51,401 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 06:41:51,402 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 06:41:51,403 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 06:41:53,695 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 06:41:53,695 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 06:41:53,696 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 06:41:55,951 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 06:41:55,951 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 06:41:55,951 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 06:41:58,247 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 06:41:58,247 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 06:41:58,249 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 06:42:00,531 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 06:42:00,532 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 06:42:00,532 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 06:42:02,901 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 06:42:02,901 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 06:42:02,902 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 06:42:05,163 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 06:42:05,164 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 06:42:05,164 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 06:42:07,433 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 06:42:07,433 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 06:42:07,434 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 06:42:09,772 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 06:42:09,772 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 06:42:09,773 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 06:42:12,037 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 06:42:12,038 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 06:42:12,038 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 06:42:14,331 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 06:42:14,331 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 06:42:14,332 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 06:42:16,632 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 06:42:16,632 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 06:42:16,633 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 06:42:19,086 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 06:42:19,086 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 06:42:19,092 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 06:42:21,272 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 06:42:21,272 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 06:42:21,272 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 06:42:23,449 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 06:42:23,449 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 06:42:23,450 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 06:42:25,745 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 06:42:25,745 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 06:42:25,746 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 06:42:28,184 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 06:42:28,185 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 06:42:28,186 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 06:42:30,429 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 06:42:30,429 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 06:42:30,429 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 06:42:32,731 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 06:42:32,731 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 06:42:32,732 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 06:42:35,040 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 06:42:35,040 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 06:42:35,040 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 06:42:38,108 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 06:42:38,108 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 06:42:38,108 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 06:42:40,428 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 06:42:40,428 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 06:42:40,429 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 06:42:42,772 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 06:42:42,772 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 06:42:42,774 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 06:42:45,310 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 06:42:45,310 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 06:42:45,311 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 06:42:47,665 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 06:42:47,665 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 06:42:47,666 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 06:42:49,886 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 06:42:49,886 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 06:42:49,886 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 06:42:52,134 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 06:42:52,134 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 06:42:52,134 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 06:42:54,444 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 06:42:54,445 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 06:42:54,445 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 06:42:56,745 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 06:42:56,745 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 06:42:56,745 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 06:42:59,141 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 06:42:59,141 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 06:42:59,141 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 06:43:01,390 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 06:43:01,390 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 06:43:01,391 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 06:43:03,690 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 06:43:03,691 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 06:43:03,691 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 06:43:06,009 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 06:43:06,010 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 06:43:06,010 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 06:43:08,343 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 06:43:08,343 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 06:43:08,344 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 06:43:09,225 - INFO - websocket - User 5O42G: WebSocket disconnected by client.
2025-07-09 06:43:09,226 - INFO - websocket - User 5O42G: Cleaning up WebSocket connection.
2025-07-09 06:43:09,235 - INFO - websocket - User 5O42G: Listener task successfully cancelled.
2025-07-09 06:43:09,236 - INFO - websocket - User 5O42G: WebSocket connection fully closed.
2025-07-09 06:43:15,105 - INFO - websocket - --- MINIMAL TEST: ENTERED websocket_endpoint --- Connection ID: 127.0.0.1:51613-1752068595105
2025-07-09 06:43:15,105 - INFO - websocket - WebSocket connection accepted (early) for 127.0.0.1:51613 in 0.001s
2025-07-09 06:43:15,109 - DEBUG - websocket - User 0: Successfully sent loading message
2025-07-09 06:43:15,111 - INFO - websocket - WebSocket auth: token payload={'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1752070392, 'iat': 1752068592}, account_number=5O42G, user_type=demo
2025-07-09 06:43:15,111 - INFO - websocket - WebSocket auth: About to call get_demo_user_by_account_number with account_number=5O42G, user_type=demo
2025-07-09 06:43:15,117 - INFO - websocket - WebSocket auth: get_demo_user_by_account_number(5O42G, demo) returned: <app.database.models.DemoUser object at 0x000001DED646B950>
2025-07-09 06:43:15,120 - INFO - websocket - [WS] Using order model: DemoUserOrder for user_type=demo, account_number=5O42G
2025-07-09 06:43:15,128 - INFO - websocket - [WS] Open positions from DB for user_id=1: []
2025-07-09 06:43:15,803 - DEBUG - websocket - Cached/updated group-symbol settings for group 'Group B'.
2025-07-09 06:43:15,808 - INFO - websocket - User 1: Fetched 0 open orders directly from database
2025-07-09 06:43:15,813 - INFO - websocket - User 1: Fetched 1 pending orders directly from database
2025-07-09 06:43:15,816 - INFO - websocket - User 1: Updated static orders cache with 0 open orders and 1 pending orders
2025-07-09 06:43:15,835 - INFO - websocket - User 5O42G: Fetching initial market data for 79 symbols from cache (adjusted or last known price)
2025-07-09 06:43:15,852 - DEBUG - websocket - User 5O42G: Fallback last price for EURCZK: Buy=25.0001500000, Sell=24.9998500000
2025-07-09 06:43:15,856 - DEBUG - websocket - User 5O42G: Fallback last price for AUDNZD: Buy=1.0002500000, Sell=0.9997500000
2025-07-09 06:43:15,884 - DEBUG - websocket - User 5O42G: Fallback last price for USDTRY: Buy=40.0492100000, Sell=40.0474500000
2025-07-09 06:43:15,908 - DEBUG - websocket - User 5O42G: Fallback last price for AUDSGD: Buy=1.0001500000, Sell=0.9998500000
2025-07-09 06:43:15,928 - DEBUG - websocket - User 1: Successfully sent initial connection data
2025-07-09 06:43:15,928 - INFO - websocket - User 5O42G: Sent initial connection data with 48 symbols (fresh from cache)
2025-07-09 06:43:17,463 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 06:43:17,464 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 06:43:17,465 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 06:43:19,813 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 06:43:19,814 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 06:43:19,814 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 06:43:22,169 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 06:43:22,169 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 06:43:22,169 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 06:43:24,429 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 06:43:24,429 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 06:43:24,429 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 06:43:26,660 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 06:43:26,660 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 06:43:26,661 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 06:43:28,977 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 06:43:28,977 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 06:43:28,977 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 06:43:31,285 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 06:43:31,285 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 06:43:31,286 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 06:43:33,633 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 06:43:33,633 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 06:43:33,634 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 06:43:35,880 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 06:43:35,880 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 06:43:35,881 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 06:43:38,263 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 06:43:38,263 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 06:43:38,264 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 06:43:40,472 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 06:43:40,472 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 06:43:40,474 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 06:43:42,798 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 06:43:42,798 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 06:43:42,800 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 06:43:45,123 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 06:43:45,123 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 06:43:45,124 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 06:43:47,392 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 06:43:47,392 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 06:43:47,393 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 06:43:49,675 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 06:43:49,675 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 06:43:49,675 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 06:43:52,076 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 06:43:52,076 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 06:43:52,077 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 06:43:54,333 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 06:43:54,333 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 06:43:54,333 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 06:43:56,683 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 06:43:56,683 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 06:43:56,684 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 06:43:58,968 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 06:43:58,968 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 06:43:58,969 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 06:44:00,153 - INFO - websocket - User 1: Fetched 0 open orders directly from database
2025-07-09 06:44:00,157 - INFO - websocket - User 1: Fetched 2 pending orders directly from database
2025-07-09 06:44:00,158 - INFO - websocket - User 1: Updated static orders cache with 0 open orders and 2 pending orders
2025-07-09 06:44:00,162 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 06:44:00,168 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 06:44:00,168 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 06:44:00,169 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 06:44:00,169 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 06:44:00,174 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 06:44:00,174 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 06:44:00,176 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 06:44:00,181 - INFO - websocket - User 1: Fetched 0 open orders directly from database
2025-07-09 06:44:00,187 - INFO - websocket - User 1: Fetched 2 pending orders directly from database
2025-07-09 06:44:00,191 - INFO - websocket - User 1: Updated static orders cache with 0 open orders and 2 pending orders
2025-07-09 06:44:01,168 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 06:44:01,168 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 06:44:01,169 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 06:44:03,517 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 06:44:03,517 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 06:44:03,518 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 06:44:05,794 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 06:44:05,794 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 06:44:05,796 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 06:44:08,182 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 06:44:08,182 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 06:44:08,183 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 06:44:10,530 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 06:44:10,530 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 06:44:10,540 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 06:44:12,635 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 06:44:12,635 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 06:44:12,636 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 06:44:14,993 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 06:44:14,993 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 06:44:14,994 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 06:44:17,339 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 06:44:17,339 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 06:44:17,339 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 06:44:19,583 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 06:44:19,583 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 06:44:19,583 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 06:44:21,938 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 06:44:21,938 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 06:44:21,938 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 06:44:24,191 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 06:44:24,191 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 06:44:24,191 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 06:44:26,569 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 06:44:26,569 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 06:44:26,569 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 06:44:28,812 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 06:44:28,812 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 06:44:28,812 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 06:44:31,110 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 06:44:31,110 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 06:44:31,110 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 06:44:33,414 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 06:44:33,414 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 06:44:33,414 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 06:44:35,760 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 06:44:35,760 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 06:44:35,761 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 06:44:38,124 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 06:44:38,124 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 06:44:38,125 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 06:44:40,372 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 06:44:40,372 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 06:44:40,372 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 06:44:42,634 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 06:44:42,634 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 06:44:42,637 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 06:44:44,986 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 06:44:44,986 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 06:44:44,987 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 06:44:47,233 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 06:44:47,233 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 06:44:47,233 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 06:44:49,619 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 06:44:49,619 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 06:44:49,620 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 06:44:51,870 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 06:44:51,870 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 06:44:51,870 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 06:44:54,131 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 06:44:54,131 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 06:44:54,132 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 06:44:56,490 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 06:44:56,490 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 06:44:56,491 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 06:44:57,002 - INFO - websocket - User 5O42G: WebSocket disconnected by client.
2025-07-09 06:44:57,002 - INFO - websocket - User 5O42G: Cleaning up WebSocket connection.
2025-07-09 06:44:57,015 - INFO - websocket - User 5O42G: Listener task successfully cancelled.
2025-07-09 06:44:57,015 - INFO - websocket - User 5O42G: WebSocket connection fully closed.
2025-07-09 08:40:48,022 - INFO - websocket - Redis publisher task started. Publishing to channel 'market_data_updates'.
2025-07-09 08:41:37,412 - INFO - websocket - --- MINIMAL TEST: ENTERED websocket_endpoint --- Connection ID: 127.0.0.1:53630-1752075697412
2025-07-09 08:41:37,413 - INFO - websocket - WebSocket connection accepted (early) for 127.0.0.1:53630 in 0.001s
2025-07-09 08:41:37,416 - DEBUG - websocket - User 0: Successfully sent loading message
2025-07-09 08:41:37,417 - INFO - websocket - WebSocket auth: token payload={'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1752077495, 'iat': 1752075695}, account_number=5O42G, user_type=demo
2025-07-09 08:41:37,417 - INFO - websocket - WebSocket auth: About to call get_demo_user_by_account_number with account_number=5O42G, user_type=demo
2025-07-09 08:41:37,424 - INFO - websocket - WebSocket auth: get_demo_user_by_account_number(5O42G, demo) returned: <app.database.models.DemoUser object at 0x000001DDA0FA2C40>
2025-07-09 08:41:37,426 - INFO - websocket - [WS] Using order model: DemoUserOrder for user_type=demo, account_number=5O42G
2025-07-09 08:41:37,431 - INFO - websocket - [WS] Open positions from DB for user_id=1: []
2025-07-09 08:41:38,020 - DEBUG - websocket - Cached/updated group-symbol settings for group 'Group B'.
2025-07-09 08:41:38,024 - INFO - websocket - User 1: Fetched 0 open orders directly from database
2025-07-09 08:41:38,027 - INFO - websocket - User 1: Fetched 2 pending orders directly from database
2025-07-09 08:41:38,028 - INFO - websocket - User 1: Updated static orders cache with 0 open orders and 2 pending orders
2025-07-09 08:41:38,042 - INFO - websocket - User 5O42G: Fetching initial market data for 79 symbols from cache (adjusted or last known price)
2025-07-09 08:41:38,052 - DEBUG - websocket - User 5O42G: Fallback last price for EURCZK: Buy=25.0001500000, Sell=24.9998500000
2025-07-09 08:41:38,053 - DEBUG - websocket - User 5O42G: Fallback last price for AUDNZD: Buy=1.0002500000, Sell=0.9997500000
2025-07-09 08:41:38,075 - DEBUG - websocket - User 5O42G: Fallback last price for USDTRY: Buy=40.0492100000, Sell=40.0474500000
2025-07-09 08:41:38,100 - DEBUG - websocket - User 5O42G: Fallback last price for AUDSGD: Buy=1.0001500000, Sell=0.9998500000
2025-07-09 08:41:38,127 - DEBUG - websocket - User 1: Successfully sent initial connection data
2025-07-09 08:41:38,127 - INFO - websocket - User 5O42G: Sent initial connection data with 48 symbols (fresh from cache)
2025-07-09 08:41:41,704 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 08:41:41,705 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 08:41:41,705 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 08:41:42,036 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 08:41:42,036 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 08:41:42,037 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 08:41:44,338 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 08:41:44,338 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 08:41:44,339 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 08:41:46,625 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 08:41:46,625 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 08:41:46,626 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 08:41:48,973 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 08:41:48,973 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 08:41:48,974 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 08:41:50,610 - INFO - websocket - User 1: Fetched 0 open orders directly from database
2025-07-09 08:41:50,615 - INFO - websocket - User 1: Fetched 3 pending orders directly from database
2025-07-09 08:41:50,618 - INFO - websocket - User 1: Updated static orders cache with 0 open orders and 3 pending orders
2025-07-09 08:41:50,624 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 08:41:50,629 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 08:41:50,629 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 08:41:50,630 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 08:41:50,631 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 08:41:50,637 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 08:41:50,637 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 08:41:50,637 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 08:41:50,639 - INFO - websocket - User 1: Fetched 0 open orders directly from database
2025-07-09 08:41:50,643 - INFO - websocket - User 1: Fetched 3 pending orders directly from database
2025-07-09 08:41:50,645 - INFO - websocket - User 1: Updated static orders cache with 0 open orders and 3 pending orders
2025-07-09 08:41:51,231 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 08:41:51,231 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 08:41:51,232 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 08:41:53,539 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 08:41:53,539 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 08:41:53,540 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 08:41:55,871 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 08:41:55,872 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 08:41:55,873 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 08:41:56,573 - INFO - websocket - User 1: Fetched 0 open orders directly from database
2025-07-09 08:41:56,576 - INFO - websocket - User 1: Fetched 4 pending orders directly from database
2025-07-09 08:41:56,579 - INFO - websocket - User 1: Updated static orders cache with 0 open orders and 4 pending orders
2025-07-09 08:41:56,582 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 08:41:56,586 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 08:41:56,586 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 08:41:56,587 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 08:41:56,587 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 08:41:56,592 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 08:41:56,592 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 08:41:56,593 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 08:41:56,597 - INFO - websocket - User 1: Fetched 0 open orders directly from database
2025-07-09 08:41:56,604 - INFO - websocket - User 1: Fetched 4 pending orders directly from database
2025-07-09 08:41:56,607 - INFO - websocket - User 1: Updated static orders cache with 0 open orders and 4 pending orders
2025-07-09 08:41:58,684 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 08:41:58,684 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 08:41:58,684 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 08:42:00,421 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 08:42:00,421 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 08:42:00,422 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 08:42:02,696 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 08:42:02,696 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 08:42:02,697 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 08:42:05,048 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 08:42:05,048 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 08:42:05,049 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 08:42:05,111 - INFO - websocket - User 1: Fetched 0 open orders directly from database
2025-07-09 08:42:05,121 - INFO - websocket - User 1: Fetched 3 pending orders directly from database
2025-07-09 08:42:05,124 - INFO - websocket - User 1: Updated static orders cache with 0 open orders and 3 pending orders
2025-07-09 08:42:05,128 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 08:42:05,134 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 08:42:05,135 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 08:42:05,135 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 08:42:05,136 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 08:42:05,141 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 08:42:05,141 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 08:42:05,142 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 08:42:07,293 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 08:42:07,293 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 08:42:07,294 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 08:42:09,528 - INFO - websocket - User 1: Fetched 0 open orders directly from database
2025-07-09 08:42:09,532 - INFO - websocket - User 1: Fetched 2 pending orders directly from database
2025-07-09 08:42:09,533 - INFO - websocket - User 1: Updated static orders cache with 0 open orders and 2 pending orders
2025-07-09 08:42:09,536 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 08:42:09,539 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 08:42:09,539 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 08:42:09,543 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 08:42:09,569 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 08:42:09,582 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 08:42:09,582 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 08:42:09,586 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 08:42:09,608 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 08:42:09,608 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 08:42:09,609 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 08:42:11,946 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 08:42:11,946 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 08:42:11,947 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 08:42:14,247 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 08:42:14,248 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 08:42:14,250 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 08:42:16,590 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 08:42:16,590 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 08:42:16,592 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 08:42:18,807 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 08:42:18,807 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 08:42:18,808 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 08:42:21,105 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 08:42:21,105 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 08:42:21,106 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 08:42:23,726 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 08:42:23,726 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 08:42:23,726 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 08:42:25,669 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 08:42:25,670 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 08:42:25,670 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 08:42:27,955 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 08:42:27,955 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 08:42:27,956 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 08:42:30,918 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 08:42:30,918 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 08:42:30,919 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 08:42:33,553 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 08:42:33,553 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 08:42:33,554 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 08:42:35,490 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 08:42:35,490 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 08:42:35,491 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 08:42:37,775 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 08:42:37,775 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 08:42:37,776 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 08:42:40,638 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 08:42:40,638 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 08:42:40,638 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 08:42:43,027 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 08:42:43,027 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 08:42:43,028 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 08:42:45,189 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 08:42:45,190 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 08:42:45,190 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 08:42:47,478 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 08:42:47,478 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 08:42:47,479 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 08:42:49,767 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 08:42:49,767 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 08:42:49,767 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 08:42:52,063 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 08:42:52,063 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 08:42:52,064 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 08:42:54,374 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 08:42:54,374 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 08:42:54,374 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 08:42:56,882 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 08:42:56,883 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 08:42:56,884 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 08:42:59,166 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 08:42:59,166 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 08:42:59,166 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 08:43:01,451 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 08:43:01,451 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 08:43:01,452 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 08:43:03,767 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 08:43:03,767 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 08:43:03,767 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 08:43:06,145 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 08:43:06,145 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 08:43:06,146 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 08:43:08,434 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 08:43:08,434 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 08:43:08,435 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 08:43:12,125 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 08:43:12,125 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 08:43:12,125 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 08:43:13,015 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 08:43:13,015 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 08:43:13,016 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 08:43:15,303 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 08:43:15,303 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 08:43:15,304 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 08:43:17,586 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 08:43:17,586 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 08:43:17,586 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 08:43:20,255 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 08:43:20,255 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 08:43:20,255 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 08:43:22,341 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 08:43:22,341 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 08:43:22,341 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 08:43:24,423 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 08:43:24,423 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 08:43:24,423 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 08:43:26,741 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 08:43:26,741 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 08:43:26,741 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 08:43:29,070 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 08:43:29,070 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 08:43:29,070 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 08:43:31,416 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 08:43:31,416 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 08:43:31,416 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 08:43:33,663 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 08:43:33,663 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 08:43:33,663 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 08:43:35,939 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 08:43:35,939 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 08:43:35,940 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 08:43:38,250 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 08:43:38,250 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 08:43:38,250 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 08:43:40,545 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 08:43:40,545 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 08:43:40,546 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 08:43:43,058 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 08:43:43,058 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 08:43:43,059 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 08:43:43,123 - INFO - websocket - User 1: Fetched 0 open orders directly from database
2025-07-09 08:43:43,127 - INFO - websocket - User 1: Fetched 3 pending orders directly from database
2025-07-09 08:43:43,128 - INFO - websocket - User 1: Updated static orders cache with 0 open orders and 3 pending orders
2025-07-09 08:43:43,131 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 08:43:43,134 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 08:43:43,134 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 08:43:43,135 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 08:43:43,135 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 08:43:43,141 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 08:43:43,141 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 08:43:43,142 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 08:43:43,147 - INFO - websocket - User 1: Fetched 0 open orders directly from database
2025-07-09 08:43:43,165 - INFO - websocket - User 1: Fetched 3 pending orders directly from database
2025-07-09 08:43:43,170 - INFO - websocket - User 1: Updated static orders cache with 0 open orders and 3 pending orders
2025-07-09 08:43:45,106 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 08:43:45,106 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 08:43:45,106 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 08:43:47,392 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 08:43:47,392 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 08:43:47,393 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 08:43:49,713 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 08:43:49,713 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 08:43:49,714 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 08:43:52,085 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 08:43:52,085 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 08:43:52,086 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 08:43:54,302 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 08:43:54,302 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 08:43:54,303 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 08:43:56,564 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 08:43:56,564 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 08:43:56,565 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 08:43:58,843 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 08:43:58,844 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 08:43:58,844 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 08:44:00,987 - INFO - websocket - User 5O42G: WebSocket disconnected by client.
2025-07-09 08:44:00,987 - INFO - websocket - User 5O42G: Cleaning up WebSocket connection.
2025-07-09 08:44:00,989 - INFO - websocket - User 5O42G: Listener task successfully cancelled.
2025-07-09 08:44:00,989 - INFO - websocket - User 5O42G: WebSocket connection fully closed.
2025-07-09 08:44:03,471 - INFO - websocket - Redis publisher task cancelled.
2025-07-09 08:44:03,471 - INFO - websocket - Redis publisher task finished.
2025-07-09 09:15:49,523 - INFO - websocket - Redis publisher task started. Publishing to channel 'market_data_updates'.
2025-07-09 09:16:07,368 - INFO - websocket - --- MINIMAL TEST: ENTERED websocket_endpoint --- Connection ID: 127.0.0.1:55565-1752077767368
2025-07-09 09:16:07,372 - INFO - websocket - WebSocket connection accepted (early) for 127.0.0.1:55565 in 0.003s
2025-07-09 09:16:07,379 - DEBUG - websocket - User 0: Successfully sent loading message
2025-07-09 09:16:07,381 - INFO - websocket - WebSocket auth: token payload={'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1752079565, 'iat': 1752077765}, account_number=5O42G, user_type=demo
2025-07-09 09:16:07,381 - INFO - websocket - WebSocket auth: About to call get_demo_user_by_account_number with account_number=5O42G, user_type=demo
2025-07-09 09:16:07,387 - INFO - websocket - WebSocket auth: get_demo_user_by_account_number(5O42G, demo) returned: <app.database.models.DemoUser object at 0x000002A2639A7360>
2025-07-09 09:16:07,388 - INFO - websocket - [WS] Using order model: DemoUserOrder for user_type=demo, account_number=5O42G
2025-07-09 09:16:07,394 - INFO - websocket - [WS] Open positions from DB for user_id=1: []
2025-07-09 09:16:07,736 - DEBUG - websocket - Cached/updated group-symbol settings for group 'Group B'.
2025-07-09 09:16:07,737 - INFO - websocket - User 1: Fetched 0 open orders directly from database
2025-07-09 09:16:07,740 - INFO - websocket - User 1: Fetched 3 pending orders directly from database
2025-07-09 09:16:07,740 - INFO - websocket - User 1: Updated static orders cache with 0 open orders and 3 pending orders
2025-07-09 09:16:07,745 - INFO - websocket - User 5O42G: Fetching initial market data for 79 symbols from cache (adjusted or last known price)
2025-07-09 09:16:07,746 - DEBUG - websocket - User 5O42G: Fallback last price for USDCHF: Buy=0.7959800000, Sell=0.7956500000
2025-07-09 09:16:07,748 - DEBUG - websocket - User 5O42G: Fallback last price for EURPLN: Buy=4.2412900000, Sell=4.2403300000
2025-07-09 09:16:07,749 - DEBUG - websocket - User 5O42G: Fallback last price for EURCZK: Buy=25.0001500000, Sell=24.9998500000
2025-07-09 09:16:07,749 - DEBUG - websocket - User 5O42G: Fallback last price for AUDNZD: Buy=1.0002500000, Sell=0.9997500000
2025-07-09 09:16:07,750 - DEBUG - websocket - User 5O42G: Fallback last price for D30: Buy=24538.5200000000, Sell=24538.5200000000
2025-07-09 09:16:07,751 - DEBUG - websocket - User 5O42G: Fallback last price for AUDCAD: Buy=0.8940500000, Sell=0.8940200000
2025-07-09 09:16:07,752 - DEBUG - websocket - User 5O42G: Fallback last price for EURJPY: Buy=171.5645000000, Sell=171.5355000000
2025-07-09 09:16:07,753 - DEBUG - websocket - User 5O42G: Fallback last price for CADJPY: Buy=107.0175000000, Sell=106.9895000000
2025-07-09 09:16:07,754 - DEBUG - websocket - User 5O42G: Fallback last price for USDCZK: Buy=21.0650000000, Sell=20.9950000000
2025-07-09 09:16:07,754 - DEBUG - websocket - User 5O42G: Fallback last price for USDSEK: Buy=9.5296200000, Sell=9.5288600000
2025-07-09 09:16:07,755 - DEBUG - websocket - User 5O42G: Fallback last price for AUDUSD: Buy=0.6532800000, Sell=0.6529600000
2025-07-09 09:16:07,756 - DEBUG - websocket - User 5O42G: Fallback last price for USDJPY: Buy=146.5280000000, Sell=146.4270000000
2025-07-09 09:16:07,757 - DEBUG - websocket - User 5O42G: Fallback last price for EURUSD: Buy=1.1714100000, Sell=1.1712400000
2025-07-09 09:16:07,757 - DEBUG - websocket - User 5O42G: Fallback last price for USDCAD: Buy=1.3690900000, Sell=1.3687700000
2025-07-09 09:16:07,758 - DEBUG - websocket - User 5O42G: Fallback last price for GBPNOK: Buy=13.7381500000, Sell=13.7358500000
2025-07-09 09:16:07,760 - DEBUG - websocket - User 5O42G: Fallback last price for CHFJPY: Buy=184.0850000000, Sell=184.0350000000
2025-07-09 09:16:07,760 - DEBUG - websocket - User 5O42G: Fallback last price for NOKSEK: Buy=0.9439250000, Sell=0.9435150000
2025-07-09 09:16:07,762 - DEBUG - websocket - User 5O42G: Fallback last price for USDTRY: Buy=40.0492100000, Sell=40.0474500000
2025-07-09 09:16:07,762 - DEBUG - websocket - User 5O42G: Fallback last price for GBPNZD: Buy=2.2706600000, Sell=2.2701100000
2025-07-09 09:16:07,763 - DEBUG - websocket - User 5O42G: Fallback last price for JP225: Buy=39828.6800000000, Sell=39824.6800000000
2025-07-09 09:16:07,763 - DEBUG - websocket - User 5O42G: Fallback last price for EURGBP: Buy=0.8610800000, Sell=0.8607400000
2025-07-09 09:16:07,763 - DEBUG - websocket - User 5O42G: Fallback last price for EURNZD: Buy=1.9547350000, Sell=1.9543650000
2025-07-09 09:16:07,764 - DEBUG - websocket - User 5O42G: Fallback last price for CADCHF: Buy=0.5814550000, Sell=0.5811450000
2025-07-09 09:16:07,764 - DEBUG - websocket - User 5O42G: Fallback last price for EURZAR: Buy=20.8824200000, Sell=20.8760200000
2025-07-09 09:16:07,764 - DEBUG - websocket - User 5O42G: Fallback last price for NZDJPY: Buy=87.7935000000, Sell=87.7595000000
2025-07-09 09:16:07,766 - DEBUG - websocket - User 5O42G: Fallback last price for US30: Buy=44413.6000000000, Sell=44411.6000000000
2025-07-09 09:16:07,767 - DEBUG - websocket - User 5O42G: Fallback last price for USDZAR: Buy=17.8287500000, Sell=17.8235600000
2025-07-09 09:16:07,767 - DEBUG - websocket - User 5O42G: Fallback last price for NZDCAD: Buy=0.8204800000, Sell=0.8201100000
2025-07-09 09:16:07,767 - DEBUG - websocket - User 5O42G: Fallback last price for EURCHF: Buy=0.9322800000, Sell=0.9319000000
2025-07-09 09:16:07,768 - DEBUG - websocket - User 5O42G: Fallback last price for AUDJPY: Buy=95.7160000000, Sell=95.6100000000
2025-07-09 09:16:07,768 - DEBUG - websocket - User 5O42G: Fallback last price for EURCAD: Buy=1.6034900000, Sell=1.6032800000
2025-07-09 09:16:07,769 - DEBUG - websocket - User 5O42G: Fallback last price for USDSGD: Buy=1.2808100000, Sell=1.2804700000
2025-07-09 09:16:07,770 - DEBUG - websocket - User 5O42G: Fallback last price for AUDSGD: Buy=1.0001500000, Sell=0.9998500000
2025-07-09 09:16:07,770 - DEBUG - websocket - User 5O42G: Fallback last price for USDCNH: Buy=7.1850000000, Sell=7.1847000000
2025-07-09 09:16:07,770 - DEBUG - websocket - User 5O42G: Fallback last price for SGDJPY: Buy=114.3865000000, Sell=114.3445000000
2025-07-09 09:16:07,771 - DEBUG - websocket - User 5O42G: Fallback last price for USDNOK: Buy=10.0974300000, Sell=10.0961500000
2025-07-09 09:16:07,771 - DEBUG - websocket - User 5O42G: Fallback last price for EURNOK: Buy=11.8269900000, Sell=11.8254600000
2025-07-09 09:16:07,771 - DEBUG - websocket - User 5O42G: Fallback last price for GBPAUD: Buy=2.0834300000, Sell=2.0830100000
2025-07-09 09:16:07,772 - DEBUG - websocket - User 5O42G: Fallback last price for CHFSGD: Buy=1.6094950000, Sell=1.6090050000
2025-07-09 09:16:07,773 - DEBUG - websocket - User 5O42G: Fallback last price for XAGUSD: Buy=36.3550000000, Sell=36.3200000000
2025-07-09 09:16:07,773 - DEBUG - websocket - User 5O42G: Fallback last price for EURSEK: Buy=11.1623400000, Sell=11.1602900000
2025-07-09 09:16:07,773 - DEBUG - websocket - User 5O42G: Fallback last price for AUDCHF: Buy=0.5199600000, Sell=0.5195100000
2025-07-09 09:16:07,774 - DEBUG - websocket - User 5O42G: Fallback last price for GBPSEK: Buy=12.9662500000, Sell=12.9633500000
2025-07-09 09:16:07,774 - DEBUG - websocket - User 5O42G: Fallback last price for EURSGD: Buy=1.5001850000, Sell=1.4998450000
2025-07-09 09:16:07,775 - DEBUG - websocket - User 5O42G: Fallback last price for GBPUSD: Buy=1.3607400000, Sell=1.3605300000
2025-07-09 09:16:07,775 - DEBUG - websocket - User 5O42G: Fallback last price for BTCUSD: Buy=109757.7000000000, Sell=109657.6000000000
2025-07-09 09:16:07,776 - DEBUG - websocket - User 5O42G: Fallback last price for EURAUD: Buy=1.7936100000, Sell=1.7932400000
2025-07-09 09:16:07,776 - DEBUG - websocket - User 5O42G: Fallback last price for NZDUSD: Buy=0.5994200000, Sell=0.5991000000
2025-07-09 09:16:07,777 - DEBUG - websocket - User 1: Successfully sent initial connection data
2025-07-09 09:16:07,777 - INFO - websocket - User 5O42G: Sent initial connection data with 48 symbols (fresh from cache)
2025-07-09 09:16:10,710 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 09:16:10,710 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 09:16:10,710 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:16:13,164 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 09:16:13,164 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 09:16:13,165 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:16:13,413 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 09:16:13,413 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 09:16:13,413 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:16:15,643 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 09:16:15,643 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 09:16:15,643 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:16:17,906 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 09:16:17,906 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 09:16:17,906 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:16:20,686 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 09:16:20,686 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 09:16:20,686 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:16:22,919 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 09:16:22,919 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 09:16:22,919 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:16:24,787 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 09:16:24,787 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 09:16:24,787 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:16:27,141 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 09:16:27,141 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 09:16:27,141 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:16:29,516 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 09:16:29,517 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 09:16:29,517 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:16:31,620 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 09:16:31,620 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 09:16:31,620 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:16:33,937 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 09:16:33,937 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 09:16:33,938 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:16:36,158 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 09:16:36,158 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 09:16:36,158 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:16:38,566 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 09:16:38,566 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 09:16:38,566 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:16:40,844 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 09:16:40,844 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 09:16:40,845 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:16:43,192 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 09:16:43,192 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 09:16:43,192 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:16:46,292 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 09:16:46,292 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 09:16:46,293 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:16:47,625 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 09:16:47,625 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 09:16:47,625 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:16:51,390 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 09:16:51,390 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 09:16:51,390 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:16:52,241 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 09:16:52,241 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 09:16:52,242 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:16:54,560 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 09:16:54,560 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 09:16:54,561 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:16:57,022 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 09:16:57,022 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 09:16:57,022 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:16:59,163 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 09:16:59,163 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 09:16:59,163 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:17:01,833 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 09:17:01,834 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 09:17:01,834 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:17:03,881 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 09:17:03,881 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 09:17:03,881 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:17:06,143 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 09:17:06,143 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 09:17:06,144 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:17:08,298 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 09:17:08,298 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 09:17:08,299 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:17:10,615 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 09:17:10,615 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 09:17:10,616 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:17:13,054 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 09:17:13,054 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 09:17:13,055 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:17:13,200 - INFO - websocket - User 5O42G: WebSocket disconnected by client.
2025-07-09 09:17:13,201 - INFO - websocket - User 5O42G: Cleaning up WebSocket connection.
2025-07-09 09:17:13,205 - INFO - websocket - User 5O42G: Listener task successfully cancelled.
2025-07-09 09:17:13,205 - INFO - websocket - User 5O42G: WebSocket connection fully closed.
2025-07-09 09:17:15,295 - INFO - websocket - Redis publisher task cancelled.
2025-07-09 09:17:15,295 - INFO - websocket - Redis publisher task finished.
2025-07-09 09:17:21,315 - INFO - websocket - Redis publisher task started. Publishing to channel 'market_data_updates'.
2025-07-09 09:17:22,731 - INFO - websocket - --- MINIMAL TEST: ENTERED websocket_endpoint --- Connection ID: 127.0.0.1:55653-1752077842731
2025-07-09 09:17:22,732 - INFO - websocket - WebSocket connection accepted (early) for 127.0.0.1:55653 in 0.001s
2025-07-09 09:17:22,734 - DEBUG - websocket - User 0: Successfully sent loading message
2025-07-09 09:17:22,735 - INFO - websocket - WebSocket auth: token payload={'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1752079565, 'iat': 1752077765}, account_number=5O42G, user_type=demo
2025-07-09 09:17:22,735 - INFO - websocket - WebSocket auth: About to call get_demo_user_by_account_number with account_number=5O42G, user_type=demo
2025-07-09 09:17:22,901 - INFO - websocket - WebSocket auth: get_demo_user_by_account_number(5O42G, demo) returned: <app.database.models.DemoUser object at 0x00000231671B6270>
2025-07-09 09:17:28,819 - INFO - websocket - [WS] Using order model: DemoUserOrder for user_type=demo, account_number=5O42G
2025-07-09 09:17:28,824 - INFO - websocket - [WS] Open positions from DB for user_id=1: []
2025-07-09 09:17:39,492 - DEBUG - websocket - Cached/updated group-symbol settings for group 'Group B'.
2025-07-09 09:17:39,498 - INFO - websocket - User 1: Fetched 0 open orders directly from database
2025-07-09 09:17:39,504 - INFO - websocket - User 1: Fetched 3 pending orders directly from database
2025-07-09 09:17:39,506 - INFO - websocket - User 1: Updated static orders cache with 0 open orders and 3 pending orders
2025-07-09 09:17:39,519 - INFO - websocket - User 5O42G: Fetching initial market data for 79 symbols from cache (adjusted or last known price)
2025-07-09 09:17:39,521 - DEBUG - websocket - User 5O42G: Fallback last price for USDCHF: Buy=0.7959800000, Sell=0.7956500000
2025-07-09 09:17:39,524 - DEBUG - websocket - User 5O42G: Fallback last price for EURPLN: Buy=4.2412900000, Sell=4.2403300000
2025-07-09 09:17:39,527 - DEBUG - websocket - User 5O42G: Fallback last price for EURCZK: Buy=25.0001500000, Sell=24.9998500000
2025-07-09 09:17:39,529 - DEBUG - websocket - User 5O42G: Fallback last price for AUDNZD: Buy=1.0002500000, Sell=0.9997500000
2025-07-09 09:17:39,531 - DEBUG - websocket - User 5O42G: Fallback last price for D30: Buy=24538.5200000000, Sell=24538.5200000000
2025-07-09 09:17:39,533 - DEBUG - websocket - User 5O42G: Fallback last price for AUDCAD: Buy=0.8940500000, Sell=0.8940200000
2025-07-09 09:17:39,536 - DEBUG - websocket - User 5O42G: Fallback last price for EURJPY: Buy=171.5645000000, Sell=171.5355000000
2025-07-09 09:17:39,540 - DEBUG - websocket - User 5O42G: Fallback last price for CADJPY: Buy=107.0175000000, Sell=106.9895000000
2025-07-09 09:17:39,542 - DEBUG - websocket - User 5O42G: Fallback last price for USDCZK: Buy=21.0650000000, Sell=20.9950000000
2025-07-09 09:17:39,544 - DEBUG - websocket - User 5O42G: Fallback last price for USDSEK: Buy=9.5296200000, Sell=9.5288600000
2025-07-09 09:17:39,547 - DEBUG - websocket - User 5O42G: Fallback last price for AUDUSD: Buy=0.6532800000, Sell=0.6529600000
2025-07-09 09:17:39,550 - DEBUG - websocket - User 5O42G: Fallback last price for USDJPY: Buy=146.5280000000, Sell=146.4270000000
2025-07-09 09:17:39,554 - DEBUG - websocket - User 5O42G: Fallback last price for EURUSD: Buy=1.1714100000, Sell=1.1712400000
2025-07-09 09:17:39,556 - DEBUG - websocket - User 5O42G: Fallback last price for USDCAD: Buy=1.3690900000, Sell=1.3687700000
2025-07-09 09:17:39,558 - DEBUG - websocket - User 5O42G: Fallback last price for GBPNOK: Buy=13.7381500000, Sell=13.7358500000
2025-07-09 09:17:39,561 - DEBUG - websocket - User 5O42G: Fallback last price for CHFJPY: Buy=184.0850000000, Sell=184.0350000000
2025-07-09 09:17:39,564 - DEBUG - websocket - User 5O42G: Fallback last price for NOKSEK: Buy=0.9439250000, Sell=0.9435150000
2025-07-09 09:17:39,568 - DEBUG - websocket - User 5O42G: Fallback last price for USDTRY: Buy=40.0492100000, Sell=40.0474500000
2025-07-09 09:17:39,570 - DEBUG - websocket - User 5O42G: Fallback last price for GBPNZD: Buy=2.2706600000, Sell=2.2701100000
2025-07-09 09:17:39,573 - DEBUG - websocket - User 5O42G: Fallback last price for JP225: Buy=39828.6800000000, Sell=39824.6800000000
2025-07-09 09:17:39,575 - DEBUG - websocket - User 5O42G: Fallback last price for EURGBP: Buy=0.8610800000, Sell=0.8607400000
2025-07-09 09:17:39,577 - DEBUG - websocket - User 5O42G: Fallback last price for EURNZD: Buy=1.9547350000, Sell=1.9543650000
2025-07-09 09:17:39,579 - DEBUG - websocket - User 5O42G: Fallback last price for CADCHF: Buy=0.5814550000, Sell=0.5811450000
2025-07-09 09:17:39,581 - DEBUG - websocket - User 5O42G: Fallback last price for EURZAR: Buy=20.8824200000, Sell=20.8760200000
2025-07-09 09:17:39,584 - DEBUG - websocket - User 5O42G: Fallback last price for NZDJPY: Buy=87.7935000000, Sell=87.7595000000
2025-07-09 09:17:39,588 - DEBUG - websocket - User 5O42G: Fallback last price for US30: Buy=44413.6000000000, Sell=44411.6000000000
2025-07-09 09:17:39,591 - DEBUG - websocket - User 5O42G: Fallback last price for USDZAR: Buy=17.8287500000, Sell=17.8235600000
2025-07-09 09:17:39,592 - DEBUG - websocket - User 5O42G: Fallback last price for NZDCAD: Buy=0.8204800000, Sell=0.8201100000
2025-07-09 09:17:39,593 - DEBUG - websocket - User 5O42G: Fallback last price for EURCHF: Buy=0.9322800000, Sell=0.9319000000
2025-07-09 09:17:39,594 - DEBUG - websocket - User 5O42G: Fallback last price for AUDJPY: Buy=95.7160000000, Sell=95.6100000000
2025-07-09 09:17:39,596 - DEBUG - websocket - User 5O42G: Fallback last price for EURCAD: Buy=1.6034900000, Sell=1.6032800000
2025-07-09 09:17:39,599 - DEBUG - websocket - User 5O42G: Fallback last price for USDSGD: Buy=1.2808100000, Sell=1.2804700000
2025-07-09 09:17:39,601 - DEBUG - websocket - User 5O42G: Fallback last price for AUDSGD: Buy=1.0001500000, Sell=0.9998500000
2025-07-09 09:17:39,602 - DEBUG - websocket - User 5O42G: Fallback last price for USDCNH: Buy=7.1850000000, Sell=7.1847000000
2025-07-09 09:17:39,602 - DEBUG - websocket - User 5O42G: Fallback last price for SGDJPY: Buy=114.3865000000, Sell=114.3445000000
2025-07-09 09:17:39,603 - DEBUG - websocket - User 5O42G: Fallback last price for USDNOK: Buy=10.0974300000, Sell=10.0961500000
2025-07-09 09:17:39,604 - DEBUG - websocket - User 5O42G: Fallback last price for EURNOK: Buy=11.8269900000, Sell=11.8254600000
2025-07-09 09:17:39,605 - DEBUG - websocket - User 5O42G: Fallback last price for GBPAUD: Buy=2.0834300000, Sell=2.0830100000
2025-07-09 09:17:39,607 - DEBUG - websocket - User 5O42G: Fallback last price for CHFSGD: Buy=1.6094950000, Sell=1.6090050000
2025-07-09 09:17:39,610 - DEBUG - websocket - User 5O42G: Fallback last price for XAGUSD: Buy=36.3550000000, Sell=36.3200000000
2025-07-09 09:17:39,612 - DEBUG - websocket - User 5O42G: Fallback last price for EURSEK: Buy=11.1623400000, Sell=11.1602900000
2025-07-09 09:17:39,613 - DEBUG - websocket - User 5O42G: Fallback last price for AUDCHF: Buy=0.5199600000, Sell=0.5195100000
2025-07-09 09:17:39,614 - DEBUG - websocket - User 5O42G: Fallback last price for GBPSEK: Buy=12.9662500000, Sell=12.9633500000
2025-07-09 09:17:39,615 - DEBUG - websocket - User 5O42G: Fallback last price for EURSGD: Buy=1.5001850000, Sell=1.4998450000
2025-07-09 09:17:39,617 - DEBUG - websocket - User 5O42G: Fallback last price for GBPUSD: Buy=1.3607400000, Sell=1.3605300000
2025-07-09 09:17:39,620 - DEBUG - websocket - User 5O42G: Fallback last price for BTCUSD: Buy=109757.7000000000, Sell=109657.6000000000
2025-07-09 09:17:39,622 - DEBUG - websocket - User 5O42G: Fallback last price for EURAUD: Buy=1.7936100000, Sell=1.7932400000
2025-07-09 09:17:39,623 - DEBUG - websocket - User 5O42G: Fallback last price for NZDUSD: Buy=0.5994200000, Sell=0.5991000000
2025-07-09 09:17:39,625 - INFO - websocket - User 1: WebSocket disconnected while sending initial connection data
2025-07-09 09:17:39,625 - WARNING - websocket - User 5O42G: Failed to send initial connection data, connection may be closed
2025-07-09 09:17:42,879 - INFO - websocket - Redis publisher task cancelled.
2025-07-09 09:17:42,879 - INFO - websocket - Redis publisher task finished.
2025-07-09 09:17:51,987 - INFO - websocket - Redis publisher task started. Publishing to channel 'market_data_updates'.
2025-07-09 09:17:54,516 - INFO - websocket - Redis publisher task cancelled.
2025-07-09 09:17:54,517 - INFO - websocket - Redis publisher task finished.
2025-07-09 09:18:02,743 - INFO - websocket - Redis publisher task started. Publishing to channel 'market_data_updates'.
2025-07-09 09:18:03,989 - INFO - websocket - Redis publisher task cancelled.
2025-07-09 09:18:03,989 - INFO - websocket - Redis publisher task finished.
2025-07-09 09:18:11,491 - INFO - websocket - Redis publisher task started. Publishing to channel 'market_data_updates'.
2025-07-09 09:18:13,995 - INFO - websocket - --- MINIMAL TEST: ENTERED websocket_endpoint --- Connection ID: 127.0.0.1:55879-1752077893995
2025-07-09 09:18:13,996 - INFO - websocket - WebSocket connection accepted (early) for 127.0.0.1:55879 in 0.000s
2025-07-09 09:18:13,997 - DEBUG - websocket - User 0: Successfully sent loading message
2025-07-09 09:18:13,999 - INFO - websocket - WebSocket auth: token payload={'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1752079565, 'iat': 1752077765}, account_number=5O42G, user_type=demo
2025-07-09 09:18:13,999 - INFO - websocket - WebSocket auth: About to call get_demo_user_by_account_number with account_number=5O42G, user_type=demo
2025-07-09 09:18:14,157 - INFO - websocket - WebSocket auth: get_demo_user_by_account_number(5O42G, demo) returned: <app.database.models.DemoUser object at 0x000001A3A4E923C0>
2025-07-09 09:18:20,114 - INFO - websocket - [WS] Using order model: DemoUserOrder for user_type=demo, account_number=5O42G
2025-07-09 09:18:20,119 - INFO - websocket - [WS] Open positions from DB for user_id=1: []
2025-07-09 09:18:29,768 - INFO - websocket - Redis publisher task started. Publishing to channel 'market_data_updates'.
2025-07-09 09:18:38,365 - INFO - websocket - Redis publisher task started. Publishing to channel 'market_data_updates'.
2025-07-09 09:18:39,394 - INFO - websocket - Redis publisher task cancelled.
2025-07-09 09:18:39,394 - INFO - websocket - Redis publisher task finished.
2025-07-09 09:18:39,741 - INFO - websocket - --- MINIMAL TEST: ENTERED websocket_endpoint --- Connection ID: 127.0.0.1:55992-1752077919741
2025-07-09 09:18:39,742 - INFO - websocket - WebSocket connection accepted (early) for 127.0.0.1:55992 in 0.001s
2025-07-09 09:18:39,746 - DEBUG - websocket - User 0: Successfully sent loading message
2025-07-09 09:18:39,747 - INFO - websocket - WebSocket auth: token payload={'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1752079565, 'iat': 1752077765}, account_number=5O42G, user_type=demo
2025-07-09 09:18:39,748 - INFO - websocket - WebSocket auth: About to call get_demo_user_by_account_number with account_number=5O42G, user_type=demo
2025-07-09 09:21:45,643 - INFO - websocket - Redis publisher task started. Publishing to channel 'market_data_updates'.
2025-07-09 09:21:49,181 - INFO - websocket - --- MINIMAL TEST: ENTERED websocket_endpoint --- Connection ID: 127.0.0.1:56306-1752078109181
2025-07-09 09:21:49,182 - INFO - websocket - WebSocket connection accepted (early) for 127.0.0.1:56306 in 0.001s
2025-07-09 09:21:49,183 - DEBUG - websocket - User 0: Successfully sent loading message
2025-07-09 09:21:49,184 - INFO - websocket - WebSocket auth: token payload={'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1752079565, 'iat': 1752077765}, account_number=5O42G, user_type=demo
2025-07-09 09:21:49,184 - INFO - websocket - WebSocket auth: About to call get_demo_user_by_account_number with account_number=5O42G, user_type=demo
2025-07-09 09:21:49,223 - INFO - websocket - WebSocket auth: get_demo_user_by_account_number(5O42G, demo) returned: <app.database.models.DemoUser object at 0x000002214EE434D0>
2025-07-09 09:21:52,295 - INFO - websocket - --- MINIMAL TEST: ENTERED websocket_endpoint --- Connection ID: 127.0.0.1:56331-1752078112295
2025-07-09 09:21:52,295 - INFO - websocket - WebSocket connection accepted (early) for 127.0.0.1:56331 in 0.001s
2025-07-09 09:21:52,296 - DEBUG - websocket - User 0: Successfully sent loading message
2025-07-09 09:21:52,297 - INFO - websocket - WebSocket auth: token payload={'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1752079565, 'iat': 1752077765}, account_number=5O42G, user_type=demo
2025-07-09 09:21:52,297 - INFO - websocket - WebSocket auth: About to call get_demo_user_by_account_number with account_number=5O42G, user_type=demo
2025-07-09 09:21:52,299 - INFO - websocket - WebSocket auth: get_demo_user_by_account_number(5O42G, demo) returned: <app.database.models.DemoUser object at 0x000002214F344050>
2025-07-09 09:21:52,671 - INFO - websocket - [WS] Using order model: DemoUserOrder for user_type=demo, account_number=5O42G
2025-07-09 09:21:52,675 - INFO - websocket - [WS] Open positions from DB for user_id=1: []
2025-07-09 09:21:54,727 - INFO - websocket - [WS] Using order model: DemoUserOrder for user_type=demo, account_number=5O42G
2025-07-09 09:21:54,733 - INFO - websocket - [WS] Open positions from DB for user_id=1: []
2025-07-09 09:22:08,100 - DEBUG - websocket - Cached/updated group-symbol settings for group 'Group B'.
2025-07-09 09:22:08,104 - DEBUG - websocket - User 1: Fetched 0 open orders directly from database
2025-07-09 09:22:08,109 - DEBUG - websocket - User 1: Fetched 3 pending orders directly from database
2025-07-09 09:22:08,112 - DEBUG - websocket - User 1: Updated static orders cache with 0 open orders and 3 pending orders
2025-07-09 09:22:08,132 - DEBUG - websocket - Cached/updated group-symbol settings for group 'Group B'.
2025-07-09 09:22:08,137 - DEBUG - websocket - User 1: Fetched 0 open orders directly from database
2025-07-09 09:22:08,140 - DEBUG - websocket - User 1: Fetched 3 pending orders directly from database
2025-07-09 09:22:08,141 - INFO - websocket - User 5O42G: Fetching initial market data for 79 symbols from cache (adjusted or last known price)
2025-07-09 09:22:08,142 - DEBUG - websocket - User 1: Updated static orders cache with 0 open orders and 3 pending orders
2025-07-09 09:22:08,159 - INFO - websocket - User 5O42G: Fetching initial market data for 79 symbols from cache (adjusted or last known price)
2025-07-09 09:22:08,244 - DEBUG - websocket - User 1: Successfully sent initial connection data
2025-07-09 09:22:08,244 - INFO - websocket - User 5O42G: Sent initial connection data with 48 symbols (fresh from cache)
2025-07-09 09:22:08,264 - INFO - websocket - User 1: WebSocket disconnected while sending initial connection data
2025-07-09 09:22:08,264 - WARNING - websocket - User 5O42G: Failed to send initial connection data, connection may be closed
2025-07-09 09:22:08,824 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 09:22:08,824 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 09:22:08,829 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:22:11,095 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 09:22:11,095 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 09:22:11,096 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:22:16,150 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 09:22:16,150 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 09:22:16,151 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:22:18,208 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 09:22:18,208 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 09:22:18,209 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:22:18,217 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 09:22:18,217 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 09:22:18,217 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:22:20,289 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 09:22:20,289 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 09:22:20,290 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:22:22,616 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 09:22:22,616 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 09:22:22,617 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:22:24,910 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 09:22:24,910 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 09:22:24,910 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:22:27,134 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 09:22:27,134 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 09:22:27,135 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:22:29,480 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 09:22:29,480 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 09:22:29,481 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:22:31,648 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 09:22:31,648 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 09:22:31,649 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:22:33,942 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 09:22:33,943 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 09:22:33,944 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:22:36,205 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 09:22:36,205 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 09:22:36,206 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:22:38,774 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 09:22:38,774 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 09:22:38,775 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:22:41,182 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 09:22:41,183 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 09:22:41,184 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:22:41,648 - DEBUG - websocket - User 1: Fetched 0 open orders directly from database
2025-07-09 09:22:41,656 - DEBUG - websocket - User 1: Fetched 2 pending orders directly from database
2025-07-09 09:22:41,659 - DEBUG - websocket - User 1: Updated static orders cache with 0 open orders and 2 pending orders
2025-07-09 09:22:41,666 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 09:22:41,672 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 09:22:41,672 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 09:22:41,674 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 09:22:41,674 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 09:22:41,679 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 09:22:41,679 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 09:22:41,685 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 09:22:43,353 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 09:22:43,353 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 09:22:43,354 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:22:44,445 - DEBUG - websocket - User 1: Fetched 0 open orders directly from database
2025-07-09 09:22:44,450 - DEBUG - websocket - User 1: Fetched 1 pending orders directly from database
2025-07-09 09:22:44,451 - DEBUG - websocket - User 1: Updated static orders cache with 0 open orders and 1 pending orders
2025-07-09 09:22:44,455 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 09:22:44,461 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 09:22:44,461 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 09:22:44,463 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 09:22:44,463 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 09:22:44,465 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 09:22:44,465 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 09:22:44,466 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 09:22:45,660 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 09:22:45,660 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 09:22:45,661 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:22:47,182 - DEBUG - websocket - User 1: Fetched 0 open orders directly from database
2025-07-09 09:22:47,188 - DEBUG - websocket - User 1: Fetched 0 pending orders directly from database
2025-07-09 09:22:47,191 - DEBUG - websocket - User 1: Updated static orders cache with 0 open orders and 0 pending orders
2025-07-09 09:22:47,197 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 09:22:47,201 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 09:22:47,201 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 09:22:47,203 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 09:22:47,204 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 09:22:47,211 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 09:22:47,211 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 09:22:47,213 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 09:22:47,946 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 09:22:47,946 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 09:22:47,947 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:22:50,204 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 09:22:50,204 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 09:22:50,205 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:22:52,777 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 09:22:52,777 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 09:22:52,778 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:22:54,855 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 09:22:54,856 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 09:22:54,857 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:22:57,018 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 09:22:57,018 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 09:22:57,019 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:22:59,304 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 09:22:59,304 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 09:22:59,305 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:23:01,609 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 09:23:01,611 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 09:23:01,613 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:23:03,908 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 09:23:03,908 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 09:23:03,908 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:23:06,279 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 09:23:06,279 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 09:23:06,280 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:23:08,956 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 09:23:08,956 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 09:23:08,957 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:23:08,997 - DEBUG - websocket - User 1: Fetched 0 open orders directly from database
2025-07-09 09:23:09,000 - DEBUG - websocket - User 1: Fetched 1 pending orders directly from database
2025-07-09 09:23:09,002 - DEBUG - websocket - User 1: Updated static orders cache with 0 open orders and 1 pending orders
2025-07-09 09:23:09,005 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 09:23:09,007 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 09:23:09,007 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 09:23:09,008 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 09:23:09,009 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 09:23:09,013 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 09:23:09,013 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 09:23:09,014 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 09:23:09,018 - DEBUG - websocket - User 1: Fetched 0 open orders directly from database
2025-07-09 09:23:09,021 - DEBUG - websocket - User 1: Fetched 1 pending orders directly from database
2025-07-09 09:23:09,023 - DEBUG - websocket - User 1: Updated static orders cache with 0 open orders and 1 pending orders
2025-07-09 09:23:11,100 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 09:23:11,100 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 09:23:11,100 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:23:13,248 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=0
2025-07-09 09:23:13,248 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('0')}
2025-07-09 09:23:13,249 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:23:13,771 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 09:23:13,775 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=6.53000000
2025-07-09 09:23:13,775 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('6.53000000')}
2025-07-09 09:23:13,776 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 09:23:13,776 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 09:23:13,778 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=6.53000000
2025-07-09 09:23:13,778 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('6.53000000')}
2025-07-09 09:23:13,778 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 09:23:15,525 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=6.53000000
2025-07-09 09:23:15,525 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('6.53000000')}
2025-07-09 09:23:15,527 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:23:17,756 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=6.53000000
2025-07-09 09:23:17,756 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('6.53000000')}
2025-07-09 09:23:17,757 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:23:20,192 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=6.53000000
2025-07-09 09:23:20,192 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('6.53000000')}
2025-07-09 09:23:20,192 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:23:22,342 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=6.53000000
2025-07-09 09:23:22,342 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('6.53000000')}
2025-07-09 09:23:22,343 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:23:24,599 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=6.53000000
2025-07-09 09:23:24,599 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('6.53000000')}
2025-07-09 09:23:24,599 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:23:26,954 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=6.53000000
2025-07-09 09:23:26,954 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('6.53000000')}
2025-07-09 09:23:26,955 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:23:29,164 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=6.53000000
2025-07-09 09:23:29,164 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('6.53000000')}
2025-07-09 09:23:29,164 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:23:31,560 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=6.53000000
2025-07-09 09:23:31,560 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('6.53000000')}
2025-07-09 09:23:31,561 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:23:31,657 - INFO - websocket - User 5O42G: WebSocket disconnected by client.
2025-07-09 09:23:31,657 - INFO - websocket - User 5O42G: Cleaning up WebSocket connection.
2025-07-09 09:23:31,660 - INFO - websocket - User 5O42G: Listener task successfully cancelled.
2025-07-09 09:23:31,660 - INFO - websocket - User 5O42G: WebSocket connection fully closed.
2025-07-09 09:23:32,257 - INFO - websocket - --- MINIMAL TEST: ENTERED websocket_endpoint --- Connection ID: 127.0.0.1:56431-1752078212257
2025-07-09 09:23:32,258 - INFO - websocket - WebSocket connection accepted (early) for 127.0.0.1:56431 in 0.001s
2025-07-09 09:23:32,260 - DEBUG - websocket - User 0: Successfully sent loading message
2025-07-09 09:23:32,260 - INFO - websocket - WebSocket auth: token payload={'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1752079565, 'iat': 1752077765}, account_number=5O42G, user_type=demo
2025-07-09 09:23:32,261 - INFO - websocket - WebSocket auth: About to call get_demo_user_by_account_number with account_number=5O42G, user_type=demo
2025-07-09 09:23:32,264 - INFO - websocket - WebSocket auth: get_demo_user_by_account_number(5O42G, demo) returned: <app.database.models.DemoUser object at 0x000002214EEADA70>
2025-07-09 09:23:32,265 - INFO - websocket - [WS] Using order model: DemoUserOrder for user_type=demo, account_number=5O42G
2025-07-09 09:23:32,268 - INFO - websocket - [WS] Open positions from DB for user_id=1: [<app.database.models.DemoUserOrder object at 0x000002214F533610>]
2025-07-09 09:23:32,727 - DEBUG - websocket - Cached/updated group-symbol settings for group 'Group B'.
2025-07-09 09:23:32,730 - DEBUG - websocket - User 1: Fetched 1 open orders directly from database
2025-07-09 09:23:32,733 - DEBUG - websocket - User 1: Fetched 0 pending orders directly from database
2025-07-09 09:23:32,734 - DEBUG - websocket - User 1: Updated static orders cache with 1 open orders and 0 pending orders
2025-07-09 09:23:32,744 - INFO - websocket - User 5O42G: Fetching initial market data for 79 symbols from cache (adjusted or last known price)
2025-07-09 09:23:32,749 - DEBUG - websocket - User 5O42G: Fallback last price for EURCZK: Buy=25.0001500000, Sell=24.9998500000
2025-07-09 09:23:32,750 - DEBUG - websocket - User 5O42G: Fallback last price for AUDNZD: Buy=1.0002500000, Sell=0.9997500000
2025-07-09 09:23:32,755 - DEBUG - websocket - User 5O42G: Fallback last price for USDCZK: Buy=21.0650000000, Sell=20.9950000000
2025-07-09 09:23:32,765 - DEBUG - websocket - User 5O42G: Fallback last price for USDTRY: Buy=40.0492100000, Sell=40.0474500000
2025-07-09 09:23:32,776 - DEBUG - websocket - User 5O42G: Fallback last price for AUDSGD: Buy=1.0001500000, Sell=0.9998500000
2025-07-09 09:23:32,788 - DEBUG - websocket - User 1: Successfully sent initial connection data
2025-07-09 09:23:32,789 - INFO - websocket - User 5O42G: Sent initial connection data with 48 symbols (fresh from cache)
2025-07-09 09:23:34,904 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=6.53067355
2025-07-09 09:23:34,905 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('6.53067355')}
2025-07-09 09:23:34,905 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:23:36,105 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=6.53067355
2025-07-09 09:23:36,106 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('6.53067355')}
2025-07-09 09:23:36,106 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:23:38,682 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=6.53067355
2025-07-09 09:23:38,683 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('6.53067355')}
2025-07-09 09:23:38,684 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:23:40,599 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=6.53067355
2025-07-09 09:23:40,599 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('6.53067355')}
2025-07-09 09:23:40,600 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:23:42,944 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=6.53067355
2025-07-09 09:23:42,944 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('6.53067355')}
2025-07-09 09:23:42,945 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:23:45,318 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=6.53067355
2025-07-09 09:23:45,318 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('6.53067355')}
2025-07-09 09:23:45,319 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:23:47,574 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=6.53067355
2025-07-09 09:23:47,574 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('6.53067355')}
2025-07-09 09:23:47,575 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:23:49,961 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=6.53067355
2025-07-09 09:23:49,962 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('6.53067355')}
2025-07-09 09:23:49,965 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:23:52,332 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=6.53067355
2025-07-09 09:23:52,332 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('6.53067355')}
2025-07-09 09:23:52,333 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:23:54,721 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=6.53067355
2025-07-09 09:23:54,721 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('6.53067355')}
2025-07-09 09:23:54,722 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:23:56,804 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=6.53067355
2025-07-09 09:23:56,804 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('6.53067355')}
2025-07-09 09:23:56,805 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:23:59,116 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=6.53067355
2025-07-09 09:23:59,116 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('6.53067355')}
2025-07-09 09:23:59,117 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:24:03,128 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=6.53067355
2025-07-09 09:24:03,129 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('6.53067355')}
2025-07-09 09:24:03,129 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:24:03,210 - DEBUG - websocket - User 1: Fetched 1 open orders directly from database
2025-07-09 09:24:03,214 - DEBUG - websocket - User 1: Fetched 1 pending orders directly from database
2025-07-09 09:24:03,219 - DEBUG - websocket - User 1: Updated static orders cache with 1 open orders and 1 pending orders
2025-07-09 09:24:03,605 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 09:24:03,617 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=6.53067355
2025-07-09 09:24:03,617 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('6.53067355')}
2025-07-09 09:24:03,618 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 09:24:03,619 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 09:24:03,638 - DEBUG - websocket - User 1: Fetched 1 open orders directly from database
2025-07-09 09:24:03,643 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=6.53067355
2025-07-09 09:24:03,643 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('6.53067355')}
2025-07-09 09:24:03,644 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 09:24:03,665 - DEBUG - websocket - User 1: Fetched 1 pending orders directly from database
2025-07-09 09:24:03,676 - DEBUG - websocket - User 1: Updated static orders cache with 1 open orders and 1 pending orders
2025-07-09 09:24:03,805 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 09:24:03,812 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=6.53000000
2025-07-09 09:24:03,812 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('6.53000000')}
2025-07-09 09:24:03,813 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 09:24:03,813 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 09:24:03,820 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=6.53000000
2025-07-09 09:24:03,820 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('6.53000000')}
2025-07-09 09:24:03,821 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 09:24:06,400 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=6.53000000
2025-07-09 09:24:06,400 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('6.53000000')}
2025-07-09 09:24:06,400 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:24:06,452 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=6.53000000
2025-07-09 09:24:06,453 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('6.53000000')}
2025-07-09 09:24:06,453 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:24:09,214 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=6.53000000
2025-07-09 09:24:09,214 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('6.53000000')}
2025-07-09 09:24:09,215 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:24:11,546 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=6.53000000
2025-07-09 09:24:11,546 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('6.53000000')}
2025-07-09 09:24:11,547 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:24:13,388 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=6.53000000
2025-07-09 09:24:13,388 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('6.53000000')}
2025-07-09 09:24:13,390 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:24:15,591 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=6.53000000
2025-07-09 09:24:15,591 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('6.53000000')}
2025-07-09 09:24:15,591 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:24:17,843 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=6.53000000
2025-07-09 09:24:17,843 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('6.53000000')}
2025-07-09 09:24:17,844 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:24:20,718 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=6.53000000
2025-07-09 09:24:20,718 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('6.53000000')}
2025-07-09 09:24:20,718 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:24:23,153 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=6.53000000
2025-07-09 09:24:23,153 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('6.53000000')}
2025-07-09 09:24:23,153 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:24:24,648 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=6.53000000
2025-07-09 09:24:24,648 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('6.53000000')}
2025-07-09 09:24:24,648 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:24:26,978 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=6.53000000
2025-07-09 09:24:26,978 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('6.53000000')}
2025-07-09 09:24:26,978 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:24:29,185 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=6.53000000
2025-07-09 09:24:29,185 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('6.53000000')}
2025-07-09 09:24:29,186 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:24:32,141 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=6.53000000
2025-07-09 09:24:32,141 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('6.53000000')}
2025-07-09 09:24:32,141 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:24:33,777 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=6.53000000
2025-07-09 09:24:33,777 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('6.53000000')}
2025-07-09 09:24:33,778 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:24:36,060 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=6.53000000
2025-07-09 09:24:36,060 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('6.53000000')}
2025-07-09 09:24:36,060 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:24:38,351 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=6.53000000
2025-07-09 09:24:38,351 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('6.53000000')}
2025-07-09 09:24:38,351 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:24:40,759 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=6.53000000
2025-07-09 09:24:40,759 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('6.53000000')}
2025-07-09 09:24:40,760 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:24:43,025 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=6.53000000
2025-07-09 09:24:43,025 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('6.53000000')}
2025-07-09 09:24:43,025 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:24:45,355 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=6.53000000
2025-07-09 09:24:45,355 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('6.53000000')}
2025-07-09 09:24:45,356 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:24:47,544 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=6.53000000
2025-07-09 09:24:47,544 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('6.53000000')}
2025-07-09 09:24:47,544 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:24:49,933 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=6.53000000
2025-07-09 09:24:49,933 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('6.53000000')}
2025-07-09 09:24:49,934 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:24:52,122 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=6.53000000
2025-07-09 09:24:52,122 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('6.53000000')}
2025-07-09 09:24:52,122 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:24:54,390 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=6.53000000
2025-07-09 09:24:54,391 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('6.53000000')}
2025-07-09 09:24:54,391 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:24:56,702 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=6.53000000
2025-07-09 09:24:56,702 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('6.53000000')}
2025-07-09 09:24:56,703 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:24:58,985 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=6.53000000
2025-07-09 09:24:58,985 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('6.53000000')}
2025-07-09 09:24:58,986 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:25:01,267 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=6.53000000
2025-07-09 09:25:01,267 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('6.53000000')}
2025-07-09 09:25:01,267 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:25:04,370 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=6.53000000
2025-07-09 09:25:04,370 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('6.53000000')}
2025-07-09 09:25:04,371 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:25:05,840 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=6.53000000
2025-07-09 09:25:05,840 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('6.53000000')}
2025-07-09 09:25:05,840 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:25:08,120 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=6.53000000
2025-07-09 09:25:08,121 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('6.53000000')}
2025-07-09 09:25:08,122 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:25:09,762 - INFO - websocket - User 5O42G: WebSocket disconnected by client.
2025-07-09 09:25:09,762 - INFO - websocket - User 5O42G: Cleaning up WebSocket connection.
2025-07-09 09:25:09,764 - INFO - websocket - User 5O42G: Listener task successfully cancelled.
2025-07-09 09:25:09,764 - INFO - websocket - User 5O42G: WebSocket connection fully closed.
2025-07-09 09:25:10,546 - INFO - websocket - --- MINIMAL TEST: ENTERED websocket_endpoint --- Connection ID: 127.0.0.1:56479-1752078310546
2025-07-09 09:25:10,547 - INFO - websocket - WebSocket connection accepted (early) for 127.0.0.1:56479 in 0.001s
2025-07-09 09:25:10,548 - DEBUG - websocket - User 0: Successfully sent loading message
2025-07-09 09:25:10,548 - INFO - websocket - WebSocket auth: token payload={'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1752079565, 'iat': 1752077765}, account_number=5O42G, user_type=demo
2025-07-09 09:25:10,548 - INFO - websocket - WebSocket auth: About to call get_demo_user_by_account_number with account_number=5O42G, user_type=demo
2025-07-09 09:25:10,550 - INFO - websocket - WebSocket auth: get_demo_user_by_account_number(5O42G, demo) returned: <app.database.models.DemoUser object at 0x000002214EEAE190>
2025-07-09 09:25:12,457 - INFO - websocket - [WS] Using order model: DemoUserOrder for user_type=demo, account_number=5O42G
2025-07-09 09:25:12,469 - INFO - websocket - [WS] Open positions from DB for user_id=1: [<app.database.models.DemoUserOrder object at 0x000002214F531950>, <app.database.models.DemoUserOrder object at 0x000002214F532E90>]
2025-07-09 09:25:13,123 - DEBUG - websocket - Cached/updated group-symbol settings for group 'Group B'.
2025-07-09 09:25:13,126 - DEBUG - websocket - User 1: Fetched 2 open orders directly from database
2025-07-09 09:25:13,130 - DEBUG - websocket - User 1: Fetched 0 pending orders directly from database
2025-07-09 09:25:13,132 - DEBUG - websocket - User 1: Updated static orders cache with 2 open orders and 0 pending orders
2025-07-09 09:25:13,146 - INFO - websocket - User 5O42G: Fetching initial market data for 79 symbols from cache (adjusted or last known price)
2025-07-09 09:25:13,153 - DEBUG - websocket - User 5O42G: Fallback last price for EURCZK: Buy=25.0001500000, Sell=24.9998500000
2025-07-09 09:25:13,154 - DEBUG - websocket - User 5O42G: Fallback last price for AUDNZD: Buy=1.0002500000, Sell=0.9997500000
2025-07-09 09:25:13,193 - DEBUG - websocket - User 5O42G: Fallback last price for AUDSGD: Buy=1.0001500000, Sell=0.9998500000
2025-07-09 09:25:13,215 - DEBUG - websocket - User 1: Successfully sent initial connection data
2025-07-09 09:25:13,215 - INFO - websocket - User 5O42G: Sent initial connection data with 48 symbols (fresh from cache)
2025-07-09 09:25:15,502 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=13.06121056
2025-07-09 09:25:15,502 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('13.06121056')}
2025-07-09 09:25:15,503 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:25:18,020 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=13.06121056
2025-07-09 09:25:18,020 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('13.06121056')}
2025-07-09 09:25:18,020 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:25:19,624 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=13.06121056
2025-07-09 09:25:19,624 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('13.06121056')}
2025-07-09 09:25:19,625 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:25:22,389 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=13.06121056
2025-07-09 09:25:22,389 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('13.06121056')}
2025-07-09 09:25:22,390 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:25:27,098 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=13.06121056
2025-07-09 09:25:27,098 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('13.06121056')}
2025-07-09 09:25:27,099 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:25:27,434 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=13.06121056
2025-07-09 09:25:27,434 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('13.06121056')}
2025-07-09 09:25:27,435 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:25:29,138 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=13.06121056
2025-07-09 09:25:29,138 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('13.06121056')}
2025-07-09 09:25:29,139 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:25:30,542 - INFO - websocket - User 5O42G: WebSocket disconnected by client.
2025-07-09 09:25:30,542 - INFO - websocket - User 5O42G: Cleaning up WebSocket connection.
2025-07-09 09:25:30,545 - INFO - websocket - User 5O42G: Listener task successfully cancelled.
2025-07-09 09:25:30,545 - INFO - websocket - User 5O42G: WebSocket connection fully closed.
2025-07-09 09:25:30,954 - INFO - websocket - Redis publisher task cancelled.
2025-07-09 09:25:30,954 - INFO - websocket - Redis publisher task finished.
2025-07-09 09:41:53,097 - INFO - websocket - Redis publisher task started. Publishing to channel 'market_data_updates'.
2025-07-09 09:41:55,808 - INFO - websocket - --- MINIMAL TEST: ENTERED websocket_endpoint --- Connection ID: 127.0.0.1:57403-1752079315808
2025-07-09 09:41:55,810 - INFO - websocket - WebSocket connection accepted (early) for 127.0.0.1:57403 in 0.002s
2025-07-09 09:41:55,812 - DEBUG - websocket - User 0: Successfully sent loading message
2025-07-09 09:41:55,814 - INFO - websocket - WebSocket auth: token payload={'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1752079565, 'iat': 1752077765}, account_number=5O42G, user_type=demo
2025-07-09 09:41:55,814 - INFO - websocket - WebSocket auth: About to call get_demo_user_by_account_number with account_number=5O42G, user_type=demo
2025-07-09 09:41:56,088 - INFO - websocket - WebSocket auth: get_demo_user_by_account_number(5O42G, demo) returned: <app.database.models.DemoUser object at 0x0000024F0D0C2120>
2025-07-09 09:42:00,177 - INFO - websocket - [WS] Using order model: DemoUserOrder for user_type=demo, account_number=5O42G
2025-07-09 09:42:00,189 - INFO - websocket - [WS] Open positions from DB for user_id=1: [<app.database.models.DemoUserOrder object at 0x0000024F0D0C3A10>, <app.database.models.DemoUserOrder object at 0x0000024F0D19E850>]
2025-07-09 09:42:13,176 - DEBUG - websocket - Cached/updated group-symbol settings for group 'Group B'.
2025-07-09 09:42:13,178 - DEBUG - websocket - User 1: Fetched 2 open orders directly from database
2025-07-09 09:42:13,182 - DEBUG - websocket - User 1: Fetched 0 pending orders directly from database
2025-07-09 09:42:13,183 - DEBUG - websocket - User 1: Updated static orders cache with 2 open orders and 0 pending orders
2025-07-09 09:42:13,200 - INFO - websocket - User 5O42G: Fetching initial market data for 79 symbols from cache (adjusted or last known price)
2025-07-09 09:42:13,295 - DEBUG - websocket - User 1: Successfully sent initial connection data
2025-07-09 09:42:13,296 - INFO - websocket - User 5O42G: Sent initial connection data with 48 symbols (fresh from cache)
2025-07-09 09:42:15,187 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=13.06121056
2025-07-09 09:42:15,187 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('13.06121056')}
2025-07-09 09:42:15,188 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:42:17,441 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=13.06121056
2025-07-09 09:42:17,441 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('13.06121056')}
2025-07-09 09:42:17,442 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:42:19,805 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=13.06121056
2025-07-09 09:42:19,805 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('13.06121056')}
2025-07-09 09:42:19,806 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:42:22,050 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=13.06121056
2025-07-09 09:42:22,050 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('13.06121056')}
2025-07-09 09:42:22,051 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:42:24,301 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=13.06121056
2025-07-09 09:42:24,301 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('13.06121056')}
2025-07-09 09:42:24,302 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:42:26,791 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24853.53088585, margin=13.06121056
2025-07-09 09:42:26,791 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24853.53088585'), 'margin': Decimal('13.06121056')}
2025-07-09 09:42:26,792 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:42:28,407 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 09:42:28,413 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24852.66088585, margin=6.53
2025-07-09 09:42:28,413 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24852.66088585'), 'margin': Decimal('6.53')}
2025-07-09 09:42:28,414 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 09:42:28,414 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 09:42:28,417 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24852.66088585, margin=6.53
2025-07-09 09:42:28,417 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24852.66088585'), 'margin': Decimal('6.53')}
2025-07-09 09:42:28,417 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 09:42:28,421 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24852.66088585, margin=6.53
2025-07-09 09:42:28,421 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24852.66088585'), 'margin': Decimal('6.53')}
2025-07-09 09:42:28,421 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:42:28,916 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24852.66088585, margin=6.53
2025-07-09 09:42:28,916 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24852.66088585'), 'margin': Decimal('6.53')}
2025-07-09 09:42:28,917 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:42:29,040 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 09:42:29,042 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24852.42088585, margin=0
2025-07-09 09:42:29,043 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24852.42088585'), 'margin': Decimal('0')}
2025-07-09 09:42:29,043 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 09:42:29,043 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 09:42:29,046 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24852.42088585, margin=0
2025-07-09 09:42:29,046 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24852.42088585'), 'margin': Decimal('0')}
2025-07-09 09:42:29,047 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 09:42:29,050 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24852.42088585, margin=0
2025-07-09 09:42:29,050 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24852.42088585'), 'margin': Decimal('0')}
2025-07-09 09:42:29,050 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:42:31,193 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24852.42088585, margin=0
2025-07-09 09:42:31,193 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24852.42088585'), 'margin': Decimal('0')}
2025-07-09 09:42:31,194 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:42:33,406 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24852.42088585, margin=0
2025-07-09 09:42:33,406 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24852.42088585'), 'margin': Decimal('0')}
2025-07-09 09:42:33,407 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:42:35,804 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24852.42088585, margin=0
2025-07-09 09:42:35,804 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24852.42088585'), 'margin': Decimal('0')}
2025-07-09 09:42:35,805 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:42:38,022 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24852.42088585, margin=0
2025-07-09 09:42:38,022 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24852.42088585'), 'margin': Decimal('0')}
2025-07-09 09:42:38,023 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:42:40,400 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24852.42088585, margin=0
2025-07-09 09:42:40,400 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24852.42088585'), 'margin': Decimal('0')}
2025-07-09 09:42:40,401 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:42:41,730 - DEBUG - websocket - User 1: Fetched 0 open orders directly from database
2025-07-09 09:42:41,733 - DEBUG - websocket - User 1: Fetched 1 pending orders directly from database
2025-07-09 09:42:41,735 - DEBUG - websocket - User 1: Updated static orders cache with 0 open orders and 1 pending orders
2025-07-09 09:42:41,740 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 09:42:41,746 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24852.42088585, margin=0
2025-07-09 09:42:41,746 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24852.42088585'), 'margin': Decimal('0')}
2025-07-09 09:42:41,747 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 09:42:41,747 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 09:42:41,750 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24852.42088585, margin=0
2025-07-09 09:42:41,751 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24852.42088585'), 'margin': Decimal('0')}
2025-07-09 09:42:41,751 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 09:42:41,754 - DEBUG - websocket - User 1: Fetched 0 open orders directly from database
2025-07-09 09:42:41,760 - DEBUG - websocket - User 1: Fetched 1 pending orders directly from database
2025-07-09 09:42:41,762 - DEBUG - websocket - User 1: Updated static orders cache with 0 open orders and 1 pending orders
2025-07-09 09:42:42,718 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24852.42088585, margin=0
2025-07-09 09:42:42,718 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24852.42088585'), 'margin': Decimal('0')}
2025-07-09 09:42:42,719 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:42:43,361 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 09:42:43,368 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24852.42088585, margin=0.0
2025-07-09 09:42:43,368 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24852.42088585'), 'margin': Decimal('0.0')}
2025-07-09 09:42:43,369 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 09:42:43,369 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 09:42:43,371 - DEBUG - websocket - User 1: Fetched 1 open orders directly from database
2025-07-09 09:42:43,374 - DEBUG - websocket - User 1: Fetched 0 pending orders directly from database
2025-07-09 09:42:43,375 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24852.42088585, margin=0.0
2025-07-09 09:42:43,375 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24852.42088585'), 'margin': Decimal('0.0')}
2025-07-09 09:42:43,376 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 09:42:43,377 - DEBUG - websocket - User 1: Updated static orders cache with 1 open orders and 0 pending orders
2025-07-09 09:42:43,377 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24852.42088585, margin=0.0
2025-07-09 09:42:43,377 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24852.42088585'), 'margin': Decimal('0.0')}
2025-07-09 09:42:43,378 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:42:44,911 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24852.42088585, margin=0.0
2025-07-09 09:42:44,912 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24852.42088585'), 'margin': Decimal('0.0')}
2025-07-09 09:42:44,912 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:42:47,141 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24852.42088585, margin=0.0
2025-07-09 09:42:47,141 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24852.42088585'), 'margin': Decimal('0.0')}
2025-07-09 09:42:47,142 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:42:49,417 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24852.42088585, margin=0.0
2025-07-09 09:42:49,417 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24852.42088585'), 'margin': Decimal('0.0')}
2025-07-09 09:42:49,418 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:42:51,927 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24852.42088585, margin=0.0
2025-07-09 09:42:51,927 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24852.42088585'), 'margin': Decimal('0.0')}
2025-07-09 09:42:51,928 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:42:53,990 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24852.42088585, margin=0.0
2025-07-09 09:42:53,990 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24852.42088585'), 'margin': Decimal('0.0')}
2025-07-09 09:42:53,991 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:42:56,150 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24852.42088585, margin=0.0
2025-07-09 09:42:56,150 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24852.42088585'), 'margin': Decimal('0.0')}
2025-07-09 09:42:56,151 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:42:58,480 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24852.42088585, margin=0.0
2025-07-09 09:42:58,480 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24852.42088585'), 'margin': Decimal('0.0')}
2025-07-09 09:42:58,480 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:43:00,751 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24852.42088585, margin=0.0
2025-07-09 09:43:00,751 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24852.42088585'), 'margin': Decimal('0.0')}
2025-07-09 09:43:00,752 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:43:01,710 - DEBUG - websocket - User 1: Fetched 1 open orders directly from database
2025-07-09 09:43:01,713 - DEBUG - websocket - User 1: Fetched 1 pending orders directly from database
2025-07-09 09:43:01,714 - DEBUG - websocket - User 1: Updated static orders cache with 1 open orders and 1 pending orders
2025-07-09 09:43:01,717 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 09:43:01,722 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24852.42088585, margin=0.0
2025-07-09 09:43:01,723 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24852.42088585'), 'margin': Decimal('0.0')}
2025-07-09 09:43:01,723 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 09:43:01,723 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 09:43:01,727 - DEBUG - websocket - User 1: Fetched 1 open orders directly from database
2025-07-09 09:43:01,729 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24852.42088585, margin=0.0
2025-07-09 09:43:01,729 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24852.42088585'), 'margin': Decimal('0.0')}
2025-07-09 09:43:01,730 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 09:43:01,732 - DEBUG - websocket - User 1: Fetched 1 pending orders directly from database
2025-07-09 09:43:01,733 - DEBUG - websocket - User 1: Updated static orders cache with 1 open orders and 1 pending orders
2025-07-09 09:43:03,069 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24852.42088585, margin=0.0
2025-07-09 09:43:03,069 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24852.42088585'), 'margin': Decimal('0.0')}
2025-07-09 09:43:03,071 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:43:03,595 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 09:43:03,600 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24852.42088585, margin=6.53
2025-07-09 09:43:03,600 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24852.42088585'), 'margin': Decimal('6.53')}
2025-07-09 09:43:03,601 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 09:43:03,601 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 09:43:03,605 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24852.42088585, margin=6.53
2025-07-09 09:43:03,605 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24852.42088585'), 'margin': Decimal('6.53')}
2025-07-09 09:43:03,605 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 09:43:03,608 - DEBUG - websocket - User 1: Fetched 2 open orders directly from database
2025-07-09 09:43:03,612 - DEBUG - websocket - User 1: Fetched 0 pending orders directly from database
2025-07-09 09:43:03,612 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24852.42088585, margin=6.53
2025-07-09 09:43:03,613 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24852.42088585'), 'margin': Decimal('6.53')}
2025-07-09 09:43:03,613 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:43:03,615 - DEBUG - websocket - User 1: Updated static orders cache with 2 open orders and 0 pending orders
2025-07-09 09:43:05,254 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24852.42088585, margin=6.53
2025-07-09 09:43:05,254 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24852.42088585'), 'margin': Decimal('6.53')}
2025-07-09 09:43:05,255 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:43:07,505 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24852.42088585, margin=6.53
2025-07-09 09:43:07,505 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24852.42088585'), 'margin': Decimal('6.53')}
2025-07-09 09:43:07,505 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:43:09,393 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 09:43:09,397 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24851.88088585, margin=6.53
2025-07-09 09:43:09,397 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24851.88088585'), 'margin': Decimal('6.53')}
2025-07-09 09:43:09,399 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 09:43:09,400 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 09:43:09,401 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24851.88088585, margin=6.53
2025-07-09 09:43:09,402 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24851.88088585'), 'margin': Decimal('6.53')}
2025-07-09 09:43:09,402 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 09:43:09,406 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24851.88088585, margin=6.53
2025-07-09 09:43:09,406 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24851.88088585'), 'margin': Decimal('6.53')}
2025-07-09 09:43:09,407 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:43:09,824 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24851.88088585, margin=6.53
2025-07-09 09:43:09,824 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24851.88088585'), 'margin': Decimal('6.53')}
2025-07-09 09:43:09,825 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:43:10,578 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 09:43:10,585 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24851.23088585, margin=0
2025-07-09 09:43:10,585 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24851.23088585'), 'margin': Decimal('0')}
2025-07-09 09:43:10,586 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 09:43:10,586 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 09:43:10,589 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24851.23088585, margin=0
2025-07-09 09:43:10,590 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24851.23088585'), 'margin': Decimal('0')}
2025-07-09 09:43:10,591 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 09:43:10,595 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24851.23088585, margin=0
2025-07-09 09:43:10,595 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24851.23088585'), 'margin': Decimal('0')}
2025-07-09 09:43:10,596 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:43:12,082 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24851.23088585, margin=0
2025-07-09 09:43:12,082 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24851.23088585'), 'margin': Decimal('0')}
2025-07-09 09:43:12,083 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:43:14,732 - INFO - websocket - User 5O42G: WebSocket disconnected by client.
2025-07-09 09:43:14,733 - INFO - websocket - User 5O42G: Cleaning up WebSocket connection.
2025-07-09 09:43:14,737 - INFO - websocket - User 5O42G: Listener task successfully cancelled.
2025-07-09 09:43:14,739 - INFO - websocket - User 5O42G: WebSocket connection fully closed.
2025-07-09 09:43:16,642 - INFO - websocket - Redis publisher task cancelled.
2025-07-09 09:43:16,644 - INFO - websocket - Redis publisher task finished.
2025-07-09 09:50:53,807 - INFO - websocket - Redis publisher task started. Publishing to channel 'market_data_updates'.
2025-07-09 09:50:56,469 - INFO - websocket - --- MINIMAL TEST: ENTERED websocket_endpoint --- Connection ID: 127.0.0.1:58063-1752079856469
2025-07-09 09:50:56,469 - INFO - websocket - WebSocket connection accepted (early) for 127.0.0.1:58063 in 0.001s
2025-07-09 09:50:56,472 - DEBUG - websocket - User 0: Successfully sent loading message
2025-07-09 09:50:56,476 - WARNING - websocket - WebSocket auth failed: JWT error for 127.0.0.1:58063: Could not validate credentials
2025-07-09 09:51:01,805 - INFO - websocket - --- MINIMAL TEST: ENTERED websocket_endpoint --- Connection ID: 127.0.0.1:58088-1752079861805
2025-07-09 09:51:01,807 - INFO - websocket - WebSocket connection accepted (early) for 127.0.0.1:58088 in 0.001s
2025-07-09 09:51:01,809 - DEBUG - websocket - User 0: Successfully sent loading message
2025-07-09 09:51:01,813 - WARNING - websocket - WebSocket auth failed: JWT error for 127.0.0.1:58088: Could not validate credentials
2025-07-09 09:51:07,133 - INFO - websocket - --- MINIMAL TEST: ENTERED websocket_endpoint --- Connection ID: 127.0.0.1:58113-1752079867133
2025-07-09 09:51:07,135 - INFO - websocket - WebSocket connection accepted (early) for 127.0.0.1:58113 in 0.001s
2025-07-09 09:51:07,137 - DEBUG - websocket - User 0: Successfully sent loading message
2025-07-09 09:51:07,142 - WARNING - websocket - WebSocket auth failed: JWT error for 127.0.0.1:58113: Could not validate credentials
2025-07-09 09:51:12,464 - INFO - websocket - --- MINIMAL TEST: ENTERED websocket_endpoint --- Connection ID: 127.0.0.1:58127-1752079872464
2025-07-09 09:51:12,465 - INFO - websocket - WebSocket connection accepted (early) for 127.0.0.1:58127 in 0.001s
2025-07-09 09:51:12,466 - DEBUG - websocket - User 0: Successfully sent loading message
2025-07-09 09:51:12,469 - WARNING - websocket - WebSocket auth failed: JWT error for 127.0.0.1:58127: Could not validate credentials
2025-07-09 09:51:17,795 - INFO - websocket - --- MINIMAL TEST: ENTERED websocket_endpoint --- Connection ID: 127.0.0.1:58146-1752079877795
2025-07-09 09:51:17,796 - INFO - websocket - WebSocket connection accepted (early) for 127.0.0.1:58146 in 0.000s
2025-07-09 09:51:17,797 - DEBUG - websocket - User 0: Successfully sent loading message
2025-07-09 09:51:17,799 - WARNING - websocket - WebSocket auth failed: JWT error for 127.0.0.1:58146: Could not validate credentials
2025-07-09 09:51:23,140 - INFO - websocket - --- MINIMAL TEST: ENTERED websocket_endpoint --- Connection ID: 127.0.0.1:58156-1752079883140
2025-07-09 09:51:23,141 - INFO - websocket - WebSocket connection accepted (early) for 127.0.0.1:58156 in 0.001s
2025-07-09 09:51:23,142 - DEBUG - websocket - User 0: Successfully sent loading message
2025-07-09 09:51:23,146 - WARNING - websocket - WebSocket auth failed: JWT error for 127.0.0.1:58156: Could not validate credentials
2025-07-09 09:51:28,195 - INFO - websocket - --- MINIMAL TEST: ENTERED websocket_endpoint --- Connection ID: 127.0.0.1:58174-1752079888195
2025-07-09 09:51:28,196 - INFO - websocket - WebSocket connection accepted (early) for 127.0.0.1:58174 in 0.001s
2025-07-09 09:51:28,197 - DEBUG - websocket - User 0: Successfully sent loading message
2025-07-09 09:51:28,199 - INFO - websocket - WebSocket auth: token payload={'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1752081686, 'iat': 1752079886}, account_number=5O42G, user_type=demo
2025-07-09 09:51:28,199 - INFO - websocket - WebSocket auth: About to call get_demo_user_by_account_number with account_number=5O42G, user_type=demo
2025-07-09 09:51:28,204 - INFO - websocket - WebSocket auth: get_demo_user_by_account_number(5O42G, demo) returned: <app.database.models.DemoUser object at 0x000001B01FEEB6F0>
2025-07-09 09:51:28,205 - INFO - websocket - [WS] Using order model: DemoUserOrder for user_type=demo, account_number=5O42G
2025-07-09 09:51:28,210 - INFO - websocket - [WS] Open positions from DB for user_id=1: []
2025-07-09 09:51:28,575 - DEBUG - websocket - Cached/updated group-symbol settings for group 'Group B'.
2025-07-09 09:51:28,579 - DEBUG - websocket - User 1: Fetched 0 open orders directly from database
2025-07-09 09:51:28,582 - DEBUG - websocket - User 1: Fetched 0 pending orders directly from database
2025-07-09 09:51:28,583 - DEBUG - websocket - User 1: Updated static orders cache with 0 open orders and 0 pending orders
2025-07-09 09:51:28,592 - INFO - websocket - User 5O42G: Fetching initial market data for 79 symbols from cache (adjusted or last known price)
2025-07-09 09:51:28,617 - DEBUG - websocket - User 1: Successfully sent initial connection data
2025-07-09 09:51:28,617 - INFO - websocket - User 5O42G: Sent initial connection data with 48 symbols (fresh from cache)
2025-07-09 09:51:28,962 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24851.23088585, margin=0
2025-07-09 09:51:28,962 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24851.23088585'), 'margin': Decimal('0')}
2025-07-09 09:51:28,962 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:51:33,446 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24851.23088585, margin=0
2025-07-09 09:51:33,446 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24851.23088585'), 'margin': Decimal('0')}
2025-07-09 09:51:33,447 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:51:35,614 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24851.23088585, margin=0
2025-07-09 09:51:35,614 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24851.23088585'), 'margin': Decimal('0')}
2025-07-09 09:51:35,614 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:51:35,946 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24851.23088585, margin=0
2025-07-09 09:51:35,946 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24851.23088585'), 'margin': Decimal('0')}
2025-07-09 09:51:35,946 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:51:38,389 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24851.23088585, margin=0
2025-07-09 09:51:38,389 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24851.23088585'), 'margin': Decimal('0')}
2025-07-09 09:51:38,390 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:51:41,764 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24851.23088585, margin=0
2025-07-09 09:51:41,764 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24851.23088585'), 'margin': Decimal('0')}
2025-07-09 09:51:41,765 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:51:42,840 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24851.23088585, margin=0
2025-07-09 09:51:42,840 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24851.23088585'), 'margin': Decimal('0')}
2025-07-09 09:51:42,841 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:51:44,672 - DEBUG - websocket - User 1: Fetched 0 open orders directly from database
2025-07-09 09:51:44,673 - DEBUG - websocket - User 1: Fetched 1 pending orders directly from database
2025-07-09 09:51:44,674 - DEBUG - websocket - User 1: Updated static orders cache with 0 open orders and 1 pending orders
2025-07-09 09:51:44,676 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 09:51:44,680 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24851.23088585, margin=0
2025-07-09 09:51:44,680 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24851.23088585'), 'margin': Decimal('0')}
2025-07-09 09:51:44,681 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 09:51:44,681 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 09:51:44,683 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24851.23088585, margin=0
2025-07-09 09:51:44,683 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24851.23088585'), 'margin': Decimal('0')}
2025-07-09 09:51:44,684 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 09:51:44,684 - DEBUG - websocket - User 1: Fetched 0 open orders directly from database
2025-07-09 09:51:44,688 - DEBUG - websocket - User 1: Fetched 1 pending orders directly from database
2025-07-09 09:51:44,689 - DEBUG - websocket - User 1: Updated static orders cache with 0 open orders and 1 pending orders
2025-07-09 09:51:45,226 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24851.23088585, margin=0
2025-07-09 09:51:45,226 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24851.23088585'), 'margin': Decimal('0')}
2025-07-09 09:51:45,226 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:51:45,822 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 09:51:45,826 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24851.23088585, margin=0.0
2025-07-09 09:51:45,826 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24851.23088585'), 'margin': Decimal('0.0')}
2025-07-09 09:51:45,827 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 09:51:45,828 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 09:51:45,831 - DEBUG - websocket - User 1: Fetched 1 open orders directly from database
2025-07-09 09:51:45,836 - DEBUG - websocket - User 1: Fetched 0 pending orders directly from database
2025-07-09 09:51:45,838 - DEBUG - websocket - User 1: Updated static orders cache with 1 open orders and 0 pending orders
2025-07-09 09:51:45,839 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24851.23088585, margin=0.0
2025-07-09 09:51:45,839 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24851.23088585'), 'margin': Decimal('0.0')}
2025-07-09 09:51:45,840 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 09:51:45,844 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24851.23088585, margin=0.0
2025-07-09 09:51:45,844 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24851.23088585'), 'margin': Decimal('0.0')}
2025-07-09 09:51:45,845 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:51:47,557 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24851.23088585, margin=0.0
2025-07-09 09:51:47,557 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24851.23088585'), 'margin': Decimal('0.0')}
2025-07-09 09:51:47,557 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:51:49,527 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24851.23088585, margin=0.0
2025-07-09 09:51:49,527 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24851.23088585'), 'margin': Decimal('0.0')}
2025-07-09 09:51:49,528 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:51:51,951 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24851.23088585, margin=0.0
2025-07-09 09:51:51,951 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24851.23088585'), 'margin': Decimal('0.0')}
2025-07-09 09:51:51,952 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:51:54,072 - INFO - websocket - User 5O42G: WebSocket disconnected by client.
2025-07-09 09:51:54,073 - INFO - websocket - User 5O42G: Cleaning up WebSocket connection.
2025-07-09 09:51:54,074 - INFO - websocket - User 5O42G: Listener task successfully cancelled.
2025-07-09 09:51:54,074 - INFO - websocket - User 5O42G: WebSocket connection fully closed.
2025-07-09 09:51:54,183 - INFO - websocket - Redis publisher task cancelled.
2025-07-09 09:51:54,183 - INFO - websocket - Redis publisher task finished.
2025-07-09 09:53:19,078 - INFO - websocket - Redis publisher task started. Publishing to channel 'market_data_updates'.
2025-07-09 09:53:27,380 - INFO - websocket - --- MINIMAL TEST: ENTERED websocket_endpoint --- Connection ID: 127.0.0.1:58437-1752080007380
2025-07-09 09:53:27,381 - INFO - websocket - WebSocket connection accepted (early) for 127.0.0.1:58437 in 0.001s
2025-07-09 09:53:27,385 - DEBUG - websocket - User 0: Successfully sent loading message
2025-07-09 09:53:27,386 - INFO - websocket - WebSocket auth: token payload={'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1752081686, 'iat': 1752079886}, account_number=5O42G, user_type=demo
2025-07-09 09:53:27,386 - INFO - websocket - WebSocket auth: About to call get_demo_user_by_account_number with account_number=5O42G, user_type=demo
2025-07-09 09:53:27,405 - INFO - websocket - WebSocket auth: get_demo_user_by_account_number(5O42G, demo) returned: <app.database.models.DemoUser object at 0x000001F4A1A57A80>
2025-07-09 09:53:31,226 - INFO - websocket - [WS] Using order model: DemoUserOrder for user_type=demo, account_number=5O42G
2025-07-09 09:53:31,240 - INFO - websocket - [WS] Open positions from DB for user_id=1: [<app.database.models.DemoUserOrder object at 0x000001F4A19D6CF0>]
2025-07-09 09:53:40,987 - DEBUG - websocket - Cached/updated group-symbol settings for group 'Group B'.
2025-07-09 09:53:40,995 - DEBUG - websocket - User 1: Fetched 1 open orders directly from database
2025-07-09 09:53:41,001 - DEBUG - websocket - User 1: Fetched 0 pending orders directly from database
2025-07-09 09:53:41,004 - DEBUG - websocket - User 1: Updated static orders cache with 1 open orders and 0 pending orders
2025-07-09 09:53:41,038 - INFO - websocket - User 5O42G: Fetching initial market data for 79 symbols from cache (adjusted or last known price)
2025-07-09 09:53:41,267 - DEBUG - websocket - User 1: Successfully sent initial connection data
2025-07-09 09:53:41,267 - INFO - websocket - User 5O42G: Sent initial connection data with 48 symbols (fresh from cache)
2025-07-09 09:53:43,785 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24851.23088585, margin=6.53053701
2025-07-09 09:53:43,786 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24851.23088585'), 'margin': Decimal('6.53053701')}
2025-07-09 09:53:43,788 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:53:43,906 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24851.23088585, margin=6.53053701
2025-07-09 09:53:43,907 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24851.23088585'), 'margin': Decimal('6.53053701')}
2025-07-09 09:53:43,907 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:53:46,202 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24851.23088585, margin=6.53053701
2025-07-09 09:53:46,203 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24851.23088585'), 'margin': Decimal('6.53053701')}
2025-07-09 09:53:46,204 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:53:48,904 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24851.23088585, margin=6.53053701
2025-07-09 09:53:48,904 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24851.23088585'), 'margin': Decimal('6.53053701')}
2025-07-09 09:53:48,912 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:53:50,890 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24851.23088585, margin=6.53053701
2025-07-09 09:53:50,891 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24851.23088585'), 'margin': Decimal('6.53053701')}
2025-07-09 09:53:50,892 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:53:53,124 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24851.23088585, margin=6.53053701
2025-07-09 09:53:53,124 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24851.23088585'), 'margin': Decimal('6.53053701')}
2025-07-09 09:53:53,128 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:53:54,921 - DEBUG - websocket - User 1: Fetched 1 open orders directly from database
2025-07-09 09:53:54,951 - DEBUG - websocket - User 1: Fetched 1 pending orders directly from database
2025-07-09 09:53:54,958 - DEBUG - websocket - User 1: Updated static orders cache with 1 open orders and 1 pending orders
2025-07-09 09:53:54,981 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 09:53:54,997 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24851.23088585, margin=6.53053701
2025-07-09 09:53:54,997 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24851.23088585'), 'margin': Decimal('6.53053701')}
2025-07-09 09:53:55,000 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 09:53:55,001 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 09:53:55,029 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24851.23088585, margin=6.53053701
2025-07-09 09:53:55,029 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24851.23088585'), 'margin': Decimal('6.53053701')}
2025-07-09 09:53:55,038 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 09:53:55,053 - DEBUG - websocket - User 1: Fetched 1 open orders directly from database
2025-07-09 09:53:55,091 - DEBUG - websocket - User 1: Fetched 1 pending orders directly from database
2025-07-09 09:53:55,106 - DEBUG - websocket - User 1: Updated static orders cache with 1 open orders and 1 pending orders
2025-07-09 09:53:57,416 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24851.23088585, margin=6.53053701
2025-07-09 09:53:57,416 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24851.23088585'), 'margin': Decimal('6.53053701')}
2025-07-09 09:53:57,417 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:53:57,579 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24851.23088585, margin=6.53053701
2025-07-09 09:53:57,580 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24851.23088585'), 'margin': Decimal('6.53053701')}
2025-07-09 09:53:57,581 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:54:00,066 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24851.23088585, margin=6.53053701
2025-07-09 09:54:00,067 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24851.23088585'), 'margin': Decimal('6.53053701')}
2025-07-09 09:54:00,068 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:54:00,254 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 09:54:00,262 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24851.23088585, margin=6.53
2025-07-09 09:54:00,263 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24851.23088585'), 'margin': Decimal('6.53')}
2025-07-09 09:54:00,264 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 09:54:00,265 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 09:54:00,270 - DEBUG - websocket - User 1: Fetched 2 open orders directly from database
2025-07-09 09:54:00,274 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24851.23088585, margin=6.53
2025-07-09 09:54:00,275 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24851.23088585'), 'margin': Decimal('6.53')}
2025-07-09 09:54:00,276 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 09:54:00,279 - DEBUG - websocket - User 1: Fetched 0 pending orders directly from database
2025-07-09 09:54:00,283 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24851.23088585, margin=6.53
2025-07-09 09:54:00,283 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24851.23088585'), 'margin': Decimal('6.53')}
2025-07-09 09:54:00,284 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:54:00,284 - DEBUG - websocket - User 1: Updated static orders cache with 2 open orders and 0 pending orders
2025-07-09 09:54:02,432 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24851.23088585, margin=6.53
2025-07-09 09:54:02,447 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24851.23088585'), 'margin': Decimal('6.53')}
2025-07-09 09:54:02,449 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:54:04,540 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24851.23088585, margin=6.53
2025-07-09 09:54:04,541 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24851.23088585'), 'margin': Decimal('6.53')}
2025-07-09 09:54:04,542 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:54:07,831 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24851.23088585, margin=6.53
2025-07-09 09:54:07,831 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24851.23088585'), 'margin': Decimal('6.53')}
2025-07-09 09:54:07,834 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:54:09,619 - INFO - websocket - User 5O42G: WebSocket disconnected by client.
2025-07-09 09:54:09,620 - INFO - websocket - User 5O42G: Cleaning up WebSocket connection.
2025-07-09 09:54:09,638 - INFO - websocket - User 5O42G: Listener task successfully cancelled.
2025-07-09 09:54:09,638 - INFO - websocket - User 5O42G: WebSocket connection fully closed.
2025-07-09 09:54:10,582 - INFO - websocket - --- MINIMAL TEST: ENTERED websocket_endpoint --- Connection ID: 127.0.0.1:58513-1752080050582
2025-07-09 09:54:10,596 - INFO - websocket - WebSocket connection accepted (early) for 127.0.0.1:58513 in 0.014s
2025-07-09 09:54:10,600 - DEBUG - websocket - User 0: Successfully sent loading message
2025-07-09 09:54:10,602 - INFO - websocket - WebSocket auth: token payload={'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1752081686, 'iat': 1752079886}, account_number=5O42G, user_type=demo
2025-07-09 09:54:10,602 - INFO - websocket - WebSocket auth: About to call get_demo_user_by_account_number with account_number=5O42G, user_type=demo
2025-07-09 09:54:10,645 - INFO - websocket - WebSocket auth: get_demo_user_by_account_number(5O42G, demo) returned: <app.database.models.DemoUser object at 0x000001F4A200CFC0>
2025-07-09 09:54:11,687 - INFO - websocket - [WS] Using order model: DemoUserOrder for user_type=demo, account_number=5O42G
2025-07-09 09:54:11,695 - INFO - websocket - [WS] Open positions from DB for user_id=1: [<app.database.models.DemoUserOrder object at 0x000001F4A20C07D0>, <app.database.models.DemoUserOrder object at 0x000001F4A20C0B90>]
2025-07-09 09:54:12,422 - DEBUG - websocket - Cached/updated group-symbol settings for group 'Group B'.
2025-07-09 09:54:12,427 - DEBUG - websocket - User 1: Fetched 2 open orders directly from database
2025-07-09 09:54:12,431 - DEBUG - websocket - User 1: Fetched 0 pending orders directly from database
2025-07-09 09:54:12,436 - DEBUG - websocket - User 1: Updated static orders cache with 2 open orders and 0 pending orders
2025-07-09 09:54:12,459 - INFO - websocket - User 5O42G: Fetching initial market data for 79 symbols from cache (adjusted or last known price)
2025-07-09 09:54:12,471 - DEBUG - websocket - User 5O42G: Fallback last price for EURCZK: Buy=25.0001500000, Sell=24.9998500000
2025-07-09 09:54:12,474 - DEBUG - websocket - User 5O42G: Fallback last price for AUDNZD: Buy=1.0002500000, Sell=0.9997500000
2025-07-09 09:54:12,513 - DEBUG - websocket - User 5O42G: Fallback last price for USDTRY: Buy=40.0492100000, Sell=40.0474500000
2025-07-09 09:54:12,569 - DEBUG - websocket - User 5O42G: Fallback last price for AUDSGD: Buy=1.0001500000, Sell=0.9998500000
2025-07-09 09:54:12,642 - DEBUG - websocket - User 1: Successfully sent initial connection data
2025-07-09 09:54:12,642 - INFO - websocket - User 5O42G: Sent initial connection data with 48 symbols (fresh from cache)
2025-07-09 09:54:14,242 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24851.23088585, margin=13.06093748
2025-07-09 09:54:14,243 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24851.23088585'), 'margin': Decimal('13.06093748')}
2025-07-09 09:54:14,243 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:54:16,579 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24851.23088585, margin=13.06093748
2025-07-09 09:54:16,579 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24851.23088585'), 'margin': Decimal('13.06093748')}
2025-07-09 09:54:16,580 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:54:19,079 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24851.23088585, margin=13.06093748
2025-07-09 09:54:19,079 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24851.23088585'), 'margin': Decimal('13.06093748')}
2025-07-09 09:54:19,079 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:54:20,335 - INFO - websocket - User 5O42G: WebSocket disconnected by client.
2025-07-09 09:54:20,335 - INFO - websocket - User 5O42G: Cleaning up WebSocket connection.
2025-07-09 09:54:20,338 - INFO - websocket - User 5O42G: Listener task successfully cancelled.
2025-07-09 09:54:20,338 - INFO - websocket - User 5O42G: WebSocket connection fully closed.
2025-07-09 09:54:21,867 - INFO - websocket - Redis publisher task cancelled.
2025-07-09 09:54:21,867 - INFO - websocket - Redis publisher task finished.
2025-07-09 09:58:05,461 - INFO - websocket - Redis publisher task started. Publishing to channel 'market_data_updates'.
2025-07-09 09:58:09,849 - INFO - websocket - --- MINIMAL TEST: ENTERED websocket_endpoint --- Connection ID: 127.0.0.1:58979-1752080289849
2025-07-09 09:58:09,850 - INFO - websocket - WebSocket connection accepted (early) for 127.0.0.1:58979 in 0.001s
2025-07-09 09:58:09,852 - DEBUG - websocket - User 0: Successfully sent loading message
2025-07-09 09:58:09,854 - INFO - websocket - WebSocket auth: token payload={'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1752081686, 'iat': 1752079886}, account_number=5O42G, user_type=demo
2025-07-09 09:58:09,854 - INFO - websocket - WebSocket auth: About to call get_demo_user_by_account_number with account_number=5O42G, user_type=demo
2025-07-09 09:58:09,870 - INFO - websocket - WebSocket auth: get_demo_user_by_account_number(5O42G, demo) returned: <app.database.models.DemoUser object at 0x00000165B3CCF0E0>
2025-07-09 09:58:12,063 - INFO - websocket - --- MINIMAL TEST: ENTERED websocket_endpoint --- Connection ID: 127.0.0.1:59004-1752080292063
2025-07-09 09:58:12,064 - INFO - websocket - WebSocket connection accepted (early) for 127.0.0.1:59004 in 0.001s
2025-07-09 09:58:12,066 - DEBUG - websocket - User 0: Successfully sent loading message
2025-07-09 09:58:12,067 - INFO - websocket - WebSocket auth: token payload={'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1752081686, 'iat': 1752079886}, account_number=5O42G, user_type=demo
2025-07-09 09:58:12,067 - INFO - websocket - WebSocket auth: About to call get_demo_user_by_account_number with account_number=5O42G, user_type=demo
2025-07-09 09:58:12,070 - INFO - websocket - WebSocket auth: get_demo_user_by_account_number(5O42G, demo) returned: <app.database.models.DemoUser object at 0x00000165B4175480>
2025-07-09 09:58:13,291 - INFO - websocket - [WS] Using order model: DemoUserOrder for user_type=demo, account_number=5O42G
2025-07-09 09:58:13,301 - INFO - websocket - [WS] Open positions from DB for user_id=1: [<app.database.models.DemoUserOrder object at 0x00000165B3CCF380>, <app.database.models.DemoUserOrder object at 0x00000165B3CC1E50>]
2025-07-09 09:58:15,363 - INFO - websocket - [WS] Using order model: DemoUserOrder for user_type=demo, account_number=5O42G
2025-07-09 09:58:15,373 - INFO - websocket - [WS] Open positions from DB for user_id=1: [<app.database.models.DemoUserOrder object at 0x00000165B42BC7D0>, <app.database.models.DemoUserOrder object at 0x00000165B42BCA50>]
2025-07-09 09:58:29,673 - DEBUG - websocket - Cached/updated group-symbol settings for group 'Group B'.
2025-07-09 09:58:29,681 - DEBUG - websocket - User 1: Fetched 2 open orders directly from database
2025-07-09 09:58:29,688 - DEBUG - websocket - User 1: Fetched 0 pending orders directly from database
2025-07-09 09:58:29,693 - DEBUG - websocket - User 1: Updated static orders cache with 2 open orders and 0 pending orders
2025-07-09 09:58:29,747 - INFO - websocket - User 5O42G: Fetching initial market data for 79 symbols from cache (adjusted or last known price)
2025-07-09 09:58:29,834 - DEBUG - websocket - Cached/updated group-symbol settings for group 'Group B'.
2025-07-09 09:58:29,841 - DEBUG - websocket - User 1: Fetched 2 open orders directly from database
2025-07-09 09:58:29,847 - DEBUG - websocket - User 1: Fetched 0 pending orders directly from database
2025-07-09 09:58:29,851 - DEBUG - websocket - User 1: Updated static orders cache with 2 open orders and 0 pending orders
2025-07-09 09:58:29,893 - INFO - websocket - User 5O42G: Fetching initial market data for 79 symbols from cache (adjusted or last known price)
2025-07-09 09:58:30,067 - DEBUG - websocket - User 1: Successfully sent initial connection data
2025-07-09 09:58:30,067 - INFO - websocket - User 5O42G: Sent initial connection data with 48 symbols (fresh from cache)
2025-07-09 09:58:30,239 - INFO - websocket - User 1: WebSocket disconnected while sending initial connection data
2025-07-09 09:58:30,240 - WARNING - websocket - User 5O42G: Failed to send initial connection data, connection may be closed
2025-07-09 09:58:30,921 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24851.23088585, margin=13.06093748
2025-07-09 09:58:30,921 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24851.23088585'), 'margin': Decimal('13.06093748')}
2025-07-09 09:58:30,923 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:58:33,350 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24851.23088585, margin=13.06093748
2025-07-09 09:58:33,350 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24851.23088585'), 'margin': Decimal('13.06093748')}
2025-07-09 09:58:33,351 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:58:33,533 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 09:58:33,546 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.74088585, margin=6.53
2025-07-09 09:58:33,546 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.74088585'), 'margin': Decimal('6.53')}
2025-07-09 09:58:33,547 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 09:58:33,548 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 09:58:33,558 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.74088585, margin=6.53
2025-07-09 09:58:33,558 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.74088585'), 'margin': Decimal('6.53')}
2025-07-09 09:58:33,560 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 09:58:33,566 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.74088585, margin=6.53
2025-07-09 09:58:33,567 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.74088585'), 'margin': Decimal('6.53')}
2025-07-09 09:58:33,567 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:58:34,645 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 09:58:34,658 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=0
2025-07-09 09:58:34,658 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('0')}
2025-07-09 09:58:34,660 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 09:58:34,661 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 09:58:34,669 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=0
2025-07-09 09:58:34,669 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('0')}
2025-07-09 09:58:34,670 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 09:58:34,684 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=0
2025-07-09 09:58:34,684 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('0')}
2025-07-09 09:58:34,686 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:58:35,780 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=0
2025-07-09 09:58:35,780 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('0')}
2025-07-09 09:58:35,782 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:58:37,871 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=0
2025-07-09 09:58:37,871 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('0')}
2025-07-09 09:58:37,874 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:58:40,129 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=0
2025-07-09 09:58:40,129 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('0')}
2025-07-09 09:58:40,131 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:58:42,411 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=0
2025-07-09 09:58:42,411 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('0')}
2025-07-09 09:58:42,413 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:58:44,698 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=0
2025-07-09 09:58:44,699 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('0')}
2025-07-09 09:58:44,700 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:58:45,788 - DEBUG - websocket - User 1: Fetched 0 open orders directly from database
2025-07-09 09:58:45,795 - DEBUG - websocket - User 1: Fetched 1 pending orders directly from database
2025-07-09 09:58:45,799 - DEBUG - websocket - User 1: Updated static orders cache with 0 open orders and 1 pending orders
2025-07-09 09:58:45,805 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 09:58:45,815 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=0
2025-07-09 09:58:45,816 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('0')}
2025-07-09 09:58:45,818 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 09:58:45,819 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 09:58:45,827 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=0
2025-07-09 09:58:45,828 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('0')}
2025-07-09 09:58:45,830 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 09:58:45,835 - DEBUG - websocket - User 1: Fetched 0 open orders directly from database
2025-07-09 09:58:45,845 - DEBUG - websocket - User 1: Fetched 1 pending orders directly from database
2025-07-09 09:58:45,849 - DEBUG - websocket - User 1: Updated static orders cache with 0 open orders and 1 pending orders
2025-07-09 09:58:47,098 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=0
2025-07-09 09:58:47,099 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('0')}
2025-07-09 09:58:47,100 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:58:49,396 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=0
2025-07-09 09:58:49,396 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('0')}
2025-07-09 09:58:49,398 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:58:51,572 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=0
2025-07-09 09:58:51,573 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('0')}
2025-07-09 09:58:51,574 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:58:53,986 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=0
2025-07-09 09:58:53,986 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('0')}
2025-07-09 09:58:53,987 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:58:56,193 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=0
2025-07-09 09:58:56,193 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('0')}
2025-07-09 09:58:56,194 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:58:58,500 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=0
2025-07-09 09:58:58,500 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('0')}
2025-07-09 09:58:58,502 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:58:59,373 - DEBUG - websocket - User 1: Fetched 0 open orders directly from database
2025-07-09 09:58:59,379 - DEBUG - websocket - User 1: Fetched 2 pending orders directly from database
2025-07-09 09:58:59,383 - DEBUG - websocket - User 1: Updated static orders cache with 0 open orders and 2 pending orders
2025-07-09 09:58:59,394 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 09:58:59,405 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=0
2025-07-09 09:58:59,406 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('0')}
2025-07-09 09:58:59,409 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 09:58:59,410 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 09:58:59,423 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=0
2025-07-09 09:58:59,423 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('0')}
2025-07-09 09:58:59,425 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 09:58:59,429 - DEBUG - websocket - User 1: Fetched 0 open orders directly from database
2025-07-09 09:58:59,452 - DEBUG - websocket - User 1: Fetched 2 pending orders directly from database
2025-07-09 09:58:59,465 - DEBUG - websocket - User 1: Updated static orders cache with 0 open orders and 2 pending orders
2025-07-09 09:59:01,004 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=0
2025-07-09 09:59:01,005 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('0')}
2025-07-09 09:59:01,006 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:59:03,083 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=0
2025-07-09 09:59:03,084 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('0')}
2025-07-09 09:59:03,085 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:59:05,498 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=0
2025-07-09 09:59:05,499 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('0')}
2025-07-09 09:59:05,500 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:59:07,765 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=0
2025-07-09 09:59:07,765 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('0')}
2025-07-09 09:59:07,767 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:59:09,863 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=0
2025-07-09 09:59:09,864 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('0')}
2025-07-09 09:59:09,865 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:59:12,213 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=0
2025-07-09 09:59:12,214 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('0')}
2025-07-09 09:59:12,215 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:59:14,612 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=0
2025-07-09 09:59:14,612 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('0')}
2025-07-09 09:59:14,613 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:59:15,470 - DEBUG - websocket - User 1: Fetched 0 open orders directly from database
2025-07-09 09:59:15,477 - DEBUG - websocket - User 1: Fetched 3 pending orders directly from database
2025-07-09 09:59:15,481 - DEBUG - websocket - User 1: Updated static orders cache with 0 open orders and 3 pending orders
2025-07-09 09:59:15,487 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 09:59:15,495 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=0
2025-07-09 09:59:15,495 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('0')}
2025-07-09 09:59:15,497 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 09:59:15,497 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 09:59:15,509 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=0
2025-07-09 09:59:15,509 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('0')}
2025-07-09 09:59:15,511 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 09:59:15,515 - DEBUG - websocket - User 1: Fetched 0 open orders directly from database
2025-07-09 09:59:15,526 - DEBUG - websocket - User 1: Fetched 3 pending orders directly from database
2025-07-09 09:59:15,531 - DEBUG - websocket - User 1: Updated static orders cache with 0 open orders and 3 pending orders
2025-07-09 09:59:16,671 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=0
2025-07-09 09:59:16,672 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('0')}
2025-07-09 09:59:16,673 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:59:17,830 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 09:59:17,840 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=0.0
2025-07-09 09:59:17,841 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('0.0')}
2025-07-09 09:59:17,843 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 09:59:17,843 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 09:59:17,846 - DEBUG - websocket - User 1: Fetched 1 open orders directly from database
2025-07-09 09:59:17,857 - DEBUG - websocket - User 1: Fetched 2 pending orders directly from database
2025-07-09 09:59:17,862 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=0.0
2025-07-09 09:59:17,862 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('0.0')}
2025-07-09 09:59:17,864 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 09:59:17,868 - DEBUG - websocket - User 1: Updated static orders cache with 1 open orders and 2 pending orders
2025-07-09 09:59:17,876 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=0.0
2025-07-09 09:59:17,876 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('0.0')}
2025-07-09 09:59:17,878 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:59:19,141 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=0.0
2025-07-09 09:59:19,142 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('0.0')}
2025-07-09 09:59:19,142 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:59:21,328 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=0.0
2025-07-09 09:59:21,328 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('0.0')}
2025-07-09 09:59:21,330 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:59:23,718 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=0.0
2025-07-09 09:59:23,719 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('0.0')}
2025-07-09 09:59:23,720 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:59:25,909 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=0.0
2025-07-09 09:59:25,909 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('0.0')}
2025-07-09 09:59:25,911 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:59:28,653 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=0.0
2025-07-09 09:59:28,653 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('0.0')}
2025-07-09 09:59:28,654 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:59:30,742 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=0.0
2025-07-09 09:59:30,742 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('0.0')}
2025-07-09 09:59:30,743 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:59:32,814 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=0.0
2025-07-09 09:59:32,814 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('0.0')}
2025-07-09 09:59:32,816 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:59:35,214 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=0.0
2025-07-09 09:59:35,214 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('0.0')}
2025-07-09 09:59:35,215 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:59:37,430 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=0.0
2025-07-09 09:59:37,430 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('0.0')}
2025-07-09 09:59:37,432 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:59:39,806 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=0.0
2025-07-09 09:59:39,807 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('0.0')}
2025-07-09 09:59:39,811 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:59:41,841 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=0.0
2025-07-09 09:59:41,841 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('0.0')}
2025-07-09 09:59:41,842 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:59:44,188 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=0.0
2025-07-09 09:59:44,189 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('0.0')}
2025-07-09 09:59:44,190 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:59:46,563 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=0.0
2025-07-09 09:59:46,564 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('0.0')}
2025-07-09 09:59:46,566 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:59:48,734 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=0.0
2025-07-09 09:59:48,734 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('0.0')}
2025-07-09 09:59:48,736 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:59:51,028 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=0.0
2025-07-09 09:59:51,029 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('0.0')}
2025-07-09 09:59:51,030 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:59:53,774 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=0.0
2025-07-09 09:59:53,774 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('0.0')}
2025-07-09 09:59:53,774 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:59:55,736 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=0.0
2025-07-09 09:59:55,736 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('0.0')}
2025-07-09 09:59:55,736 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 09:59:59,165 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=0.0
2025-07-09 09:59:59,165 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('0.0')}
2025-07-09 09:59:59,167 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:00:00,437 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=0.0
2025-07-09 10:00:00,437 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('0.0')}
2025-07-09 10:00:00,438 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:00:02,781 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=0.0
2025-07-09 10:00:02,781 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('0.0')}
2025-07-09 10:00:02,783 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:00:04,831 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=0.0
2025-07-09 10:00:04,831 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('0.0')}
2025-07-09 10:00:04,832 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:00:07,024 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=0.0
2025-07-09 10:00:07,024 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('0.0')}
2025-07-09 10:00:07,025 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:00:09,553 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=0.0
2025-07-09 10:00:09,553 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('0.0')}
2025-07-09 10:00:09,553 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:00:11,782 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=0.0
2025-07-09 10:00:11,782 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('0.0')}
2025-07-09 10:00:11,783 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:00:13,999 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=0.0
2025-07-09 10:00:13,999 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('0.0')}
2025-07-09 10:00:14,000 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:00:16,293 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=0.0
2025-07-09 10:00:16,293 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('0.0')}
2025-07-09 10:00:16,294 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:00:18,579 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=0.0
2025-07-09 10:00:18,579 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('0.0')}
2025-07-09 10:00:18,580 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:00:20,863 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=0.0
2025-07-09 10:00:20,863 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('0.0')}
2025-07-09 10:00:20,863 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:00:23,276 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=0.0
2025-07-09 10:00:23,277 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('0.0')}
2025-07-09 10:00:23,278 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:00:25,580 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=0.0
2025-07-09 10:00:25,580 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('0.0')}
2025-07-09 10:00:25,581 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:00:27,679 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=0.0
2025-07-09 10:00:27,679 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('0.0')}
2025-07-09 10:00:27,680 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:00:30,079 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=0.0
2025-07-09 10:00:30,079 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('0.0')}
2025-07-09 10:00:30,080 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:00:32,360 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=0.0
2025-07-09 10:00:32,360 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('0.0')}
2025-07-09 10:00:32,361 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:00:34,999 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=0.0
2025-07-09 10:00:35,000 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('0.0')}
2025-07-09 10:00:35,000 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:00:37,202 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=0.0
2025-07-09 10:00:37,202 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('0.0')}
2025-07-09 10:00:37,203 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:00:42,089 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=0.0
2025-07-09 10:00:42,089 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('0.0')}
2025-07-09 10:00:42,090 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:00:42,681 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=0.0
2025-07-09 10:00:42,681 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('0.0')}
2025-07-09 10:00:42,683 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:00:44,417 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=0.0
2025-07-09 10:00:44,417 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('0.0')}
2025-07-09 10:00:44,418 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:00:46,808 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=0.0
2025-07-09 10:00:46,808 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('0.0')}
2025-07-09 10:00:46,809 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:00:49,115 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=0.0
2025-07-09 10:00:49,115 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('0.0')}
2025-07-09 10:00:49,116 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:00:51,399 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=0.0
2025-07-09 10:00:51,399 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('0.0')}
2025-07-09 10:00:51,400 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:00:53,588 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=0.0
2025-07-09 10:00:53,588 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('0.0')}
2025-07-09 10:00:53,589 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:00:55,878 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=0.0
2025-07-09 10:00:55,878 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('0.0')}
2025-07-09 10:00:55,879 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:00:58,153 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=0.0
2025-07-09 10:00:58,153 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('0.0')}
2025-07-09 10:00:58,155 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:01:00,480 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=0.0
2025-07-09 10:01:00,480 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('0.0')}
2025-07-09 10:01:00,481 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:01:02,670 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=0.0
2025-07-09 10:01:02,670 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('0.0')}
2025-07-09 10:01:02,671 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:01:05,060 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=0.0
2025-07-09 10:01:05,061 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('0.0')}
2025-07-09 10:01:05,062 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:01:07,480 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=0.0
2025-07-09 10:01:07,480 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('0.0')}
2025-07-09 10:01:07,481 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:01:10,600 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=0.0
2025-07-09 10:01:10,600 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('0.0')}
2025-07-09 10:01:10,600 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:01:12,180 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=0.0
2025-07-09 10:01:12,180 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('0.0')}
2025-07-09 10:01:12,181 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:01:14,390 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=0.0
2025-07-09 10:01:14,391 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('0.0')}
2025-07-09 10:01:14,393 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:01:16,668 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=0.0
2025-07-09 10:01:16,668 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('0.0')}
2025-07-09 10:01:16,669 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:01:18,985 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=0.0
2025-07-09 10:01:18,985 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('0.0')}
2025-07-09 10:01:18,986 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:01:21,343 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=0.0
2025-07-09 10:01:21,343 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('0.0')}
2025-07-09 10:01:21,344 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:01:23,493 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=0.0
2025-07-09 10:01:23,493 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('0.0')}
2025-07-09 10:01:23,494 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:01:25,840 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=0.0
2025-07-09 10:01:25,841 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('0.0')}
2025-07-09 10:01:25,842 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:01:28,097 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=0.0
2025-07-09 10:01:28,100 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('0.0')}
2025-07-09 10:01:28,101 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:01:30,363 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=0.0
2025-07-09 10:01:30,363 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('0.0')}
2025-07-09 10:01:30,365 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:01:32,633 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=0.0
2025-07-09 10:01:32,633 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('0.0')}
2025-07-09 10:01:32,634 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:01:34,767 - INFO - websocket - User 5O42G: WebSocket disconnected by client.
2025-07-09 10:01:34,768 - INFO - websocket - User 5O42G: Cleaning up WebSocket connection.
2025-07-09 10:01:34,794 - INFO - websocket - User 5O42G: Listener task successfully cancelled.
2025-07-09 10:01:34,800 - INFO - websocket - User 5O42G: WebSocket connection fully closed.
2025-07-09 10:01:35,089 - INFO - websocket - Redis publisher task cancelled.
2025-07-09 10:01:35,089 - INFO - websocket - Redis publisher task finished.
2025-07-09 10:14:50,499 - INFO - websocket - Redis publisher task started. Publishing to channel 'market_data_updates'.
2025-07-09 10:14:52,041 - INFO - websocket - --- MINIMAL TEST: ENTERED websocket_endpoint --- Connection ID: 127.0.0.1:60353-1752081292040
2025-07-09 10:14:52,043 - INFO - websocket - WebSocket connection accepted (early) for 127.0.0.1:60353 in 0.002s
2025-07-09 10:14:52,048 - DEBUG - websocket - User 0: Successfully sent loading message
2025-07-09 10:14:52,054 - INFO - websocket - WebSocket auth: token payload={'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1752081686, 'iat': 1752079886}, account_number=5O42G, user_type=demo
2025-07-09 10:14:52,054 - INFO - websocket - WebSocket auth: About to call get_demo_user_by_account_number with account_number=5O42G, user_type=demo
2025-07-09 10:14:52,427 - INFO - websocket - WebSocket auth: get_demo_user_by_account_number(5O42G, demo) returned: <app.database.models.DemoUser object at 0x000002444D5D2210>
2025-07-09 10:14:57,903 - INFO - websocket - [WS] Using order model: DemoUserOrder for user_type=demo, account_number=5O42G
2025-07-09 10:14:57,908 - INFO - websocket - [WS] Open positions from DB for user_id=1: [<app.database.models.DemoUserOrder object at 0x000002444D5DEF90>]
2025-07-09 10:15:10,857 - DEBUG - websocket - Cached/updated group-symbol settings for group 'Group B'.
2025-07-09 10:15:10,859 - DEBUG - websocket - User 1: Fetched 1 open orders directly from database
2025-07-09 10:15:10,863 - DEBUG - websocket - User 1: Fetched 2 pending orders directly from database
2025-07-09 10:15:10,864 - DEBUG - websocket - User 1: Updated static orders cache with 1 open orders and 2 pending orders
2025-07-09 10:15:10,875 - INFO - websocket - User 5O42G: Fetching initial market data for 79 symbols from cache (adjusted or last known price)
2025-07-09 10:15:10,954 - DEBUG - websocket - User 1: Successfully sent initial connection data
2025-07-09 10:15:10,955 - INFO - websocket - User 5O42G: Sent initial connection data with 48 symbols (fresh from cache)
2025-07-09 10:15:13,817 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=6.53074182
2025-07-09 10:15:13,817 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('6.53074182')}
2025-07-09 10:15:13,818 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:15:14,183 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=6.53074182
2025-07-09 10:15:14,183 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('6.53074182')}
2025-07-09 10:15:14,184 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:15:16,360 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=6.53074182
2025-07-09 10:15:16,360 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('6.53074182')}
2025-07-09 10:15:16,361 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:15:18,674 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=6.53074182
2025-07-09 10:15:18,674 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('6.53074182')}
2025-07-09 10:15:18,675 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:15:21,099 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=6.53074182
2025-07-09 10:15:21,099 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('6.53074182')}
2025-07-09 10:15:21,101 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:15:23,270 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=6.53074182
2025-07-09 10:15:23,270 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('6.53074182')}
2025-07-09 10:15:23,271 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:15:25,699 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=6.53074182
2025-07-09 10:15:25,699 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('6.53074182')}
2025-07-09 10:15:25,700 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:15:27,835 - DEBUG - websocket - User 1: Fetched 1 open orders directly from database
2025-07-09 10:15:27,839 - DEBUG - websocket - User 1: Fetched 3 pending orders directly from database
2025-07-09 10:15:27,841 - DEBUG - websocket - User 1: Updated static orders cache with 1 open orders and 3 pending orders
2025-07-09 10:15:27,844 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 10:15:27,851 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=6.53074182
2025-07-09 10:15:27,851 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('6.53074182')}
2025-07-09 10:15:27,853 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 10:15:27,854 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 10:15:27,860 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=6.53074182
2025-07-09 10:15:27,861 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('6.53074182')}
2025-07-09 10:15:27,862 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 10:15:27,865 - DEBUG - websocket - User 1: Fetched 1 open orders directly from database
2025-07-09 10:15:27,874 - DEBUG - websocket - User 1: Fetched 3 pending orders directly from database
2025-07-09 10:15:27,877 - DEBUG - websocket - User 1: Updated static orders cache with 1 open orders and 3 pending orders
2025-07-09 10:15:27,964 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=6.53074182
2025-07-09 10:15:27,964 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('6.53074182')}
2025-07-09 10:15:27,965 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:15:30,140 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=6.53074182
2025-07-09 10:15:30,141 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('6.53074182')}
2025-07-09 10:15:30,141 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:15:32,431 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=6.53074182
2025-07-09 10:15:32,431 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('6.53074182')}
2025-07-09 10:15:32,432 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:15:34,868 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=6.53074182
2025-07-09 10:15:34,868 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('6.53074182')}
2025-07-09 10:15:34,869 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:15:37,066 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=6.53074182
2025-07-09 10:15:37,066 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('6.53074182')}
2025-07-09 10:15:37,067 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:15:39,357 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=6.53074182
2025-07-09 10:15:39,357 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('6.53074182')}
2025-07-09 10:15:39,359 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:15:39,491 - DEBUG - websocket - User 1: Fetched 1 open orders directly from database
2025-07-09 10:15:39,498 - DEBUG - websocket - User 1: Fetched 2 pending orders directly from database
2025-07-09 10:15:39,499 - DEBUG - websocket - User 1: Updated static orders cache with 1 open orders and 2 pending orders
2025-07-09 10:15:39,504 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 10:15:39,507 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=6.53074182
2025-07-09 10:15:39,507 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('6.53074182')}
2025-07-09 10:15:39,508 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 10:15:39,508 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 10:15:39,513 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=6.53074182
2025-07-09 10:15:39,513 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('6.53074182')}
2025-07-09 10:15:39,514 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 10:15:41,596 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=6.53074182
2025-07-09 10:15:41,596 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('6.53074182')}
2025-07-09 10:15:41,596 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:15:42,217 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 10:15:42,222 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=6.53
2025-07-09 10:15:42,222 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('6.53')}
2025-07-09 10:15:42,225 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 10:15:42,225 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 10:15:42,228 - DEBUG - websocket - User 1: Fetched 2 open orders directly from database
2025-07-09 10:15:42,231 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=6.53
2025-07-09 10:15:42,232 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('6.53')}
2025-07-09 10:15:42,233 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 10:15:42,237 - DEBUG - websocket - User 1: Fetched 1 pending orders directly from database
2025-07-09 10:15:42,253 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=6.53
2025-07-09 10:15:42,253 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('6.53')}
2025-07-09 10:15:42,255 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:15:42,255 - DEBUG - websocket - User 1: Updated static orders cache with 2 open orders and 1 pending orders
2025-07-09 10:15:43,966 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=6.53
2025-07-09 10:15:43,966 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('6.53')}
2025-07-09 10:15:43,966 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:15:46,243 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=6.53
2025-07-09 10:15:46,243 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('6.53')}
2025-07-09 10:15:46,244 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:15:48,586 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=6.53
2025-07-09 10:15:48,586 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('6.53')}
2025-07-09 10:15:48,586 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:15:50,617 - DEBUG - websocket - User 1: Fetched 2 open orders directly from database
2025-07-09 10:15:50,621 - DEBUG - websocket - User 1: Fetched 0 pending orders directly from database
2025-07-09 10:15:50,622 - DEBUG - websocket - User 1: Updated static orders cache with 2 open orders and 0 pending orders
2025-07-09 10:15:50,626 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 10:15:50,629 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=6.53
2025-07-09 10:15:50,630 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('6.53')}
2025-07-09 10:15:50,630 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 10:15:50,631 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 10:15:50,633 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=6.53
2025-07-09 10:15:50,633 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('6.53')}
2025-07-09 10:15:50,634 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 10:15:50,825 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=6.53
2025-07-09 10:15:50,825 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('6.53')}
2025-07-09 10:15:50,826 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:15:53,298 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=6.53
2025-07-09 10:15:53,298 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('6.53')}
2025-07-09 10:15:53,299 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:15:55,419 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=6.53
2025-07-09 10:15:55,419 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('6.53')}
2025-07-09 10:15:55,420 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:15:57,671 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=6.53
2025-07-09 10:15:57,671 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('6.53')}
2025-07-09 10:15:57,672 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:15:59,917 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=6.53
2025-07-09 10:15:59,917 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('6.53')}
2025-07-09 10:15:59,918 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:16:00,285 - INFO - websocket - User 5O42G: WebSocket disconnected by client.
2025-07-09 10:16:00,285 - INFO - websocket - User 5O42G: Cleaning up WebSocket connection.
2025-07-09 10:16:00,287 - INFO - websocket - User 5O42G: Listener task successfully cancelled.
2025-07-09 10:16:00,287 - INFO - websocket - User 5O42G: WebSocket connection fully closed.
2025-07-09 10:16:01,620 - INFO - websocket - --- MINIMAL TEST: ENTERED websocket_endpoint --- Connection ID: 127.0.0.1:60475-1752081361620
2025-07-09 10:16:01,620 - INFO - websocket - WebSocket connection accepted (early) for 127.0.0.1:60475 in 0.001s
2025-07-09 10:16:01,622 - DEBUG - websocket - User 0: Successfully sent loading message
2025-07-09 10:16:01,622 - INFO - websocket - WebSocket auth: token payload={'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1752081686, 'iat': 1752079886}, account_number=5O42G, user_type=demo
2025-07-09 10:16:01,622 - INFO - websocket - WebSocket auth: About to call get_demo_user_by_account_number with account_number=5O42G, user_type=demo
2025-07-09 10:16:01,626 - INFO - websocket - WebSocket auth: get_demo_user_by_account_number(5O42G, demo) returned: <app.database.models.DemoUser object at 0x000002444DAE88A0>
2025-07-09 10:16:03,671 - INFO - websocket - [WS] Using order model: DemoUserOrder for user_type=demo, account_number=5O42G
2025-07-09 10:16:03,681 - INFO - websocket - [WS] Open positions from DB for user_id=1: [<app.database.models.DemoUserOrder object at 0x000002444D603890>, <app.database.models.DemoUserOrder object at 0x000002444DB674D0>]
2025-07-09 10:16:04,349 - DEBUG - websocket - Cached/updated group-symbol settings for group 'Group B'.
2025-07-09 10:16:04,352 - DEBUG - websocket - User 1: Fetched 2 open orders directly from database
2025-07-09 10:16:04,356 - DEBUG - websocket - User 1: Fetched 0 pending orders directly from database
2025-07-09 10:16:04,357 - DEBUG - websocket - User 1: Updated static orders cache with 2 open orders and 0 pending orders
2025-07-09 10:16:04,365 - INFO - websocket - User 5O42G: Fetching initial market data for 79 symbols from cache (adjusted or last known price)
2025-07-09 10:16:04,369 - DEBUG - websocket - User 5O42G: Fallback last price for EURCZK: Buy=25.0001500000, Sell=24.9998500000
2025-07-09 10:16:04,369 - DEBUG - websocket - User 5O42G: Fallback last price for AUDNZD: Buy=1.0002500000, Sell=0.9997500000
2025-07-09 10:16:04,380 - DEBUG - websocket - User 5O42G: Fallback last price for AUDSGD: Buy=1.0001500000, Sell=0.9998500000
2025-07-09 10:16:04,387 - DEBUG - websocket - User 1: Successfully sent initial connection data
2025-07-09 10:16:04,387 - INFO - websocket - User 5O42G: Sent initial connection data with 48 symbols (fresh from cache)
2025-07-09 10:16:04,851 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=13.06202979
2025-07-09 10:16:04,851 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('13.06202979')}
2025-07-09 10:16:04,852 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:16:06,908 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=13.06202979
2025-07-09 10:16:06,909 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('13.06202979')}
2025-07-09 10:16:06,909 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:16:09,154 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=13.06202979
2025-07-09 10:16:09,155 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('13.06202979')}
2025-07-09 10:16:09,155 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:16:11,479 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=13.06202979
2025-07-09 10:16:11,479 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('13.06202979')}
2025-07-09 10:16:11,480 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:16:13,656 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=13.06202979
2025-07-09 10:16:13,656 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('13.06202979')}
2025-07-09 10:16:13,656 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:16:14,290 - INFO - websocket - User 5O42G: WebSocket disconnected by client.
2025-07-09 10:16:14,291 - INFO - websocket - User 5O42G: Cleaning up WebSocket connection.
2025-07-09 10:16:14,294 - INFO - websocket - User 5O42G: Listener task successfully cancelled.
2025-07-09 10:16:14,294 - INFO - websocket - User 5O42G: WebSocket connection fully closed.
2025-07-09 10:16:15,975 - INFO - websocket - Redis publisher task cancelled.
2025-07-09 10:16:15,975 - INFO - websocket - Redis publisher task finished.
2025-07-09 10:29:00,823 - INFO - websocket - Redis publisher task started. Publishing to channel 'market_data_updates'.
2025-07-09 10:29:08,135 - INFO - websocket - --- MINIMAL TEST: ENTERED websocket_endpoint --- Connection ID: 127.0.0.1:61481-1752082148135
2025-07-09 10:29:08,136 - INFO - websocket - WebSocket connection accepted (early) for 127.0.0.1:61481 in 0.001s
2025-07-09 10:29:08,137 - DEBUG - websocket - User 0: Successfully sent loading message
2025-07-09 10:29:08,139 - WARNING - websocket - WebSocket auth failed: JWT error for 127.0.0.1:61481: Could not validate credentials
2025-07-09 10:29:14,440 - INFO - websocket - --- MINIMAL TEST: ENTERED websocket_endpoint --- Connection ID: 127.0.0.1:61495-1752082154440
2025-07-09 10:29:14,440 - INFO - websocket - WebSocket connection accepted (early) for 127.0.0.1:61495 in 0.001s
2025-07-09 10:29:14,441 - DEBUG - websocket - User 0: Successfully sent loading message
2025-07-09 10:29:14,442 - WARNING - websocket - WebSocket auth failed: JWT error for 127.0.0.1:61495: Could not validate credentials
2025-07-09 10:29:20,265 - INFO - websocket - --- MINIMAL TEST: ENTERED websocket_endpoint --- Connection ID: 127.0.0.1:61507-1752082160265
2025-07-09 10:29:20,266 - INFO - websocket - WebSocket connection accepted (early) for 127.0.0.1:61507 in 0.001s
2025-07-09 10:29:20,268 - DEBUG - websocket - User 0: Successfully sent loading message
2025-07-09 10:29:20,271 - WARNING - websocket - WebSocket auth failed: JWT error for 127.0.0.1:61507: Could not validate credentials
2025-07-09 10:29:28,760 - INFO - websocket - --- MINIMAL TEST: ENTERED websocket_endpoint --- Connection ID: 127.0.0.1:61537-1752082168760
2025-07-09 10:29:28,761 - INFO - websocket - WebSocket connection accepted (early) for 127.0.0.1:61537 in 0.001s
2025-07-09 10:29:28,763 - DEBUG - websocket - User 0: Successfully sent loading message
2025-07-09 10:29:28,764 - INFO - websocket - WebSocket auth: token payload={'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1752083967, 'iat': 1752082167}, account_number=5O42G, user_type=demo
2025-07-09 10:29:28,765 - INFO - websocket - WebSocket auth: About to call get_demo_user_by_account_number with account_number=5O42G, user_type=demo
2025-07-09 10:29:28,770 - INFO - websocket - WebSocket auth: get_demo_user_by_account_number(5O42G, demo) returned: <app.database.models.DemoUser object at 0x000001442767D0F0>
2025-07-09 10:29:28,772 - INFO - websocket - [WS] Using order model: DemoUserOrder for user_type=demo, account_number=5O42G
2025-07-09 10:29:28,776 - INFO - websocket - [WS] Open positions from DB for user_id=1: [<app.database.models.DemoUserOrder object at 0x0000014427440550>, <app.database.models.DemoUserOrder object at 0x0000014427440190>]
2025-07-09 10:29:29,181 - DEBUG - websocket - Cached/updated group-symbol settings for group 'Group B'.
2025-07-09 10:29:29,184 - DEBUG - websocket - User 1: Fetched 2 open orders directly from database
2025-07-09 10:29:29,186 - DEBUG - websocket - User 1: Fetched 0 pending orders directly from database
2025-07-09 10:29:29,188 - DEBUG - websocket - User 1: Updated static orders cache with 2 open orders and 0 pending orders
2025-07-09 10:29:29,198 - INFO - websocket - User 5O42G: Fetching initial market data for 79 symbols from cache (adjusted or last known price)
2025-07-09 10:29:29,235 - DEBUG - websocket - User 1: Successfully sent initial connection data
2025-07-09 10:29:29,236 - INFO - websocket - User 5O42G: Sent initial connection data with 48 symbols (fresh from cache)
2025-07-09 10:29:32,049 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=13.06202979
2025-07-09 10:29:32,049 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('13.06202979')}
2025-07-09 10:29:32,050 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:29:32,448 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=13.06202979
2025-07-09 10:29:32,448 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('13.06202979')}
2025-07-09 10:29:32,448 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:29:36,629 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=13.06202979
2025-07-09 10:29:36,629 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('13.06202979')}
2025-07-09 10:29:36,630 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:29:36,880 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=13.06202979
2025-07-09 10:29:36,880 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('13.06202979')}
2025-07-09 10:29:36,881 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:29:39,182 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=13.06202979
2025-07-09 10:29:39,182 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('13.06202979')}
2025-07-09 10:29:39,183 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:29:41,377 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=13.06202979
2025-07-09 10:29:41,377 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('13.06202979')}
2025-07-09 10:29:41,381 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:29:43,653 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=13.06202979
2025-07-09 10:29:43,653 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('13.06202979')}
2025-07-09 10:29:43,653 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:29:45,962 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=13.06202979
2025-07-09 10:29:45,962 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('13.06202979')}
2025-07-09 10:29:45,963 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:29:48,236 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24850.11088585, margin=13.06202979
2025-07-09 10:29:48,236 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24850.11088585'), 'margin': Decimal('13.06202979')}
2025-07-09 10:29:48,236 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:29:49,088 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 10:29:49,096 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24849.10088585, margin=6.53
2025-07-09 10:29:49,099 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24849.10088585'), 'margin': Decimal('6.53')}
2025-07-09 10:29:49,100 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 10:29:49,101 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 10:29:49,106 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24849.10088585, margin=6.53
2025-07-09 10:29:49,107 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24849.10088585'), 'margin': Decimal('6.53')}
2025-07-09 10:29:49,108 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 10:29:49,114 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24849.10088585, margin=6.53
2025-07-09 10:29:49,114 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24849.10088585'), 'margin': Decimal('6.53')}
2025-07-09 10:29:49,115 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:29:49,715 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 10:29:49,721 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=0
2025-07-09 10:29:49,721 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('0')}
2025-07-09 10:29:49,722 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 10:29:49,722 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 10:29:49,726 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=0
2025-07-09 10:29:49,726 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('0')}
2025-07-09 10:29:49,727 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 10:29:49,729 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=0
2025-07-09 10:29:49,729 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('0')}
2025-07-09 10:29:49,730 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:29:50,567 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=0
2025-07-09 10:29:50,567 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('0')}
2025-07-09 10:29:50,567 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:29:52,860 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=0
2025-07-09 10:29:52,861 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('0')}
2025-07-09 10:29:52,861 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:29:55,165 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=0
2025-07-09 10:29:55,165 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('0')}
2025-07-09 10:29:55,165 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:29:57,431 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=0
2025-07-09 10:29:57,431 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('0')}
2025-07-09 10:29:57,432 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:30:01,176 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=0
2025-07-09 10:30:01,177 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('0')}
2025-07-09 10:30:01,177 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:30:01,249 - DEBUG - websocket - User 1: Fetched 0 open orders directly from database
2025-07-09 10:30:01,253 - DEBUG - websocket - User 1: Fetched 1 pending orders directly from database
2025-07-09 10:30:01,255 - DEBUG - websocket - User 1: Updated static orders cache with 0 open orders and 1 pending orders
2025-07-09 10:30:01,259 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 10:30:01,265 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=0
2025-07-09 10:30:01,265 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('0')}
2025-07-09 10:30:01,266 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 10:30:01,267 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 10:30:01,269 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=0
2025-07-09 10:30:01,270 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('0')}
2025-07-09 10:30:01,270 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 10:30:01,273 - DEBUG - websocket - User 1: Fetched 0 open orders directly from database
2025-07-09 10:30:01,279 - DEBUG - websocket - User 1: Fetched 1 pending orders directly from database
2025-07-09 10:30:01,281 - DEBUG - websocket - User 1: Updated static orders cache with 0 open orders and 1 pending orders
2025-07-09 10:30:02,027 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 10:30:02,030 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=13.06
2025-07-09 10:30:02,030 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('13.06')}
2025-07-09 10:30:02,031 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 10:30:02,031 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 10:30:02,035 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=13.06
2025-07-09 10:30:02,035 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('13.06')}
2025-07-09 10:30:02,036 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 10:30:02,039 - DEBUG - websocket - User 1: Fetched 1 open orders directly from database
2025-07-09 10:30:02,043 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=13.06
2025-07-09 10:30:02,043 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('13.06')}
2025-07-09 10:30:02,043 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:30:02,046 - DEBUG - websocket - User 1: Fetched 0 pending orders directly from database
2025-07-09 10:30:02,048 - DEBUG - websocket - User 1: Updated static orders cache with 1 open orders and 0 pending orders
2025-07-09 10:30:02,685 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=13.06
2025-07-09 10:30:02,685 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('13.06')}
2025-07-09 10:30:02,685 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:30:04,751 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=13.06
2025-07-09 10:30:04,751 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('13.06')}
2025-07-09 10:30:04,752 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:30:06,481 - INFO - websocket - User 5O42G: WebSocket disconnected by client.
2025-07-09 10:30:06,481 - INFO - websocket - User 5O42G: Cleaning up WebSocket connection.
2025-07-09 10:30:06,484 - INFO - websocket - User 5O42G: Listener task successfully cancelled.
2025-07-09 10:30:06,484 - INFO - websocket - User 5O42G: WebSocket connection fully closed.
2025-07-09 10:30:07,220 - INFO - websocket - --- MINIMAL TEST: ENTERED websocket_endpoint --- Connection ID: 127.0.0.1:61609-1752082207220
2025-07-09 10:30:07,220 - INFO - websocket - WebSocket connection accepted (early) for 127.0.0.1:61609 in 0.001s
2025-07-09 10:30:07,222 - DEBUG - websocket - User 0: Successfully sent loading message
2025-07-09 10:30:07,223 - INFO - websocket - WebSocket auth: token payload={'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1752083967, 'iat': 1752082167}, account_number=5O42G, user_type=demo
2025-07-09 10:30:07,224 - INFO - websocket - WebSocket auth: About to call get_demo_user_by_account_number with account_number=5O42G, user_type=demo
2025-07-09 10:30:07,227 - INFO - websocket - WebSocket auth: get_demo_user_by_account_number(5O42G, demo) returned: <app.database.models.DemoUser object at 0x000001442767CE90>
2025-07-09 10:30:09,254 - INFO - websocket - [WS] Using order model: DemoUserOrder for user_type=demo, account_number=5O42G
2025-07-09 10:30:09,262 - INFO - websocket - [WS] Open positions from DB for user_id=1: [<app.database.models.DemoUserOrder object at 0x0000014427440910>]
2025-07-09 10:30:09,972 - DEBUG - websocket - Cached/updated group-symbol settings for group 'Group B'.
2025-07-09 10:30:09,976 - DEBUG - websocket - User 1: Fetched 1 open orders directly from database
2025-07-09 10:30:09,979 - DEBUG - websocket - User 1: Fetched 0 pending orders directly from database
2025-07-09 10:30:09,981 - DEBUG - websocket - User 1: Updated static orders cache with 1 open orders and 0 pending orders
2025-07-09 10:30:09,999 - INFO - websocket - User 5O42G: Fetching initial market data for 79 symbols from cache (adjusted or last known price)
2025-07-09 10:30:10,018 - DEBUG - websocket - User 5O42G: Fallback last price for EURCZK: Buy=25.0001500000, Sell=24.9998500000
2025-07-09 10:30:10,021 - DEBUG - websocket - User 5O42G: Fallback last price for AUDNZD: Buy=1.0002500000, Sell=0.9997500000
2025-07-09 10:30:10,055 - DEBUG - websocket - User 5O42G: Fallback last price for USDTRY: Buy=40.0492100000, Sell=40.0474500000
2025-07-09 10:30:10,082 - DEBUG - websocket - User 5O42G: Fallback last price for AUDSGD: Buy=1.0001500000, Sell=0.9998500000
2025-07-09 10:30:10,125 - DEBUG - websocket - User 1: Successfully sent initial connection data
2025-07-09 10:30:10,126 - INFO - websocket - User 5O42G: Sent initial connection data with 48 symbols (fresh from cache)
2025-07-09 10:30:12,181 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=6.53258510
2025-07-09 10:30:12,181 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('6.53258510')}
2025-07-09 10:30:12,181 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:30:14,579 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=6.53258510
2025-07-09 10:30:14,579 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('6.53258510')}
2025-07-09 10:30:14,580 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:30:16,745 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=6.53258510
2025-07-09 10:30:16,745 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('6.53258510')}
2025-07-09 10:30:16,746 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:30:19,150 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=6.53258510
2025-07-09 10:30:19,151 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('6.53258510')}
2025-07-09 10:30:19,151 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:30:21,344 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=6.53258510
2025-07-09 10:30:21,344 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('6.53258510')}
2025-07-09 10:30:21,345 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:30:23,629 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=6.53258510
2025-07-09 10:30:23,629 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('6.53258510')}
2025-07-09 10:30:23,629 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:30:24,603 - INFO - websocket - User 5O42G: WebSocket disconnected by client.
2025-07-09 10:30:24,604 - INFO - websocket - User 5O42G: Cleaning up WebSocket connection.
2025-07-09 10:30:24,606 - INFO - websocket - User 5O42G: Listener task successfully cancelled.
2025-07-09 10:30:24,607 - INFO - websocket - User 5O42G: WebSocket connection fully closed.
2025-07-09 10:30:25,904 - INFO - websocket - Redis publisher task cancelled.
2025-07-09 10:30:25,904 - INFO - websocket - Redis publisher task finished.
2025-07-09 10:33:27,326 - INFO - websocket - Redis publisher task started. Publishing to channel 'market_data_updates'.
2025-07-09 10:33:28,503 - INFO - websocket - --- MINIMAL TEST: ENTERED websocket_endpoint --- Connection ID: 127.0.0.1:61896-1752082408503
2025-07-09 10:33:28,504 - INFO - websocket - WebSocket connection accepted (early) for 127.0.0.1:61896 in 0.001s
2025-07-09 10:33:28,506 - DEBUG - websocket - User 0: Successfully sent loading message
2025-07-09 10:33:28,507 - INFO - websocket - WebSocket auth: token payload={'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1752083967, 'iat': 1752082167}, account_number=5O42G, user_type=demo
2025-07-09 10:33:28,507 - INFO - websocket - WebSocket auth: About to call get_demo_user_by_account_number with account_number=5O42G, user_type=demo
2025-07-09 10:33:28,607 - INFO - websocket - WebSocket auth: get_demo_user_by_account_number(5O42G, demo) returned: <app.database.models.DemoUser object at 0x000001B0DBD3E120>
2025-07-09 10:33:34,344 - INFO - websocket - [WS] Using order model: DemoUserOrder for user_type=demo, account_number=5O42G
2025-07-09 10:33:34,349 - INFO - websocket - [WS] Open positions from DB for user_id=1: [<app.database.models.DemoUserOrder object at 0x000001B0DBD3F4D0>]
2025-07-09 10:33:46,834 - DEBUG - websocket - Cached/updated group-symbol settings for group 'Group B'.
2025-07-09 10:33:46,834 - DEBUG - websocket - User 1: Fetched 1 open orders directly from database
2025-07-09 10:33:46,836 - DEBUG - websocket - User 1: Fetched 0 pending orders directly from database
2025-07-09 10:33:46,837 - DEBUG - websocket - User 1: Updated static orders cache with 1 open orders and 0 pending orders
2025-07-09 10:33:46,843 - INFO - websocket - User 5O42G: Fetching initial market data for 79 symbols from cache (adjusted or last known price)
2025-07-09 10:33:46,875 - DEBUG - websocket - User 1: Successfully sent initial connection data
2025-07-09 10:33:46,875 - INFO - websocket - User 5O42G: Sent initial connection data with 48 symbols (fresh from cache)
2025-07-09 10:33:47,978 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=6.53258510
2025-07-09 10:33:47,978 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('6.53258510')}
2025-07-09 10:33:47,979 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:33:50,202 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=6.53258510
2025-07-09 10:33:50,202 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('6.53258510')}
2025-07-09 10:33:50,203 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:33:52,441 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=6.53258510
2025-07-09 10:33:52,442 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('6.53258510')}
2025-07-09 10:33:52,442 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:33:54,804 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=6.53258510
2025-07-09 10:33:54,805 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('6.53258510')}
2025-07-09 10:33:54,805 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:33:57,017 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=6.53258510
2025-07-09 10:33:57,017 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('6.53258510')}
2025-07-09 10:33:57,017 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:33:59,282 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=6.53258510
2025-07-09 10:33:59,282 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('6.53258510')}
2025-07-09 10:33:59,282 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:34:01,572 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=6.53258510
2025-07-09 10:34:01,572 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('6.53258510')}
2025-07-09 10:34:01,573 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:34:03,879 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=6.53258510
2025-07-09 10:34:03,880 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('6.53258510')}
2025-07-09 10:34:03,880 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:34:06,167 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=6.53258510
2025-07-09 10:34:06,167 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('6.53258510')}
2025-07-09 10:34:06,168 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:34:08,557 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=6.53258510
2025-07-09 10:34:08,557 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('6.53258510')}
2025-07-09 10:34:08,558 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:34:10,726 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=6.53258510
2025-07-09 10:34:10,726 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('6.53258510')}
2025-07-09 10:34:10,727 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:34:13,043 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=6.53258510
2025-07-09 10:34:13,043 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('6.53258510')}
2025-07-09 10:34:13,044 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:34:15,333 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=6.53258510
2025-07-09 10:34:15,333 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('6.53258510')}
2025-07-09 10:34:15,334 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:34:17,801 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=6.53258510
2025-07-09 10:34:17,802 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('6.53258510')}
2025-07-09 10:34:17,802 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:34:19,930 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=6.53258510
2025-07-09 10:34:19,930 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('6.53258510')}
2025-07-09 10:34:19,931 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:34:22,173 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=6.53258510
2025-07-09 10:34:22,173 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('6.53258510')}
2025-07-09 10:34:22,174 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:34:24,476 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=6.53258510
2025-07-09 10:34:24,476 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('6.53258510')}
2025-07-09 10:34:24,477 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:34:27,019 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=6.53258510
2025-07-09 10:34:27,019 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('6.53258510')}
2025-07-09 10:34:27,019 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:34:29,321 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=6.53258510
2025-07-09 10:34:29,321 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('6.53258510')}
2025-07-09 10:34:29,322 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:34:31,554 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=6.53258510
2025-07-09 10:34:31,555 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('6.53258510')}
2025-07-09 10:34:31,556 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:34:33,970 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=6.53258510
2025-07-09 10:34:33,971 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('6.53258510')}
2025-07-09 10:34:33,971 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:34:36,064 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=6.53258510
2025-07-09 10:34:36,064 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('6.53258510')}
2025-07-09 10:34:36,065 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:34:38,689 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=6.53258510
2025-07-09 10:34:38,690 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('6.53258510')}
2025-07-09 10:34:38,690 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:34:40,619 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=6.53258510
2025-07-09 10:34:40,619 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('6.53258510')}
2025-07-09 10:34:40,619 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:34:43,192 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=6.53258510
2025-07-09 10:34:43,192 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('6.53258510')}
2025-07-09 10:34:43,193 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:34:45,284 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=6.53258510
2025-07-09 10:34:45,284 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('6.53258510')}
2025-07-09 10:34:45,284 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:34:47,536 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=6.53258510
2025-07-09 10:34:47,536 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('6.53258510')}
2025-07-09 10:34:47,537 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:34:49,789 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=6.53258510
2025-07-09 10:34:49,789 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('6.53258510')}
2025-07-09 10:34:49,790 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:34:52,078 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=6.53258510
2025-07-09 10:34:52,078 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('6.53258510')}
2025-07-09 10:34:52,079 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:34:54,353 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=6.53258510
2025-07-09 10:34:54,353 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('6.53258510')}
2025-07-09 10:34:54,354 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:34:56,644 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=6.53258510
2025-07-09 10:34:56,644 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('6.53258510')}
2025-07-09 10:34:56,645 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:34:59,046 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=6.53258510
2025-07-09 10:34:59,047 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('6.53258510')}
2025-07-09 10:34:59,047 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:35:01,318 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=6.53258510
2025-07-09 10:35:01,318 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('6.53258510')}
2025-07-09 10:35:01,318 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:35:03,573 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=6.53258510
2025-07-09 10:35:03,573 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('6.53258510')}
2025-07-09 10:35:03,573 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:35:05,887 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=6.53258510
2025-07-09 10:35:05,887 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('6.53258510')}
2025-07-09 10:35:05,888 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:35:08,252 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=6.53258510
2025-07-09 10:35:08,252 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('6.53258510')}
2025-07-09 10:35:08,253 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:35:10,588 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=6.53258510
2025-07-09 10:35:10,589 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('6.53258510')}
2025-07-09 10:35:10,589 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:35:13,104 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=6.53258510
2025-07-09 10:35:13,104 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('6.53258510')}
2025-07-09 10:35:13,105 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:35:15,101 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=6.53258510
2025-07-09 10:35:15,101 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('6.53258510')}
2025-07-09 10:35:15,101 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:35:17,246 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=6.53258510
2025-07-09 10:35:17,246 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('6.53258510')}
2025-07-09 10:35:17,247 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:35:19,683 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=6.53258510
2025-07-09 10:35:19,683 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('6.53258510')}
2025-07-09 10:35:19,684 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:35:22,213 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=6.53258510
2025-07-09 10:35:22,213 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('6.53258510')}
2025-07-09 10:35:22,214 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:35:24,279 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=6.53258510
2025-07-09 10:35:24,279 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('6.53258510')}
2025-07-09 10:35:24,280 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:35:27,056 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=6.53258510
2025-07-09 10:35:27,056 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('6.53258510')}
2025-07-09 10:35:27,056 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:35:28,879 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=6.53258510
2025-07-09 10:35:28,879 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('6.53258510')}
2025-07-09 10:35:28,880 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:35:31,190 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=6.53258510
2025-07-09 10:35:31,190 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('6.53258510')}
2025-07-09 10:35:31,191 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:35:33,621 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=6.53258510
2025-07-09 10:35:33,621 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('6.53258510')}
2025-07-09 10:35:33,622 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:35:35,798 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=6.53258510
2025-07-09 10:35:35,798 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('6.53258510')}
2025-07-09 10:35:35,799 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:35:37,985 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=6.53258510
2025-07-09 10:35:37,985 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('6.53258510')}
2025-07-09 10:35:37,986 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:35:40,288 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=6.53258510
2025-07-09 10:35:40,288 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('6.53258510')}
2025-07-09 10:35:40,289 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:35:42,751 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=6.53258510
2025-07-09 10:35:42,751 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('6.53258510')}
2025-07-09 10:35:42,752 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:35:44,903 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=6.53258510
2025-07-09 10:35:44,903 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('6.53258510')}
2025-07-09 10:35:44,904 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:35:47,242 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=6.53258510
2025-07-09 10:35:47,242 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('6.53258510')}
2025-07-09 10:35:47,243 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:35:49,498 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=6.53258510
2025-07-09 10:35:49,498 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('6.53258510')}
2025-07-09 10:35:49,499 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:35:51,742 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=6.53258510
2025-07-09 10:35:51,743 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('6.53258510')}
2025-07-09 10:35:51,743 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:35:54,121 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=6.53258510
2025-07-09 10:35:54,121 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('6.53258510')}
2025-07-09 10:35:54,122 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:35:56,333 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=6.53258510
2025-07-09 10:35:56,333 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('6.53258510')}
2025-07-09 10:35:56,333 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:35:58,639 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=6.53258510
2025-07-09 10:35:58,639 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('6.53258510')}
2025-07-09 10:35:58,640 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:36:00,940 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=6.53258510
2025-07-09 10:36:00,940 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('6.53258510')}
2025-07-09 10:36:00,941 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:36:03,660 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=6.53258510
2025-07-09 10:36:03,660 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('6.53258510')}
2025-07-09 10:36:03,661 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:36:05,872 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=6.53258510
2025-07-09 10:36:05,872 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('6.53258510')}
2025-07-09 10:36:05,873 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:36:08,277 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=6.53258510
2025-07-09 10:36:08,277 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('6.53258510')}
2025-07-09 10:36:08,279 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:36:10,258 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=6.53258510
2025-07-09 10:36:10,258 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('6.53258510')}
2025-07-09 10:36:10,258 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:36:12,427 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=6.53258510
2025-07-09 10:36:12,428 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('6.53258510')}
2025-07-09 10:36:12,428 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:36:16,356 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=6.53258510
2025-07-09 10:36:16,356 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('6.53258510')}
2025-07-09 10:36:16,356 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:36:17,283 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=6.53258510
2025-07-09 10:36:17,283 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('6.53258510')}
2025-07-09 10:36:17,285 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:36:19,415 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=6.53258510
2025-07-09 10:36:19,415 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('6.53258510')}
2025-07-09 10:36:19,416 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:36:21,565 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=6.53258510
2025-07-09 10:36:21,566 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('6.53258510')}
2025-07-09 10:36:21,566 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:36:23,876 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=6.53258510
2025-07-09 10:36:23,877 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('6.53258510')}
2025-07-09 10:36:23,880 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:36:25,229 - DEBUG - websocket - User 1: Fetched 1 open orders directly from database
2025-07-09 10:36:25,233 - DEBUG - websocket - User 1: Fetched 1 pending orders directly from database
2025-07-09 10:36:25,235 - DEBUG - websocket - User 1: Updated static orders cache with 1 open orders and 1 pending orders
2025-07-09 10:36:25,237 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 10:36:25,242 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=6.53258510
2025-07-09 10:36:25,242 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('6.53258510')}
2025-07-09 10:36:25,243 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 10:36:25,243 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 10:36:25,247 - DEBUG - websocket - User 1: Fetched 1 open orders directly from database
2025-07-09 10:36:25,249 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=6.53258510
2025-07-09 10:36:25,249 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('6.53258510')}
2025-07-09 10:36:25,250 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 10:36:25,252 - DEBUG - websocket - User 1: Fetched 1 pending orders directly from database
2025-07-09 10:36:25,257 - DEBUG - websocket - User 1: Updated static orders cache with 1 open orders and 1 pending orders
2025-07-09 10:36:31,255 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=6.53258510
2025-07-09 10:36:31,256 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('6.53258510')}
2025-07-09 10:36:31,258 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:36:31,362 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=6.53258510
2025-07-09 10:36:31,362 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('6.53258510')}
2025-07-09 10:36:31,363 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:36:31,369 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=6.53258510
2025-07-09 10:36:31,369 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('6.53258510')}
2025-07-09 10:36:31,369 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:36:33,062 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=6.53258510
2025-07-09 10:36:33,062 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('6.53258510')}
2025-07-09 10:36:33,063 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:36:35,398 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=6.53258510
2025-07-09 10:36:35,398 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('6.53258510')}
2025-07-09 10:36:35,399 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:36:36,108 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 10:36:36,110 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=6.53
2025-07-09 10:36:36,110 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('6.53')}
2025-07-09 10:36:36,112 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 10:36:36,112 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 10:36:36,121 - DEBUG - websocket - User 1: Fetched 2 open orders directly from database
2025-07-09 10:36:36,127 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=6.53
2025-07-09 10:36:36,127 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('6.53')}
2025-07-09 10:36:36,127 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 10:36:36,136 - DEBUG - websocket - User 1: Fetched 0 pending orders directly from database
2025-07-09 10:36:36,137 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=6.53
2025-07-09 10:36:36,137 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('6.53')}
2025-07-09 10:36:36,139 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:36:36,140 - DEBUG - websocket - User 1: Updated static orders cache with 2 open orders and 0 pending orders
2025-07-09 10:36:37,669 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=6.53
2025-07-09 10:36:37,669 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('6.53')}
2025-07-09 10:36:37,669 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:36:39,909 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=6.53
2025-07-09 10:36:39,909 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('6.53')}
2025-07-09 10:36:39,910 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:36:42,064 - INFO - websocket - User 5O42G: WebSocket disconnected by client.
2025-07-09 10:36:42,064 - INFO - websocket - User 5O42G: Cleaning up WebSocket connection.
2025-07-09 10:36:42,066 - INFO - websocket - User 5O42G: Listener task successfully cancelled.
2025-07-09 10:36:42,066 - INFO - websocket - User 5O42G: WebSocket connection fully closed.
2025-07-09 10:36:42,808 - INFO - websocket - --- MINIMAL TEST: ENTERED websocket_endpoint --- Connection ID: 127.0.0.1:62114-1752082602808
2025-07-09 10:36:42,808 - INFO - websocket - WebSocket connection accepted (early) for 127.0.0.1:62114 in 0.001s
2025-07-09 10:36:42,810 - DEBUG - websocket - User 0: Successfully sent loading message
2025-07-09 10:36:42,811 - INFO - websocket - WebSocket auth: token payload={'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1752083967, 'iat': 1752082167}, account_number=5O42G, user_type=demo
2025-07-09 10:36:42,811 - INFO - websocket - WebSocket auth: About to call get_demo_user_by_account_number with account_number=5O42G, user_type=demo
2025-07-09 10:36:42,815 - INFO - websocket - WebSocket auth: get_demo_user_by_account_number(5O42G, demo) returned: <app.database.models.DemoUser object at 0x000001B0DBDCF360>
2025-07-09 10:36:44,120 - INFO - websocket - [WS] Using order model: DemoUserOrder for user_type=demo, account_number=5O42G
2025-07-09 10:36:44,130 - INFO - websocket - [WS] Open positions from DB for user_id=1: [<app.database.models.DemoUserOrder object at 0x000001B0DC32B110>, <app.database.models.DemoUserOrder object at 0x000001B0DC32AE90>]
2025-07-09 10:36:44,853 - DEBUG - websocket - Cached/updated group-symbol settings for group 'Group B'.
2025-07-09 10:36:44,857 - DEBUG - websocket - User 1: Fetched 2 open orders directly from database
2025-07-09 10:36:44,861 - DEBUG - websocket - User 1: Fetched 0 pending orders directly from database
2025-07-09 10:36:44,862 - DEBUG - websocket - User 1: Updated static orders cache with 2 open orders and 0 pending orders
2025-07-09 10:36:44,877 - INFO - websocket - User 5O42G: Fetching initial market data for 79 symbols from cache (adjusted or last known price)
2025-07-09 10:36:44,886 - DEBUG - websocket - User 5O42G: Fallback last price for EURCZK: Buy=25.0001500000, Sell=24.9998500000
2025-07-09 10:36:44,888 - DEBUG - websocket - User 5O42G: Fallback last price for AUDNZD: Buy=1.0002500000, Sell=0.9997500000
2025-07-09 10:36:44,937 - DEBUG - websocket - User 5O42G: Fallback last price for AUDSGD: Buy=1.0001500000, Sell=0.9998500000
2025-07-09 10:36:44,974 - DEBUG - websocket - User 1: Successfully sent initial connection data
2025-07-09 10:36:44,975 - INFO - websocket - User 5O42G: Sent initial connection data with 48 symbols (fresh from cache)
2025-07-09 10:36:46,792 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=13.06162018
2025-07-09 10:36:46,792 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('13.06162018')}
2025-07-09 10:36:46,793 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:36:49,266 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=13.06162018
2025-07-09 10:36:49,266 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('13.06162018')}
2025-07-09 10:36:49,267 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:36:51,396 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=13.06162018
2025-07-09 10:36:51,396 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('13.06162018')}
2025-07-09 10:36:51,397 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:36:53,654 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=13.06162018
2025-07-09 10:36:53,654 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('13.06162018')}
2025-07-09 10:36:53,655 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:36:57,316 - INFO - websocket - User 5O42G: WebSocket disconnected by client.
2025-07-09 10:36:57,316 - INFO - websocket - User 5O42G: Cleaning up WebSocket connection.
2025-07-09 10:36:57,327 - INFO - websocket - User 5O42G: Listener task successfully cancelled.
2025-07-09 10:36:57,327 - INFO - websocket - User 5O42G: WebSocket connection fully closed.
2025-07-09 10:37:03,027 - INFO - websocket - Redis publisher task cancelled.
2025-07-09 10:37:03,027 - INFO - websocket - Redis publisher task finished.
2025-07-09 10:45:01,702 - INFO - websocket - Redis publisher task started. Publishing to channel 'market_data_updates'.
2025-07-09 10:45:02,454 - INFO - websocket - --- MINIMAL TEST: ENTERED websocket_endpoint --- Connection ID: 127.0.0.1:62822-1752083102454
2025-07-09 10:45:02,455 - INFO - websocket - WebSocket connection accepted (early) for 127.0.0.1:62822 in 0.001s
2025-07-09 10:45:02,461 - DEBUG - websocket - User 0: Successfully sent loading message
2025-07-09 10:45:02,463 - INFO - websocket - WebSocket auth: token payload={'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1752083967, 'iat': 1752082167}, account_number=5O42G, user_type=demo
2025-07-09 10:45:02,463 - INFO - websocket - WebSocket auth: About to call get_demo_user_by_account_number with account_number=5O42G, user_type=demo
2025-07-09 10:45:02,605 - INFO - websocket - WebSocket auth: get_demo_user_by_account_number(5O42G, demo) returned: <app.database.models.DemoUser object at 0x000002A77A5CDFD0>
2025-07-09 10:45:08,503 - INFO - websocket - [WS] Using order model: DemoUserOrder for user_type=demo, account_number=5O42G
2025-07-09 10:45:08,507 - INFO - websocket - [WS] Open positions from DB for user_id=1: [<app.database.models.DemoUserOrder object at 0x000002A77A5CF770>, <app.database.models.DemoUserOrder object at 0x000002A77A64AFD0>]
2025-07-09 10:45:20,996 - DEBUG - websocket - Cached/updated group-symbol settings for group 'Group B'.
2025-07-09 10:45:20,998 - DEBUG - websocket - User 1: Fetched 2 open orders directly from database
2025-07-09 10:45:21,000 - DEBUG - websocket - User 1: Fetched 0 pending orders directly from database
2025-07-09 10:45:21,001 - DEBUG - websocket - User 1: Updated static orders cache with 2 open orders and 0 pending orders
2025-07-09 10:45:21,007 - INFO - websocket - User 5O42G: Fetching initial market data for 79 symbols from cache (adjusted or last known price)
2025-07-09 10:45:21,049 - DEBUG - websocket - User 1: Successfully sent initial connection data
2025-07-09 10:45:21,049 - INFO - websocket - User 5O42G: Sent initial connection data with 48 symbols (fresh from cache)
2025-07-09 10:45:22,902 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=13.06162018
2025-07-09 10:45:22,902 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('13.06162018')}
2025-07-09 10:45:22,902 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:45:25,263 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=13.06162018
2025-07-09 10:45:25,263 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('13.06162018')}
2025-07-09 10:45:25,264 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:45:27,511 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=13.06162018
2025-07-09 10:45:27,511 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('13.06162018')}
2025-07-09 10:45:27,511 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:45:28,860 - INFO - websocket - User 5O42G: WebSocket disconnected by client.
2025-07-09 10:45:28,860 - INFO - websocket - User 5O42G: Cleaning up WebSocket connection.
2025-07-09 10:45:28,863 - INFO - websocket - User 5O42G: Listener task successfully cancelled.
2025-07-09 10:45:28,863 - INFO - websocket - User 5O42G: WebSocket connection fully closed.
2025-07-09 10:45:30,238 - INFO - websocket - --- MINIMAL TEST: ENTERED websocket_endpoint --- Connection ID: 127.0.0.1:62897-1752083130238
2025-07-09 10:45:30,239 - INFO - websocket - WebSocket connection accepted (early) for 127.0.0.1:62897 in 0.001s
2025-07-09 10:45:30,242 - DEBUG - websocket - User 0: Successfully sent loading message
2025-07-09 10:45:30,244 - INFO - websocket - WebSocket auth: token payload={'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1752083967, 'iat': 1752082167}, account_number=5O42G, user_type=demo
2025-07-09 10:45:30,244 - INFO - websocket - WebSocket auth: About to call get_demo_user_by_account_number with account_number=5O42G, user_type=demo
2025-07-09 10:45:30,251 - INFO - websocket - WebSocket auth: get_demo_user_by_account_number(5O42G, demo) returned: <app.database.models.DemoUser object at 0x000002A77AAE4770>
2025-07-09 10:45:31,842 - INFO - websocket - [WS] Using order model: DemoUserOrder for user_type=demo, account_number=5O42G
2025-07-09 10:45:31,851 - INFO - websocket - [WS] Open positions from DB for user_id=1: [<app.database.models.DemoUserOrder object at 0x000002A77AB70F50>, <app.database.models.DemoUserOrder object at 0x000002A77AB711D0>]
2025-07-09 10:45:32,700 - DEBUG - websocket - Cached/updated group-symbol settings for group 'Group B'.
2025-07-09 10:45:32,706 - DEBUG - websocket - User 1: Fetched 2 open orders directly from database
2025-07-09 10:45:32,712 - DEBUG - websocket - User 1: Fetched 0 pending orders directly from database
2025-07-09 10:45:32,715 - DEBUG - websocket - User 1: Updated static orders cache with 2 open orders and 0 pending orders
2025-07-09 10:45:32,753 - INFO - websocket - User 5O42G: Fetching initial market data for 79 symbols from cache (adjusted or last known price)
2025-07-09 10:45:32,916 - DEBUG - websocket - User 1: Successfully sent initial connection data
2025-07-09 10:45:32,917 - INFO - websocket - User 5O42G: Sent initial connection data with 48 symbols (fresh from cache)
2025-07-09 10:45:34,374 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=13.06162018
2025-07-09 10:45:34,374 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('13.06162018')}
2025-07-09 10:45:34,375 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:45:36,646 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=13.06162018
2025-07-09 10:45:36,646 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('13.06162018')}
2025-07-09 10:45:36,647 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:45:38,968 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=13.06162018
2025-07-09 10:45:38,968 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('13.06162018')}
2025-07-09 10:45:38,969 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:45:41,248 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=13.06162018
2025-07-09 10:45:41,249 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('13.06162018')}
2025-07-09 10:45:41,249 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:45:43,555 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=13.06162018
2025-07-09 10:45:43,555 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('13.06162018')}
2025-07-09 10:45:43,556 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:45:45,856 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=13.06162018
2025-07-09 10:45:45,856 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('13.06162018')}
2025-07-09 10:45:45,858 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:45:45,926 - DEBUG - websocket - User 1: Fetched 2 open orders directly from database
2025-07-09 10:45:45,929 - DEBUG - websocket - User 1: Fetched 1 pending orders directly from database
2025-07-09 10:45:45,930 - DEBUG - websocket - User 1: Updated static orders cache with 2 open orders and 1 pending orders
2025-07-09 10:45:45,933 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 10:45:45,936 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=13.06162018
2025-07-09 10:45:45,937 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('13.06162018')}
2025-07-09 10:45:45,937 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 10:45:45,938 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 10:45:45,943 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=13.06162018
2025-07-09 10:45:45,944 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('13.06162018')}
2025-07-09 10:45:45,944 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 10:45:45,947 - DEBUG - websocket - User 1: Fetched 2 open orders directly from database
2025-07-09 10:45:45,953 - DEBUG - websocket - User 1: Fetched 1 pending orders directly from database
2025-07-09 10:45:45,955 - DEBUG - websocket - User 1: Updated static orders cache with 2 open orders and 1 pending orders
2025-07-09 10:45:48,147 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=13.06162018
2025-07-09 10:45:48,147 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('13.06162018')}
2025-07-09 10:45:48,148 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:45:50,484 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=13.06162018
2025-07-09 10:45:50,484 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('13.06162018')}
2025-07-09 10:45:50,485 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:45:52,685 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=13.06162018
2025-07-09 10:45:52,685 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('13.06162018')}
2025-07-09 10:45:52,686 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:45:55,094 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=13.06162018
2025-07-09 10:45:55,094 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('13.06162018')}
2025-07-09 10:45:55,095 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:45:57,276 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=13.06162018
2025-07-09 10:45:57,276 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('13.06162018')}
2025-07-09 10:45:57,277 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:45:59,573 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=13.06162018
2025-07-09 10:45:59,573 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('13.06162018')}
2025-07-09 10:45:59,574 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:46:00,377 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 10:46:00,382 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=19.61
2025-07-09 10:46:00,383 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('19.61')}
2025-07-09 10:46:00,384 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 10:46:00,384 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 10:46:00,390 - DEBUG - websocket - User 1: Fetched 3 open orders directly from database
2025-07-09 10:46:00,393 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=19.61
2025-07-09 10:46:00,393 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('19.61')}
2025-07-09 10:46:00,394 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 10:46:00,405 - DEBUG - websocket - User 1: Fetched 0 pending orders directly from database
2025-07-09 10:46:00,409 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=19.61
2025-07-09 10:46:00,409 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('19.61')}
2025-07-09 10:46:00,411 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:46:00,412 - DEBUG - websocket - User 1: Updated static orders cache with 3 open orders and 0 pending orders
2025-07-09 10:46:01,766 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=19.61
2025-07-09 10:46:01,766 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('19.61')}
2025-07-09 10:46:01,767 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:46:04,062 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=19.61
2025-07-09 10:46:04,062 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('19.61')}
2025-07-09 10:46:04,063 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:46:06,338 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=19.61
2025-07-09 10:46:06,338 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('19.61')}
2025-07-09 10:46:06,339 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:46:08,812 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=19.61
2025-07-09 10:46:08,812 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('19.61')}
2025-07-09 10:46:08,813 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:46:09,731 - INFO - websocket - User 5O42G: WebSocket disconnected by client.
2025-07-09 10:46:09,732 - INFO - websocket - User 5O42G: Cleaning up WebSocket connection.
2025-07-09 10:46:09,734 - INFO - websocket - User 5O42G: Listener task successfully cancelled.
2025-07-09 10:46:09,734 - INFO - websocket - User 5O42G: WebSocket connection fully closed.
2025-07-09 10:46:10,926 - INFO - websocket - Redis publisher task cancelled.
2025-07-09 10:46:10,927 - INFO - websocket - Redis publisher task finished.
2025-07-09 10:50:18,848 - INFO - websocket - Redis publisher task started. Publishing to channel 'market_data_updates'.
2025-07-09 10:50:23,109 - INFO - websocket - --- MINIMAL TEST: ENTERED websocket_endpoint --- Connection ID: 127.0.0.1:63294-1752083423109
2025-07-09 10:50:23,110 - INFO - websocket - WebSocket connection accepted (early) for 127.0.0.1:63294 in 0.001s
2025-07-09 10:50:23,112 - DEBUG - websocket - User 0: Successfully sent loading message
2025-07-09 10:50:23,113 - INFO - websocket - WebSocket auth: token payload={'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1752083967, 'iat': 1752082167}, account_number=5O42G, user_type=demo
2025-07-09 10:50:23,113 - INFO - websocket - WebSocket auth: About to call get_demo_user_by_account_number with account_number=5O42G, user_type=demo
2025-07-09 10:50:23,126 - INFO - websocket - WebSocket auth: get_demo_user_by_account_number(5O42G, demo) returned: <app.database.models.DemoUser object at 0x00000165A8553230>
2025-07-09 10:50:25,994 - INFO - websocket - [WS] Using order model: DemoUserOrder for user_type=demo, account_number=5O42G
2025-07-09 10:50:26,001 - INFO - websocket - [WS] Open positions from DB for user_id=1: [<app.database.models.DemoUserOrder object at 0x00000165A85534D0>, <app.database.models.DemoUserOrder object at 0x00000165A8573D90>, <app.database.models.DemoUserOrder object at 0x00000165A8546C10>]
2025-07-09 10:50:39,150 - DEBUG - websocket - Cached/updated group-symbol settings for group 'Group B'.
2025-07-09 10:50:39,153 - DEBUG - websocket - User 1: Fetched 3 open orders directly from database
2025-07-09 10:50:39,158 - DEBUG - websocket - User 1: Fetched 0 pending orders directly from database
2025-07-09 10:50:39,159 - DEBUG - websocket - User 1: Updated static orders cache with 3 open orders and 0 pending orders
2025-07-09 10:50:39,176 - INFO - websocket - User 5O42G: Fetching initial market data for 79 symbols from cache (adjusted or last known price)
2025-07-09 10:50:39,315 - DEBUG - websocket - User 1: Successfully sent initial connection data
2025-07-09 10:50:39,315 - INFO - websocket - User 5O42G: Sent initial connection data with 48 symbols (fresh from cache)
2025-07-09 10:50:43,224 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=19.59188411
2025-07-09 10:50:43,224 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('19.59188411')}
2025-07-09 10:50:43,224 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:50:43,411 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=19.59188411
2025-07-09 10:50:43,411 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('19.59188411')}
2025-07-09 10:50:43,411 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:50:45,814 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=19.59188411
2025-07-09 10:50:45,814 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('19.59188411')}
2025-07-09 10:50:45,818 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:50:48,139 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=19.59188411
2025-07-09 10:50:48,139 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('19.59188411')}
2025-07-09 10:50:48,141 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:50:50,399 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=19.59188411
2025-07-09 10:50:50,399 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('19.59188411')}
2025-07-09 10:50:50,400 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:50:52,660 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=19.59188411
2025-07-09 10:50:52,661 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('19.59188411')}
2025-07-09 10:50:52,661 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:50:55,032 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.66088585, margin=19.59188411
2025-07-09 10:50:55,033 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.66088585'), 'margin': Decimal('19.59188411')}
2025-07-09 10:50:55,033 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:50:55,333 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 10:50:55,337 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.28088585, margin=13.07
2025-07-09 10:50:55,337 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.28088585'), 'margin': Decimal('13.07')}
2025-07-09 10:50:55,338 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 10:50:55,338 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 10:50:55,343 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.28088585, margin=13.07
2025-07-09 10:50:55,343 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.28088585'), 'margin': Decimal('13.07')}
2025-07-09 10:50:55,343 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 10:50:55,347 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24848.28088585, margin=13.07
2025-07-09 10:50:55,347 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24848.28088585'), 'margin': Decimal('13.07')}
2025-07-09 10:50:55,348 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:50:55,971 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 10:50:55,975 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24847.77088585, margin=13.07
2025-07-09 10:50:55,975 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24847.77088585'), 'margin': Decimal('13.07')}
2025-07-09 10:50:55,976 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 10:50:55,976 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 10:50:55,981 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24847.77088585, margin=13.07
2025-07-09 10:50:55,981 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24847.77088585'), 'margin': Decimal('13.07')}
2025-07-09 10:50:55,982 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 10:50:55,988 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24847.77088585, margin=13.07
2025-07-09 10:50:55,988 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24847.77088585'), 'margin': Decimal('13.07')}
2025-07-09 10:50:55,989 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:50:56,617 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 10:50:56,623 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24846.86088585, margin=6.54
2025-07-09 10:50:56,623 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24846.86088585'), 'margin': Decimal('6.54')}
2025-07-09 10:50:56,624 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 10:50:56,624 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 10:50:56,627 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24846.86088585, margin=6.54
2025-07-09 10:50:56,627 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24846.86088585'), 'margin': Decimal('6.54')}
2025-07-09 10:50:56,629 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 10:50:56,634 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24846.86088585, margin=6.54
2025-07-09 10:50:56,634 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24846.86088585'), 'margin': Decimal('6.54')}
2025-07-09 10:50:56,635 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:50:57,268 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24846.86088585, margin=6.54
2025-07-09 10:50:57,268 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24846.86088585'), 'margin': Decimal('6.54')}
2025-07-09 10:50:57,269 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:50:59,516 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24846.86088585, margin=6.54
2025-07-09 10:50:59,516 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24846.86088585'), 'margin': Decimal('6.54')}
2025-07-09 10:50:59,517 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:51:01,882 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24846.86088585, margin=6.54
2025-07-09 10:51:01,882 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24846.86088585'), 'margin': Decimal('6.54')}
2025-07-09 10:51:01,884 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:51:04,077 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24846.86088585, margin=6.54
2025-07-09 10:51:04,077 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24846.86088585'), 'margin': Decimal('6.54')}
2025-07-09 10:51:04,078 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:51:06,381 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24846.86088585, margin=6.54
2025-07-09 10:51:06,381 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24846.86088585'), 'margin': Decimal('6.54')}
2025-07-09 10:51:06,382 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:51:08,731 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24846.86088585, margin=6.54
2025-07-09 10:51:08,731 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24846.86088585'), 'margin': Decimal('6.54')}
2025-07-09 10:51:08,732 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:51:11,003 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24846.86088585, margin=6.54
2025-07-09 10:51:11,003 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24846.86088585'), 'margin': Decimal('6.54')}
2025-07-09 10:51:11,004 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:51:13,250 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24846.86088585, margin=6.54
2025-07-09 10:51:13,250 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24846.86088585'), 'margin': Decimal('6.54')}
2025-07-09 10:51:13,250 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:51:15,590 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24846.86088585, margin=6.54
2025-07-09 10:51:15,590 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24846.86088585'), 'margin': Decimal('6.54')}
2025-07-09 10:51:15,591 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:51:17,977 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24846.86088585, margin=6.54
2025-07-09 10:51:17,977 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24846.86088585'), 'margin': Decimal('6.54')}
2025-07-09 10:51:17,978 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:51:20,181 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24846.86088585, margin=6.54
2025-07-09 10:51:20,181 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24846.86088585'), 'margin': Decimal('6.54')}
2025-07-09 10:51:20,182 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:51:22,463 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24846.86088585, margin=6.54
2025-07-09 10:51:22,463 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24846.86088585'), 'margin': Decimal('6.54')}
2025-07-09 10:51:22,464 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:51:24,699 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24846.86088585, margin=6.54
2025-07-09 10:51:24,699 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24846.86088585'), 'margin': Decimal('6.54')}
2025-07-09 10:51:24,700 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:51:27,160 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24846.86088585, margin=6.54
2025-07-09 10:51:27,160 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24846.86088585'), 'margin': Decimal('6.54')}
2025-07-09 10:51:27,161 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:51:29,327 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24846.86088585, margin=6.54
2025-07-09 10:51:29,327 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24846.86088585'), 'margin': Decimal('6.54')}
2025-07-09 10:51:29,328 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:51:31,529 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24846.86088585, margin=6.54
2025-07-09 10:51:31,529 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24846.86088585'), 'margin': Decimal('6.54')}
2025-07-09 10:51:31,530 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:51:34,344 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24846.86088585, margin=6.54
2025-07-09 10:51:34,344 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24846.86088585'), 'margin': Decimal('6.54')}
2025-07-09 10:51:34,345 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:51:36,181 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24846.86088585, margin=6.54
2025-07-09 10:51:36,181 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24846.86088585'), 'margin': Decimal('6.54')}
2025-07-09 10:51:36,182 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:51:38,436 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24846.86088585, margin=6.54
2025-07-09 10:51:38,436 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24846.86088585'), 'margin': Decimal('6.54')}
2025-07-09 10:51:38,436 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:51:40,709 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24846.86088585, margin=6.54
2025-07-09 10:51:40,709 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24846.86088585'), 'margin': Decimal('6.54')}
2025-07-09 10:51:40,712 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:51:43,031 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24846.86088585, margin=6.54
2025-07-09 10:51:43,031 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24846.86088585'), 'margin': Decimal('6.54')}
2025-07-09 10:51:43,032 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:51:45,210 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24846.86088585, margin=6.54
2025-07-09 10:51:45,210 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24846.86088585'), 'margin': Decimal('6.54')}
2025-07-09 10:51:45,210 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:51:48,495 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24846.86088585, margin=6.54
2025-07-09 10:51:48,495 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24846.86088585'), 'margin': Decimal('6.54')}
2025-07-09 10:51:48,496 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:51:48,531 - DEBUG - websocket - User 1: Fetched 0 open orders directly from database
2025-07-09 10:51:48,536 - DEBUG - websocket - User 1: Fetched 1 pending orders directly from database
2025-07-09 10:51:48,537 - DEBUG - websocket - User 1: Updated static orders cache with 0 open orders and 1 pending orders
2025-07-09 10:51:48,538 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 10:51:48,541 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24846.86088585, margin=6.54
2025-07-09 10:51:48,542 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24846.86088585'), 'margin': Decimal('6.54')}
2025-07-09 10:51:48,542 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 10:51:48,542 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 10:51:48,544 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24846.86088585, margin=6.54
2025-07-09 10:51:48,545 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24846.86088585'), 'margin': Decimal('6.54')}
2025-07-09 10:51:48,545 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 10:51:48,546 - DEBUG - websocket - User 1: Fetched 0 open orders directly from database
2025-07-09 10:51:48,549 - DEBUG - websocket - User 1: Fetched 1 pending orders directly from database
2025-07-09 10:51:48,550 - DEBUG - websocket - User 1: Updated static orders cache with 0 open orders and 1 pending orders
2025-07-09 10:51:49,823 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24846.86088585, margin=6.54
2025-07-09 10:51:49,823 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24846.86088585'), 'margin': Decimal('6.54')}
2025-07-09 10:51:49,824 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:51:50,405 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 10:51:50,407 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24846.86088585, margin=0.0
2025-07-09 10:51:50,407 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24846.86088585'), 'margin': Decimal('0.0')}
2025-07-09 10:51:50,410 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 10:51:50,410 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 10:51:50,412 - DEBUG - websocket - User 1: Fetched 1 open orders directly from database
2025-07-09 10:51:50,414 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24846.86088585, margin=0.0
2025-07-09 10:51:50,414 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24846.86088585'), 'margin': Decimal('0.0')}
2025-07-09 10:51:50,415 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 10:51:50,418 - DEBUG - websocket - User 1: Fetched 0 pending orders directly from database
2025-07-09 10:51:50,419 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24846.86088585, margin=0.0
2025-07-09 10:51:50,419 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24846.86088585'), 'margin': Decimal('0.0')}
2025-07-09 10:51:50,420 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:51:50,420 - DEBUG - websocket - User 1: Updated static orders cache with 1 open orders and 0 pending orders
2025-07-09 10:51:52,330 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24846.86088585, margin=0.0
2025-07-09 10:51:52,330 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24846.86088585'), 'margin': Decimal('0.0')}
2025-07-09 10:51:52,330 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:51:54,405 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24846.86088585, margin=0.0
2025-07-09 10:51:54,406 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24846.86088585'), 'margin': Decimal('0.0')}
2025-07-09 10:51:54,407 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:51:56,946 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24846.86088585, margin=0.0
2025-07-09 10:51:56,946 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24846.86088585'), 'margin': Decimal('0.0')}
2025-07-09 10:51:56,946 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:51:56,992 - DEBUG - websocket - User 1: Fetched 1 open orders directly from database
2025-07-09 10:51:56,995 - DEBUG - websocket - User 1: Fetched 1 pending orders directly from database
2025-07-09 10:51:56,995 - DEBUG - websocket - User 1: Updated static orders cache with 1 open orders and 1 pending orders
2025-07-09 10:51:56,998 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 10:51:57,002 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24846.86088585, margin=0.0
2025-07-09 10:51:57,002 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24846.86088585'), 'margin': Decimal('0.0')}
2025-07-09 10:51:57,002 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 10:51:57,003 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 10:51:57,007 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24846.86088585, margin=0.0
2025-07-09 10:51:57,007 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24846.86088585'), 'margin': Decimal('0.0')}
2025-07-09 10:51:57,007 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 10:51:57,008 - DEBUG - websocket - User 1: Fetched 1 open orders directly from database
2025-07-09 10:51:57,013 - DEBUG - websocket - User 1: Fetched 1 pending orders directly from database
2025-07-09 10:51:57,015 - DEBUG - websocket - User 1: Updated static orders cache with 1 open orders and 1 pending orders
2025-07-09 10:51:58,981 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24846.86088585, margin=0.0
2025-07-09 10:51:58,982 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24846.86088585'), 'margin': Decimal('0.0')}
2025-07-09 10:51:58,982 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:52:01,263 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24846.86088585, margin=0.0
2025-07-09 10:52:01,264 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24846.86088585'), 'margin': Decimal('0.0')}
2025-07-09 10:52:01,264 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:52:01,838 - INFO - websocket - User 5O42G: WebSocket disconnected by client.
2025-07-09 10:52:01,839 - INFO - websocket - User 5O42G: Cleaning up WebSocket connection.
2025-07-09 10:52:01,841 - INFO - websocket - User 5O42G: Listener task successfully cancelled.
2025-07-09 10:52:01,841 - INFO - websocket - User 5O42G: WebSocket connection fully closed.
2025-07-09 10:52:02,477 - INFO - websocket - --- MINIMAL TEST: ENTERED websocket_endpoint --- Connection ID: 127.0.0.1:63433-1752083522477
2025-07-09 10:52:02,478 - INFO - websocket - WebSocket connection accepted (early) for 127.0.0.1:63433 in 0.001s
2025-07-09 10:52:02,479 - DEBUG - websocket - User 0: Successfully sent loading message
2025-07-09 10:52:02,480 - INFO - websocket - WebSocket auth: token payload={'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1752083967, 'iat': 1752082167}, account_number=5O42G, user_type=demo
2025-07-09 10:52:02,480 - INFO - websocket - WebSocket auth: About to call get_demo_user_by_account_number with account_number=5O42G, user_type=demo
2025-07-09 10:52:02,481 - INFO - websocket - WebSocket auth: get_demo_user_by_account_number(5O42G, demo) returned: <app.database.models.DemoUser object at 0x00000165A8545810>
2025-07-09 10:52:04,515 - INFO - websocket - [WS] Using order model: DemoUserOrder for user_type=demo, account_number=5O42G
2025-07-09 10:52:04,519 - INFO - websocket - [WS] Open positions from DB for user_id=1: [<app.database.models.DemoUserOrder object at 0x00000165A8B2AFD0>]
2025-07-09 10:52:04,942 - DEBUG - websocket - Cached/updated group-symbol settings for group 'Group B'.
2025-07-09 10:52:04,944 - DEBUG - websocket - User 1: Fetched 1 open orders directly from database
2025-07-09 10:52:04,946 - DEBUG - websocket - User 1: Fetched 1 pending orders directly from database
2025-07-09 10:52:04,948 - DEBUG - websocket - User 1: Updated static orders cache with 1 open orders and 1 pending orders
2025-07-09 10:52:04,957 - INFO - websocket - User 5O42G: Fetching initial market data for 79 symbols from cache (adjusted or last known price)
2025-07-09 10:52:04,965 - DEBUG - websocket - User 5O42G: Fallback last price for EURCZK: Buy=25.0001500000, Sell=24.9998500000
2025-07-09 10:52:04,967 - DEBUG - websocket - User 5O42G: Fallback last price for AUDNZD: Buy=1.0002500000, Sell=0.9997500000
2025-07-09 10:52:04,970 - DEBUG - websocket - User 5O42G: Fallback last price for USDCZK: Buy=21.0650000000, Sell=20.9950000000
2025-07-09 10:52:04,985 - DEBUG - websocket - User 5O42G: Fallback last price for AUDSGD: Buy=1.0001500000, Sell=0.9998500000
2025-07-09 10:52:04,992 - DEBUG - websocket - User 1: Successfully sent initial connection data
2025-07-09 10:52:04,992 - INFO - websocket - User 5O42G: Sent initial connection data with 48 symbols (fresh from cache)
2025-07-09 10:52:05,841 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24846.86088585, margin=6.53278991
2025-07-09 10:52:05,841 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24846.86088585'), 'margin': Decimal('6.53278991')}
2025-07-09 10:52:05,841 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:52:08,132 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24846.86088585, margin=6.53278991
2025-07-09 10:52:08,132 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24846.86088585'), 'margin': Decimal('6.53278991')}
2025-07-09 10:52:08,133 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:52:10,430 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24846.86088585, margin=6.53278991
2025-07-09 10:52:10,433 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24846.86088585'), 'margin': Decimal('6.53278991')}
2025-07-09 10:52:10,434 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:52:12,730 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24846.86088585, margin=6.53278991
2025-07-09 10:52:12,730 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24846.86088585'), 'margin': Decimal('6.53278991')}
2025-07-09 10:52:12,731 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:52:15,705 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24846.86088585, margin=6.53278991
2025-07-09 10:52:15,705 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24846.86088585'), 'margin': Decimal('6.53278991')}
2025-07-09 10:52:15,706 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:52:17,275 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24846.86088585, margin=6.53278991
2025-07-09 10:52:17,275 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24846.86088585'), 'margin': Decimal('6.53278991')}
2025-07-09 10:52:17,276 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:52:19,526 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24846.86088585, margin=6.53278991
2025-07-09 10:52:19,526 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24846.86088585'), 'margin': Decimal('6.53278991')}
2025-07-09 10:52:19,527 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:52:21,860 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24846.86088585, margin=6.53278991
2025-07-09 10:52:21,860 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24846.86088585'), 'margin': Decimal('6.53278991')}
2025-07-09 10:52:21,861 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:52:24,102 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24846.86088585, margin=6.53278991
2025-07-09 10:52:24,102 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24846.86088585'), 'margin': Decimal('6.53278991')}
2025-07-09 10:52:24,103 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:52:24,867 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 10:52:24,870 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24846.86088585, margin=6.53
2025-07-09 10:52:24,871 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24846.86088585'), 'margin': Decimal('6.53')}
2025-07-09 10:52:24,873 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 10:52:24,873 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 10:52:24,875 - DEBUG - websocket - User 1: Fetched 2 open orders directly from database
2025-07-09 10:52:24,877 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24846.86088585, margin=6.53
2025-07-09 10:52:24,877 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24846.86088585'), 'margin': Decimal('6.53')}
2025-07-09 10:52:24,878 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 10:52:24,879 - DEBUG - websocket - User 1: Fetched 0 pending orders directly from database
2025-07-09 10:52:24,880 - DEBUG - websocket - User 1: Updated static orders cache with 2 open orders and 0 pending orders
2025-07-09 10:52:24,880 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24846.86088585, margin=6.53
2025-07-09 10:52:24,881 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24846.86088585'), 'margin': Decimal('6.53')}
2025-07-09 10:52:24,881 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:52:26,419 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24846.86088585, margin=6.53
2025-07-09 10:52:26,419 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24846.86088585'), 'margin': Decimal('6.53')}
2025-07-09 10:52:26,420 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:52:28,698 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24846.86088585, margin=6.53
2025-07-09 10:52:28,698 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24846.86088585'), 'margin': Decimal('6.53')}
2025-07-09 10:52:28,699 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:52:30,037 - INFO - websocket - User 5O42G: WebSocket disconnected by client.
2025-07-09 10:52:30,037 - INFO - websocket - User 5O42G: Cleaning up WebSocket connection.
2025-07-09 10:52:30,039 - INFO - websocket - User 5O42G: Listener task successfully cancelled.
2025-07-09 10:52:30,039 - INFO - websocket - User 5O42G: WebSocket connection fully closed.
2025-07-09 10:52:31,321 - INFO - websocket - --- MINIMAL TEST: ENTERED websocket_endpoint --- Connection ID: 127.0.0.1:63472-1752083551321
2025-07-09 10:52:31,322 - INFO - websocket - WebSocket connection accepted (early) for 127.0.0.1:63472 in 0.000s
2025-07-09 10:52:31,323 - DEBUG - websocket - User 0: Successfully sent loading message
2025-07-09 10:52:31,323 - INFO - websocket - WebSocket auth: token payload={'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1752083967, 'iat': 1752082167}, account_number=5O42G, user_type=demo
2025-07-09 10:52:31,323 - INFO - websocket - WebSocket auth: About to call get_demo_user_by_account_number with account_number=5O42G, user_type=demo
2025-07-09 10:52:31,326 - INFO - websocket - WebSocket auth: get_demo_user_by_account_number(5O42G, demo) returned: <app.database.models.DemoUser object at 0x00000165A8B2BD90>
2025-07-09 10:52:33,022 - INFO - websocket - [WS] Using order model: DemoUserOrder for user_type=demo, account_number=5O42G
2025-07-09 10:52:33,026 - INFO - websocket - [WS] Open positions from DB for user_id=1: [<app.database.models.DemoUserOrder object at 0x00000165A8B29D10>, <app.database.models.DemoUserOrder object at 0x00000165A8B2B250>]
2025-07-09 10:52:33,475 - DEBUG - websocket - Cached/updated group-symbol settings for group 'Group B'.
2025-07-09 10:52:33,479 - DEBUG - websocket - User 1: Fetched 2 open orders directly from database
2025-07-09 10:52:33,482 - DEBUG - websocket - User 1: Fetched 0 pending orders directly from database
2025-07-09 10:52:33,483 - DEBUG - websocket - User 1: Updated static orders cache with 2 open orders and 0 pending orders
2025-07-09 10:52:33,493 - INFO - websocket - User 5O42G: Fetching initial market data for 79 symbols from cache (adjusted or last known price)
2025-07-09 10:52:33,498 - DEBUG - websocket - User 5O42G: Fallback last price for EURCZK: Buy=25.0001500000, Sell=24.9998500000
2025-07-09 10:52:33,499 - DEBUG - websocket - User 5O42G: Fallback last price for AUDNZD: Buy=1.0002500000, Sell=0.9997500000
2025-07-09 10:52:33,546 - DEBUG - websocket - User 5O42G: Fallback last price for AUDSGD: Buy=1.0001500000, Sell=0.9998500000
2025-07-09 10:52:33,579 - DEBUG - websocket - User 1: Successfully sent initial connection data
2025-07-09 10:52:33,579 - INFO - websocket - User 5O42G: Sent initial connection data with 48 symbols (fresh from cache)
2025-07-09 10:52:35,624 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24846.86088585, margin=13.06503366
2025-07-09 10:52:35,625 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24846.86088585'), 'margin': Decimal('13.06503366')}
2025-07-09 10:52:35,625 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 10:52:38,210 - INFO - websocket - User 5O42G: WebSocket disconnected by client.
2025-07-09 10:52:38,210 - INFO - websocket - User 5O42G: Cleaning up WebSocket connection.
2025-07-09 10:52:38,212 - INFO - websocket - User 5O42G: Listener task successfully cancelled.
2025-07-09 10:52:38,212 - INFO - websocket - User 5O42G: WebSocket connection fully closed.
2025-07-09 10:52:40,100 - INFO - websocket - Redis publisher task cancelled.
2025-07-09 10:52:40,100 - INFO - websocket - Redis publisher task finished.
2025-07-09 11:02:09,503 - INFO - websocket - Redis publisher task started. Publishing to channel 'market_data_updates'.
2025-07-09 11:02:14,491 - INFO - websocket - --- MINIMAL TEST: ENTERED websocket_endpoint --- Connection ID: 127.0.0.1:64334-1752084134491
2025-07-09 11:02:14,493 - INFO - websocket - WebSocket connection accepted (early) for 127.0.0.1:64334 in 0.002s
2025-07-09 11:02:14,496 - DEBUG - websocket - User 0: Successfully sent loading message
2025-07-09 11:02:14,501 - WARNING - websocket - WebSocket auth failed: JWT error for 127.0.0.1:64334: Could not validate credentials
2025-07-09 11:02:20,461 - INFO - websocket - --- MINIMAL TEST: ENTERED websocket_endpoint --- Connection ID: 127.0.0.1:64353-1752084140461
2025-07-09 11:02:20,462 - INFO - websocket - WebSocket connection accepted (early) for 127.0.0.1:64353 in 0.001s
2025-07-09 11:02:20,463 - DEBUG - websocket - User 0: Successfully sent loading message
2025-07-09 11:02:20,465 - WARNING - websocket - WebSocket auth failed: JWT error for 127.0.0.1:64353: Could not validate credentials
2025-07-09 11:02:26,448 - INFO - websocket - --- MINIMAL TEST: ENTERED websocket_endpoint --- Connection ID: 127.0.0.1:64365-1752084146448
2025-07-09 11:02:26,449 - INFO - websocket - WebSocket connection accepted (early) for 127.0.0.1:64365 in 0.000s
2025-07-09 11:02:26,449 - DEBUG - websocket - User 0: Successfully sent loading message
2025-07-09 11:02:26,450 - WARNING - websocket - WebSocket auth failed: JWT error for 127.0.0.1:64365: Could not validate credentials
2025-07-09 11:02:32,438 - INFO - websocket - --- MINIMAL TEST: ENTERED websocket_endpoint --- Connection ID: 127.0.0.1:64380-1752084152438
2025-07-09 11:02:32,439 - INFO - websocket - WebSocket connection accepted (early) for 127.0.0.1:64380 in 0.001s
2025-07-09 11:02:32,441 - DEBUG - websocket - User 0: Successfully sent loading message
2025-07-09 11:02:32,443 - WARNING - websocket - WebSocket auth failed: JWT error for 127.0.0.1:64380: Could not validate credentials
2025-07-09 11:02:38,441 - INFO - websocket - --- MINIMAL TEST: ENTERED websocket_endpoint --- Connection ID: 127.0.0.1:64387-1752084158441
2025-07-09 11:02:38,442 - INFO - websocket - WebSocket connection accepted (early) for 127.0.0.1:64387 in 0.001s
2025-07-09 11:02:38,443 - DEBUG - websocket - User 0: Successfully sent loading message
2025-07-09 11:02:38,446 - WARNING - websocket - WebSocket auth failed: JWT error for 127.0.0.1:64387: Could not validate credentials
2025-07-09 11:02:44,450 - INFO - websocket - --- MINIMAL TEST: ENTERED websocket_endpoint --- Connection ID: 127.0.0.1:64392-1752084164450
2025-07-09 11:02:44,451 - INFO - websocket - WebSocket connection accepted (early) for 127.0.0.1:64392 in 0.001s
2025-07-09 11:02:44,453 - DEBUG - websocket - User 0: Successfully sent loading message
2025-07-09 11:02:44,456 - WARNING - websocket - WebSocket auth failed: JWT error for 127.0.0.1:64392: Could not validate credentials
2025-07-09 11:02:50,441 - INFO - websocket - --- MINIMAL TEST: ENTERED websocket_endpoint --- Connection ID: 127.0.0.1:64399-1752084170441
2025-07-09 11:02:50,442 - INFO - websocket - WebSocket connection accepted (early) for 127.0.0.1:64399 in 0.001s
2025-07-09 11:02:50,444 - DEBUG - websocket - User 0: Successfully sent loading message
2025-07-09 11:02:50,446 - WARNING - websocket - WebSocket auth failed: JWT error for 127.0.0.1:64399: Could not validate credentials
2025-07-09 11:02:56,443 - INFO - websocket - --- MINIMAL TEST: ENTERED websocket_endpoint --- Connection ID: 127.0.0.1:64440-1752084176443
2025-07-09 11:02:56,443 - INFO - websocket - WebSocket connection accepted (early) for 127.0.0.1:64440 in 0.001s
2025-07-09 11:02:56,445 - DEBUG - websocket - User 0: Successfully sent loading message
2025-07-09 11:02:56,447 - WARNING - websocket - WebSocket auth failed: JWT error for 127.0.0.1:64440: Could not validate credentials
2025-07-09 11:03:01,769 - INFO - websocket - --- MINIMAL TEST: ENTERED websocket_endpoint --- Connection ID: 127.0.0.1:64455-1752084181769
2025-07-09 11:03:01,769 - INFO - websocket - WebSocket connection accepted (early) for 127.0.0.1:64455 in 0.001s
2025-07-09 11:03:01,771 - DEBUG - websocket - User 0: Successfully sent loading message
2025-07-09 11:03:01,772 - WARNING - websocket - WebSocket auth failed: JWT error for 127.0.0.1:64455: Could not validate credentials
2025-07-09 11:03:12,483 - INFO - websocket - --- MINIMAL TEST: ENTERED websocket_endpoint --- Connection ID: 127.0.0.1:64496-1752084192483
2025-07-09 11:03:12,484 - INFO - websocket - WebSocket connection accepted (early) for 127.0.0.1:64496 in 0.001s
2025-07-09 11:03:12,486 - DEBUG - websocket - User 0: Successfully sent loading message
2025-07-09 11:03:12,487 - INFO - websocket - WebSocket auth: token payload={'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1752085989, 'iat': 1752084189}, account_number=5O42G, user_type=demo
2025-07-09 11:03:12,488 - INFO - websocket - WebSocket auth: About to call get_demo_user_by_account_number with account_number=5O42G, user_type=demo
2025-07-09 11:03:12,493 - INFO - websocket - WebSocket auth: get_demo_user_by_account_number(5O42G, demo) returned: <app.database.models.DemoUser object at 0x000001840DF02650>
2025-07-09 11:03:12,495 - INFO - websocket - [WS] Using order model: DemoUserOrder for user_type=demo, account_number=5O42G
2025-07-09 11:03:12,500 - INFO - websocket - [WS] Open positions from DB for user_id=1: [<app.database.models.DemoUserOrder object at 0x000001840DD6A0D0>, <app.database.models.DemoUserOrder object at 0x000001840DD68550>]
2025-07-09 11:03:13,226 - DEBUG - websocket - Cached/updated group-symbol settings for group 'Group B'.
2025-07-09 11:03:13,232 - DEBUG - websocket - User 1: Fetched 2 open orders directly from database
2025-07-09 11:03:13,238 - DEBUG - websocket - User 1: Fetched 0 pending orders directly from database
2025-07-09 11:03:13,242 - DEBUG - websocket - User 1: Updated static orders cache with 2 open orders and 0 pending orders
2025-07-09 11:03:13,252 - DEBUG - websocket - User 1: Updated balance/margin cache: balance=24846.86088585, margin=6.53
2025-07-09 11:03:13,284 - INFO - websocket - User 5O42G: Fetching initial market data for 79 symbols from cache (adjusted or last known price)
2025-07-09 11:03:13,314 - DEBUG - websocket - User 5O42G: Fallback last price for EURCZK: Buy=25.0001500000, Sell=24.9998500000
2025-07-09 11:03:13,324 - DEBUG - websocket - User 5O42G: Fallback last price for AUDNZD: Buy=1.0002500000, Sell=0.9997500000
2025-07-09 11:03:13,381 - DEBUG - websocket - User 5O42G: Fallback last price for AUDSGD: Buy=1.0001500000, Sell=0.9998500000
2025-07-09 11:03:13,396 - DEBUG - websocket - User 1: Successfully sent initial connection data
2025-07-09 11:03:13,396 - INFO - websocket - User 5O42G: Sent initial connection data with 48 symbols (fresh from cache)
2025-07-09 11:03:15,036 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24846.86088585, margin=6.53
2025-07-09 11:03:15,036 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24846.86088585'), 'margin': Decimal('6.53')}
2025-07-09 11:03:15,037 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:03:17,797 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24846.86088585, margin=6.53
2025-07-09 11:03:17,797 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24846.86088585'), 'margin': Decimal('6.53')}
2025-07-09 11:03:17,798 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:03:19,844 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24846.86088585, margin=6.53
2025-07-09 11:03:19,844 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24846.86088585'), 'margin': Decimal('6.53')}
2025-07-09 11:03:19,844 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:03:21,837 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24846.86088585, margin=6.53
2025-07-09 11:03:21,837 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24846.86088585'), 'margin': Decimal('6.53')}
2025-07-09 11:03:21,837 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:03:24,091 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24846.86088585, margin=6.53
2025-07-09 11:03:24,091 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24846.86088585'), 'margin': Decimal('6.53')}
2025-07-09 11:03:24,092 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:03:26,388 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24846.86088585, margin=6.53
2025-07-09 11:03:26,388 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24846.86088585'), 'margin': Decimal('6.53')}
2025-07-09 11:03:26,389 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:03:29,187 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24846.86088585, margin=6.53
2025-07-09 11:03:29,187 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24846.86088585'), 'margin': Decimal('6.53')}
2025-07-09 11:03:29,188 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:03:30,927 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24846.86088585, margin=6.53
2025-07-09 11:03:30,927 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24846.86088585'), 'margin': Decimal('6.53')}
2025-07-09 11:03:30,928 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:03:31,559 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 11:03:31,560 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24846.86088585, margin=13.07000000
2025-07-09 11:03:31,560 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24846.86088585'), 'margin': Decimal('13.07000000')}
2025-07-09 11:03:31,560 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 11:03:31,560 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 11:03:31,562 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24846.86088585, margin=13.07000000
2025-07-09 11:03:31,562 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24846.86088585'), 'margin': Decimal('13.07000000')}
2025-07-09 11:03:31,562 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 11:03:31,563 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24846.86088585, margin=13.07000000
2025-07-09 11:03:31,564 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24846.86088585'), 'margin': Decimal('13.07000000')}
2025-07-09 11:03:31,564 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:03:31,571 - DEBUG - websocket - User 1: Fetched 3 open orders directly from database
2025-07-09 11:03:31,583 - DEBUG - websocket - User 1: Fetched 0 pending orders directly from database
2025-07-09 11:03:31,584 - DEBUG - websocket - User 1: Updated static orders cache with 3 open orders and 0 pending orders
2025-07-09 11:03:31,595 - DEBUG - websocket - User 1: Updated balance/margin cache: balance=24846.86088585, margin=13.07
2025-07-09 11:03:33,262 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24846.86088585, margin=13.07
2025-07-09 11:03:33,262 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24846.86088585'), 'margin': Decimal('13.07')}
2025-07-09 11:03:33,263 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:03:35,491 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 11:03:35,493 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24846.86088585, margin=13.07000000
2025-07-09 11:03:35,493 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24846.86088585'), 'margin': Decimal('13.07000000')}
2025-07-09 11:03:35,497 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 11:03:35,497 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 11:03:35,501 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24846.86088585, margin=13.07000000
2025-07-09 11:03:35,502 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24846.86088585'), 'margin': Decimal('13.07000000')}
2025-07-09 11:03:35,502 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 11:03:35,508 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24846.86088585, margin=13.07000000
2025-07-09 11:03:35,508 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24846.86088585'), 'margin': Decimal('13.07000000')}
2025-07-09 11:03:35,509 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:03:35,510 - DEBUG - websocket - User 1: Fetched 4 open orders directly from database
2025-07-09 11:03:35,514 - DEBUG - websocket - User 1: Fetched 0 pending orders directly from database
2025-07-09 11:03:35,515 - DEBUG - websocket - User 1: Updated static orders cache with 4 open orders and 0 pending orders
2025-07-09 11:03:35,522 - DEBUG - websocket - User 1: Updated balance/margin cache: balance=24846.86088585, margin=13.07
2025-07-09 11:03:35,565 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24846.86088585, margin=13.07
2025-07-09 11:03:35,565 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24846.86088585'), 'margin': Decimal('13.07')}
2025-07-09 11:03:35,565 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:03:37,776 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 11:03:37,779 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24846.86088585, margin=19.60000000
2025-07-09 11:03:37,780 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24846.86088585'), 'margin': Decimal('19.60000000')}
2025-07-09 11:03:37,781 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 11:03:37,781 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 11:03:37,787 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24846.86088585, margin=19.60000000
2025-07-09 11:03:37,787 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24846.86088585'), 'margin': Decimal('19.60000000')}
2025-07-09 11:03:37,788 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 11:03:37,789 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24846.86088585, margin=19.60000000
2025-07-09 11:03:37,789 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24846.86088585'), 'margin': Decimal('19.60000000')}
2025-07-09 11:03:37,790 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:03:37,790 - DEBUG - websocket - User 1: Fetched 5 open orders directly from database
2025-07-09 11:03:37,795 - DEBUG - websocket - User 1: Fetched 0 pending orders directly from database
2025-07-09 11:03:37,797 - DEBUG - websocket - User 1: Updated static orders cache with 5 open orders and 0 pending orders
2025-07-09 11:03:37,810 - DEBUG - websocket - User 1: Updated balance/margin cache: balance=24846.86088585, margin=19.60
2025-07-09 11:03:37,852 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24846.86088585, margin=19.60
2025-07-09 11:03:37,852 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24846.86088585'), 'margin': Decimal('19.60')}
2025-07-09 11:03:37,852 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:03:39,969 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 11:03:39,972 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24846.86088585, margin=19.60000000
2025-07-09 11:03:39,974 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24846.86088585'), 'margin': Decimal('19.60000000')}
2025-07-09 11:03:39,974 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 11:03:39,974 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 11:03:39,977 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24846.86088585, margin=19.60000000
2025-07-09 11:03:39,977 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24846.86088585'), 'margin': Decimal('19.60000000')}
2025-07-09 11:03:39,977 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 11:03:39,981 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24846.86088585, margin=19.60000000
2025-07-09 11:03:39,981 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24846.86088585'), 'margin': Decimal('19.60000000')}
2025-07-09 11:03:39,981 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:03:39,982 - DEBUG - websocket - User 1: Fetched 6 open orders directly from database
2025-07-09 11:03:39,987 - DEBUG - websocket - User 1: Fetched 0 pending orders directly from database
2025-07-09 11:03:39,989 - DEBUG - websocket - User 1: Updated static orders cache with 6 open orders and 0 pending orders
2025-07-09 11:03:39,999 - DEBUG - websocket - User 1: Updated balance/margin cache: balance=24846.86088585, margin=19.60
2025-07-09 11:03:40,594 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24846.86088585, margin=19.60
2025-07-09 11:03:40,594 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24846.86088585'), 'margin': Decimal('19.60')}
2025-07-09 11:03:40,594 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:03:42,401 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24846.86088585, margin=19.60
2025-07-09 11:03:42,401 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24846.86088585'), 'margin': Decimal('19.60')}
2025-07-09 11:03:42,402 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:03:43,831 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 11:03:43,837 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24846.35088585, margin=19.60
2025-07-09 11:03:43,838 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24846.35088585'), 'margin': Decimal('19.60')}
2025-07-09 11:03:43,838 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 11:03:43,839 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 11:03:43,842 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24846.35088585, margin=19.60
2025-07-09 11:03:43,843 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24846.35088585'), 'margin': Decimal('19.60')}
2025-07-09 11:03:43,843 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 11:03:43,848 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24846.35088585, margin=19.60
2025-07-09 11:03:43,848 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24846.35088585'), 'margin': Decimal('19.60')}
2025-07-09 11:03:43,849 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:03:44,456 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 11:03:44,459 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24845.70088585, margin=13.07
2025-07-09 11:03:44,459 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24845.70088585'), 'margin': Decimal('13.07')}
2025-07-09 11:03:44,459 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 11:03:44,459 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 11:03:44,461 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24845.70088585, margin=13.07
2025-07-09 11:03:44,462 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24845.70088585'), 'margin': Decimal('13.07')}
2025-07-09 11:03:44,462 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 11:03:44,464 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24845.70088585, margin=13.07
2025-07-09 11:03:44,464 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24845.70088585'), 'margin': Decimal('13.07')}
2025-07-09 11:03:44,465 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:03:45,010 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24845.70088585, margin=13.07
2025-07-09 11:03:45,010 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24845.70088585'), 'margin': Decimal('13.07')}
2025-07-09 11:03:45,010 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:03:45,066 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 11:03:45,067 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24845.18088585, margin=13.07
2025-07-09 11:03:45,067 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24845.18088585'), 'margin': Decimal('13.07')}
2025-07-09 11:03:45,068 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 11:03:45,069 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 11:03:45,071 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24845.18088585, margin=13.07
2025-07-09 11:03:45,071 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24845.18088585'), 'margin': Decimal('13.07')}
2025-07-09 11:03:45,071 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 11:03:45,074 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24845.18088585, margin=13.07
2025-07-09 11:03:45,074 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24845.18088585'), 'margin': Decimal('13.07')}
2025-07-09 11:03:45,074 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:03:45,720 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 11:03:45,725 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24844.53088585, margin=6.53
2025-07-09 11:03:45,725 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24844.53088585'), 'margin': Decimal('6.53')}
2025-07-09 11:03:45,726 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 11:03:45,727 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 11:03:45,730 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24844.53088585, margin=6.53
2025-07-09 11:03:45,730 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24844.53088585'), 'margin': Decimal('6.53')}
2025-07-09 11:03:45,731 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 11:03:45,733 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24844.53088585, margin=6.53
2025-07-09 11:03:45,733 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24844.53088585'), 'margin': Decimal('6.53')}
2025-07-09 11:03:45,733 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:03:46,344 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 11:03:46,347 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24844.62088585, margin=6.53
2025-07-09 11:03:46,347 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24844.62088585'), 'margin': Decimal('6.53')}
2025-07-09 11:03:46,348 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 11:03:46,348 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 11:03:46,350 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24844.62088585, margin=6.53
2025-07-09 11:03:46,350 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24844.62088585'), 'margin': Decimal('6.53')}
2025-07-09 11:03:46,350 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 11:03:46,354 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24844.62088585, margin=6.53
2025-07-09 11:03:46,354 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24844.62088585'), 'margin': Decimal('6.53')}
2025-07-09 11:03:46,354 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:03:46,936 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 11:03:46,938 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=0
2025-07-09 11:03:46,939 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('0')}
2025-07-09 11:03:46,939 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 11:03:46,940 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 11:03:46,941 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=0
2025-07-09 11:03:46,941 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('0')}
2025-07-09 11:03:46,941 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 11:03:46,944 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=0
2025-07-09 11:03:46,945 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('0')}
2025-07-09 11:03:46,945 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:03:47,449 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=0
2025-07-09 11:03:47,450 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('0')}
2025-07-09 11:03:47,450 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:03:49,315 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=0
2025-07-09 11:03:49,315 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('0')}
2025-07-09 11:03:49,316 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:03:51,497 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=0
2025-07-09 11:03:51,497 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('0')}
2025-07-09 11:03:51,498 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:03:54,762 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=0
2025-07-09 11:03:54,762 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('0')}
2025-07-09 11:03:54,762 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:03:56,030 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=0
2025-07-09 11:03:56,030 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('0')}
2025-07-09 11:03:56,031 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:03:58,488 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=0
2025-07-09 11:03:58,488 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('0')}
2025-07-09 11:03:58,490 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:03:59,194 - DEBUG - websocket - User 1: Fetched 0 open orders directly from database
2025-07-09 11:03:59,195 - DEBUG - websocket - User 1: Fetched 1 pending orders directly from database
2025-07-09 11:03:59,196 - DEBUG - websocket - User 1: Updated static orders cache with 0 open orders and 1 pending orders
2025-07-09 11:03:59,198 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 11:03:59,200 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=0.0
2025-07-09 11:03:59,200 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('0.0')}
2025-07-09 11:03:59,201 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 11:03:59,201 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 11:03:59,203 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=0.0
2025-07-09 11:03:59,203 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('0.0')}
2025-07-09 11:03:59,204 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 11:03:59,205 - DEBUG - websocket - User 1: Fetched 0 open orders directly from database
2025-07-09 11:03:59,207 - DEBUG - websocket - User 1: Fetched 1 pending orders directly from database
2025-07-09 11:03:59,209 - DEBUG - websocket - User 1: Updated static orders cache with 0 open orders and 1 pending orders
2025-07-09 11:04:00,620 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=0.0
2025-07-09 11:04:00,620 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('0.0')}
2025-07-09 11:04:00,621 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:04:02,939 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=0.0
2025-07-09 11:04:02,939 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('0.0')}
2025-07-09 11:04:02,939 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:04:05,050 - DEBUG - websocket - User 1: Fetched 0 open orders directly from database
2025-07-09 11:04:05,052 - DEBUG - websocket - User 1: Fetched 2 pending orders directly from database
2025-07-09 11:04:05,053 - DEBUG - websocket - User 1: Updated static orders cache with 0 open orders and 2 pending orders
2025-07-09 11:04:05,054 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 11:04:05,056 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=0.0
2025-07-09 11:04:05,056 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('0.0')}
2025-07-09 11:04:05,057 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 11:04:05,057 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 11:04:05,059 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=0.0
2025-07-09 11:04:05,059 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('0.0')}
2025-07-09 11:04:05,059 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 11:04:05,060 - DEBUG - websocket - User 1: Fetched 0 open orders directly from database
2025-07-09 11:04:05,062 - DEBUG - websocket - User 1: Fetched 2 pending orders directly from database
2025-07-09 11:04:05,063 - DEBUG - websocket - User 1: Updated static orders cache with 0 open orders and 2 pending orders
2025-07-09 11:04:05,207 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=0.0
2025-07-09 11:04:05,207 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('0.0')}
2025-07-09 11:04:05,208 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:04:07,092 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 11:04:07,094 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=0.0
2025-07-09 11:04:07,094 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('0.0')}
2025-07-09 11:04:07,094 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 11:04:07,094 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 11:04:07,096 - DEBUG - websocket - User 1: Fetched 1 open orders directly from database
2025-07-09 11:04:07,098 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=0.0
2025-07-09 11:04:07,098 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('0.0')}
2025-07-09 11:04:07,098 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 11:04:07,101 - DEBUG - websocket - User 1: Fetched 1 pending orders directly from database
2025-07-09 11:04:07,104 - DEBUG - websocket - User 1: Updated static orders cache with 1 open orders and 1 pending orders
2025-07-09 11:04:07,106 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=0.0
2025-07-09 11:04:07,106 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('0.0')}
2025-07-09 11:04:07,107 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:04:07,116 - DEBUG - websocket - User 1: Updated balance/margin cache: balance=24843.44088585, margin=6.53
2025-07-09 11:04:07,482 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=6.53
2025-07-09 11:04:07,482 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('6.53')}
2025-07-09 11:04:07,482 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:04:09,920 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=6.53
2025-07-09 11:04:09,920 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('6.53')}
2025-07-09 11:04:09,921 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:04:12,067 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=6.53
2025-07-09 11:04:12,067 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('6.53')}
2025-07-09 11:04:12,067 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:04:14,426 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=6.53
2025-07-09 11:04:14,426 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('6.53')}
2025-07-09 11:04:14,427 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:04:16,675 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=6.53
2025-07-09 11:04:16,675 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('6.53')}
2025-07-09 11:04:16,675 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:04:18,923 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=6.53
2025-07-09 11:04:18,923 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('6.53')}
2025-07-09 11:04:18,924 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:04:21,183 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=6.53
2025-07-09 11:04:21,183 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('6.53')}
2025-07-09 11:04:21,183 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:04:23,443 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=6.53
2025-07-09 11:04:23,443 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('6.53')}
2025-07-09 11:04:23,444 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:04:25,788 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=6.53
2025-07-09 11:04:25,788 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('6.53')}
2025-07-09 11:04:25,788 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:04:28,042 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=6.53
2025-07-09 11:04:28,042 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('6.53')}
2025-07-09 11:04:28,042 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:04:33,934 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=6.53
2025-07-09 11:04:33,934 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('6.53')}
2025-07-09 11:04:33,934 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:04:34,183 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=6.53
2025-07-09 11:04:34,183 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('6.53')}
2025-07-09 11:04:34,183 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:04:34,911 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=6.53
2025-07-09 11:04:34,911 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('6.53')}
2025-07-09 11:04:34,912 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:04:37,156 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=6.53
2025-07-09 11:04:37,156 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('6.53')}
2025-07-09 11:04:37,157 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:04:39,538 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=6.53
2025-07-09 11:04:39,538 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('6.53')}
2025-07-09 11:04:39,538 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:04:41,765 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=6.53
2025-07-09 11:04:41,765 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('6.53')}
2025-07-09 11:04:41,766 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:04:43,974 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=6.53
2025-07-09 11:04:43,974 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('6.53')}
2025-07-09 11:04:43,974 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:04:46,372 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=6.53
2025-07-09 11:04:46,372 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('6.53')}
2025-07-09 11:04:46,372 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:04:48,560 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=6.53
2025-07-09 11:04:48,560 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('6.53')}
2025-07-09 11:04:48,561 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:04:50,875 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=6.53
2025-07-09 11:04:50,875 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('6.53')}
2025-07-09 11:04:50,876 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:04:53,230 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=6.53
2025-07-09 11:04:53,230 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('6.53')}
2025-07-09 11:04:53,231 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:04:55,478 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=6.53
2025-07-09 11:04:55,478 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('6.53')}
2025-07-09 11:04:55,479 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:04:57,675 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=6.53
2025-07-09 11:04:57,675 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('6.53')}
2025-07-09 11:04:57,675 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:04:59,969 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=6.53
2025-07-09 11:04:59,969 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('6.53')}
2025-07-09 11:04:59,970 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:05:02,252 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=6.53
2025-07-09 11:05:02,252 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('6.53')}
2025-07-09 11:05:02,253 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:05:04,663 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=6.53
2025-07-09 11:05:04,663 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('6.53')}
2025-07-09 11:05:04,663 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:05:06,954 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=6.53
2025-07-09 11:05:06,954 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('6.53')}
2025-07-09 11:05:06,954 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:05:09,128 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=6.53
2025-07-09 11:05:09,128 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('6.53')}
2025-07-09 11:05:09,129 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:05:11,352 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=6.53
2025-07-09 11:05:11,352 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('6.53')}
2025-07-09 11:05:11,352 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:05:13,709 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=6.53
2025-07-09 11:05:13,709 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('6.53')}
2025-07-09 11:05:13,709 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:05:15,971 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=6.53
2025-07-09 11:05:15,971 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('6.53')}
2025-07-09 11:05:15,972 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:05:18,826 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=6.53
2025-07-09 11:05:18,826 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('6.53')}
2025-07-09 11:05:18,826 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:05:20,568 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=6.53
2025-07-09 11:05:20,568 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('6.53')}
2025-07-09 11:05:20,569 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:05:22,870 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=6.53
2025-07-09 11:05:22,870 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('6.53')}
2025-07-09 11:05:22,870 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:05:25,172 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=6.53
2025-07-09 11:05:25,172 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('6.53')}
2025-07-09 11:05:25,172 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:05:27,530 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=6.53
2025-07-09 11:05:27,530 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('6.53')}
2025-07-09 11:05:27,531 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:05:29,884 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=6.53
2025-07-09 11:05:29,884 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('6.53')}
2025-07-09 11:05:29,884 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:05:32,343 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=6.53
2025-07-09 11:05:32,343 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('6.53')}
2025-07-09 11:05:32,344 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:05:32,385 - DEBUG - websocket - User 1: Fetched 1 open orders directly from database
2025-07-09 11:05:32,387 - DEBUG - websocket - User 1: Fetched 1 pending orders directly from database
2025-07-09 11:05:32,388 - DEBUG - websocket - User 1: Updated static orders cache with 1 open orders and 1 pending orders
2025-07-09 11:05:32,391 - DEBUG - websocket - User 1: Updated balance/margin cache: balance=24843.44088585, margin=6.53
2025-07-09 11:05:32,393 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 11:05:32,394 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=6.53
2025-07-09 11:05:32,394 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('6.53')}
2025-07-09 11:05:32,395 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 11:05:32,395 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 11:05:32,397 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=6.53
2025-07-09 11:05:32,397 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('6.53')}
2025-07-09 11:05:32,398 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 11:05:32,401 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=6.53
2025-07-09 11:05:32,401 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('6.53')}
2025-07-09 11:05:32,402 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:05:34,404 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=6.53
2025-07-09 11:05:34,404 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('6.53')}
2025-07-09 11:05:34,405 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:05:36,539 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=6.53
2025-07-09 11:05:36,539 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('6.53')}
2025-07-09 11:05:36,540 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:05:38,895 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=6.53
2025-07-09 11:05:38,896 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('6.53')}
2025-07-09 11:05:38,896 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:05:41,559 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=6.53
2025-07-09 11:05:41,559 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('6.53')}
2025-07-09 11:05:41,559 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:05:43,401 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=6.53
2025-07-09 11:05:43,401 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('6.53')}
2025-07-09 11:05:43,401 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:05:45,789 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=6.53
2025-07-09 11:05:45,789 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('6.53')}
2025-07-09 11:05:45,789 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:05:48,033 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=6.53
2025-07-09 11:05:48,033 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('6.53')}
2025-07-09 11:05:48,033 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:05:50,165 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=6.53
2025-07-09 11:05:50,165 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('6.53')}
2025-07-09 11:05:50,166 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:05:52,664 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=6.53
2025-07-09 11:05:52,664 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('6.53')}
2025-07-09 11:05:52,665 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:05:54,732 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=6.53
2025-07-09 11:05:54,732 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('6.53')}
2025-07-09 11:05:54,733 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:05:57,744 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=6.53
2025-07-09 11:05:57,744 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('6.53')}
2025-07-09 11:05:57,745 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:05:59,376 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=6.53
2025-07-09 11:05:59,376 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('6.53')}
2025-07-09 11:05:59,377 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:06:01,632 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=6.53
2025-07-09 11:06:01,632 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('6.53')}
2025-07-09 11:06:01,633 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:06:03,990 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=6.53
2025-07-09 11:06:03,990 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('6.53')}
2025-07-09 11:06:03,990 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:06:10,423 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=6.53
2025-07-09 11:06:10,423 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('6.53')}
2025-07-09 11:06:10,424 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:06:10,475 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=6.53
2025-07-09 11:06:10,475 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('6.53')}
2025-07-09 11:06:10,476 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:06:10,810 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=6.53
2025-07-09 11:06:10,810 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('6.53')}
2025-07-09 11:06:10,811 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:06:13,263 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=6.53
2025-07-09 11:06:13,263 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('6.53')}
2025-07-09 11:06:13,264 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:06:15,448 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=6.53
2025-07-09 11:06:15,448 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('6.53')}
2025-07-09 11:06:15,449 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:06:17,706 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=6.53
2025-07-09 11:06:17,706 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('6.53')}
2025-07-09 11:06:17,706 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:06:19,957 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=6.53
2025-07-09 11:06:19,957 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('6.53')}
2025-07-09 11:06:19,957 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:06:22,538 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=6.53
2025-07-09 11:06:22,538 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('6.53')}
2025-07-09 11:06:22,538 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:06:24,562 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=6.53
2025-07-09 11:06:24,562 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('6.53')}
2025-07-09 11:06:24,562 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:06:26,944 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=6.53
2025-07-09 11:06:26,944 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('6.53')}
2025-07-09 11:06:26,944 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:06:27,899 - DEBUG - websocket - User 1: Fetched 1 open orders directly from database
2025-07-09 11:06:27,901 - DEBUG - websocket - User 1: Fetched 1 pending orders directly from database
2025-07-09 11:06:27,902 - DEBUG - websocket - User 1: Updated static orders cache with 1 open orders and 1 pending orders
2025-07-09 11:06:27,905 - DEBUG - websocket - User 1: Updated balance/margin cache: balance=24843.44088585, margin=6.53
2025-07-09 11:06:27,907 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 11:06:27,909 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=6.53
2025-07-09 11:06:27,909 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('6.53')}
2025-07-09 11:06:27,909 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 11:06:27,909 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 11:06:27,913 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=6.53
2025-07-09 11:06:27,913 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('6.53')}
2025-07-09 11:06:27,914 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 11:06:27,916 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=6.53
2025-07-09 11:06:27,916 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('6.53')}
2025-07-09 11:06:27,917 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:06:29,174 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=6.53
2025-07-09 11:06:29,174 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('6.53')}
2025-07-09 11:06:29,174 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:06:29,730 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 11:06:29,732 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=6.53
2025-07-09 11:06:29,733 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('6.53')}
2025-07-09 11:06:29,734 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 11:06:29,734 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 11:06:29,735 - DEBUG - websocket - User 1: Fetched 2 open orders directly from database
2025-07-09 11:06:29,737 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=6.53
2025-07-09 11:06:29,737 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('6.53')}
2025-07-09 11:06:29,737 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 11:06:29,739 - DEBUG - websocket - User 1: Fetched 0 pending orders directly from database
2025-07-09 11:06:29,740 - DEBUG - websocket - User 1: Updated static orders cache with 2 open orders and 0 pending orders
2025-07-09 11:06:29,742 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=6.53
2025-07-09 11:06:29,742 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('6.53')}
2025-07-09 11:06:29,743 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:06:29,757 - DEBUG - websocket - User 1: Updated balance/margin cache: balance=24843.44088585, margin=6.53
2025-07-09 11:06:31,427 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=6.53
2025-07-09 11:06:31,427 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('6.53')}
2025-07-09 11:06:31,428 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:06:33,787 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=6.53
2025-07-09 11:06:33,787 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('6.53')}
2025-07-09 11:06:33,787 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:06:36,033 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=6.53
2025-07-09 11:06:36,033 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('6.53')}
2025-07-09 11:06:36,033 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:06:38,288 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=6.53
2025-07-09 11:06:38,288 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('6.53')}
2025-07-09 11:06:38,288 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:06:40,590 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=6.53
2025-07-09 11:06:40,590 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('6.53')}
2025-07-09 11:06:40,590 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:06:42,889 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=6.53
2025-07-09 11:06:42,889 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('6.53')}
2025-07-09 11:06:42,889 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:06:45,270 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=6.53
2025-07-09 11:06:45,270 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('6.53')}
2025-07-09 11:06:45,270 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:06:47,518 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=6.53
2025-07-09 11:06:47,518 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('6.53')}
2025-07-09 11:06:47,519 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:06:49,752 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=6.53
2025-07-09 11:06:49,752 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('6.53')}
2025-07-09 11:06:49,752 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:06:52,004 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=6.53
2025-07-09 11:06:52,004 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('6.53')}
2025-07-09 11:06:52,004 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:06:54,369 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=6.53
2025-07-09 11:06:54,369 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('6.53')}
2025-07-09 11:06:54,369 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:06:56,721 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=6.53
2025-07-09 11:06:56,721 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('6.53')}
2025-07-09 11:06:56,721 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:06:58,981 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=6.53
2025-07-09 11:06:58,981 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('6.53')}
2025-07-09 11:06:58,981 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:07:01,222 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=6.53
2025-07-09 11:07:01,222 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('6.53')}
2025-07-09 11:07:01,223 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:07:03,482 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=6.53
2025-07-09 11:07:03,482 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('6.53')}
2025-07-09 11:07:03,482 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:07:05,738 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=6.53
2025-07-09 11:07:05,738 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('6.53')}
2025-07-09 11:07:05,738 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:07:08,391 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=6.53
2025-07-09 11:07:08,391 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('6.53')}
2025-07-09 11:07:08,392 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:07:10,438 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=6.53
2025-07-09 11:07:10,438 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('6.53')}
2025-07-09 11:07:10,439 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:07:12,704 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=6.53
2025-07-09 11:07:12,704 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('6.53')}
2025-07-09 11:07:12,705 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:07:13,667 - DEBUG - websocket - User 1: Fetched 2 open orders directly from database
2025-07-09 11:07:13,668 - DEBUG - websocket - User 1: Fetched 1 pending orders directly from database
2025-07-09 11:07:13,669 - DEBUG - websocket - User 1: Updated static orders cache with 2 open orders and 1 pending orders
2025-07-09 11:07:13,673 - DEBUG - websocket - User 1: Updated balance/margin cache: balance=24843.44088585, margin=6.53
2025-07-09 11:07:13,674 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 11:07:13,677 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=6.53
2025-07-09 11:07:13,677 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('6.53')}
2025-07-09 11:07:13,677 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 11:07:13,677 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 11:07:13,679 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=6.53
2025-07-09 11:07:13,679 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('6.53')}
2025-07-09 11:07:13,679 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 11:07:13,680 - DEBUG - websocket - User 1: Fetched 2 open orders directly from database
2025-07-09 11:07:13,682 - DEBUG - websocket - User 1: Fetched 1 pending orders directly from database
2025-07-09 11:07:13,683 - DEBUG - websocket - User 1: Updated static orders cache with 2 open orders and 1 pending orders
2025-07-09 11:07:13,688 - DEBUG - websocket - User 1: Updated balance/margin cache: balance=24843.44088585, margin=6.53
2025-07-09 11:07:14,988 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=6.53
2025-07-09 11:07:14,988 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('6.53')}
2025-07-09 11:07:14,989 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:07:17,298 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=6.53
2025-07-09 11:07:17,298 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('6.53')}
2025-07-09 11:07:17,299 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:07:19,579 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=6.53
2025-07-09 11:07:19,579 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('6.53')}
2025-07-09 11:07:19,580 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:07:20,087 - DEBUG - websocket - User 1: Fetched 2 open orders directly from database
2025-07-09 11:07:20,089 - DEBUG - websocket - User 1: Fetched 2 pending orders directly from database
2025-07-09 11:07:20,090 - DEBUG - websocket - User 1: Updated static orders cache with 2 open orders and 2 pending orders
2025-07-09 11:07:20,095 - DEBUG - websocket - User 1: Updated balance/margin cache: balance=24843.44088585, margin=6.53
2025-07-09 11:07:20,097 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 11:07:20,098 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=6.53
2025-07-09 11:07:20,098 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('6.53')}
2025-07-09 11:07:20,098 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 11:07:20,099 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 11:07:20,102 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=6.53
2025-07-09 11:07:20,102 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('6.53')}
2025-07-09 11:07:20,103 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 11:07:20,107 - DEBUG - websocket - User 1: Fetched 2 open orders directly from database
2025-07-09 11:07:20,115 - DEBUG - websocket - User 1: Fetched 2 pending orders directly from database
2025-07-09 11:07:20,117 - DEBUG - websocket - User 1: Updated static orders cache with 2 open orders and 2 pending orders
2025-07-09 11:07:20,131 - DEBUG - websocket - User 1: Updated balance/margin cache: balance=24843.44088585, margin=6.53
2025-07-09 11:07:21,917 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=6.53
2025-07-09 11:07:21,917 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('6.53')}
2025-07-09 11:07:21,917 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:07:22,458 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 11:07:22,460 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=6.53
2025-07-09 11:07:22,460 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('6.53')}
2025-07-09 11:07:22,460 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 11:07:22,460 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 11:07:22,462 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=6.53
2025-07-09 11:07:22,462 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('6.53')}
2025-07-09 11:07:22,462 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 11:07:22,463 - DEBUG - websocket - User 1: Fetched 3 open orders directly from database
2025-07-09 11:07:22,466 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=6.53
2025-07-09 11:07:22,467 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('6.53')}
2025-07-09 11:07:22,468 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:07:22,472 - DEBUG - websocket - User 1: Fetched 1 pending orders directly from database
2025-07-09 11:07:22,477 - DEBUG - websocket - User 1: Updated static orders cache with 3 open orders and 1 pending orders
2025-07-09 11:07:22,498 - DEBUG - websocket - User 1: Updated balance/margin cache: balance=24843.44088585, margin=13.06
2025-07-09 11:07:24,263 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=13.06
2025-07-09 11:07:24,263 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('13.06')}
2025-07-09 11:07:24,263 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:07:26,411 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=13.06
2025-07-09 11:07:26,411 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('13.06')}
2025-07-09 11:07:26,412 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:07:28,738 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=13.06
2025-07-09 11:07:28,738 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('13.06')}
2025-07-09 11:07:28,738 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:07:31,017 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=13.06
2025-07-09 11:07:31,017 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('13.06')}
2025-07-09 11:07:31,018 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:07:33,272 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=13.06
2025-07-09 11:07:33,272 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('13.06')}
2025-07-09 11:07:33,273 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:07:35,580 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=13.06
2025-07-09 11:07:35,581 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('13.06')}
2025-07-09 11:07:35,581 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:07:37,941 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=13.06
2025-07-09 11:07:37,941 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('13.06')}
2025-07-09 11:07:37,941 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:07:40,244 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=13.06
2025-07-09 11:07:40,244 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('13.06')}
2025-07-09 11:07:40,245 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:07:42,482 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=13.06
2025-07-09 11:07:42,482 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('13.06')}
2025-07-09 11:07:42,483 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:07:45,071 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=13.06
2025-07-09 11:07:45,071 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('13.06')}
2025-07-09 11:07:45,072 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:07:47,116 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=13.06
2025-07-09 11:07:47,116 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('13.06')}
2025-07-09 11:07:47,116 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:07:49,464 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=13.06
2025-07-09 11:07:49,465 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('13.06')}
2025-07-09 11:07:49,465 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:07:51,817 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=13.06
2025-07-09 11:07:51,817 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('13.06')}
2025-07-09 11:07:51,818 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:07:53,962 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=13.06
2025-07-09 11:07:53,962 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('13.06')}
2025-07-09 11:07:53,962 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:07:55,841 - DEBUG - websocket - User 1: Fetched 3 open orders directly from database
2025-07-09 11:07:55,844 - DEBUG - websocket - User 1: Fetched 1 pending orders directly from database
2025-07-09 11:07:55,845 - DEBUG - websocket - User 1: Updated static orders cache with 3 open orders and 1 pending orders
2025-07-09 11:07:55,849 - DEBUG - websocket - User 1: Updated balance/margin cache: balance=24843.44088585, margin=13.06
2025-07-09 11:07:55,850 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 11:07:55,851 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=13.06
2025-07-09 11:07:55,851 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('13.06')}
2025-07-09 11:07:55,853 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 11:07:55,853 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 11:07:55,856 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=13.06
2025-07-09 11:07:55,856 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('13.06')}
2025-07-09 11:07:55,856 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 11:07:55,857 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=13.06
2025-07-09 11:07:55,857 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('13.06')}
2025-07-09 11:07:55,857 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:07:56,418 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=13.06
2025-07-09 11:07:56,418 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('13.06')}
2025-07-09 11:07:56,418 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:07:58,590 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=13.06
2025-07-09 11:07:58,590 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('13.06')}
2025-07-09 11:07:58,590 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:08:00,835 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=13.06
2025-07-09 11:08:00,836 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('13.06')}
2025-07-09 11:08:00,836 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:08:03,203 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=13.06
2025-07-09 11:08:03,203 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('13.06')}
2025-07-09 11:08:03,203 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:08:05,539 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=13.06
2025-07-09 11:08:05,539 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('13.06')}
2025-07-09 11:08:05,540 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:08:07,682 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=13.06
2025-07-09 11:08:07,682 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('13.06')}
2025-07-09 11:08:07,682 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:08:10,366 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=13.06
2025-07-09 11:08:10,366 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('13.06')}
2025-07-09 11:08:10,366 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:08:12,288 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=13.06
2025-07-09 11:08:12,288 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('13.06')}
2025-07-09 11:08:12,289 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:08:14,547 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=13.06
2025-07-09 11:08:14,547 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('13.06')}
2025-07-09 11:08:14,547 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:08:16,817 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=13.06
2025-07-09 11:08:16,818 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('13.06')}
2025-07-09 11:08:16,818 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:08:19,210 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=13.06
2025-07-09 11:08:19,210 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('13.06')}
2025-07-09 11:08:19,210 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:08:19,713 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 11:08:19,715 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=13.06
2025-07-09 11:08:19,715 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('13.06')}
2025-07-09 11:08:19,715 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 11:08:19,715 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 11:08:19,717 - DEBUG - websocket - User 1: Fetched 4 open orders directly from database
2025-07-09 11:08:19,718 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=13.06
2025-07-09 11:08:19,718 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('13.06')}
2025-07-09 11:08:19,719 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 11:08:19,720 - DEBUG - websocket - User 1: Fetched 0 pending orders directly from database
2025-07-09 11:08:19,722 - DEBUG - websocket - User 1: Updated static orders cache with 4 open orders and 0 pending orders
2025-07-09 11:08:19,724 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=13.06
2025-07-09 11:08:19,725 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('13.06')}
2025-07-09 11:08:19,726 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:08:19,731 - DEBUG - websocket - User 1: Updated balance/margin cache: balance=24843.44088585, margin=13.06
2025-07-09 11:08:21,422 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=13.06
2025-07-09 11:08:21,422 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('13.06')}
2025-07-09 11:08:21,422 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:08:23,909 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=13.06
2025-07-09 11:08:23,909 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('13.06')}
2025-07-09 11:08:23,910 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:08:26,028 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=13.06
2025-07-09 11:08:26,029 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('13.06')}
2025-07-09 11:08:26,029 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:08:28,290 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24843.44088585, margin=13.06
2025-07-09 11:08:28,290 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24843.44088585'), 'margin': Decimal('13.06')}
2025-07-09 11:08:28,290 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:08:29,878 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 11:08:29,879 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24842.56088585, margin=13.06
2025-07-09 11:08:29,881 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24842.56088585'), 'margin': Decimal('13.06')}
2025-07-09 11:08:29,883 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 11:08:29,884 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 11:08:29,886 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24842.56088585, margin=13.06
2025-07-09 11:08:29,886 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24842.56088585'), 'margin': Decimal('13.06')}
2025-07-09 11:08:29,886 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 11:08:29,891 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24842.56088585, margin=13.06
2025-07-09 11:08:29,891 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24842.56088585'), 'margin': Decimal('13.06')}
2025-07-09 11:08:29,892 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:08:30,641 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24842.56088585, margin=13.06
2025-07-09 11:08:30,641 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24842.56088585'), 'margin': Decimal('13.06')}
2025-07-09 11:08:30,641 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:08:32,441 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 11:08:32,443 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24842.27088585, margin=6.53
2025-07-09 11:08:32,444 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24842.27088585'), 'margin': Decimal('6.53')}
2025-07-09 11:08:32,446 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 11:08:32,446 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 11:08:32,448 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24842.27088585, margin=6.53
2025-07-09 11:08:32,449 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24842.27088585'), 'margin': Decimal('6.53')}
2025-07-09 11:08:32,449 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 11:08:32,453 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24842.27088585, margin=6.53
2025-07-09 11:08:32,453 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24842.27088585'), 'margin': Decimal('6.53')}
2025-07-09 11:08:32,454 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:08:32,870 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24842.27088585, margin=6.53
2025-07-09 11:08:32,870 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24842.27088585'), 'margin': Decimal('6.53')}
2025-07-09 11:08:32,870 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:08:34,417 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 11:08:34,419 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24841.36088585, margin=6.53
2025-07-09 11:08:34,419 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24841.36088585'), 'margin': Decimal('6.53')}
2025-07-09 11:08:34,420 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 11:08:34,420 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 11:08:34,423 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24841.36088585, margin=6.53
2025-07-09 11:08:34,423 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24841.36088585'), 'margin': Decimal('6.53')}
2025-07-09 11:08:34,424 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 11:08:34,426 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24841.36088585, margin=6.53
2025-07-09 11:08:34,427 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24841.36088585'), 'margin': Decimal('6.53')}
2025-07-09 11:08:34,427 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:08:35,135 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24841.36088585, margin=6.53
2025-07-09 11:08:35,135 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24841.36088585'), 'margin': Decimal('6.53')}
2025-07-09 11:08:35,135 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:08:36,300 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 11:08:36,302 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24840.97088585, margin=0
2025-07-09 11:08:36,302 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24840.97088585'), 'margin': Decimal('0')}
2025-07-09 11:08:36,305 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 11:08:36,305 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 11:08:36,307 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24840.97088585, margin=0
2025-07-09 11:08:36,307 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24840.97088585'), 'margin': Decimal('0')}
2025-07-09 11:08:36,308 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 11:08:36,312 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24840.97088585, margin=0
2025-07-09 11:08:36,312 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24840.97088585'), 'margin': Decimal('0')}
2025-07-09 11:08:36,312 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:08:37,492 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24840.97088585, margin=0
2025-07-09 11:08:37,492 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24840.97088585'), 'margin': Decimal('0')}
2025-07-09 11:08:37,492 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:08:39,734 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24840.97088585, margin=0
2025-07-09 11:08:39,734 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24840.97088585'), 'margin': Decimal('0')}
2025-07-09 11:08:39,735 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:08:41,104 - INFO - websocket - User 5O42G: WebSocket disconnected by client.
2025-07-09 11:08:41,105 - INFO - websocket - User 5O42G: Cleaning up WebSocket connection.
2025-07-09 11:08:41,107 - INFO - websocket - User 5O42G: Listener task successfully cancelled.
2025-07-09 11:08:41,107 - INFO - websocket - User 5O42G: WebSocket connection fully closed.
2025-07-09 11:08:42,075 - INFO - websocket - Redis publisher task cancelled.
2025-07-09 11:08:42,075 - INFO - websocket - Redis publisher task finished.
2025-07-09 11:36:54,537 - INFO - websocket - Redis publisher task started. Publishing to channel 'market_data_updates'.
2025-07-09 11:37:01,110 - INFO - websocket - --- MINIMAL TEST: ENTERED websocket_endpoint --- Connection ID: 127.0.0.1:49457-1752086221109
2025-07-09 11:37:01,110 - INFO - websocket - WebSocket connection accepted (early) for 127.0.0.1:49457 in 0.001s
2025-07-09 11:37:01,112 - DEBUG - websocket - User 0: Successfully sent loading message
2025-07-09 11:37:01,115 - WARNING - websocket - WebSocket auth failed: JWT error for 127.0.0.1:49457: Could not validate credentials
2025-07-09 11:37:10,222 - INFO - websocket - --- MINIMAL TEST: ENTERED websocket_endpoint --- Connection ID: 127.0.0.1:49494-1752086230222
2025-07-09 11:37:10,237 - INFO - websocket - WebSocket connection accepted (early) for 127.0.0.1:49494 in 0.015s
2025-07-09 11:37:10,239 - DEBUG - websocket - User 0: Successfully sent loading message
2025-07-09 11:37:10,240 - INFO - websocket - WebSocket auth: token payload={'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1752088027, 'iat': 1752086227}, account_number=5O42G, user_type=demo
2025-07-09 11:37:10,240 - INFO - websocket - WebSocket auth: About to call get_demo_user_by_account_number with account_number=5O42G, user_type=demo
2025-07-09 11:37:10,248 - INFO - websocket - WebSocket auth: get_demo_user_by_account_number(5O42G, demo) returned: <app.database.models.DemoUser object at 0x000001D8BD7EC770>
2025-07-09 11:37:12,283 - INFO - websocket - [WS] Using order model: DemoUserOrder for user_type=demo, account_number=5O42G
2025-07-09 11:37:12,289 - INFO - websocket - [WS] Open positions from DB for user_id=1: []
2025-07-09 11:37:14,750 - DEBUG - websocket - Cached/updated group-symbol settings for group 'Group B'.
2025-07-09 11:37:14,752 - DEBUG - websocket - User 1: Fetched 0 open orders directly from database
2025-07-09 11:37:14,755 - DEBUG - websocket - User 1: Fetched 0 pending orders directly from database
2025-07-09 11:37:14,756 - DEBUG - websocket - User 1: Updated static orders cache with 0 open orders and 0 pending orders
2025-07-09 11:37:14,769 - INFO - websocket - User 5O42G: Fetching initial market data for 79 symbols from cache (adjusted or last known price)
2025-07-09 11:37:14,881 - DEBUG - websocket - User 1: Successfully sent initial connection data
2025-07-09 11:37:14,881 - INFO - websocket - User 5O42G: Sent initial connection data with 48 symbols (fresh from cache)
2025-07-09 11:37:17,175 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24840.97088585, margin=0
2025-07-09 11:37:17,175 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24840.97088585'), 'margin': Decimal('0')}
2025-07-09 11:37:17,176 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:37:19,738 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24840.97088585, margin=0
2025-07-09 11:37:19,738 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24840.97088585'), 'margin': Decimal('0')}
2025-07-09 11:37:19,739 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:37:21,822 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24840.97088585, margin=0
2025-07-09 11:37:21,822 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24840.97088585'), 'margin': Decimal('0')}
2025-07-09 11:37:21,822 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:37:21,886 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 11:37:21,892 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24840.97088585, margin=6.53000000
2025-07-09 11:37:21,892 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24840.97088585'), 'margin': Decimal('6.53000000')}
2025-07-09 11:37:21,893 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 11:37:21,893 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 11:37:21,898 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24840.97088585, margin=6.53000000
2025-07-09 11:37:21,898 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24840.97088585'), 'margin': Decimal('6.53000000')}
2025-07-09 11:37:21,899 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 11:37:21,904 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24840.97088585, margin=6.53000000
2025-07-09 11:37:21,904 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24840.97088585'), 'margin': Decimal('6.53000000')}
2025-07-09 11:37:21,905 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:37:21,908 - DEBUG - websocket - User 1: Fetched 1 open orders directly from database
2025-07-09 11:37:21,915 - DEBUG - websocket - User 1: Fetched 0 pending orders directly from database
2025-07-09 11:37:21,917 - DEBUG - websocket - User 1: Updated static orders cache with 1 open orders and 0 pending orders
2025-07-09 11:37:21,926 - DEBUG - websocket - User 1: Updated balance/margin cache: balance=24840.97088585, margin=6.53
2025-07-09 11:37:24,010 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24840.97088585, margin=6.53
2025-07-09 11:37:24,010 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24840.97088585'), 'margin': Decimal('6.53')}
2025-07-09 11:37:24,011 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:37:25,728 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 11:37:25,730 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24840.97088585, margin=6.53000000
2025-07-09 11:37:25,730 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24840.97088585'), 'margin': Decimal('6.53000000')}
2025-07-09 11:37:25,730 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 11:37:25,731 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 11:37:25,735 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24840.97088585, margin=6.53000000
2025-07-09 11:37:25,735 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24840.97088585'), 'margin': Decimal('6.53000000')}
2025-07-09 11:37:25,736 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 11:37:25,739 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24840.97088585, margin=6.53000000
2025-07-09 11:37:25,739 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24840.97088585'), 'margin': Decimal('6.53000000')}
2025-07-09 11:37:25,740 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:37:25,743 - DEBUG - websocket - User 1: Fetched 2 open orders directly from database
2025-07-09 11:37:25,746 - DEBUG - websocket - User 1: Fetched 0 pending orders directly from database
2025-07-09 11:37:25,747 - DEBUG - websocket - User 1: Updated static orders cache with 2 open orders and 0 pending orders
2025-07-09 11:37:25,753 - DEBUG - websocket - User 1: Updated balance/margin cache: balance=24840.97088585, margin=6.53
2025-07-09 11:37:26,321 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24840.97088585, margin=6.53
2025-07-09 11:37:26,321 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24840.97088585'), 'margin': Decimal('6.53')}
2025-07-09 11:37:26,322 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:37:28,258 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 11:37:28,261 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24840.97088585, margin=13.06000000
2025-07-09 11:37:28,261 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24840.97088585'), 'margin': Decimal('13.06000000')}
2025-07-09 11:37:28,262 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 11:37:28,262 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 11:37:28,266 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24840.97088585, margin=13.06000000
2025-07-09 11:37:28,266 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24840.97088585'), 'margin': Decimal('13.06000000')}
2025-07-09 11:37:28,267 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 11:37:28,274 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24840.97088585, margin=13.06000000
2025-07-09 11:37:28,275 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24840.97088585'), 'margin': Decimal('13.06000000')}
2025-07-09 11:37:28,275 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:37:28,276 - DEBUG - websocket - User 1: Fetched 3 open orders directly from database
2025-07-09 11:37:28,281 - DEBUG - websocket - User 1: Fetched 0 pending orders directly from database
2025-07-09 11:37:28,283 - DEBUG - websocket - User 1: Updated static orders cache with 3 open orders and 0 pending orders
2025-07-09 11:37:28,292 - DEBUG - websocket - User 1: Updated balance/margin cache: balance=24840.97088585, margin=13.06
2025-07-09 11:37:28,752 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24840.97088585, margin=13.06
2025-07-09 11:37:28,752 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24840.97088585'), 'margin': Decimal('13.06')}
2025-07-09 11:37:28,753 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:37:31,099 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24840.97088585, margin=13.06
2025-07-09 11:37:31,099 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24840.97088585'), 'margin': Decimal('13.06')}
2025-07-09 11:37:31,100 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:37:31,170 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 11:37:31,174 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24840.97088585, margin=13.06000000
2025-07-09 11:37:31,174 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24840.97088585'), 'margin': Decimal('13.06000000')}
2025-07-09 11:37:31,175 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 11:37:31,175 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 11:37:31,178 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24840.97088585, margin=13.06000000
2025-07-09 11:37:31,178 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24840.97088585'), 'margin': Decimal('13.06000000')}
2025-07-09 11:37:31,179 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 11:37:31,182 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24840.97088585, margin=13.06000000
2025-07-09 11:37:31,182 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24840.97088585'), 'margin': Decimal('13.06000000')}
2025-07-09 11:37:31,183 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:37:31,189 - DEBUG - websocket - User 1: Fetched 4 open orders directly from database
2025-07-09 11:37:31,193 - DEBUG - websocket - User 1: Fetched 0 pending orders directly from database
2025-07-09 11:37:31,196 - DEBUG - websocket - User 1: Updated static orders cache with 4 open orders and 0 pending orders
2025-07-09 11:37:31,207 - DEBUG - websocket - User 1: Updated balance/margin cache: balance=24840.97088585, margin=13.06
2025-07-09 11:37:33,161 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24840.97088585, margin=13.06
2025-07-09 11:37:33,161 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24840.97088585'), 'margin': Decimal('13.06')}
2025-07-09 11:37:33,161 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:37:35,507 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24840.97088585, margin=13.06
2025-07-09 11:37:35,507 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24840.97088585'), 'margin': Decimal('13.06')}
2025-07-09 11:37:35,508 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:37:37,661 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 11:37:37,675 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24840.42088585, margin=13.06
2025-07-09 11:37:37,675 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24840.42088585'), 'margin': Decimal('13.06')}
2025-07-09 11:37:37,677 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 11:37:37,678 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 11:37:37,685 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24840.42088585, margin=13.06
2025-07-09 11:37:37,686 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24840.42088585'), 'margin': Decimal('13.06')}
2025-07-09 11:37:37,687 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 11:37:37,694 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24840.42088585, margin=13.06
2025-07-09 11:37:37,695 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24840.42088585'), 'margin': Decimal('13.06')}
2025-07-09 11:37:37,695 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:37:37,772 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24840.42088585, margin=13.06
2025-07-09 11:37:37,772 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24840.42088585'), 'margin': Decimal('13.06')}
2025-07-09 11:37:37,773 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:37:38,319 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 11:37:38,322 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24839.78088585, margin=6.53
2025-07-09 11:37:38,322 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24839.78088585'), 'margin': Decimal('6.53')}
2025-07-09 11:37:38,324 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 11:37:38,324 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 11:37:38,326 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24839.78088585, margin=6.53
2025-07-09 11:37:38,326 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24839.78088585'), 'margin': Decimal('6.53')}
2025-07-09 11:37:38,327 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 11:37:38,330 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24839.78088585, margin=6.53
2025-07-09 11:37:38,330 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24839.78088585'), 'margin': Decimal('6.53')}
2025-07-09 11:37:38,331 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:37:38,916 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 11:37:38,921 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24839.23088585, margin=6.53
2025-07-09 11:37:38,921 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24839.23088585'), 'margin': Decimal('6.53')}
2025-07-09 11:37:38,923 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 11:37:38,923 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 11:37:38,926 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24839.23088585, margin=6.53
2025-07-09 11:37:38,926 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24839.23088585'), 'margin': Decimal('6.53')}
2025-07-09 11:37:38,927 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 11:37:38,929 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24839.23088585, margin=6.53
2025-07-09 11:37:38,929 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24839.23088585'), 'margin': Decimal('6.53')}
2025-07-09 11:37:38,929 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:37:39,512 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 11:37:39,519 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=0
2025-07-09 11:37:39,520 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('0')}
2025-07-09 11:37:39,521 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 11:37:39,522 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 11:37:39,527 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=0
2025-07-09 11:37:39,528 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('0')}
2025-07-09 11:37:39,529 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 11:37:39,532 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=0
2025-07-09 11:37:39,532 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('0')}
2025-07-09 11:37:39,532 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:37:40,113 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=0
2025-07-09 11:37:40,113 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('0')}
2025-07-09 11:37:40,113 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:37:42,470 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=0
2025-07-09 11:37:42,470 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('0')}
2025-07-09 11:37:42,471 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:37:44,727 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=0
2025-07-09 11:37:44,727 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('0')}
2025-07-09 11:37:44,728 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:37:46,985 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=0
2025-07-09 11:37:46,985 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('0')}
2025-07-09 11:37:46,986 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:37:49,324 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=0
2025-07-09 11:37:49,325 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('0')}
2025-07-09 11:37:49,325 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:37:50,989 - DEBUG - websocket - User 1: Fetched 0 open orders directly from database
2025-07-09 11:37:50,992 - DEBUG - websocket - User 1: Fetched 1 pending orders directly from database
2025-07-09 11:37:50,993 - DEBUG - websocket - User 1: Updated static orders cache with 0 open orders and 1 pending orders
2025-07-09 11:37:50,995 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 11:37:50,998 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=0.0
2025-07-09 11:37:50,998 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('0.0')}
2025-07-09 11:37:50,999 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 11:37:50,999 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 11:37:51,001 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=0.0
2025-07-09 11:37:51,001 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('0.0')}
2025-07-09 11:37:51,001 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 11:37:51,002 - DEBUG - websocket - User 1: Fetched 0 open orders directly from database
2025-07-09 11:37:51,005 - DEBUG - websocket - User 1: Fetched 1 pending orders directly from database
2025-07-09 11:37:51,006 - DEBUG - websocket - User 1: Updated static orders cache with 0 open orders and 1 pending orders
2025-07-09 11:37:51,502 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=0.0
2025-07-09 11:37:51,502 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('0.0')}
2025-07-09 11:37:51,503 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:37:53,840 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=0.0
2025-07-09 11:37:53,840 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('0.0')}
2025-07-09 11:37:53,841 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:37:56,101 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=0.0
2025-07-09 11:37:56,101 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('0.0')}
2025-07-09 11:37:56,101 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:37:58,353 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=0.0
2025-07-09 11:37:58,353 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('0.0')}
2025-07-09 11:37:58,353 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:38:00,651 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=0.0
2025-07-09 11:38:00,651 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('0.0')}
2025-07-09 11:38:00,651 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:38:02,563 - DEBUG - websocket - User 1: Fetched 0 open orders directly from database
2025-07-09 11:38:02,566 - DEBUG - websocket - User 1: Fetched 1 pending orders directly from database
2025-07-09 11:38:02,566 - DEBUG - websocket - User 1: Updated static orders cache with 0 open orders and 1 pending orders
2025-07-09 11:38:02,568 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 11:38:02,571 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=0.0
2025-07-09 11:38:02,572 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('0.0')}
2025-07-09 11:38:02,573 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 11:38:02,573 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 11:38:02,575 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=0.0
2025-07-09 11:38:02,576 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('0.0')}
2025-07-09 11:38:02,576 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 11:38:02,578 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=0.0
2025-07-09 11:38:02,578 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('0.0')}
2025-07-09 11:38:02,578 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:38:02,948 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=0.0
2025-07-09 11:38:02,948 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('0.0')}
2025-07-09 11:38:02,948 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:38:05,347 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=0.0
2025-07-09 11:38:05,348 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('0.0')}
2025-07-09 11:38:05,349 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:38:07,567 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=0.0
2025-07-09 11:38:07,567 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('0.0')}
2025-07-09 11:38:07,568 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:38:08,064 - DEBUG - websocket - User 1: Fetched 0 open orders directly from database
2025-07-09 11:38:08,069 - DEBUG - websocket - User 1: Fetched 0 pending orders directly from database
2025-07-09 11:38:08,071 - DEBUG - websocket - User 1: Updated static orders cache with 0 open orders and 0 pending orders
2025-07-09 11:38:08,092 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 11:38:08,095 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=0.0
2025-07-09 11:38:08,096 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('0.0')}
2025-07-09 11:38:08,096 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 11:38:08,097 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 11:38:08,101 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=0.0
2025-07-09 11:38:08,101 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('0.0')}
2025-07-09 11:38:08,102 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 11:38:09,924 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=0.0
2025-07-09 11:38:09,924 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('0.0')}
2025-07-09 11:38:09,925 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 11:38:10,423 - INFO - websocket - User 5O42G: WebSocket disconnected by client.
2025-07-09 11:38:10,423 - INFO - websocket - User 5O42G: Cleaning up WebSocket connection.
2025-07-09 11:38:10,427 - INFO - websocket - User 5O42G: Listener task successfully cancelled.
2025-07-09 11:38:10,427 - INFO - websocket - User 5O42G: WebSocket connection fully closed.
2025-07-09 20:47:42,688 - INFO - websocket - Redis publisher task started. Publishing to channel 'market_data_updates'.
2025-07-09 20:48:36,106 - INFO - websocket - --- MINIMAL TEST: ENTERED websocket_endpoint --- Connection ID: 127.0.0.1:50247-1752119316106
2025-07-09 20:48:36,106 - INFO - websocket - WebSocket connection accepted (early) for 127.0.0.1:50247 in 0.001s
2025-07-09 20:48:36,108 - DEBUG - websocket - User 0: Successfully sent loading message
2025-07-09 20:48:36,108 - INFO - websocket - WebSocket auth: token payload={'sub': '4', 'user_type': 'live', 'account_number': 'DYY5A', 'exp': 1752121114, 'iat': 1752119314}, account_number=DYY5A, user_type=live
2025-07-09 20:48:36,108 - INFO - websocket - WebSocket auth: About to call get_user_by_account_number with account_number=DYY5A, user_type=live
2025-07-09 20:48:36,123 - INFO - websocket - WebSocket auth: get_user_by_account_number(DYY5A, live) returned: <app.database.models.User object at 0x0000018A65864B90>
2025-07-09 20:48:36,124 - INFO - websocket - [WS] Using order model: UserOrder for user_type=live, account_number=DYY5A
2025-07-09 20:48:36,130 - INFO - websocket - [WS] Open positions from DB for user_id=4: [<app.database.models.UserOrder object at 0x0000018A65864F50>, <app.database.models.UserOrder object at 0x0000018A658647D0>, <app.database.models.UserOrder object at 0x0000018A65864410>, <app.database.models.UserOrder object at 0x0000018A65864A50>, <app.database.models.UserOrder object at 0x0000018A65864910>, <app.database.models.UserOrder object at 0x0000018A65865090>, <app.database.models.UserOrder object at 0x0000018A658651D0>, <app.database.models.UserOrder object at 0x0000018A65865310>, <app.database.models.UserOrder object at 0x0000018A65865450>, <app.database.models.UserOrder object at 0x0000018A65865590>, <app.database.models.UserOrder object at 0x0000018A658656D0>, <app.database.models.UserOrder object at 0x0000018A65865810>, <app.database.models.UserOrder object at 0x0000018A65865950>, <app.database.models.UserOrder object at 0x0000018A65865A90>, <app.database.models.UserOrder object at 0x0000018A65865BD0>, <app.database.models.UserOrder object at 0x0000018A65865D10>, <app.database.models.UserOrder object at 0x0000018A65865E50>]
2025-07-09 20:48:36,396 - DEBUG - websocket - Cached/updated group-symbol settings for group 'Standard'.
2025-07-09 20:48:36,399 - DEBUG - websocket - User 4: Fetched 17 open orders directly from database
2025-07-09 20:48:36,402 - DEBUG - websocket - User 4: Fetched 0 pending orders directly from database
2025-07-09 20:48:36,403 - DEBUG - websocket - User 4: Updated static orders cache with 17 open orders and 0 pending orders
2025-07-09 20:48:36,408 - DEBUG - websocket - User 4: Updated balance/margin cache: balance=6599.06000000, margin=4823.11
2025-07-09 20:48:36,413 - INFO - websocket - User DYY5A: Fetching initial market data for 77 symbols from cache (adjusted or last known price)
2025-07-09 20:48:36,413 - DEBUG - websocket - User DYY5A: Fallback last price for AUDCHF: Buy=0.5198600000, Sell=0.5196100000
2025-07-09 20:48:36,414 - DEBUG - websocket - User DYY5A: Fallback last price for AUDJPY: Buy=95.6810000000, Sell=95.6450000000
2025-07-09 20:48:36,414 - DEBUG - websocket - User DYY5A: Fallback last price for GBPNOK: Buy=13.7382000000, Sell=13.7358000000
2025-07-09 20:48:36,414 - DEBUG - websocket - User DYY5A: Fallback last price for EURJPY: Buy=171.5670000000, Sell=171.5330000000
2025-07-09 20:48:36,414 - DEBUG - websocket - User DYY5A: Fallback last price for XAGUSD: Buy=36.3550000000, Sell=36.3200000000
2025-07-09 20:48:36,415 - DEBUG - websocket - User DYY5A: Fallback last price for EURCAD: Buy=1.6035150000, Sell=1.6032550000
2025-07-09 20:48:36,416 - DEBUG - websocket - User DYY5A: Fallback last price for GBPUSD: Buy=1.3607150000, Sell=1.3605550000
2025-07-09 20:48:36,416 - DEBUG - websocket - User DYY5A: Fallback last price for AUDSGD: Buy=1.0001250000, Sell=0.9998750000
2025-07-09 20:48:36,416 - DEBUG - websocket - User DYY5A: Fallback last price for USDSEK: Buy=9.5296700000, Sell=9.5288100000
2025-07-09 20:48:36,416 - DEBUG - websocket - User DYY5A: Fallback last price for JP225: Buy=39828.6800000000, Sell=39824.6800000000
2025-07-09 20:48:36,417 - DEBUG - websocket - User DYY5A: Fallback last price for GBPSEK: Buy=12.9663000000, Sell=12.9633000000
2025-07-09 20:48:36,417 - DEBUG - websocket - User DYY5A: Fallback last price for EURUSD: Buy=1.1714350000, Sell=1.1712150000
2025-07-09 20:48:36,418 - DEBUG - websocket - User DYY5A: Fallback last price for AUDCAD: Buy=0.8941500000, Sell=0.8939200000
2025-07-09 20:48:36,419 - DEBUG - websocket - User DYY5A: Fallback last price for D30: Buy=24539.0200000000, Sell=24538.0200000000
2025-07-09 20:48:36,420 - DEBUG - websocket - User DYY5A: Fallback last price for CHFSGD: Buy=1.6095250000, Sell=1.6089750000
2025-07-09 20:48:36,420 - DEBUG - websocket - User DYY5A: Fallback last price for USDJPY: Buy=146.4880000000, Sell=146.4670000000
2025-07-09 20:48:36,421 - DEBUG - websocket - User DYY5A: Fallback last price for EURNOK: Buy=11.8270150000, Sell=11.8254350000
2025-07-09 20:48:36,421 - DEBUG - websocket - User DYY5A: Fallback last price for AUDUSD: Buy=0.6532550000, Sell=0.6529850000
2025-07-09 20:48:36,421 - DEBUG - websocket - User DYY5A: Fallback last price for EURCHF: Buy=0.9322800000, Sell=0.9319000000
2025-07-09 20:48:36,421 - DEBUG - websocket - User DYY5A: Fallback last price for GBPAUD: Buy=2.0834050000, Sell=2.0830350000
2025-07-09 20:48:36,422 - DEBUG - websocket - User DYY5A: Fallback last price for EURGBP: Buy=0.8610700000, Sell=0.8607500000
2025-07-09 20:48:36,422 - DEBUG - websocket - User DYY5A: Fallback last price for EURNZD: Buy=1.9547850000, Sell=1.9543150000
2025-07-09 20:48:36,422 - DEBUG - websocket - User DYY5A: Fallback last price for EURSEK: Buy=11.1623650000, Sell=11.1602650000
2025-07-09 20:48:36,423 - DEBUG - websocket - User DYY5A: Fallback last price for CADCHF: Buy=0.5814700000, Sell=0.5811300000
2025-07-09 20:48:36,423 - DEBUG - websocket - User DYY5A: Fallback last price for EURCZK: Buy=25.0001500000, Sell=24.9998500000
2025-07-09 20:48:36,423 - DEBUG - websocket - User DYY5A: Fallback last price for USDCHF: Buy=0.7959400000, Sell=0.7956900000
2025-07-09 20:48:36,424 - DEBUG - websocket - User DYY5A: Fallback last price for USDCNH: Buy=7.1850250000, Sell=7.1846750000
2025-07-09 20:48:36,424 - DEBUG - websocket - User DYY5A: Fallback last price for NZDUSD: Buy=0.5993700000, Sell=0.5991500000
2025-07-09 20:48:36,424 - DEBUG - websocket - User DYY5A: Fallback last price for NZDJPY: Buy=87.7960000000, Sell=87.7570000000
2025-07-09 20:48:36,425 - DEBUG - websocket - User DYY5A: Fallback last price for EURSGD: Buy=1.5002100000, Sell=1.4998200000
2025-07-09 20:48:36,425 - DEBUG - websocket - User DYY5A: Fallback last price for CADJPY: Buy=107.0190000000, Sell=106.9880000000
2025-07-09 20:48:36,426 - DEBUG - websocket - User DYY5A: Fallback last price for USDCZK: Buy=21.0625000000, Sell=20.9975000000
2025-07-09 20:48:36,426 - DEBUG - websocket - User DYY5A: Fallback last price for US30: Buy=44413.6000000000, Sell=44411.6000000000
2025-07-09 20:48:36,427 - DEBUG - websocket - User DYY5A: Fallback last price for GBPNZD: Buy=2.2706350000, Sell=2.2701350000
2025-07-09 20:48:36,428 - DEBUG - websocket - User DYY5A: Fallback last price for CHFJPY: Buy=184.0850000000, Sell=184.0350000000
2025-07-09 20:48:36,428 - DEBUG - websocket - User DYY5A: Fallback last price for BTCUSD: Buy=109757.7000000000, Sell=109657.6000000000
2025-07-09 20:48:36,429 - DEBUG - websocket - User DYY5A: Fallback last price for USDSGD: Buy=1.2807850000, Sell=1.2804950000
2025-07-09 20:48:36,429 - DEBUG - websocket - User DYY5A: Fallback last price for NOKSEK: Buy=0.9439750000, Sell=0.9434650000
2025-07-09 20:48:36,430 - DEBUG - websocket - User DYY5A: Fallback last price for EURPLN: Buy=4.2413000000, Sell=4.2403200000
2025-07-09 20:48:36,430 - DEBUG - websocket - User DYY5A: Fallback last price for AUDNZD: Buy=1.0001250000, Sell=0.9998750000
2025-07-09 20:48:36,432 - DEBUG - websocket - User DYY5A: Fallback last price for EURAUD: Buy=1.7936000000, Sell=1.7932500000
2025-07-09 20:48:36,433 - DEBUG - websocket - User DYY5A: Fallback last price for SGDJPY: Buy=114.3890000000, Sell=114.3420000000
2025-07-09 20:48:36,434 - DEBUG - websocket - User DYY5A: Fallback last price for EURZAR: Buy=20.8824200000, Sell=20.8760200000
2025-07-09 20:48:36,434 - DEBUG - websocket - User DYY5A: Fallback last price for USDTRY: Buy=40.0492350000, Sell=40.0474250000
2025-07-09 20:48:36,435 - DEBUG - websocket - User DYY5A: Fallback last price for USDNOK: Buy=10.0974800000, Sell=10.0961000000
2025-07-09 20:48:36,435 - DEBUG - websocket - User DYY5A: Fallback last price for USDZAR: Buy=17.8287750000, Sell=17.8235350000
2025-07-09 20:48:36,436 - DEBUG - websocket - User DYY5A: Fallback last price for NZDCAD: Buy=0.8204300000, Sell=0.8201600000
2025-07-09 20:48:36,436 - DEBUG - websocket - User DYY5A: Fallback last price for USDCAD: Buy=1.3690500000, Sell=1.3688100000
2025-07-09 20:48:36,437 - DEBUG - websocket - User 4: Successfully sent initial connection data
2025-07-09 20:48:36,437 - INFO - websocket - User DYY5A: Sent initial connection data with 48 symbols (fresh from cache)
2025-07-09 20:48:37,074 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:48:37,074 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:48:37,074 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:48:39,299 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:48:39,299 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:48:39,300 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:48:41,545 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:48:41,545 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:48:41,547 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:48:45,856 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:48:45,856 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:48:45,856 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:48:47,891 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:48:47,891 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:48:47,891 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:48:48,377 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:48:48,378 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:48:48,378 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:48:50,655 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:48:50,655 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:48:50,656 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:48:52,931 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:48:52,931 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:48:52,931 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:48:55,252 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:48:55,252 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:48:55,252 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:48:57,887 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:48:57,887 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:48:57,887 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:48:59,788 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:48:59,788 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:48:59,789 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:49:02,077 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:49:02,077 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:49:02,078 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:49:04,351 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:49:04,351 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:49:04,351 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:49:06,654 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:49:06,654 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:49:06,655 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:49:08,928 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:49:08,929 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:49:08,929 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:49:11,181 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:49:11,181 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:49:11,181 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:49:13,481 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:49:13,481 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:49:13,482 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:49:15,719 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:49:15,719 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:49:15,720 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:49:18,003 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:49:18,003 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:49:18,004 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:49:20,263 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:49:20,263 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:49:20,264 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:49:22,541 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:49:22,541 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:49:22,541 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:49:24,825 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:49:24,825 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:49:24,826 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:49:27,102 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:49:27,102 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:49:27,102 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:49:29,228 - INFO - websocket - User DYY5A: WebSocket disconnected by client.
2025-07-09 20:49:29,228 - INFO - websocket - User DYY5A: Cleaning up WebSocket connection.
2025-07-09 20:49:29,229 - INFO - websocket - User DYY5A: Listener task successfully cancelled.
2025-07-09 20:49:29,229 - INFO - websocket - User DYY5A: WebSocket connection fully closed.
2025-07-09 20:49:30,396 - INFO - websocket - --- MINIMAL TEST: ENTERED websocket_endpoint --- Connection ID: 127.0.0.1:50404-1752119370396
2025-07-09 20:49:30,398 - INFO - websocket - WebSocket connection accepted (early) for 127.0.0.1:50404 in 0.002s
2025-07-09 20:49:30,400 - DEBUG - websocket - User 0: Successfully sent loading message
2025-07-09 20:49:30,400 - INFO - websocket - WebSocket auth: token payload={'sub': '4', 'user_type': 'live', 'account_number': 'DYY5A', 'exp': 1752121114, 'iat': 1752119314}, account_number=DYY5A, user_type=live
2025-07-09 20:49:30,400 - INFO - websocket - WebSocket auth: About to call get_user_by_account_number with account_number=DYY5A, user_type=live
2025-07-09 20:49:30,403 - INFO - websocket - WebSocket auth: get_user_by_account_number(DYY5A, live) returned: <app.database.models.User object at 0x0000018A658651D0>
2025-07-09 20:49:31,434 - INFO - websocket - [WS] Using order model: UserOrder for user_type=live, account_number=DYY5A
2025-07-09 20:49:31,440 - INFO - websocket - [WS] Open positions from DB for user_id=4: [<app.database.models.UserOrder object at 0x0000018A65865BD0>, <app.database.models.UserOrder object at 0x0000018A658656D0>, <app.database.models.UserOrder object at 0x0000018A65865450>, <app.database.models.UserOrder object at 0x0000018A65865950>, <app.database.models.UserOrder object at 0x0000018A65865810>, <app.database.models.UserOrder object at 0x0000018A65865D10>, <app.database.models.UserOrder object at 0x0000018A65864B90>, <app.database.models.UserOrder object at 0x0000018A65866490>, <app.database.models.UserOrder object at 0x0000018A65867110>, <app.database.models.UserOrder object at 0x0000018A65866AD0>, <app.database.models.UserOrder object at 0x0000018A658665D0>, <app.database.models.UserOrder object at 0x0000018A65867ED0>, <app.database.models.UserOrder object at 0x0000018A65866E90>, <app.database.models.UserOrder object at 0x0000018A65866990>, <app.database.models.UserOrder object at 0x0000018A65867C50>, <app.database.models.UserOrder object at 0x0000018A65867B10>, <app.database.models.UserOrder object at 0x0000018A65867250>]
2025-07-09 20:49:31,834 - DEBUG - websocket - Cached/updated group-symbol settings for group 'Standard'.
2025-07-09 20:49:31,838 - DEBUG - websocket - User 4: Fetched 17 open orders directly from database
2025-07-09 20:49:31,840 - DEBUG - websocket - User 4: Fetched 0 pending orders directly from database
2025-07-09 20:49:31,842 - DEBUG - websocket - User 4: Updated static orders cache with 17 open orders and 0 pending orders
2025-07-09 20:49:31,848 - DEBUG - websocket - User 4: Updated balance/margin cache: balance=6599.06000000, margin=4823.11
2025-07-09 20:49:31,853 - INFO - websocket - User DYY5A: Fetching initial market data for 77 symbols from cache (adjusted or last known price)
2025-07-09 20:49:31,853 - DEBUG - websocket - User DYY5A: Fallback last price for AUDCHF: Buy=0.5198600000, Sell=0.5196100000
2025-07-09 20:49:31,854 - DEBUG - websocket - User DYY5A: Fallback last price for AUDJPY: Buy=95.6810000000, Sell=95.6450000000
2025-07-09 20:49:31,854 - DEBUG - websocket - User DYY5A: Fallback last price for GBPNOK: Buy=13.7382000000, Sell=13.7358000000
2025-07-09 20:49:31,856 - DEBUG - websocket - User DYY5A: Fallback last price for EURJPY: Buy=171.5670000000, Sell=171.5330000000
2025-07-09 20:49:31,857 - DEBUG - websocket - User DYY5A: Fallback last price for XAGUSD: Buy=36.3550000000, Sell=36.3200000000
2025-07-09 20:49:31,859 - DEBUG - websocket - User DYY5A: Fallback last price for EURCAD: Buy=1.6035150000, Sell=1.6032550000
2025-07-09 20:49:31,861 - DEBUG - websocket - User DYY5A: Fallback last price for GBPUSD: Buy=1.3607150000, Sell=1.3605550000
2025-07-09 20:49:31,862 - DEBUG - websocket - User DYY5A: Fallback last price for AUDSGD: Buy=1.0001250000, Sell=0.9998750000
2025-07-09 20:49:31,864 - DEBUG - websocket - User DYY5A: Fallback last price for USDSEK: Buy=9.5296700000, Sell=9.5288100000
2025-07-09 20:49:31,865 - DEBUG - websocket - User DYY5A: Fallback last price for JP225: Buy=39828.6800000000, Sell=39824.6800000000
2025-07-09 20:49:31,865 - DEBUG - websocket - User DYY5A: Fallback last price for GBPSEK: Buy=12.9663000000, Sell=12.9633000000
2025-07-09 20:49:31,869 - DEBUG - websocket - User DYY5A: Fallback last price for EURUSD: Buy=1.1714350000, Sell=1.1712150000
2025-07-09 20:49:31,872 - DEBUG - websocket - User DYY5A: Fallback last price for AUDCAD: Buy=0.8941500000, Sell=0.8939200000
2025-07-09 20:49:31,873 - DEBUG - websocket - User DYY5A: Fallback last price for D30: Buy=24539.0200000000, Sell=24538.0200000000
2025-07-09 20:49:31,874 - DEBUG - websocket - User DYY5A: Fallback last price for CHFSGD: Buy=1.6095250000, Sell=1.6089750000
2025-07-09 20:49:31,877 - DEBUG - websocket - User DYY5A: Fallback last price for USDJPY: Buy=146.4880000000, Sell=146.4670000000
2025-07-09 20:49:31,879 - DEBUG - websocket - User DYY5A: Fallback last price for EURNOK: Buy=11.8270150000, Sell=11.8254350000
2025-07-09 20:49:31,880 - DEBUG - websocket - User DYY5A: Fallback last price for AUDUSD: Buy=0.6532550000, Sell=0.6529850000
2025-07-09 20:49:31,880 - DEBUG - websocket - User DYY5A: Fallback last price for EURCHF: Buy=0.9322800000, Sell=0.9319000000
2025-07-09 20:49:31,881 - DEBUG - websocket - User DYY5A: Fallback last price for GBPAUD: Buy=2.0834050000, Sell=2.0830350000
2025-07-09 20:49:31,886 - DEBUG - websocket - User DYY5A: Fallback last price for EURGBP: Buy=0.8610700000, Sell=0.8607500000
2025-07-09 20:49:31,887 - DEBUG - websocket - User DYY5A: Fallback last price for EURNZD: Buy=1.9547850000, Sell=1.9543150000
2025-07-09 20:49:31,887 - DEBUG - websocket - User DYY5A: Fallback last price for EURSEK: Buy=11.1623650000, Sell=11.1602650000
2025-07-09 20:49:31,888 - DEBUG - websocket - User DYY5A: Fallback last price for CADCHF: Buy=0.5814700000, Sell=0.5811300000
2025-07-09 20:49:31,889 - DEBUG - websocket - User DYY5A: Fallback last price for EURCZK: Buy=25.0001500000, Sell=24.9998500000
2025-07-09 20:49:31,889 - DEBUG - websocket - User DYY5A: Fallback last price for USDCHF: Buy=0.7959400000, Sell=0.7956900000
2025-07-09 20:49:31,891 - DEBUG - websocket - User DYY5A: Fallback last price for USDCNH: Buy=7.1850250000, Sell=7.1846750000
2025-07-09 20:49:31,893 - DEBUG - websocket - User DYY5A: Fallback last price for NZDUSD: Buy=0.5993700000, Sell=0.5991500000
2025-07-09 20:49:31,894 - DEBUG - websocket - User DYY5A: Fallback last price for NZDJPY: Buy=87.7960000000, Sell=87.7570000000
2025-07-09 20:49:31,896 - DEBUG - websocket - User DYY5A: Fallback last price for EURSGD: Buy=1.5002100000, Sell=1.4998200000
2025-07-09 20:49:31,897 - DEBUG - websocket - User DYY5A: Fallback last price for CADJPY: Buy=107.0190000000, Sell=106.9880000000
2025-07-09 20:49:31,898 - DEBUG - websocket - User DYY5A: Fallback last price for USDCZK: Buy=21.0625000000, Sell=20.9975000000
2025-07-09 20:49:31,899 - DEBUG - websocket - User DYY5A: Fallback last price for US30: Buy=44413.6000000000, Sell=44411.6000000000
2025-07-09 20:49:31,901 - DEBUG - websocket - User DYY5A: Fallback last price for GBPNZD: Buy=2.2706350000, Sell=2.2701350000
2025-07-09 20:49:31,903 - DEBUG - websocket - User DYY5A: Fallback last price for CHFJPY: Buy=184.0850000000, Sell=184.0350000000
2025-07-09 20:49:31,906 - DEBUG - websocket - User DYY5A: Fallback last price for BTCUSD: Buy=109757.7000000000, Sell=109657.6000000000
2025-07-09 20:49:31,908 - DEBUG - websocket - User DYY5A: Fallback last price for USDSGD: Buy=1.2807850000, Sell=1.2804950000
2025-07-09 20:49:31,909 - DEBUG - websocket - User DYY5A: Fallback last price for NOKSEK: Buy=0.9439750000, Sell=0.9434650000
2025-07-09 20:49:31,911 - DEBUG - websocket - User DYY5A: Fallback last price for EURPLN: Buy=4.2413000000, Sell=4.2403200000
2025-07-09 20:49:31,913 - DEBUG - websocket - User DYY5A: Fallback last price for AUDNZD: Buy=1.0001250000, Sell=0.9998750000
2025-07-09 20:49:31,914 - DEBUG - websocket - User DYY5A: Fallback last price for EURAUD: Buy=1.7936000000, Sell=1.7932500000
2025-07-09 20:49:31,914 - DEBUG - websocket - User DYY5A: Fallback last price for SGDJPY: Buy=114.3890000000, Sell=114.3420000000
2025-07-09 20:49:31,914 - DEBUG - websocket - User DYY5A: Fallback last price for EURZAR: Buy=20.8824200000, Sell=20.8760200000
2025-07-09 20:49:31,915 - DEBUG - websocket - User DYY5A: Fallback last price for USDTRY: Buy=40.0492350000, Sell=40.0474250000
2025-07-09 20:49:31,915 - DEBUG - websocket - User DYY5A: Fallback last price for USDNOK: Buy=10.0974800000, Sell=10.0961000000
2025-07-09 20:49:31,916 - DEBUG - websocket - User DYY5A: Fallback last price for USDZAR: Buy=17.8287750000, Sell=17.8235350000
2025-07-09 20:49:31,917 - DEBUG - websocket - User DYY5A: Fallback last price for NZDCAD: Buy=0.8204300000, Sell=0.8201600000
2025-07-09 20:49:31,918 - DEBUG - websocket - User DYY5A: Fallback last price for USDCAD: Buy=1.3690500000, Sell=1.3688100000
2025-07-09 20:49:31,919 - DEBUG - websocket - User 4: Successfully sent initial connection data
2025-07-09 20:49:31,919 - INFO - websocket - User DYY5A: Sent initial connection data with 48 symbols (fresh from cache)
2025-07-09 20:49:33,941 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:49:33,941 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:49:33,942 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:49:36,234 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:49:36,234 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:49:36,234 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:49:38,520 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:49:38,520 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:49:38,521 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:49:40,864 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:49:40,864 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:49:40,865 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:49:43,052 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:49:43,052 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:49:43,052 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:49:45,329 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:49:45,329 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:49:45,329 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:49:47,613 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:49:47,613 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:49:47,614 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:49:49,878 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:49:49,878 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:49:49,878 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:49:52,153 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:49:52,153 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:49:52,153 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:49:54,489 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:49:54,489 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:49:54,489 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:49:56,747 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:49:56,747 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:49:56,748 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:49:58,995 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:49:58,995 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:49:58,997 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:50:01,244 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:50:01,244 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:50:01,244 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:50:03,602 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:50:03,602 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:50:03,602 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:50:05,795 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:50:05,795 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:50:05,795 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:50:08,064 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:50:08,064 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:50:08,065 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:50:10,345 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:50:10,345 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:50:10,345 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:50:12,637 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:50:12,637 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:50:12,638 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:50:14,965 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:50:14,965 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:50:14,965 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:50:17,158 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:50:17,158 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:50:17,159 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:50:19,437 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:50:19,437 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:50:19,437 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:50:21,706 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:50:21,706 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:50:21,706 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:50:23,112 - INFO - websocket - User DYY5A: WebSocket disconnected by client.
2025-07-09 20:50:23,112 - INFO - websocket - User DYY5A: Cleaning up WebSocket connection.
2025-07-09 20:50:23,113 - INFO - websocket - User DYY5A: Listener task successfully cancelled.
2025-07-09 20:50:23,113 - INFO - websocket - User DYY5A: WebSocket connection fully closed.
2025-07-09 20:50:24,062 - INFO - websocket - Redis publisher task cancelled.
2025-07-09 20:50:24,062 - INFO - websocket - Redis publisher task finished.
2025-07-09 20:51:12,700 - INFO - websocket - Redis publisher task started. Publishing to channel 'market_data_updates'.
2025-07-09 20:51:16,281 - INFO - websocket - --- MINIMAL TEST: ENTERED websocket_endpoint --- Connection ID: 127.0.0.1:50556-1752119476281
2025-07-09 20:51:16,282 - INFO - websocket - WebSocket connection accepted (early) for 127.0.0.1:50556 in 0.001s
2025-07-09 20:51:16,284 - DEBUG - websocket - User 0: Successfully sent loading message
2025-07-09 20:51:16,285 - INFO - websocket - WebSocket auth: token payload={'sub': '4', 'user_type': 'live', 'account_number': 'DYY5A', 'exp': 1752121114, 'iat': 1752119314}, account_number=DYY5A, user_type=live
2025-07-09 20:51:16,285 - INFO - websocket - WebSocket auth: About to call get_user_by_account_number with account_number=DYY5A, user_type=live
2025-07-09 20:51:16,295 - INFO - websocket - WebSocket auth: get_user_by_account_number(DYY5A, live) returned: <app.database.models.User object at 0x000001AF7FBA34D0>
2025-07-09 20:51:19,414 - INFO - websocket - [WS] Using order model: UserOrder for user_type=live, account_number=DYY5A
2025-07-09 20:51:19,425 - INFO - websocket - [WS] Open positions from DB for user_id=4: [<app.database.models.UserOrder object at 0x000001AF7FBA38C0>, <app.database.models.UserOrder object at 0x000001AF7FBB79D0>, <app.database.models.UserOrder object at 0x000001AF7FBB6D50>, <app.database.models.UserOrder object at 0x000001AF7FBB6990>, <app.database.models.UserOrder object at 0x000001AF7FBB65D0>, <app.database.models.UserOrder object at 0x000001AF7FBB6C10>, <app.database.models.UserOrder object at 0x000001AF7FBB6AD0>, <app.database.models.UserOrder object at 0x000001AF7FBB7B10>, <app.database.models.UserOrder object at 0x000001AF7FBB7C50>, <app.database.models.UserOrder object at 0x000001AF7FBB7D90>, <app.database.models.UserOrder object at 0x000001AF7FBB7ED0>, <app.database.models.UserOrder object at 0x000001AF01158050>, <app.database.models.UserOrder object at 0x000001AF01158190>, <app.database.models.UserOrder object at 0x000001AF011582D0>, <app.database.models.UserOrder object at 0x000001AF01158410>, <app.database.models.UserOrder object at 0x000001AF01158550>, <app.database.models.UserOrder object at 0x000001AF01158690>]
2025-07-09 20:51:32,257 - DEBUG - websocket - Cached/updated group-symbol settings for group 'Standard'.
2025-07-09 20:51:32,261 - DEBUG - websocket - User 4: Fetched 17 open orders directly from database
2025-07-09 20:51:32,266 - DEBUG - websocket - User 4: Fetched 0 pending orders directly from database
2025-07-09 20:51:32,267 - DEBUG - websocket - User 4: Updated static orders cache with 17 open orders and 0 pending orders
2025-07-09 20:51:32,277 - DEBUG - websocket - User 4: Updated balance/margin cache: balance=6599.06000000, margin=4823.11
2025-07-09 20:51:32,287 - INFO - websocket - User DYY5A: Fetching initial market data for 77 symbols from cache (adjusted or last known price)
2025-07-09 20:51:32,288 - DEBUG - websocket - User DYY5A: Fallback last price for AUDCHF: Buy=0.5198600000, Sell=0.5196100000
2025-07-09 20:51:32,291 - DEBUG - websocket - User DYY5A: Fallback last price for AUDJPY: Buy=95.6810000000, Sell=95.6450000000
2025-07-09 20:51:32,292 - DEBUG - websocket - User DYY5A: Fallback last price for GBPNOK: Buy=13.7382000000, Sell=13.7358000000
2025-07-09 20:51:32,293 - DEBUG - websocket - User DYY5A: Fallback last price for EURJPY: Buy=171.5670000000, Sell=171.5330000000
2025-07-09 20:51:32,294 - DEBUG - websocket - User DYY5A: Fallback last price for XAGUSD: Buy=36.3550000000, Sell=36.3200000000
2025-07-09 20:51:32,296 - DEBUG - websocket - User DYY5A: Fallback last price for EURCAD: Buy=1.6035150000, Sell=1.6032550000
2025-07-09 20:51:32,298 - DEBUG - websocket - User DYY5A: Fallback last price for GBPUSD: Buy=1.3607150000, Sell=1.3605550000
2025-07-09 20:51:32,299 - DEBUG - websocket - User DYY5A: Fallback last price for AUDSGD: Buy=1.0001250000, Sell=0.9998750000
2025-07-09 20:51:32,300 - DEBUG - websocket - User DYY5A: Fallback last price for USDSEK: Buy=9.5296700000, Sell=9.5288100000
2025-07-09 20:51:32,301 - DEBUG - websocket - User DYY5A: Fallback last price for JP225: Buy=39828.6800000000, Sell=39824.6800000000
2025-07-09 20:51:32,302 - DEBUG - websocket - User DYY5A: Fallback last price for GBPSEK: Buy=12.9663000000, Sell=12.9633000000
2025-07-09 20:51:32,305 - DEBUG - websocket - User DYY5A: Fallback last price for EURUSD: Buy=1.1714350000, Sell=1.1712150000
2025-07-09 20:51:32,307 - DEBUG - websocket - User DYY5A: Fallback last price for AUDCAD: Buy=0.8941500000, Sell=0.8939200000
2025-07-09 20:51:32,308 - DEBUG - websocket - User DYY5A: Fallback last price for D30: Buy=24539.0200000000, Sell=24538.0200000000
2025-07-09 20:51:32,309 - DEBUG - websocket - User DYY5A: Fallback last price for CHFSGD: Buy=1.6095250000, Sell=1.6089750000
2025-07-09 20:51:32,312 - DEBUG - websocket - User DYY5A: Fallback last price for USDJPY: Buy=146.4880000000, Sell=146.4670000000
2025-07-09 20:51:32,314 - DEBUG - websocket - User DYY5A: Fallback last price for EURNOK: Buy=11.8270150000, Sell=11.8254350000
2025-07-09 20:51:32,315 - DEBUG - websocket - User DYY5A: Fallback last price for AUDUSD: Buy=0.6532550000, Sell=0.6529850000
2025-07-09 20:51:32,316 - DEBUG - websocket - User DYY5A: Fallback last price for EURCHF: Buy=0.9322800000, Sell=0.9319000000
2025-07-09 20:51:32,317 - DEBUG - websocket - User DYY5A: Fallback last price for GBPAUD: Buy=2.0834050000, Sell=2.0830350000
2025-07-09 20:51:32,322 - DEBUG - websocket - User DYY5A: Fallback last price for EURGBP: Buy=0.8610700000, Sell=0.8607500000
2025-07-09 20:51:32,323 - DEBUG - websocket - User DYY5A: Fallback last price for EURNZD: Buy=1.9547850000, Sell=1.9543150000
2025-07-09 20:51:32,325 - DEBUG - websocket - User DYY5A: Fallback last price for EURSEK: Buy=11.1623650000, Sell=11.1602650000
2025-07-09 20:51:32,327 - DEBUG - websocket - User DYY5A: Fallback last price for CADCHF: Buy=0.5814700000, Sell=0.5811300000
2025-07-09 20:51:32,329 - DEBUG - websocket - User DYY5A: Fallback last price for EURCZK: Buy=25.0001500000, Sell=24.9998500000
2025-07-09 20:51:32,330 - DEBUG - websocket - User DYY5A: Fallback last price for USDCHF: Buy=0.7959400000, Sell=0.7956900000
2025-07-09 20:51:32,345 - DEBUG - websocket - User DYY5A: Fallback last price for USDCNH: Buy=7.1850250000, Sell=7.1846750000
2025-07-09 20:51:32,349 - DEBUG - websocket - User DYY5A: Fallback last price for NZDUSD: Buy=0.5993700000, Sell=0.5991500000
2025-07-09 20:51:32,352 - DEBUG - websocket - User DYY5A: Fallback last price for NZDJPY: Buy=87.7960000000, Sell=87.7570000000
2025-07-09 20:51:32,368 - DEBUG - websocket - User DYY5A: Fallback last price for EURSGD: Buy=1.5002100000, Sell=1.4998200000
2025-07-09 20:51:32,374 - DEBUG - websocket - User DYY5A: Fallback last price for CADJPY: Buy=107.0190000000, Sell=106.9880000000
2025-07-09 20:51:32,379 - DEBUG - websocket - User DYY5A: Fallback last price for USDCZK: Buy=21.0625000000, Sell=20.9975000000
2025-07-09 20:51:32,382 - DEBUG - websocket - User DYY5A: Fallback last price for US30: Buy=44413.6000000000, Sell=44411.6000000000
2025-07-09 20:51:32,385 - DEBUG - websocket - User DYY5A: Fallback last price for GBPNZD: Buy=2.2706350000, Sell=2.2701350000
2025-07-09 20:51:32,387 - DEBUG - websocket - User DYY5A: Fallback last price for CHFJPY: Buy=184.0850000000, Sell=184.0350000000
2025-07-09 20:51:32,389 - DEBUG - websocket - User DYY5A: Fallback last price for BTCUSD: Buy=109757.7000000000, Sell=109657.6000000000
2025-07-09 20:51:32,390 - DEBUG - websocket - User DYY5A: Fallback last price for USDSGD: Buy=1.2807850000, Sell=1.2804950000
2025-07-09 20:51:32,392 - DEBUG - websocket - User DYY5A: Fallback last price for NOKSEK: Buy=0.9439750000, Sell=0.9434650000
2025-07-09 20:51:32,394 - DEBUG - websocket - User DYY5A: Fallback last price for EURPLN: Buy=4.2413000000, Sell=4.2403200000
2025-07-09 20:51:32,395 - DEBUG - websocket - User DYY5A: Fallback last price for AUDNZD: Buy=1.0001250000, Sell=0.9998750000
2025-07-09 20:51:32,397 - DEBUG - websocket - User DYY5A: Fallback last price for EURAUD: Buy=1.7936000000, Sell=1.7932500000
2025-07-09 20:51:32,398 - DEBUG - websocket - User DYY5A: Fallback last price for SGDJPY: Buy=114.3890000000, Sell=114.3420000000
2025-07-09 20:51:32,399 - DEBUG - websocket - User DYY5A: Fallback last price for EURZAR: Buy=20.8824200000, Sell=20.8760200000
2025-07-09 20:51:32,400 - DEBUG - websocket - User DYY5A: Fallback last price for USDTRY: Buy=40.0492350000, Sell=40.0474250000
2025-07-09 20:51:32,403 - DEBUG - websocket - User DYY5A: Fallback last price for USDNOK: Buy=10.0974800000, Sell=10.0961000000
2025-07-09 20:51:32,405 - DEBUG - websocket - User DYY5A: Fallback last price for USDZAR: Buy=17.8287750000, Sell=17.8235350000
2025-07-09 20:51:32,408 - DEBUG - websocket - User DYY5A: Fallback last price for NZDCAD: Buy=0.8204300000, Sell=0.8201600000
2025-07-09 20:51:32,409 - DEBUG - websocket - User DYY5A: Fallback last price for USDCAD: Buy=1.3690500000, Sell=1.3688100000
2025-07-09 20:51:32,410 - DEBUG - websocket - User 4: Successfully sent initial connection data
2025-07-09 20:51:32,410 - INFO - websocket - User DYY5A: Sent initial connection data with 48 symbols (fresh from cache)
2025-07-09 20:51:36,679 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:51:36,679 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:51:36,679 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:51:36,945 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:51:36,945 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:51:36,946 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:51:39,263 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:51:39,264 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:51:39,264 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:51:41,533 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:51:41,533 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:51:41,534 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:51:43,800 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:51:43,800 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:51:43,801 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:51:46,075 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:51:46,075 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:51:46,076 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:51:48,371 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:51:48,371 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:51:48,373 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:51:50,614 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:51:50,614 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:51:50,615 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:51:52,902 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:51:52,902 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:51:52,903 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:51:55,161 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:51:55,161 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:51:55,165 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:51:57,515 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:51:57,515 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:51:57,516 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:51:59,716 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:51:59,716 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:51:59,718 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:52:02,017 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:52:02,017 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:52:02,018 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:52:04,276 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:52:04,276 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:52:04,277 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:52:06,547 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:52:06,547 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:52:06,548 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:52:08,820 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:52:08,820 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:52:08,821 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:52:11,204 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:52:11,204 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:52:11,205 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:52:13,390 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:52:13,390 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:52:13,391 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:52:15,643 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:52:15,643 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:52:15,644 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:52:16,343 - DEBUG - websocket - User 4: Fetched 17 open orders directly from database
2025-07-09 20:52:16,347 - DEBUG - websocket - User 4: Fetched 0 pending orders directly from database
2025-07-09 20:52:16,352 - DEBUG - websocket - User 4: Updated static orders cache with 17 open orders and 0 pending orders
2025-07-09 20:52:16,366 - DEBUG - websocket - User 4: Updated balance/margin cache: balance=6599.06000000, margin=4823.11
2025-07-09 20:52:16,372 - INFO - websocket - [WEBSOCKET_DEBUG] User 4: Received ORDER_UPDATE message
2025-07-09 20:52:16,383 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:52:16,383 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:52:16,384 - DEBUG - websocket - User 4: Successfully sent order update
2025-07-09 20:52:16,385 - INFO - websocket - [WEBSOCKET_DEBUG] User 4: Received USER_DATA_UPDATE message
2025-07-09 20:52:16,388 - DEBUG - websocket - User 4: Fetched 17 open orders directly from database
2025-07-09 20:52:16,393 - DEBUG - websocket - User 4: Fetched 0 pending orders directly from database
2025-07-09 20:52:16,403 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:52:16,404 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:52:16,407 - DEBUG - websocket - User 4: Successfully sent user data update
2025-07-09 20:52:16,412 - DEBUG - websocket - User 4: Updated static orders cache with 17 open orders and 0 pending orders
2025-07-09 20:52:16,554 - DEBUG - websocket - User 4: Updated balance/margin cache: balance=6599.06000000, margin=4823.11
2025-07-09 20:52:17,910 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:52:17,910 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:52:17,910 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:52:20,201 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:52:20,202 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:52:20,203 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:52:22,493 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:52:22,493 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:52:22,494 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:52:24,755 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:52:24,755 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:52:24,756 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:52:27,032 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:52:27,032 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:52:27,034 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:52:29,322 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:52:29,322 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:52:29,323 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:52:31,631 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:52:31,631 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:52:31,632 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:52:33,957 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:52:33,957 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:52:33,958 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:52:36,183 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:52:36,183 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:52:36,184 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:52:38,469 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:52:38,469 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:52:38,470 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:52:40,749 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:52:40,749 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:52:40,751 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:52:43,015 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:52:43,015 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:52:43,016 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:52:45,416 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:52:45,416 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:52:45,417 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:52:47,681 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:52:47,681 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:52:47,682 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:52:49,888 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:52:49,888 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:52:49,889 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:52:52,150 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:52:52,151 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:52:52,152 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:52:54,470 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:52:54,470 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:52:54,471 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:52:56,711 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:52:56,711 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:52:56,712 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:52:59,076 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:52:59,076 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:52:59,077 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:53:01,288 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:53:01,288 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:53:01,289 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:53:03,652 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:53:03,652 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:53:03,653 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:53:05,906 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:53:05,907 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:53:05,908 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:53:08,164 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:53:08,164 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:53:08,165 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:53:10,392 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:53:10,392 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:53:10,393 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:53:12,678 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:53:12,679 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:53:12,680 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:53:14,957 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:53:14,957 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:53:14,957 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:53:17,249 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:53:17,249 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:53:17,250 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:53:19,509 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:53:19,510 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:53:19,511 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:53:21,854 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:53:21,854 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:53:21,855 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:53:24,131 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:53:24,131 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:53:24,132 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:53:26,369 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:53:26,369 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:53:26,369 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:53:28,642 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:53:28,643 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:53:28,643 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:53:30,930 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:53:30,930 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:53:30,931 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:53:33,200 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:53:33,201 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:53:33,202 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:53:35,458 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:53:35,458 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:53:35,459 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:53:37,748 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:53:37,748 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:53:37,749 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:53:40,039 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:53:40,039 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:53:40,040 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:53:42,310 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:53:42,310 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:53:42,311 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:53:44,608 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:53:44,608 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:53:44,611 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:53:46,879 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:53:46,879 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:53:46,881 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:53:49,210 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:53:49,210 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:53:49,211 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:53:51,567 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:53:51,567 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:53:51,569 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:53:53,816 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:53:53,817 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:53:53,818 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:53:56,077 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:53:56,077 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:53:56,078 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:53:58,307 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:53:58,307 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:53:58,308 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:54:00,553 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:54:00,553 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:54:00,557 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:54:02,834 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:54:02,834 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:54:02,835 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:54:05,130 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:54:05,130 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:54:05,131 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:54:07,393 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:54:07,393 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:54:07,395 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:54:09,686 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:54:09,686 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:54:09,688 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:54:12,323 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:54:12,323 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:54:12,325 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:54:14,268 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:54:14,268 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:54:14,269 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:54:16,540 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:54:16,540 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:54:16,541 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:54:18,772 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:54:18,772 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:54:18,773 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:54:21,048 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:54:21,048 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:54:21,050 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:54:23,371 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:54:23,372 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:54:23,373 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:54:25,679 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:54:25,679 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:54:25,682 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:54:27,939 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:54:27,939 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:54:27,940 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:54:30,193 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:54:30,193 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:54:30,195 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:54:32,435 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:54:32,435 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:54:32,436 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:54:34,775 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:54:34,775 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:54:34,777 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:54:37,022 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:54:37,022 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:54:37,023 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:54:39,279 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:54:39,279 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:54:39,280 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:54:41,594 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:54:41,594 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:54:41,596 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:54:43,901 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:54:43,901 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:54:43,902 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:54:46,124 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:54:46,125 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:54:46,126 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:54:48,388 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:54:48,388 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:54:48,390 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:54:50,737 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:54:50,737 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:54:50,738 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:54:52,987 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:54:52,988 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:54:52,989 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:54:55,190 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:54:55,190 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:54:55,191 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:54:57,501 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:54:57,501 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:54:57,502 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:54:59,857 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:54:59,857 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:54:59,858 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:55:02,121 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:55:02,121 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:55:02,122 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:55:04,374 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:55:04,374 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:55:04,379 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:55:06,749 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:55:06,749 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:55:06,751 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:55:08,978 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:55:08,979 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:55:08,979 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:55:11,689 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:55:11,689 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:55:11,690 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:55:13,973 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:55:13,973 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:55:13,974 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:55:16,236 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:55:16,236 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:55:16,237 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:55:18,569 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:55:18,569 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:55:18,570 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:55:20,822 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:55:20,822 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:55:20,823 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:55:23,058 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:55:23,058 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:55:23,059 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:55:25,373 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:55:25,373 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:55:25,374 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:55:27,644 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:55:27,644 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:55:27,646 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:55:29,923 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:55:29,923 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:55:29,924 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:55:32,207 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:55:32,207 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:55:32,208 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:55:34,572 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:55:34,572 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:55:34,572 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:55:36,824 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:55:36,824 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:55:36,824 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:55:39,003 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:55:39,004 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:55:39,005 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:55:41,297 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:55:41,297 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:55:41,298 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:55:43,565 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:55:43,565 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:55:43,566 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:55:45,940 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:55:45,940 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:55:45,940 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:55:48,196 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:55:48,196 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:55:48,197 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:55:50,450 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:55:50,451 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:55:50,452 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:55:52,743 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:55:52,743 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:55:52,744 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:55:54,985 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:55:54,985 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:55:54,986 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:55:57,294 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:55:57,294 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:55:57,296 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:55:59,579 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:55:59,579 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:55:59,580 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:56:01,829 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:56:01,829 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:56:01,830 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:56:04,167 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:56:04,167 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:56:04,168 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:56:06,398 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:56:06,398 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:56:06,400 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:56:08,662 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:56:08,662 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:56:08,663 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:56:10,920 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:56:10,920 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:56:10,922 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:56:13,196 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:56:13,196 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:56:13,197 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:56:15,528 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:56:15,530 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:56:15,532 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:56:17,796 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:56:17,797 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:56:17,798 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:56:20,148 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:56:20,148 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:56:20,149 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:56:22,400 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:56:22,400 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:56:22,401 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:56:24,639 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:56:24,639 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:56:24,640 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:56:26,878 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:56:26,878 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:56:26,879 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:56:29,119 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:56:29,119 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:56:29,120 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:56:31,406 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:56:31,406 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:56:31,407 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:56:33,679 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:56:33,679 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:56:33,681 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:56:35,966 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:56:35,967 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:56:35,968 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:56:38,276 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:56:38,276 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:56:38,282 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:56:40,525 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:56:40,525 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:56:40,526 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:56:42,863 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:56:42,863 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:56:42,864 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:56:45,142 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:56:45,142 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:56:45,143 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:56:47,402 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:56:47,402 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:56:47,403 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:56:49,722 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:56:49,722 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:56:49,723 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:56:52,001 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:56:52,001 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:56:52,005 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:56:54,246 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:56:54,246 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:56:54,247 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:56:56,589 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:56:56,589 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:56:56,591 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:56:58,858 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:56:58,859 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:56:58,860 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:57:01,104 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:57:01,105 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:57:01,106 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:57:03,452 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:57:03,452 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:57:03,453 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:57:05,709 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:57:05,709 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:57:05,709 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:57:07,982 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:57:07,982 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:57:07,983 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:57:10,190 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:57:10,190 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:57:10,191 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:57:12,506 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:57:12,506 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:57:12,507 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:57:14,792 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:57:14,792 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:57:14,792 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:57:17,043 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=0.0, margin=0.0
2025-07-09 20:57:17,043 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: None
2025-07-09 20:57:17,044 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:57:19,393 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=0.0, margin=0.0
2025-07-09 20:57:19,393 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: None
2025-07-09 20:57:19,394 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:57:21,704 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=0.0, margin=0.0
2025-07-09 20:57:21,704 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: None
2025-07-09 20:57:21,706 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:57:23,872 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=0.0, margin=0.0
2025-07-09 20:57:23,872 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: None
2025-07-09 20:57:23,873 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:57:26,188 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=0.0, margin=0.0
2025-07-09 20:57:26,189 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: None
2025-07-09 20:57:26,190 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:57:28,444 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=0.0, margin=0.0
2025-07-09 20:57:28,445 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: None
2025-07-09 20:57:28,446 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:57:30,724 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=0.0, margin=0.0
2025-07-09 20:57:30,724 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: None
2025-07-09 20:57:30,725 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:57:33,044 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=0.0, margin=0.0
2025-07-09 20:57:33,044 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: None
2025-07-09 20:57:33,045 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:57:35,538 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=0.0, margin=0.0
2025-07-09 20:57:35,538 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: None
2025-07-09 20:57:35,539 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:57:37,598 - INFO - websocket - [WEBSOCKET_DEBUG] User 4: Received ORDER_UPDATE message
2025-07-09 20:57:37,609 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=0.0, margin=0.0
2025-07-09 20:57:37,609 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: None
2025-07-09 20:57:37,610 - DEBUG - websocket - User 4: Successfully sent order update
2025-07-09 20:57:37,611 - INFO - websocket - [WEBSOCKET_DEBUG] User 4: Received USER_DATA_UPDATE message
2025-07-09 20:57:37,615 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=0.0, margin=0.0
2025-07-09 20:57:37,616 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: None
2025-07-09 20:57:37,617 - DEBUG - websocket - User 4: Successfully sent user data update
2025-07-09 20:57:37,833 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=0.0, margin=0.0
2025-07-09 20:57:37,833 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: None
2025-07-09 20:57:37,834 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:57:40,098 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=0.0, margin=0.0
2025-07-09 20:57:40,098 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: None
2025-07-09 20:57:40,099 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:57:42,330 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=0.0, margin=0.0
2025-07-09 20:57:42,330 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: None
2025-07-09 20:57:42,331 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:57:44,605 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=0.0, margin=0.0
2025-07-09 20:57:44,605 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: None
2025-07-09 20:57:44,606 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:57:46,900 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=0.0, margin=0.0
2025-07-09 20:57:46,900 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: None
2025-07-09 20:57:46,901 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:57:49,222 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=0.0, margin=0.0
2025-07-09 20:57:49,223 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: None
2025-07-09 20:57:49,225 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:57:51,583 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=0.0, margin=0.0
2025-07-09 20:57:51,583 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: None
2025-07-09 20:57:51,584 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:57:53,817 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=0.0, margin=0.0
2025-07-09 20:57:53,817 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: None
2025-07-09 20:57:53,818 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:57:56,129 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=0.0, margin=0.0
2025-07-09 20:57:56,130 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: None
2025-07-09 20:57:56,130 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:57:58,356 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=0.0, margin=0.0
2025-07-09 20:57:58,356 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: None
2025-07-09 20:57:58,357 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:58:00,688 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=0.0, margin=0.0
2025-07-09 20:58:00,688 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: None
2025-07-09 20:58:00,689 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:58:02,952 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=0.0, margin=0.0
2025-07-09 20:58:02,952 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: None
2025-07-09 20:58:02,953 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:58:05,222 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=0.0, margin=0.0
2025-07-09 20:58:05,223 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: None
2025-07-09 20:58:05,224 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:58:07,703 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=0.0, margin=0.0
2025-07-09 20:58:07,703 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: None
2025-07-09 20:58:07,704 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:58:09,823 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=0.0, margin=0.0
2025-07-09 20:58:09,823 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: None
2025-07-09 20:58:09,825 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:58:12,332 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=0.0, margin=0.0
2025-07-09 20:58:12,332 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: None
2025-07-09 20:58:12,333 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:58:14,326 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=0.0, margin=0.0
2025-07-09 20:58:14,326 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: None
2025-07-09 20:58:14,327 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:58:16,666 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=0.0, margin=0.0
2025-07-09 20:58:16,666 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: None
2025-07-09 20:58:16,667 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:58:18,913 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=0.0, margin=0.0
2025-07-09 20:58:18,913 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: None
2025-07-09 20:58:18,914 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:58:21,204 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=0.0, margin=0.0
2025-07-09 20:58:21,204 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: None
2025-07-09 20:58:21,205 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:58:23,420 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=0.0, margin=0.0
2025-07-09 20:58:23,421 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: None
2025-07-09 20:58:23,422 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:58:25,819 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=0.0, margin=0.0
2025-07-09 20:58:25,819 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: None
2025-07-09 20:58:25,820 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:58:28,061 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=0.0, margin=0.0
2025-07-09 20:58:28,062 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: None
2025-07-09 20:58:28,063 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:58:30,242 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=0.0, margin=0.0
2025-07-09 20:58:30,242 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: None
2025-07-09 20:58:30,243 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:58:30,370 - INFO - websocket - [WEBSOCKET_DEBUG] User 4: Received ORDER_UPDATE message
2025-07-09 20:58:30,375 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=0.0, margin=0.0
2025-07-09 20:58:30,375 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: None
2025-07-09 20:58:30,376 - DEBUG - websocket - User 4: Successfully sent order update
2025-07-09 20:58:30,376 - INFO - websocket - [WEBSOCKET_DEBUG] User 4: Received USER_DATA_UPDATE message
2025-07-09 20:58:30,381 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=0.0, margin=0.0
2025-07-09 20:58:30,381 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: None
2025-07-09 20:58:30,382 - DEBUG - websocket - User 4: Successfully sent user data update
2025-07-09 20:58:32,530 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=0.0, margin=0.0
2025-07-09 20:58:32,530 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: None
2025-07-09 20:58:32,531 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:58:34,802 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=0.0, margin=0.0
2025-07-09 20:58:34,802 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: None
2025-07-09 20:58:34,803 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:58:37,173 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=0.0, margin=0.0
2025-07-09 20:58:37,173 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: None
2025-07-09 20:58:37,174 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:58:39,429 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=0.0, margin=0.0
2025-07-09 20:58:39,430 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: None
2025-07-09 20:58:39,432 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:58:41,647 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=0.0, margin=0.0
2025-07-09 20:58:41,647 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: None
2025-07-09 20:58:41,648 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:58:43,898 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=0.0, margin=0.0
2025-07-09 20:58:43,898 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: None
2025-07-09 20:58:43,900 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:58:46,259 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=0.0, margin=0.0
2025-07-09 20:58:46,259 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: None
2025-07-09 20:58:46,260 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:58:48,528 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=0.0, margin=0.0
2025-07-09 20:58:48,529 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: None
2025-07-09 20:58:48,529 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:58:50,765 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=0.0, margin=0.0
2025-07-09 20:58:50,765 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: None
2025-07-09 20:58:50,767 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:58:52,998 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=0.0, margin=0.0
2025-07-09 20:58:52,999 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: None
2025-07-09 20:58:53,000 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:58:55,244 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=0.0, margin=0.0
2025-07-09 20:58:55,244 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: None
2025-07-09 20:58:55,245 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:58:57,623 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=0.0, margin=0.0
2025-07-09 20:58:57,623 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: None
2025-07-09 20:58:57,624 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:58:57,708 - INFO - websocket - [WEBSOCKET_DEBUG] User 4: Received ORDER_UPDATE message
2025-07-09 20:58:57,713 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=0.0, margin=0.0
2025-07-09 20:58:57,713 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: None
2025-07-09 20:58:57,714 - DEBUG - websocket - User 4: Successfully sent order update
2025-07-09 20:58:57,715 - INFO - websocket - [WEBSOCKET_DEBUG] User 4: Received USER_DATA_UPDATE message
2025-07-09 20:58:57,718 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=0.0, margin=0.0
2025-07-09 20:58:57,719 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: None
2025-07-09 20:58:57,719 - DEBUG - websocket - User 4: Successfully sent user data update
2025-07-09 20:58:59,889 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=0.0, margin=0.0
2025-07-09 20:58:59,889 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: None
2025-07-09 20:58:59,890 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:59:02,076 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=0.0, margin=0.0
2025-07-09 20:59:02,076 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: None
2025-07-09 20:59:02,077 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:59:04,355 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=0.0, margin=0.0
2025-07-09 20:59:04,355 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: None
2025-07-09 20:59:04,355 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:59:06,635 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=0.0, margin=0.0
2025-07-09 20:59:06,636 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: None
2025-07-09 20:59:06,636 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:59:09,003 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=0.0, margin=0.0
2025-07-09 20:59:09,003 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: None
2025-07-09 20:59:09,004 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:59:09,422 - DEBUG - websocket - User 4: Fetched 17 open orders directly from database
2025-07-09 20:59:09,425 - DEBUG - websocket - User 4: Fetched 0 pending orders directly from database
2025-07-09 20:59:09,428 - DEBUG - websocket - User 4: Updated static orders cache with 17 open orders and 0 pending orders
2025-07-09 20:59:09,442 - DEBUG - websocket - User 4: Updated balance/margin cache: balance=6599.06000000, margin=4823.11
2025-07-09 20:59:09,447 - INFO - websocket - [WEBSOCKET_DEBUG] User 4: Received ORDER_UPDATE message
2025-07-09 20:59:09,453 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:59:09,453 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:59:09,454 - DEBUG - websocket - User 4: Successfully sent order update
2025-07-09 20:59:09,454 - INFO - websocket - [WEBSOCKET_DEBUG] User 4: Received USER_DATA_UPDATE message
2025-07-09 20:59:09,460 - DEBUG - websocket - User 4: Fetched 17 open orders directly from database
2025-07-09 20:59:09,463 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:59:09,463 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:59:09,464 - DEBUG - websocket - User 4: Successfully sent user data update
2025-07-09 20:59:09,467 - DEBUG - websocket - User 4: Fetched 0 pending orders directly from database
2025-07-09 20:59:09,474 - DEBUG - websocket - User 4: Updated static orders cache with 17 open orders and 0 pending orders
2025-07-09 20:59:09,499 - DEBUG - websocket - User 4: Updated balance/margin cache: balance=6599.06000000, margin=4823.11
2025-07-09 20:59:11,234 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:59:11,234 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:59:11,235 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:59:13,498 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:59:13,498 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:59:13,499 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:59:15,845 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:59:15,846 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:59:15,848 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:59:18,051 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:59:18,051 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:59:18,052 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:59:20,358 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:59:20,358 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:59:20,359 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:59:22,724 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:59:22,724 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:59:22,726 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:59:24,864 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:59:24,864 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:59:24,865 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:59:27,196 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:59:27,196 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:59:27,197 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:59:29,467 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:59:29,467 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:59:29,468 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:59:30,937 - INFO - websocket - [WEBSOCKET_DEBUG] User 4: Received ORDER_UPDATE message
2025-07-09 20:59:30,941 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:59:30,941 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:59:30,942 - DEBUG - websocket - User 4: Successfully sent order update
2025-07-09 20:59:30,942 - INFO - websocket - [WEBSOCKET_DEBUG] User 4: Received USER_DATA_UPDATE message
2025-07-09 20:59:30,949 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:59:30,949 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:59:30,950 - DEBUG - websocket - User 4: Successfully sent user data update
2025-07-09 20:59:31,822 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:59:31,822 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:59:31,823 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:59:34,013 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:59:34,013 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:59:34,014 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:59:36,329 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:59:36,329 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:59:36,330 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:59:38,616 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:59:38,616 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:59:38,617 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:59:40,941 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:59:40,942 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:59:40,942 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:59:43,170 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:59:43,170 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:59:43,171 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:59:45,436 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:59:45,437 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:59:45,437 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:59:47,783 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:59:47,783 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:59:47,784 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:59:50,031 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:59:50,031 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:59:50,031 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:59:52,220 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:59:52,220 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:59:52,220 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:59:54,544 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:59:54,544 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:59:54,545 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:59:56,824 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:59:56,824 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:59:56,824 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 20:59:59,146 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=4823.11
2025-07-09 20:59:59,146 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('4823.11')}
2025-07-09 20:59:59,146 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 21:00:00,898 - INFO - websocket - [WEBSOCKET_DEBUG] User 4: Received ORDER_UPDATE message
2025-07-09 21:00:00,899 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=1029.00
2025-07-09 21:00:00,900 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('1029.00')}
2025-07-09 21:00:00,901 - DEBUG - websocket - User 4: Successfully sent order update
2025-07-09 21:00:00,901 - INFO - websocket - [WEBSOCKET_DEBUG] User 4: Received USER_DATA_UPDATE message
2025-07-09 21:00:00,905 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=1029.00
2025-07-09 21:00:00,905 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('1029.00')}
2025-07-09 21:00:00,906 - DEBUG - websocket - User 4: Successfully sent user data update
2025-07-09 21:00:00,907 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=1029.00
2025-07-09 21:00:00,907 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('1029.00')}
2025-07-09 21:00:00,907 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 21:00:01,399 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=1029.00
2025-07-09 21:00:01,399 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('1029.00')}
2025-07-09 21:00:01,399 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 21:00:03,667 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=1029.00
2025-07-09 21:00:03,668 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('1029.00')}
2025-07-09 21:00:03,669 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 21:00:05,901 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=1029.00
2025-07-09 21:00:05,901 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('1029.00')}
2025-07-09 21:00:05,901 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 21:00:08,156 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=1029.00
2025-07-09 21:00:08,157 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('1029.00')}
2025-07-09 21:00:08,157 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 21:00:10,421 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=1029.00
2025-07-09 21:00:10,421 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('1029.00')}
2025-07-09 21:00:10,421 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 21:00:12,769 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=1029.00
2025-07-09 21:00:12,770 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('1029.00')}
2025-07-09 21:00:12,770 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 21:00:15,033 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=1029.00
2025-07-09 21:00:15,033 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('1029.00')}
2025-07-09 21:00:15,033 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 21:00:17,390 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=1029.00
2025-07-09 21:00:17,390 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('1029.00')}
2025-07-09 21:00:17,390 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 21:00:19,544 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=1029.00
2025-07-09 21:00:19,544 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('1029.00')}
2025-07-09 21:00:19,544 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 21:00:21,883 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=1029.00
2025-07-09 21:00:21,883 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('1029.00')}
2025-07-09 21:00:21,884 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 21:00:24,078 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=1029.00
2025-07-09 21:00:24,079 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('1029.00')}
2025-07-09 21:00:24,079 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 21:00:24,456 - INFO - websocket - [WEBSOCKET_DEBUG] User 4: Received ORDER_UPDATE message
2025-07-09 21:00:24,458 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=1029.00
2025-07-09 21:00:24,458 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('1029.00')}
2025-07-09 21:00:24,458 - DEBUG - websocket - User 4: Successfully sent order update
2025-07-09 21:00:24,458 - INFO - websocket - [WEBSOCKET_DEBUG] User 4: Received USER_DATA_UPDATE message
2025-07-09 21:00:24,460 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=1029.00
2025-07-09 21:00:24,460 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('1029.00')}
2025-07-09 21:00:24,460 - DEBUG - websocket - User 4: Successfully sent user data update
2025-07-09 21:00:26,394 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=1029.00
2025-07-09 21:00:26,395 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('1029.00')}
2025-07-09 21:00:26,396 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 21:00:28,638 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=1029.00
2025-07-09 21:00:28,638 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('1029.00')}
2025-07-09 21:00:28,638 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 21:00:31,007 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=1029.00
2025-07-09 21:00:31,007 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('1029.00')}
2025-07-09 21:00:31,007 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 21:00:33,236 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=1029.00
2025-07-09 21:00:33,236 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('1029.00')}
2025-07-09 21:00:33,236 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 21:00:35,508 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=1029.00
2025-07-09 21:00:35,508 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('1029.00')}
2025-07-09 21:00:35,509 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 21:00:37,763 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=1029.00
2025-07-09 21:00:37,763 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('1029.00')}
2025-07-09 21:00:37,766 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 21:00:40,103 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=1029.00
2025-07-09 21:00:40,103 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('1029.00')}
2025-07-09 21:00:40,104 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 21:00:42,283 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=1029.00
2025-07-09 21:00:42,283 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('1029.00')}
2025-07-09 21:00:42,283 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 21:00:44,621 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=1029.00
2025-07-09 21:00:44,621 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('1029.00')}
2025-07-09 21:00:44,622 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 21:00:46,867 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=1029.00
2025-07-09 21:00:46,867 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('1029.00')}
2025-07-09 21:00:46,867 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 21:00:49,110 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=1029.00
2025-07-09 21:00:49,110 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('1029.00')}
2025-07-09 21:00:49,111 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 21:00:51,495 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=1029.00
2025-07-09 21:00:51,495 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('1029.00')}
2025-07-09 21:00:51,495 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 21:00:53,736 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=1029.00
2025-07-09 21:00:53,736 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('1029.00')}
2025-07-09 21:00:53,737 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 21:00:55,984 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=1029.00
2025-07-09 21:00:55,984 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('1029.00')}
2025-07-09 21:00:55,985 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 21:00:58,341 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=1029.00
2025-07-09 21:00:58,342 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('1029.00')}
2025-07-09 21:00:58,342 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 21:01:00,588 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=1029.00
2025-07-09 21:01:00,588 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('1029.00')}
2025-07-09 21:01:00,589 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 21:01:02,854 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=1029.00
2025-07-09 21:01:02,854 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('1029.00')}
2025-07-09 21:01:02,855 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 21:01:04,883 - INFO - websocket - [WEBSOCKET_DEBUG] User 4: Received ORDER_UPDATE message
2025-07-09 21:01:04,885 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=1029.00
2025-07-09 21:01:04,885 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('1029.00')}
2025-07-09 21:01:04,885 - DEBUG - websocket - User 4: Successfully sent order update
2025-07-09 21:01:04,886 - INFO - websocket - [WEBSOCKET_DEBUG] User 4: Received USER_DATA_UPDATE message
2025-07-09 21:01:04,888 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=1029.00
2025-07-09 21:01:04,889 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('1029.00')}
2025-07-09 21:01:04,889 - DEBUG - websocket - User 4: Successfully sent user data update
2025-07-09 21:01:05,201 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=1029.00
2025-07-09 21:01:05,201 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('1029.00')}
2025-07-09 21:01:05,202 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 21:01:07,456 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=1029.00
2025-07-09 21:01:07,456 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('1029.00')}
2025-07-09 21:01:07,457 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 21:01:09,625 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=1029.00
2025-07-09 21:01:09,625 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('1029.00')}
2025-07-09 21:01:09,625 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 21:01:12,245 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=1029.00
2025-07-09 21:01:12,245 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('1029.00')}
2025-07-09 21:01:12,245 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 21:01:14,203 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=1029.00
2025-07-09 21:01:14,203 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('1029.00')}
2025-07-09 21:01:14,203 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 21:01:16,518 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=1029.00
2025-07-09 21:01:16,518 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('1029.00')}
2025-07-09 21:01:16,518 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 21:01:18,829 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=1029.00
2025-07-09 21:01:18,829 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('1029.00')}
2025-07-09 21:01:18,829 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 21:01:21,034 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=1029.00
2025-07-09 21:01:21,034 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('1029.00')}
2025-07-09 21:01:21,035 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 21:01:23,412 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=1029.00
2025-07-09 21:01:23,412 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('1029.00')}
2025-07-09 21:01:23,412 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 21:01:25,677 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=1029.00
2025-07-09 21:01:25,677 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('1029.00')}
2025-07-09 21:01:25,677 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 21:01:27,878 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=1029.00
2025-07-09 21:01:27,878 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('1029.00')}
2025-07-09 21:01:27,878 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 21:01:30,173 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=1029.00
2025-07-09 21:01:30,173 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('1029.00')}
2025-07-09 21:01:30,174 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 21:01:32,439 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=1029.00
2025-07-09 21:01:32,440 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('1029.00')}
2025-07-09 21:01:32,440 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 21:01:34,724 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=1029.00
2025-07-09 21:01:34,724 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('1029.00')}
2025-07-09 21:01:34,724 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 21:01:37,002 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=1029.00
2025-07-09 21:01:37,002 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('1029.00')}
2025-07-09 21:01:37,002 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 21:01:39,289 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=1029.00
2025-07-09 21:01:39,289 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('1029.00')}
2025-07-09 21:01:39,290 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 21:01:41,651 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=1029.00
2025-07-09 21:01:41,651 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('1029.00')}
2025-07-09 21:01:41,652 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 21:01:43,905 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=1029.00
2025-07-09 21:01:43,905 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('1029.00')}
2025-07-09 21:01:43,906 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 21:01:46,155 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=1029.00
2025-07-09 21:01:46,155 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('1029.00')}
2025-07-09 21:01:46,157 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 21:01:48,408 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=1029.00
2025-07-09 21:01:48,408 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('1029.00')}
2025-07-09 21:01:48,409 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 21:01:50,777 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=1029.00
2025-07-09 21:01:50,778 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('1029.00')}
2025-07-09 21:01:50,778 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 21:01:52,943 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=1029.00
2025-07-09 21:01:52,944 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('1029.00')}
2025-07-09 21:01:52,944 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 21:01:54,777 - INFO - websocket - [WEBSOCKET_DEBUG] User 4: Received ORDER_UPDATE message
2025-07-09 21:01:54,779 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=1029.00
2025-07-09 21:01:54,779 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('1029.00')}
2025-07-09 21:01:54,781 - DEBUG - websocket - User 4: Successfully sent order update
2025-07-09 21:01:54,781 - INFO - websocket - [WEBSOCKET_DEBUG] User 4: Received USER_DATA_UPDATE message
2025-07-09 21:01:54,785 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=1029.00
2025-07-09 21:01:54,785 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('1029.00')}
2025-07-09 21:01:54,785 - DEBUG - websocket - User 4: Successfully sent user data update
2025-07-09 21:01:54,787 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=1029.00
2025-07-09 21:01:54,787 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('1029.00')}
2025-07-09 21:01:54,789 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 21:01:55,230 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=1029.00
2025-07-09 21:01:55,230 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('1029.00')}
2025-07-09 21:01:55,230 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 21:01:57,472 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=1029.00
2025-07-09 21:01:57,472 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('1029.00')}
2025-07-09 21:01:57,472 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 21:01:59,759 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=1029.00
2025-07-09 21:01:59,759 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('1029.00')}
2025-07-09 21:01:59,760 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 21:02:02,039 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=1029.00
2025-07-09 21:02:02,039 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('1029.00')}
2025-07-09 21:02:02,039 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 21:02:04,615 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=1029.00
2025-07-09 21:02:04,615 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('1029.00')}
2025-07-09 21:02:04,615 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 21:02:06,905 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=1029.00
2025-07-09 21:02:06,906 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('1029.00')}
2025-07-09 21:02:06,906 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 21:02:09,297 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=1029.00
2025-07-09 21:02:09,298 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('1029.00')}
2025-07-09 21:02:09,299 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 21:02:11,543 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=1029.00
2025-07-09 21:02:11,543 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('1029.00')}
2025-07-09 21:02:11,544 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 21:02:13,790 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=1029.00
2025-07-09 21:02:13,790 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('1029.00')}
2025-07-09 21:02:13,791 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 21:02:16,078 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=1029.00
2025-07-09 21:02:16,078 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('1029.00')}
2025-07-09 21:02:16,079 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 21:02:18,379 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=1029.00
2025-07-09 21:02:18,379 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('1029.00')}
2025-07-09 21:02:18,380 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 21:02:20,654 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=1029.00
2025-07-09 21:02:20,654 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('1029.00')}
2025-07-09 21:02:20,654 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 21:02:23,003 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=1029.00
2025-07-09 21:02:23,003 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('1029.00')}
2025-07-09 21:02:23,005 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 21:02:25,264 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=1029.00
2025-07-09 21:02:25,264 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('1029.00')}
2025-07-09 21:02:25,265 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 21:02:27,676 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=1029.00
2025-07-09 21:02:27,676 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('1029.00')}
2025-07-09 21:02:27,677 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 21:02:29,818 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=1029.00
2025-07-09 21:02:29,819 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('1029.00')}
2025-07-09 21:02:29,819 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 21:02:32,145 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=1029.00
2025-07-09 21:02:32,145 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('1029.00')}
2025-07-09 21:02:32,146 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 21:02:34,413 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Reading from balance_margin_cache - balance=6599.06000000, margin=1029.00
2025-07-09 21:02:34,414 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 4: Full balance_margin_data from cache: {'wallet_balance': Decimal('6599.06000000'), 'margin': Decimal('1029.00')}
2025-07-09 21:02:34,414 - DEBUG - websocket - User 4: Successfully sent market update
2025-07-09 21:02:36,413 - INFO - websocket - User DYY5A: WebSocket disconnected by client.
2025-07-09 21:02:36,414 - INFO - websocket - User DYY5A: Cleaning up WebSocket connection.
2025-07-09 21:02:36,440 - INFO - websocket - User DYY5A: Listener task successfully cancelled.
2025-07-09 21:02:36,440 - INFO - websocket - User DYY5A: WebSocket connection fully closed.
2025-07-09 21:02:36,681 - INFO - websocket - Redis publisher task cancelled.
2025-07-09 21:02:36,681 - INFO - websocket - Redis publisher task finished.
2025-07-09 21:03:38,869 - INFO - websocket - Redis publisher task started. Publishing to channel 'market_data_updates'.
2025-07-09 21:03:39,802 - INFO - websocket - --- MINIMAL TEST: ENTERED websocket_endpoint --- Connection ID: 127.0.0.1:52284-1752120219801
2025-07-09 21:03:39,803 - INFO - websocket - WebSocket connection accepted (early) for 127.0.0.1:52284 in 0.001s
2025-07-09 21:03:39,804 - DEBUG - websocket - User 0: Successfully sent loading message
2025-07-09 21:03:39,805 - INFO - websocket - WebSocket auth: token payload={'sub': '4', 'user_type': 'live', 'account_number': 'DYY5A', 'exp': 1752121114, 'iat': 1752119314}, account_number=DYY5A, user_type=live
2025-07-09 21:03:39,805 - INFO - websocket - WebSocket auth: About to call get_user_by_account_number with account_number=DYY5A, user_type=live
2025-07-09 21:03:39,954 - INFO - websocket - WebSocket auth: get_user_by_account_number(DYY5A, live) returned: <app.database.models.User object at 0x000002B0B0262120>
2025-07-09 21:03:45,722 - INFO - websocket - [WS] Using order model: UserOrder for user_type=live, account_number=DYY5A
2025-07-09 21:03:45,729 - INFO - websocket - [WS] Open positions from DB for user_id=4: [<app.database.models.UserOrder object at 0x000002B0B0263770>, <app.database.models.UserOrder object at 0x000002B0B037B110>, <app.database.models.UserOrder object at 0x000002B0B0378CD0>, <app.database.models.UserOrder object at 0x000002B0B0378910>, <app.database.models.UserOrder object at 0x000002B0B0378F50>, <app.database.models.UserOrder object at 0x000002B0B0378E10>, <app.database.models.UserOrder object at 0x000002B0B0711E50>, <app.database.models.UserOrder object at 0x000002B0B0711F90>, <app.database.models.UserOrder object at 0x000002B0B07120D0>, <app.database.models.UserOrder object at 0x000002B0B0712210>, <app.database.models.UserOrder object at 0x000002B0B0712350>, <app.database.models.UserOrder object at 0x000002B0B0712490>, <app.database.models.UserOrder object at 0x000002B0B07125D0>, <app.database.models.UserOrder object at 0x000002B0B0712710>, <app.database.models.UserOrder object at 0x000002B0B0712850>, <app.database.models.UserOrder object at 0x000002B0B0712990>, <app.database.models.UserOrder object at 0x000002B0B0712AD0>, <app.database.models.UserOrder object at 0x000002B0B0712C10>]
2025-07-09 21:03:56,318 - DEBUG - websocket - Cached/updated group-symbol settings for group 'Standard'.
2025-07-09 21:03:56,320 - DEBUG - websocket - User 4: Fetched 18 open orders directly from database
2025-07-09 21:03:56,323 - DEBUG - websocket - User 4: Fetched 0 pending orders directly from database
2025-07-09 21:03:56,324 - DEBUG - websocket - User 4: Updated static orders cache with 18 open orders and 0 pending orders
2025-07-09 21:03:56,329 - DEBUG - websocket - User 4: Updated balance/margin cache: balance=6599.06000000, margin=5774.11
2025-07-09 21:03:56,335 - INFO - websocket - User DYY5A: Fetching initial market data for 77 symbols from cache (adjusted or last known price)
2025-07-09 21:03:56,336 - DEBUG - websocket - User DYY5A: Fallback last price for AUDCHF: Buy=0.5198600000, Sell=0.5196100000
2025-07-09 21:03:56,336 - DEBUG - websocket - User DYY5A: Fallback last price for AUDJPY: Buy=95.6810000000, Sell=95.6450000000
2025-07-09 21:03:56,337 - DEBUG - websocket - User DYY5A: Fallback last price for GBPNOK: Buy=13.7382000000, Sell=13.7358000000
2025-07-09 21:03:56,337 - DEBUG - websocket - User DYY5A: Fallback last price for EURJPY: Buy=171.5670000000, Sell=171.5330000000
2025-07-09 21:03:56,338 - DEBUG - websocket - User DYY5A: Fallback last price for XAGUSD: Buy=36.3550000000, Sell=36.3200000000
2025-07-09 21:03:56,339 - DEBUG - websocket - User DYY5A: Fallback last price for EURCAD: Buy=1.6035150000, Sell=1.6032550000
2025-07-09 21:03:56,340 - DEBUG - websocket - User DYY5A: Fallback last price for GBPUSD: Buy=1.3607150000, Sell=1.3605550000
2025-07-09 21:03:56,341 - DEBUG - websocket - User DYY5A: Fallback last price for AUDSGD: Buy=1.0001250000, Sell=0.9998750000
2025-07-09 21:03:56,341 - DEBUG - websocket - User DYY5A: Fallback last price for USDSEK: Buy=9.5296700000, Sell=9.5288100000
2025-07-09 21:03:56,342 - DEBUG - websocket - User DYY5A: Fallback last price for JP225: Buy=39828.6800000000, Sell=39824.6800000000
2025-07-09 21:03:56,342 - DEBUG - websocket - User DYY5A: Fallback last price for GBPSEK: Buy=12.9663000000, Sell=12.9633000000
2025-07-09 21:03:56,343 - DEBUG - websocket - User DYY5A: Fallback last price for EURUSD: Buy=1.1714350000, Sell=1.1712150000
2025-07-09 21:03:56,345 - DEBUG - websocket - User DYY5A: Fallback last price for AUDCAD: Buy=0.8941500000, Sell=0.8939200000
2025-07-09 21:03:56,345 - DEBUG - websocket - User DYY5A: Fallback last price for D30: Buy=24539.0200000000, Sell=24538.0200000000
2025-07-09 21:03:56,346 - DEBUG - websocket - User DYY5A: Fallback last price for CHFSGD: Buy=1.6095250000, Sell=1.6089750000
2025-07-09 21:03:56,347 - DEBUG - websocket - User DYY5A: Fallback last price for USDJPY: Buy=146.4880000000, Sell=146.4670000000
2025-07-09 21:03:56,347 - DEBUG - websocket - User DYY5A: Fallback last price for EURNOK: Buy=11.8270150000, Sell=11.8254350000
2025-07-09 21:03:56,348 - DEBUG - websocket - User DYY5A: Fallback last price for AUDUSD: Buy=0.6532550000, Sell=0.6529850000
2025-07-09 21:03:56,348 - DEBUG - websocket - User DYY5A: Fallback last price for EURCHF: Buy=0.9322800000, Sell=0.9319000000
2025-07-09 21:03:56,349 - DEBUG - websocket - User DYY5A: Fallback last price for GBPAUD: Buy=2.0834050000, Sell=2.0830350000
2025-07-09 21:03:56,350 - DEBUG - websocket - User DYY5A: Fallback last price for EURGBP: Buy=0.8610700000, Sell=0.8607500000
2025-07-09 21:03:56,350 - DEBUG - websocket - User DYY5A: Fallback last price for EURNZD: Buy=1.9547850000, Sell=1.9543150000
2025-07-09 21:03:56,351 - DEBUG - websocket - User DYY5A: Fallback last price for EURSEK: Buy=11.1623650000, Sell=11.1602650000
2025-07-09 21:03:56,351 - DEBUG - websocket - User DYY5A: Fallback last price for CADCHF: Buy=0.5814700000, Sell=0.5811300000
2025-07-09 21:03:56,352 - DEBUG - websocket - User DYY5A: Fallback last price for EURCZK: Buy=25.0001500000, Sell=24.9998500000
2025-07-09 21:03:56,352 - DEBUG - websocket - User DYY5A: Fallback last price for USDCHF: Buy=0.7959400000, Sell=0.7956900000
2025-07-09 21:03:56,353 - DEBUG - websocket - User DYY5A: Fallback last price for USDCNH: Buy=7.1850250000, Sell=7.1846750000
2025-07-09 21:03:56,354 - DEBUG - websocket - User DYY5A: Fallback last price for NZDUSD: Buy=0.5993700000, Sell=0.5991500000
2025-07-09 21:03:56,355 - DEBUG - websocket - User DYY5A: Fallback last price for NZDJPY: Buy=87.7960000000, Sell=87.7570000000
2025-07-09 21:03:56,356 - DEBUG - websocket - User DYY5A: Fallback last price for EURSGD: Buy=1.5002100000, Sell=1.4998200000
2025-07-09 21:03:56,356 - DEBUG - websocket - User DYY5A: Fallback last price for CADJPY: Buy=107.0190000000, Sell=106.9880000000
2025-07-09 21:03:56,357 - DEBUG - websocket - User DYY5A: Fallback last price for USDCZK: Buy=21.0625000000, Sell=20.9975000000
2025-07-09 21:03:56,357 - DEBUG - websocket - User DYY5A: Fallback last price for US30: Buy=44413.6000000000, Sell=44411.6000000000
2025-07-09 21:03:56,359 - DEBUG - websocket - User DYY5A: Fallback last price for GBPNZD: Buy=2.2706350000, Sell=2.2701350000
2025-07-09 21:03:56,359 - DEBUG - websocket - User DYY5A: Fallback last price for CHFJPY: Buy=184.0850000000, Sell=184.0350000000
2025-07-09 21:03:56,361 - DEBUG - websocket - User DYY5A: Fallback last price for BTCUSD: Buy=109757.7000000000, Sell=109657.6000000000
2025-07-09 21:03:56,362 - DEBUG - websocket - User DYY5A: Fallback last price for USDSGD: Buy=1.2807850000, Sell=1.2804950000
2025-07-09 21:03:56,363 - DEBUG - websocket - User DYY5A: Fallback last price for NOKSEK: Buy=0.9439750000, Sell=0.9434650000
2025-07-09 21:03:56,364 - DEBUG - websocket - User DYY5A: Fallback last price for EURPLN: Buy=4.2413000000, Sell=4.2403200000
2025-07-09 21:03:56,364 - DEBUG - websocket - User DYY5A: Fallback last price for AUDNZD: Buy=1.0001250000, Sell=0.9998750000
2025-07-09 21:03:56,365 - DEBUG - websocket - User DYY5A: Fallback last price for EURAUD: Buy=1.7936000000, Sell=1.7932500000
2025-07-09 21:03:56,366 - DEBUG - websocket - User DYY5A: Fallback last price for SGDJPY: Buy=114.3890000000, Sell=114.3420000000
2025-07-09 21:03:56,366 - DEBUG - websocket - User DYY5A: Fallback last price for EURZAR: Buy=20.8824200000, Sell=20.8760200000
2025-07-09 21:03:56,367 - DEBUG - websocket - User DYY5A: Fallback last price for USDTRY: Buy=40.0492350000, Sell=40.0474250000
2025-07-09 21:03:56,368 - DEBUG - websocket - User DYY5A: Fallback last price for USDNOK: Buy=10.0974800000, Sell=10.0961000000
2025-07-09 21:03:56,369 - DEBUG - websocket - User DYY5A: Fallback last price for USDZAR: Buy=17.8287750000, Sell=17.8235350000
2025-07-09 21:03:56,370 - DEBUG - websocket - User DYY5A: Fallback last price for NZDCAD: Buy=0.8204300000, Sell=0.8201600000
2025-07-09 21:03:56,371 - DEBUG - websocket - User DYY5A: Fallback last price for USDCAD: Buy=1.3690500000, Sell=1.3688100000
2025-07-09 21:03:56,371 - INFO - websocket - User 4: WebSocket disconnected while sending initial connection data
2025-07-09 21:03:56,371 - WARNING - websocket - User DYY5A: Failed to send initial connection data, connection may be closed
2025-07-09 21:04:48,652 - INFO - websocket - --- MINIMAL TEST: ENTERED websocket_endpoint --- Connection ID: 127.0.0.1:52387-1752120288652
2025-07-09 21:04:48,653 - INFO - websocket - WebSocket connection accepted (early) for 127.0.0.1:52387 in 0.001s
2025-07-09 21:04:48,655 - DEBUG - websocket - User 0: Successfully sent loading message
2025-07-09 21:04:48,655 - INFO - websocket - WebSocket auth: token payload={'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1752122086, 'iat': 1752120286}, account_number=5O42G, user_type=demo
2025-07-09 21:04:48,656 - INFO - websocket - WebSocket auth: About to call get_demo_user_by_account_number with account_number=5O42G, user_type=demo
2025-07-09 21:04:48,660 - INFO - websocket - WebSocket auth: get_demo_user_by_account_number(5O42G, demo) returned: <app.database.models.DemoUser object at 0x000002B0B02EAC40>
2025-07-09 21:04:48,661 - INFO - websocket - [WS] Using order model: DemoUserOrder for user_type=demo, account_number=5O42G
2025-07-09 21:04:48,664 - INFO - websocket - [WS] Open positions from DB for user_id=1: []
2025-07-09 21:04:49,059 - DEBUG - websocket - Cached/updated group-symbol settings for group 'Group B'.
2025-07-09 21:04:49,064 - DEBUG - websocket - User 1: Fetched 0 open orders directly from database
2025-07-09 21:04:49,068 - DEBUG - websocket - User 1: Fetched 0 pending orders directly from database
2025-07-09 21:04:49,069 - DEBUG - websocket - User 1: Updated static orders cache with 0 open orders and 0 pending orders
2025-07-09 21:04:49,081 - INFO - websocket - User 5O42G: Fetching initial market data for 79 symbols from cache (adjusted or last known price)
2025-07-09 21:04:49,095 - DEBUG - websocket - User 5O42G: Fallback last price for AUDNZD: Buy=1.0002500000, Sell=0.9997500000
2025-07-09 21:04:49,097 - DEBUG - websocket - User 5O42G: Fallback last price for NOKSEK: Buy=0.9439250000, Sell=0.9435150000
2025-07-09 21:04:49,099 - DEBUG - websocket - User 5O42G: Fallback last price for AUDSGD: Buy=1.0001500000, Sell=0.9998500000
2025-07-09 21:04:49,101 - DEBUG - websocket - User 5O42G: Fallback last price for EURCZK: Buy=25.0001500000, Sell=24.9998500000
2025-07-09 21:04:49,105 - DEBUG - websocket - User 1: Successfully sent initial connection data
2025-07-09 21:04:49,105 - INFO - websocket - User 5O42G: Sent initial connection data with 48 symbols (fresh from cache)
2025-07-09 21:04:52,099 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=0
2025-07-09 21:04:52,099 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('0')}
2025-07-09 21:04:52,099 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:04:54,377 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=0
2025-07-09 21:04:54,377 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('0')}
2025-07-09 21:04:54,378 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:04:54,639 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=0
2025-07-09 21:04:54,639 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('0')}
2025-07-09 21:04:54,640 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:04:57,062 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=0
2025-07-09 21:04:57,062 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('0')}
2025-07-09 21:04:57,062 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:04:59,309 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=0
2025-07-09 21:04:59,309 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('0')}
2025-07-09 21:04:59,310 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:05:01,547 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=0
2025-07-09 21:05:01,547 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('0')}
2025-07-09 21:05:01,548 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:05:03,884 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=0
2025-07-09 21:05:03,884 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('0')}
2025-07-09 21:05:03,885 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:05:06,193 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=0
2025-07-09 21:05:06,193 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('0')}
2025-07-09 21:05:06,194 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:05:08,514 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=0
2025-07-09 21:05:08,514 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('0')}
2025-07-09 21:05:08,515 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:05:10,850 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=0
2025-07-09 21:05:10,850 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('0')}
2025-07-09 21:05:10,850 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:05:13,088 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=0
2025-07-09 21:05:13,088 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('0')}
2025-07-09 21:05:13,089 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:05:15,473 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=0
2025-07-09 21:05:15,473 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('0')}
2025-07-09 21:05:15,474 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:05:17,648 - DEBUG - websocket - User 1: Fetched 0 open orders directly from database
2025-07-09 21:05:17,650 - DEBUG - websocket - User 1: Fetched 1 pending orders directly from database
2025-07-09 21:05:17,651 - DEBUG - websocket - User 1: Updated static orders cache with 0 open orders and 1 pending orders
2025-07-09 21:05:17,653 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 21:05:17,657 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=0.0
2025-07-09 21:05:17,657 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('0.0')}
2025-07-09 21:05:17,658 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 21:05:17,658 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 21:05:17,660 - DEBUG - websocket - User 1: Fetched 0 open orders directly from database
2025-07-09 21:05:17,667 - DEBUG - websocket - User 1: Fetched 1 pending orders directly from database
2025-07-09 21:05:17,669 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=0.0
2025-07-09 21:05:17,670 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('0.0')}
2025-07-09 21:05:17,671 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 21:05:17,674 - DEBUG - websocket - User 1: Updated static orders cache with 0 open orders and 1 pending orders
2025-07-09 21:05:17,752 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=0.0
2025-07-09 21:05:17,753 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('0.0')}
2025-07-09 21:05:17,754 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:05:20,076 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=0.0
2025-07-09 21:05:20,076 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('0.0')}
2025-07-09 21:05:20,077 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:05:22,325 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=0.0
2025-07-09 21:05:22,325 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('0.0')}
2025-07-09 21:05:22,326 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:05:24,685 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=0.0
2025-07-09 21:05:24,686 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('0.0')}
2025-07-09 21:05:24,686 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:05:26,933 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=0.0
2025-07-09 21:05:26,933 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('0.0')}
2025-07-09 21:05:26,934 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:05:29,220 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=0.0
2025-07-09 21:05:29,220 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('0.0')}
2025-07-09 21:05:29,221 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:05:31,549 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=0.0
2025-07-09 21:05:31,549 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('0.0')}
2025-07-09 21:05:31,550 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:05:33,813 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=0.0
2025-07-09 21:05:33,813 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('0.0')}
2025-07-09 21:05:33,814 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:05:36,060 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=0.0
2025-07-09 21:05:36,061 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('0.0')}
2025-07-09 21:05:36,062 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:05:36,662 - DEBUG - websocket - User 1: Fetched 0 open orders directly from database
2025-07-09 21:05:36,663 - DEBUG - websocket - User 1: Fetched 2 pending orders directly from database
2025-07-09 21:05:36,664 - DEBUG - websocket - User 1: Updated static orders cache with 0 open orders and 2 pending orders
2025-07-09 21:05:36,666 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 21:05:36,670 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=0.0
2025-07-09 21:05:36,670 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('0.0')}
2025-07-09 21:05:36,671 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 21:05:36,671 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 21:05:36,673 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=0.0
2025-07-09 21:05:36,673 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('0.0')}
2025-07-09 21:05:36,674 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 21:05:36,675 - DEBUG - websocket - User 1: Fetched 0 open orders directly from database
2025-07-09 21:05:36,679 - DEBUG - websocket - User 1: Fetched 2 pending orders directly from database
2025-07-09 21:05:36,681 - DEBUG - websocket - User 1: Updated static orders cache with 0 open orders and 2 pending orders
2025-07-09 21:05:38,312 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=0.0
2025-07-09 21:05:38,312 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('0.0')}
2025-07-09 21:05:38,313 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:05:38,861 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 21:05:38,865 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=0.0
2025-07-09 21:05:38,866 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('0.0')}
2025-07-09 21:05:38,866 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 21:05:38,867 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 21:05:38,869 - DEBUG - websocket - User 1: Fetched 1 open orders directly from database
2025-07-09 21:05:38,872 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=0.0
2025-07-09 21:05:38,872 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('0.0')}
2025-07-09 21:05:38,873 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 21:05:38,880 - DEBUG - websocket - User 1: Fetched 1 pending orders directly from database
2025-07-09 21:05:38,881 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=0.0
2025-07-09 21:05:38,882 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('0.0')}
2025-07-09 21:05:38,882 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:05:38,883 - DEBUG - websocket - User 1: Updated static orders cache with 1 open orders and 1 pending orders
2025-07-09 21:05:38,896 - DEBUG - websocket - User 1: Updated balance/margin cache: balance=24838.60088585, margin=6.53
2025-07-09 21:05:40,658 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:05:40,659 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:05:40,660 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:05:42,912 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:05:42,912 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:05:42,913 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:05:45,227 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:05:45,227 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:05:45,227 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:05:47,526 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:05:47,527 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:05:47,527 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:05:49,863 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:05:49,864 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:05:49,865 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:05:52,118 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:05:52,118 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:05:52,119 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:05:54,483 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:05:54,483 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:05:54,484 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:05:56,729 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:05:56,729 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:05:56,730 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:05:59,079 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:05:59,079 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:05:59,079 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:06:01,339 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:06:01,339 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:06:01,340 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:06:03,696 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:06:03,696 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:06:03,697 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:06:05,949 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:06:05,950 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:06:05,951 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:06:08,298 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:06:08,298 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:06:08,298 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:06:10,554 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:06:10,554 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:06:10,555 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:06:12,878 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:06:12,878 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:06:12,880 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:06:15,193 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:06:15,194 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:06:15,197 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:06:17,506 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:06:17,506 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:06:17,507 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:06:19,884 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:06:19,884 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:06:19,885 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:06:22,138 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:06:22,138 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:06:22,139 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:06:24,558 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:06:24,558 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:06:24,559 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:06:26,953 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:06:26,953 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:06:26,954 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:06:29,201 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:06:29,201 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:06:29,202 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:06:31,549 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:06:31,549 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:06:31,550 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:06:33,787 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:06:33,787 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:06:33,787 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:06:36,109 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:06:36,110 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:06:36,111 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:06:38,514 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:06:38,514 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:06:38,515 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:06:40,771 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:06:40,771 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:06:40,772 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:06:43,126 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:06:43,126 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:06:43,127 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:06:45,384 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:06:45,384 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:06:45,385 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:06:47,730 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:06:47,730 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:06:47,731 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:06:50,099 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:06:50,099 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:06:50,100 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:06:52,345 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:06:52,345 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:06:52,346 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:06:54,607 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:06:54,608 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:06:54,608 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:06:56,871 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:06:56,871 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:06:56,872 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:06:59,134 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:06:59,135 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:06:59,135 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:07:01,461 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:07:01,461 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:07:01,462 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:07:03,808 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:07:03,808 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:07:03,809 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:07:06,001 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:07:06,001 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:07:06,002 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:07:08,296 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:07:08,296 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:07:08,297 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:07:10,600 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:07:10,600 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:07:10,601 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:07:12,929 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:07:12,929 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:07:12,930 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:07:15,234 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:07:15,234 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:07:15,235 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:07:17,574 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:07:17,574 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:07:17,576 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:07:19,872 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:07:19,872 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:07:19,873 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:07:22,233 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:07:22,234 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:07:22,237 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:07:24,594 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:07:24,594 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:07:24,595 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:07:26,794 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:07:26,795 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:07:26,795 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:07:29,120 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:07:29,120 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:07:29,121 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:07:31,456 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:07:31,456 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:07:31,457 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:07:33,809 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:07:33,809 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:07:33,810 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:07:36,062 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:07:36,062 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:07:36,063 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:07:38,497 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:07:38,497 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:07:38,498 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:07:40,612 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:07:40,612 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:07:40,613 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:07:42,879 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:07:42,879 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:07:42,880 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:07:45,175 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:07:45,178 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:07:45,180 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:07:47,745 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:07:47,745 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:07:47,745 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:07:50,092 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:07:50,092 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:07:50,097 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:07:52,262 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:07:52,262 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:07:52,263 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:07:54,595 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:07:54,595 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:07:54,596 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:07:56,851 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:07:56,851 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:07:56,851 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:07:59,507 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:07:59,507 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:07:59,508 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:08:01,787 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:08:01,787 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:08:01,788 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:08:04,123 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:08:04,124 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:08:04,124 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:08:06,305 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:08:06,305 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:08:06,306 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:08:08,633 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:08:08,633 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:08:08,638 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:08:10,893 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:08:10,893 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:08:10,893 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:08:13,251 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:08:13,251 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:08:13,252 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:08:15,497 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:08:15,497 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:08:15,498 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:08:17,744 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:08:17,745 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:08:17,748 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:08:20,015 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:08:20,015 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:08:20,016 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:08:22,338 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:08:22,338 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:08:22,339 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:08:24,612 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:08:24,613 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:08:24,613 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:08:26,967 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:08:26,967 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:08:26,967 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:08:29,213 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:08:29,213 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:08:29,214 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:08:31,562 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:08:31,562 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:08:31,564 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:08:33,811 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:08:33,813 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:08:33,814 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:08:36,070 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:08:36,074 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:08:36,075 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:08:38,501 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:08:38,501 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:08:38,501 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:08:40,667 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:08:40,667 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:08:40,668 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:08:42,953 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:08:42,953 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:08:42,954 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:08:45,247 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:08:45,247 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:08:45,248 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:08:47,523 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:08:47,523 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:08:47,524 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:08:49,876 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:08:49,876 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:08:49,877 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:08:52,165 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:08:52,165 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:08:52,167 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:08:54,468 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:08:54,468 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:08:54,469 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:08:56,875 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:08:56,875 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:08:56,876 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:08:59,100 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:08:59,101 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:08:59,101 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:09:01,420 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:09:01,420 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:09:01,420 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:09:03,698 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:09:03,699 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:09:03,699 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:09:06,021 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:09:06,021 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:09:06,022 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:09:08,334 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:09:08,334 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:09:08,335 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:09:10,679 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:09:10,679 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:09:10,680 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:09:12,902 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:09:12,902 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:09:12,903 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:09:15,192 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:09:15,192 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:09:15,193 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:09:17,450 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:09:17,451 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:09:17,451 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:09:19,798 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:09:19,799 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:09:19,801 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:09:22,054 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:09:22,054 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:09:22,055 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:09:24,407 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:09:24,407 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:09:24,408 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:09:26,655 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:09:26,655 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:09:26,655 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:09:28,887 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:09:28,887 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:09:28,888 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:09:31,284 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:09:31,284 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:09:31,285 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:09:33,522 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:09:33,522 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:09:33,523 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:09:35,872 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:09:35,872 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:09:35,873 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:09:38,400 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:09:38,400 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:09:38,401 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:09:40,482 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:09:40,482 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:09:40,483 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:09:42,730 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:09:42,730 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:09:42,731 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:09:45,107 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:09:45,107 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:09:45,108 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:09:47,344 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:09:47,344 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:09:47,345 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:09:49,580 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:09:49,580 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:09:49,581 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:09:51,958 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:09:51,958 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:09:51,959 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:09:54,200 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:09:54,200 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:09:54,201 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:09:56,449 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:09:56,449 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:09:56,451 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:09:58,814 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:09:58,814 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:09:58,815 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:10:01,070 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:10:01,070 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:10:01,071 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:10:03,296 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:10:03,299 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:10:03,300 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:10:05,573 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:10:05,574 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:10:05,575 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:10:07,833 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:10:07,834 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:10:07,835 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:10:10,183 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:10:10,183 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:10:10,184 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:10:12,422 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:10:12,422 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:10:12,423 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:10:14,719 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:10:14,720 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:10:14,721 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:10:17,044 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:10:17,044 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:10:17,045 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:10:19,378 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:10:19,378 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:10:19,379 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:10:21,642 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:10:21,642 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:10:21,643 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:10:23,999 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:10:23,999 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:10:24,000 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:10:26,253 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:10:26,253 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:10:26,254 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:10:28,612 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:10:28,612 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:10:28,613 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:10:30,853 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:10:30,853 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:10:30,853 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:10:33,110 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:10:33,110 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:10:33,110 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:10:35,394 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:10:35,394 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:10:35,395 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:10:38,104 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:10:38,104 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:10:38,105 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:10:40,061 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=0.0, margin=0.0
2025-07-09 21:10:40,061 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: None
2025-07-09 21:10:40,064 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:10:42,325 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=0.0, margin=0.0
2025-07-09 21:10:42,326 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: None
2025-07-09 21:10:42,327 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:10:44,691 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=0.0, margin=0.0
2025-07-09 21:10:44,692 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: None
2025-07-09 21:10:44,692 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:10:46,938 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=0.0, margin=0.0
2025-07-09 21:10:46,938 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: None
2025-07-09 21:10:46,939 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:10:49,169 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=0.0, margin=0.0
2025-07-09 21:10:49,170 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: None
2025-07-09 21:10:49,175 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:10:51,539 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=0.0, margin=0.0
2025-07-09 21:10:51,539 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: None
2025-07-09 21:10:51,540 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:10:53,768 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=0.0, margin=0.0
2025-07-09 21:10:53,768 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: None
2025-07-09 21:10:53,769 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:10:56,001 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=0.0, margin=0.0
2025-07-09 21:10:56,001 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: None
2025-07-09 21:10:56,002 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:10:58,289 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=0.0, margin=0.0
2025-07-09 21:10:58,289 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: None
2025-07-09 21:10:58,290 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:11:00,610 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=0.0, margin=0.0
2025-07-09 21:11:00,610 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: None
2025-07-09 21:11:00,611 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:11:02,910 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=0.0, margin=0.0
2025-07-09 21:11:02,910 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: None
2025-07-09 21:11:02,911 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:11:05,164 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=0.0, margin=0.0
2025-07-09 21:11:05,164 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: None
2025-07-09 21:11:05,166 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:11:07,397 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=0.0, margin=0.0
2025-07-09 21:11:07,397 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: None
2025-07-09 21:11:07,398 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:11:09,775 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=0.0, margin=0.0
2025-07-09 21:11:09,775 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: None
2025-07-09 21:11:09,776 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:11:12,027 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=0.0, margin=0.0
2025-07-09 21:11:12,027 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: None
2025-07-09 21:11:12,028 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:11:14,267 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=0.0, margin=0.0
2025-07-09 21:11:14,267 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: None
2025-07-09 21:11:14,268 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:11:16,625 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=0.0, margin=0.0
2025-07-09 21:11:16,625 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: None
2025-07-09 21:11:16,626 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:11:18,835 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=0.0, margin=0.0
2025-07-09 21:11:18,835 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: None
2025-07-09 21:11:18,836 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:11:21,136 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=0.0, margin=0.0
2025-07-09 21:11:21,137 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: None
2025-07-09 21:11:21,138 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:11:23,471 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=0.0, margin=0.0
2025-07-09 21:11:23,472 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: None
2025-07-09 21:11:23,474 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:11:25,763 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=0.0, margin=0.0
2025-07-09 21:11:25,763 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: None
2025-07-09 21:11:25,764 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:11:26,390 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 21:11:26,392 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:11:26,392 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:11:26,392 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 21:11:26,392 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 21:11:26,394 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:11:26,395 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:11:26,395 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 21:11:26,395 - DEBUG - websocket - User 1: Fetched 2 open orders directly from database
2025-07-09 21:11:26,397 - DEBUG - websocket - User 1: Fetched 0 pending orders directly from database
2025-07-09 21:11:26,399 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=6.53
2025-07-09 21:11:26,399 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('6.53')}
2025-07-09 21:11:26,400 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:11:26,402 - DEBUG - websocket - User 1: Updated static orders cache with 2 open orders and 0 pending orders
2025-07-09 21:11:26,410 - DEBUG - websocket - User 1: Updated balance/margin cache: balance=24838.60088585, margin=13.07
2025-07-09 21:11:28,011 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:11:28,011 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:11:28,012 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:11:30,350 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:11:30,350 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:11:30,352 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:11:32,545 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:11:32,545 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:11:32,547 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:11:34,880 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:11:34,880 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:11:34,881 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:11:37,100 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:11:37,100 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:11:37,101 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:11:39,457 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:11:39,457 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:11:39,458 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:11:41,708 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:11:41,708 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:11:41,709 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:11:43,959 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:11:43,959 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:11:43,960 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:11:46,308 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:11:46,308 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:11:46,308 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:11:48,583 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:11:48,583 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:11:48,584 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:11:50,835 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:11:50,835 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:11:50,836 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:11:53,083 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:11:53,083 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:11:53,084 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:11:55,402 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:11:55,402 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:11:55,403 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:11:57,666 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:11:57,666 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:11:57,667 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:11:59,887 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:11:59,888 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:11:59,888 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:12:02,185 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:12:02,185 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:12:02,185 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:12:04,453 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:12:04,453 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:12:04,455 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:12:06,798 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:12:06,798 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:12:06,799 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:12:09,070 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:12:09,071 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:12:09,071 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:12:11,403 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:12:11,404 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:12:11,405 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:12:13,669 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:12:13,670 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:12:13,671 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:12:15,906 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:12:15,906 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:12:15,906 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:12:18,172 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:12:18,172 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:12:18,173 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:12:20,449 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:12:20,449 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:12:20,450 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:12:22,747 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:12:22,747 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:12:22,748 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:12:25,018 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:12:25,018 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:12:25,020 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:12:27,299 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:12:27,299 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:12:27,300 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:12:29,631 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:12:29,631 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:12:29,632 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:12:31,993 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:12:31,993 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:12:31,994 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:12:34,249 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:12:34,249 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:12:34,251 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:12:36,493 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:12:36,493 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:12:36,494 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:12:38,744 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:12:38,744 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:12:38,745 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:12:41,031 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:12:41,031 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:12:41,032 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:12:43,289 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:12:43,289 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:12:43,290 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:12:45,573 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:12:45,573 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:12:45,574 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:12:47,872 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:12:47,872 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:12:47,873 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:12:50,207 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:12:50,208 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:12:50,208 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:12:52,500 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:12:52,500 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:12:52,501 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:12:54,727 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:12:54,727 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:12:54,729 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:12:57,075 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:12:57,075 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:12:57,076 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:12:59,340 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:12:59,340 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:12:59,341 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:13:01,582 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:13:01,582 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:13:01,583 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:13:03,841 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:13:03,841 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:13:03,843 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:13:06,094 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:13:06,094 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:13:06,097 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:13:08,454 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:13:08,454 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:13:08,454 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:13:10,686 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:13:10,686 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:13:10,689 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:13:12,994 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:13:12,994 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:13:12,994 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:13:15,298 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:13:15,298 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:13:15,300 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:13:17,551 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:13:17,551 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:13:17,552 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:13:19,877 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:13:19,878 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:13:19,879 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:13:22,129 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:13:22,129 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:13:22,130 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:13:24,441 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:13:24,441 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:13:24,442 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:13:26,778 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:13:26,778 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:13:26,779 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:13:29,036 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:13:29,036 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:13:29,038 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:13:31,273 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:13:31,273 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:13:31,274 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:13:33,632 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:13:33,632 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:13:33,634 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:13:35,886 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:13:35,886 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:13:35,888 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:13:38,149 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:13:38,150 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:13:38,151 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:13:40,517 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:13:40,517 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:13:40,518 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:13:42,740 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:13:42,740 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:13:42,741 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:13:45,005 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:13:45,005 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:13:45,006 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:13:47,242 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:13:47,243 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:13:47,243 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:13:49,612 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:13:49,612 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:13:49,613 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:13:51,870 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:13:51,870 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:13:51,871 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:13:54,105 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:13:54,106 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:13:54,107 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:13:56,467 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:13:56,467 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:13:56,467 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:13:58,725 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:13:58,725 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:13:58,725 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:14:00,983 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:14:00,983 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:14:00,984 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:14:03,228 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:14:03,228 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:14:03,228 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:14:05,583 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:14:05,583 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:14:05,586 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:14:07,857 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:14:07,857 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:14:07,858 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:14:10,092 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:14:10,092 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:14:10,092 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:14:12,346 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:14:12,346 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:14:12,347 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:14:14,603 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:14:14,603 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:14:14,603 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:14:16,888 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:14:16,888 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:14:16,889 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:14:19,191 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:14:19,191 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:14:19,192 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:14:21,552 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:14:21,552 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:14:21,553 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:14:23,797 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:14:23,797 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:14:23,798 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:14:26,003 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:14:26,006 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:14:26,006 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:14:28,316 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:14:28,316 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:14:28,317 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:14:30,673 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:14:30,673 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:14:30,674 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:14:32,926 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:14:32,926 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:14:32,926 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:14:35,176 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:14:35,177 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:14:35,178 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:14:37,554 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:14:37,554 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:14:37,555 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:14:39,792 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:14:39,792 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:14:39,795 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:14:42,035 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:14:42,035 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:14:42,037 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:14:44,397 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:14:44,397 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:14:44,398 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:14:46,629 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:14:46,629 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:14:46,629 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:14:48,901 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:14:48,901 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:14:48,902 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:14:51,144 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:14:51,144 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:14:51,145 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:14:53,404 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:14:53,404 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:14:53,405 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:14:55,737 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:14:55,737 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:14:55,738 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:14:58,008 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:14:58,008 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:14:58,009 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:15:00,364 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:15:00,364 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:15:00,365 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:15:02,548 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:15:02,548 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:15:02,549 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:15:04,870 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:15:04,871 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:15:04,871 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:15:07,087 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:15:07,087 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:15:07,088 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:15:09,445 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:15:09,445 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:15:09,447 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:15:11,653 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:15:11,653 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:15:11,654 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:15:14,047 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:15:14,048 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:15:14,048 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:15:16,228 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:15:16,228 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:15:16,228 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:15:18,497 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:15:18,497 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:15:18,498 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:15:20,838 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:15:20,838 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:15:20,839 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:15:23,046 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:15:23,046 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:15:23,047 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:15:25,442 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:15:25,442 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:15:25,442 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:15:27,692 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:15:27,692 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:15:27,692 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:15:29,954 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:15:29,954 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:15:29,955 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:15:32,294 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:15:32,294 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:15:32,295 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:15:34,508 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:15:34,508 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:15:34,508 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:15:36,800 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:15:36,800 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:15:36,800 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:15:39,063 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:15:39,063 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:15:39,063 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:15:41,414 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:15:41,414 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:15:41,414 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:15:43,674 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:15:43,674 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:15:43,675 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:15:45,891 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:15:45,891 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:15:45,892 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:15:48,272 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:15:48,272 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:15:48,273 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:15:50,519 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:15:50,519 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:15:50,519 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:15:52,785 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:15:52,785 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:15:52,786 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:15:55,029 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:15:55,029 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:15:55,030 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:15:57,399 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:15:57,399 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:15:57,400 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:15:59,645 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:15:59,645 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:15:59,646 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:16:01,900 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:16:01,900 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:16:01,901 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:16:04,141 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:16:04,142 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:16:04,142 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:16:06,441 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:16:06,441 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:16:06,442 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:16:08,789 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:16:08,789 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:16:08,793 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:16:11,013 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:16:11,013 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:16:11,014 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:16:13,365 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:16:13,365 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:16:13,365 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:16:15,594 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:16:15,594 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:16:15,595 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:16:17,887 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:16:17,888 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:16:17,889 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:16:20,242 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:16:20,243 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:16:20,243 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:16:22,469 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:16:22,469 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:16:22,469 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:16:24,727 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.60088585, margin=13.07
2025-07-09 21:16:24,728 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.60088585'), 'margin': Decimal('13.07')}
2025-07-09 21:16:24,728 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:16:27,081 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=0.0, margin=0.0
2025-07-09 21:16:27,081 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: None
2025-07-09 21:16:27,082 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:16:29,290 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=0.0, margin=0.0
2025-07-09 21:16:29,290 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: None
2025-07-09 21:16:29,291 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:16:31,585 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=0.0, margin=0.0
2025-07-09 21:16:31,585 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: None
2025-07-09 21:16:31,586 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:16:34,244 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=0.0, margin=0.0
2025-07-09 21:16:34,244 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: None
2025-07-09 21:16:34,245 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:16:36,500 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=0.0, margin=0.0
2025-07-09 21:16:36,500 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: None
2025-07-09 21:16:36,501 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:16:38,853 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=0.0, margin=0.0
2025-07-09 21:16:38,853 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: None
2025-07-09 21:16:38,854 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:16:41,107 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=0.0, margin=0.0
2025-07-09 21:16:41,107 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: None
2025-07-09 21:16:41,107 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:16:43,363 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=0.0, margin=0.0
2025-07-09 21:16:43,363 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: None
2025-07-09 21:16:43,363 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:16:45,613 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=0.0, margin=0.0
2025-07-09 21:16:45,613 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: None
2025-07-09 21:16:45,614 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:16:47,973 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=0.0, margin=0.0
2025-07-09 21:16:47,973 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: None
2025-07-09 21:16:47,974 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:16:50,173 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=0.0, margin=0.0
2025-07-09 21:16:50,173 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: None
2025-07-09 21:16:50,173 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:16:52,467 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=0.0, margin=0.0
2025-07-09 21:16:52,467 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: None
2025-07-09 21:16:52,468 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:16:54,811 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=0.0, margin=0.0
2025-07-09 21:16:54,811 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: None
2025-07-09 21:16:54,811 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:16:57,040 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=0.0, margin=0.0
2025-07-09 21:16:57,040 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: None
2025-07-09 21:16:57,041 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:16:59,350 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=0.0, margin=0.0
2025-07-09 21:16:59,351 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: None
2025-07-09 21:16:59,352 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:17:01,617 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=0.0, margin=0.0
2025-07-09 21:17:01,617 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: None
2025-07-09 21:17:01,618 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:17:03,948 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=0.0, margin=0.0
2025-07-09 21:17:03,948 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: None
2025-07-09 21:17:03,949 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:17:06,171 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=0.0, margin=0.0
2025-07-09 21:17:06,171 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: None
2025-07-09 21:17:06,172 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:17:08,470 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=0.0, margin=0.0
2025-07-09 21:17:08,470 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: None
2025-07-09 21:17:08,470 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:17:10,823 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=0.0, margin=0.0
2025-07-09 21:17:10,823 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: None
2025-07-09 21:17:10,824 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:17:13,038 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=0.0, margin=0.0
2025-07-09 21:17:13,038 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: None
2025-07-09 21:17:13,039 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:17:15,283 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=0.0, margin=0.0
2025-07-09 21:17:15,284 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: None
2025-07-09 21:17:15,284 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:17:17,118 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 21:17:17,122 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.41088585, margin=0
2025-07-09 21:17:17,122 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.41088585'), 'margin': Decimal('0')}
2025-07-09 21:17:17,123 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 21:17:17,123 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 21:17:17,126 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.41088585, margin=0
2025-07-09 21:17:17,126 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.41088585'), 'margin': Decimal('0')}
2025-07-09 21:17:17,128 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 21:17:17,134 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.41088585, margin=0
2025-07-09 21:17:17,134 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.41088585'), 'margin': Decimal('0')}
2025-07-09 21:17:17,135 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:17:17,572 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.41088585, margin=0
2025-07-09 21:17:17,573 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.41088585'), 'margin': Decimal('0')}
2025-07-09 21:17:17,575 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:17:19,859 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.41088585, margin=0
2025-07-09 21:17:19,860 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.41088585'), 'margin': Decimal('0')}
2025-07-09 21:17:19,860 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:17:22,142 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.41088585, margin=0
2025-07-09 21:17:22,142 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.41088585'), 'margin': Decimal('0')}
2025-07-09 21:17:22,143 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:17:24,405 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.41088585, margin=0
2025-07-09 21:17:24,405 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.41088585'), 'margin': Decimal('0')}
2025-07-09 21:17:24,406 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:17:26,684 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.41088585, margin=0
2025-07-09 21:17:26,684 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.41088585'), 'margin': Decimal('0')}
2025-07-09 21:17:26,685 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:17:29,018 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.41088585, margin=0
2025-07-09 21:17:29,019 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.41088585'), 'margin': Decimal('0')}
2025-07-09 21:17:29,020 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:17:31,259 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.41088585, margin=0
2025-07-09 21:17:31,259 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.41088585'), 'margin': Decimal('0')}
2025-07-09 21:17:31,259 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:17:33,557 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.41088585, margin=0
2025-07-09 21:17:33,557 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.41088585'), 'margin': Decimal('0')}
2025-07-09 21:17:33,557 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:17:35,938 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.41088585, margin=0
2025-07-09 21:17:35,938 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.41088585'), 'margin': Decimal('0')}
2025-07-09 21:17:35,939 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:17:38,400 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.41088585, margin=0
2025-07-09 21:17:38,400 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.41088585'), 'margin': Decimal('0')}
2025-07-09 21:17:38,400 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:17:40,403 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.41088585, margin=0
2025-07-09 21:17:40,403 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.41088585'), 'margin': Decimal('0')}
2025-07-09 21:17:40,404 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:17:42,657 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.41088585, margin=0
2025-07-09 21:17:42,657 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.41088585'), 'margin': Decimal('0')}
2025-07-09 21:17:42,658 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:17:45,038 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.41088585, margin=0
2025-07-09 21:17:45,038 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.41088585'), 'margin': Decimal('0')}
2025-07-09 21:17:45,039 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:17:47,224 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.41088585, margin=0
2025-07-09 21:17:47,228 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.41088585'), 'margin': Decimal('0')}
2025-07-09 21:17:47,229 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:17:49,542 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.41088585, margin=0
2025-07-09 21:17:49,543 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.41088585'), 'margin': Decimal('0')}
2025-07-09 21:17:49,544 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:17:51,877 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.41088585, margin=0
2025-07-09 21:17:51,878 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.41088585'), 'margin': Decimal('0')}
2025-07-09 21:17:51,879 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:17:54,075 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.41088585, margin=0
2025-07-09 21:17:54,075 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.41088585'), 'margin': Decimal('0')}
2025-07-09 21:17:54,076 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:17:56,397 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.41088585, margin=0
2025-07-09 21:17:56,397 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.41088585'), 'margin': Decimal('0')}
2025-07-09 21:17:56,398 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:17:58,759 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.41088585, margin=0
2025-07-09 21:17:58,759 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.41088585'), 'margin': Decimal('0')}
2025-07-09 21:17:58,760 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:18:00,930 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.41088585, margin=0
2025-07-09 21:18:00,930 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.41088585'), 'margin': Decimal('0')}
2025-07-09 21:18:00,930 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:18:03,245 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.41088585, margin=0
2025-07-09 21:18:03,245 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.41088585'), 'margin': Decimal('0')}
2025-07-09 21:18:03,245 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:18:04,770 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 21:18:04,775 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=0
2025-07-09 21:18:04,776 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('0')}
2025-07-09 21:18:04,779 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 21:18:04,779 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 21:18:04,791 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=0
2025-07-09 21:18:04,792 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('0')}
2025-07-09 21:18:04,792 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 21:18:04,796 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=0
2025-07-09 21:18:04,796 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('0')}
2025-07-09 21:18:04,797 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:18:05,497 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=0
2025-07-09 21:18:05,497 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('0')}
2025-07-09 21:18:05,497 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:18:07,753 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=0
2025-07-09 21:18:07,754 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('0')}
2025-07-09 21:18:07,754 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:18:10,098 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=0
2025-07-09 21:18:10,098 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('0')}
2025-07-09 21:18:10,101 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:18:12,337 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=0
2025-07-09 21:18:12,337 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('0')}
2025-07-09 21:18:12,338 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:18:14,633 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=0
2025-07-09 21:18:14,633 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('0')}
2025-07-09 21:18:14,633 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:18:16,963 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=0
2025-07-09 21:18:16,963 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('0')}
2025-07-09 21:18:16,964 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:18:19,186 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=0
2025-07-09 21:18:19,187 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('0')}
2025-07-09 21:18:19,187 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:18:21,470 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=0
2025-07-09 21:18:21,470 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('0')}
2025-07-09 21:18:21,471 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:18:24,248 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=0
2025-07-09 21:18:24,248 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('0')}
2025-07-09 21:18:24,250 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:18:24,690 - INFO - websocket - User 5O42G: WebSocket disconnected by client.
2025-07-09 21:18:24,691 - INFO - websocket - User 5O42G: Cleaning up WebSocket connection.
2025-07-09 21:18:24,704 - INFO - websocket - User 5O42G: Listener task successfully cancelled.
2025-07-09 21:18:24,704 - INFO - websocket - User 5O42G: WebSocket connection fully closed.
2025-07-09 21:18:26,490 - INFO - websocket - Redis publisher task cancelled.
2025-07-09 21:18:26,490 - INFO - websocket - Redis publisher task finished.
2025-07-09 21:19:14,744 - INFO - websocket - Redis publisher task started. Publishing to channel 'market_data_updates'.
2025-07-09 21:19:17,285 - INFO - websocket - --- MINIMAL TEST: ENTERED websocket_endpoint --- Connection ID: 127.0.0.1:53162-1752121157285
2025-07-09 21:19:17,286 - INFO - websocket - WebSocket connection accepted (early) for 127.0.0.1:53162 in 0.001s
2025-07-09 21:19:17,289 - DEBUG - websocket - User 0: Successfully sent loading message
2025-07-09 21:19:17,292 - INFO - websocket - WebSocket auth: token payload={'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1752122086, 'iat': 1752120286}, account_number=5O42G, user_type=demo
2025-07-09 21:19:17,292 - INFO - websocket - WebSocket auth: About to call get_demo_user_by_account_number with account_number=5O42G, user_type=demo
2025-07-09 21:19:17,538 - INFO - websocket - WebSocket auth: get_demo_user_by_account_number(5O42G, demo) returned: <app.database.models.DemoUser object at 0x000001F34B2823C0>
2025-07-09 21:19:21,627 - INFO - websocket - [WS] Using order model: DemoUserOrder for user_type=demo, account_number=5O42G
2025-07-09 21:19:21,638 - INFO - websocket - [WS] Open positions from DB for user_id=1: []
2025-07-09 21:19:34,193 - DEBUG - websocket - Cached/updated group-symbol settings for group 'Group B'.
2025-07-09 21:19:34,194 - DEBUG - websocket - User 1: Fetched 0 open orders directly from database
2025-07-09 21:19:34,196 - DEBUG - websocket - User 1: Fetched 0 pending orders directly from database
2025-07-09 21:19:34,197 - DEBUG - websocket - User 1: Updated static orders cache with 0 open orders and 0 pending orders
2025-07-09 21:19:34,202 - INFO - websocket - User 5O42G: Fetching initial market data for 79 symbols from cache (adjusted or last known price)
2025-07-09 21:19:34,203 - DEBUG - websocket - User 5O42G: Fallback last price for EURUSD: Buy=1.1714100000, Sell=1.1712400000
2025-07-09 21:19:34,203 - DEBUG - websocket - User 5O42G: Fallback last price for USDZAR: Buy=17.8287500000, Sell=17.8235600000
2025-07-09 21:19:34,206 - DEBUG - websocket - User 5O42G: Fallback last price for SGDJPY: Buy=114.3865000000, Sell=114.3445000000
2025-07-09 21:19:34,207 - DEBUG - websocket - User 5O42G: Fallback last price for GBPAUD: Buy=2.0834300000, Sell=2.0830100000
2025-07-09 21:19:34,209 - DEBUG - websocket - User 5O42G: Fallback last price for USDNOK: Buy=10.0974300000, Sell=10.0961500000
2025-07-09 21:19:34,209 - DEBUG - websocket - User 5O42G: Fallback last price for NZDCAD: Buy=0.8204800000, Sell=0.8201100000
2025-07-09 21:19:34,210 - DEBUG - websocket - User 5O42G: Fallback last price for GBPNZD: Buy=2.2706600000, Sell=2.2701100000
2025-07-09 21:19:34,211 - DEBUG - websocket - User 5O42G: Fallback last price for CADJPY: Buy=107.0175000000, Sell=106.9895000000
2025-07-09 21:19:34,211 - DEBUG - websocket - User 5O42G: Fallback last price for CHFJPY: Buy=184.0850000000, Sell=184.0350000000
2025-07-09 21:19:34,212 - DEBUG - websocket - User 5O42G: Fallback last price for US30: Buy=44413.6000000000, Sell=44411.6000000000
2025-07-09 21:19:34,213 - DEBUG - websocket - User 5O42G: Fallback last price for USDCHF: Buy=0.7959800000, Sell=0.7956500000
2025-07-09 21:19:34,214 - DEBUG - websocket - User 5O42G: Fallback last price for USDTRY: Buy=40.0492100000, Sell=40.0474500000
2025-07-09 21:19:34,214 - DEBUG - websocket - User 5O42G: Fallback last price for GBPSEK: Buy=12.9662500000, Sell=12.9633500000
2025-07-09 21:19:34,216 - DEBUG - websocket - User 5O42G: Fallback last price for GBPNOK: Buy=13.7381500000, Sell=13.7358500000
2025-07-09 21:19:34,217 - DEBUG - websocket - User 5O42G: Fallback last price for USDCNH: Buy=7.1850000000, Sell=7.1847000000
2025-07-09 21:19:34,218 - DEBUG - websocket - User 5O42G: Fallback last price for EURCHF: Buy=0.9322800000, Sell=0.9319000000
2025-07-09 21:19:34,219 - DEBUG - websocket - User 5O42G: Fallback last price for XAGUSD: Buy=36.3550000000, Sell=36.3200000000
2025-07-09 21:19:34,220 - DEBUG - websocket - User 5O42G: Fallback last price for BTCUSD: Buy=109757.7000000000, Sell=109657.6000000000
2025-07-09 21:19:34,220 - DEBUG - websocket - User 5O42G: Fallback last price for AUDNZD: Buy=1.0002500000, Sell=0.9997500000
2025-07-09 21:19:34,221 - DEBUG - websocket - User 5O42G: Fallback last price for EURNOK: Buy=11.8269900000, Sell=11.8254600000
2025-07-09 21:19:34,221 - DEBUG - websocket - User 5O42G: Fallback last price for USDCAD: Buy=1.3690900000, Sell=1.3687700000
2025-07-09 21:19:34,222 - DEBUG - websocket - User 5O42G: Fallback last price for NOKSEK: Buy=0.9439250000, Sell=0.9435150000
2025-07-09 21:19:34,222 - DEBUG - websocket - User 5O42G: Fallback last price for CADCHF: Buy=0.5814550000, Sell=0.5811450000
2025-07-09 21:19:34,223 - DEBUG - websocket - User 5O42G: Fallback last price for GBPUSD: Buy=1.3607400000, Sell=1.3605300000
2025-07-09 21:19:34,223 - DEBUG - websocket - User 5O42G: Fallback last price for EURGBP: Buy=0.8610800000, Sell=0.8607400000
2025-07-09 21:19:34,224 - DEBUG - websocket - User 5O42G: Fallback last price for AUDSGD: Buy=1.0001500000, Sell=0.9998500000
2025-07-09 21:19:34,224 - DEBUG - websocket - User 5O42G: Fallback last price for CHFSGD: Buy=1.6094950000, Sell=1.6090050000
2025-07-09 21:19:34,224 - DEBUG - websocket - User 5O42G: Fallback last price for AUDJPY: Buy=95.7160000000, Sell=95.6100000000
2025-07-09 21:19:34,225 - DEBUG - websocket - User 5O42G: Fallback last price for EURJPY: Buy=171.5645000000, Sell=171.5355000000
2025-07-09 21:19:34,226 - DEBUG - websocket - User 5O42G: Fallback last price for AUDCHF: Buy=0.5199600000, Sell=0.5195100000
2025-07-09 21:19:34,226 - DEBUG - websocket - User 5O42G: Fallback last price for EURZAR: Buy=20.8824200000, Sell=20.8760200000
2025-07-09 21:19:34,226 - DEBUG - websocket - User 5O42G: Fallback last price for USDCZK: Buy=21.0650000000, Sell=20.9950000000
2025-07-09 21:19:34,227 - DEBUG - websocket - User 5O42G: Fallback last price for D30: Buy=24538.5200000000, Sell=24538.5200000000
2025-07-09 21:19:34,227 - DEBUG - websocket - User 5O42G: Fallback last price for AUDUSD: Buy=0.6532800000, Sell=0.6529600000
2025-07-09 21:19:34,227 - DEBUG - websocket - User 5O42G: Fallback last price for EURSEK: Buy=11.1623400000, Sell=11.1602900000
2025-07-09 21:19:34,228 - DEBUG - websocket - User 5O42G: Fallback last price for NZDJPY: Buy=87.7935000000, Sell=87.7595000000
2025-07-09 21:19:34,228 - DEBUG - websocket - User 5O42G: Fallback last price for USDSGD: Buy=1.2808100000, Sell=1.2804700000
2025-07-09 21:19:34,228 - DEBUG - websocket - User 5O42G: Fallback last price for EURSGD: Buy=1.5001850000, Sell=1.4998450000
2025-07-09 21:19:34,229 - DEBUG - websocket - User 5O42G: Fallback last price for NZDUSD: Buy=0.5994200000, Sell=0.5991000000
2025-07-09 21:19:34,230 - DEBUG - websocket - User 5O42G: Fallback last price for EURCZK: Buy=25.0001500000, Sell=24.9998500000
2025-07-09 21:19:34,231 - DEBUG - websocket - User 5O42G: Fallback last price for EURPLN: Buy=4.2412900000, Sell=4.2403300000
2025-07-09 21:19:34,231 - DEBUG - websocket - User 5O42G: Fallback last price for AUDCAD: Buy=0.8940500000, Sell=0.8940200000
2025-07-09 21:19:34,231 - DEBUG - websocket - User 5O42G: Fallback last price for EURCAD: Buy=1.6034900000, Sell=1.6032800000
2025-07-09 21:19:34,232 - DEBUG - websocket - User 5O42G: Fallback last price for EURNZD: Buy=1.9547350000, Sell=1.9543650000
2025-07-09 21:19:34,232 - DEBUG - websocket - User 5O42G: Fallback last price for USDSEK: Buy=9.5296200000, Sell=9.5288600000
2025-07-09 21:19:34,233 - DEBUG - websocket - User 5O42G: Fallback last price for USDJPY: Buy=146.5280000000, Sell=146.4270000000
2025-07-09 21:19:34,233 - DEBUG - websocket - User 5O42G: Fallback last price for EURAUD: Buy=1.7936100000, Sell=1.7932400000
2025-07-09 21:19:34,234 - DEBUG - websocket - User 5O42G: Fallback last price for JP225: Buy=39828.6800000000, Sell=39824.6800000000
2025-07-09 21:19:34,235 - DEBUG - websocket - User 1: Successfully sent initial connection data
2025-07-09 21:19:34,235 - INFO - websocket - User 5O42G: Sent initial connection data with 48 symbols (fresh from cache)
2025-07-09 21:19:37,221 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=0
2025-07-09 21:19:37,221 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('0')}
2025-07-09 21:19:37,222 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:19:37,481 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=0
2025-07-09 21:19:37,481 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('0')}
2025-07-09 21:19:37,481 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:19:39,765 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=0
2025-07-09 21:19:39,765 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('0')}
2025-07-09 21:19:39,766 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:19:42,145 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=0
2025-07-09 21:19:42,145 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('0')}
2025-07-09 21:19:42,146 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:19:44,325 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=0
2025-07-09 21:19:44,325 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('0')}
2025-07-09 21:19:44,326 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:19:46,653 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=0
2025-07-09 21:19:46,653 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('0')}
2025-07-09 21:19:46,653 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:19:48,911 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=0
2025-07-09 21:19:48,911 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('0')}
2025-07-09 21:19:48,913 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:19:51,221 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=0
2025-07-09 21:19:51,221 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('0')}
2025-07-09 21:19:51,221 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:19:53,516 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=0
2025-07-09 21:19:53,516 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('0')}
2025-07-09 21:19:53,516 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:19:55,770 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=0
2025-07-09 21:19:55,770 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('0')}
2025-07-09 21:19:55,770 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:19:58,125 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=0
2025-07-09 21:19:58,125 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('0')}
2025-07-09 21:19:58,125 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:20:00,372 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=0
2025-07-09 21:20:00,372 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('0')}
2025-07-09 21:20:00,372 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:20:02,598 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=0
2025-07-09 21:20:02,598 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('0')}
2025-07-09 21:20:02,598 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:20:04,874 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=0
2025-07-09 21:20:04,874 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('0')}
2025-07-09 21:20:04,874 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:20:07,339 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=0
2025-07-09 21:20:07,339 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('0')}
2025-07-09 21:20:07,340 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:20:09,506 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=0
2025-07-09 21:20:09,507 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('0')}
2025-07-09 21:20:09,507 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:20:11,745 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=0
2025-07-09 21:20:11,746 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('0')}
2025-07-09 21:20:11,746 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:20:14,109 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=0
2025-07-09 21:20:14,110 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('0')}
2025-07-09 21:20:14,110 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:20:16,295 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=0
2025-07-09 21:20:16,295 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('0')}
2025-07-09 21:20:16,296 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:20:18,602 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=0
2025-07-09 21:20:18,602 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('0')}
2025-07-09 21:20:18,603 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:20:20,855 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=0
2025-07-09 21:20:20,855 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('0')}
2025-07-09 21:20:20,856 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:20:21,928 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 21:20:21,930 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=6.53000000
2025-07-09 21:20:21,930 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('6.53000000')}
2025-07-09 21:20:21,930 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 21:20:21,931 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 21:20:21,934 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=6.53000000
2025-07-09 21:20:21,934 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('6.53000000')}
2025-07-09 21:20:21,934 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 21:20:21,941 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=6.53000000
2025-07-09 21:20:21,941 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('6.53000000')}
2025-07-09 21:20:21,942 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:20:21,945 - DEBUG - websocket - User 1: Fetched 1 open orders directly from database
2025-07-09 21:20:21,949 - DEBUG - websocket - User 1: Fetched 0 pending orders directly from database
2025-07-09 21:20:21,949 - DEBUG - websocket - User 1: Updated static orders cache with 1 open orders and 0 pending orders
2025-07-09 21:20:21,952 - DEBUG - websocket - User 1: Updated balance/margin cache: balance=24838.09088585, margin=6.53
2025-07-09 21:20:23,219 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=6.53
2025-07-09 21:20:23,220 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('6.53')}
2025-07-09 21:20:23,220 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:20:25,469 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=6.53
2025-07-09 21:20:25,469 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('6.53')}
2025-07-09 21:20:25,471 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:20:26,302 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 21:20:26,304 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=6.53000000
2025-07-09 21:20:26,304 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('6.53000000')}
2025-07-09 21:20:26,304 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 21:20:26,304 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 21:20:26,306 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=6.53000000
2025-07-09 21:20:26,306 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('6.53000000')}
2025-07-09 21:20:26,306 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 21:20:26,318 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=6.53000000
2025-07-09 21:20:26,318 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('6.53000000')}
2025-07-09 21:20:26,319 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:20:26,324 - DEBUG - websocket - User 1: Fetched 2 open orders directly from database
2025-07-09 21:20:26,330 - DEBUG - websocket - User 1: Fetched 0 pending orders directly from database
2025-07-09 21:20:26,332 - DEBUG - websocket - User 1: Updated static orders cache with 2 open orders and 0 pending orders
2025-07-09 21:20:26,349 - DEBUG - websocket - User 1: Updated balance/margin cache: balance=24838.09088585, margin=6.53
2025-07-09 21:20:27,713 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=6.53
2025-07-09 21:20:27,713 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('6.53')}
2025-07-09 21:20:27,714 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:20:28,353 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 21:20:28,354 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=13.07000000
2025-07-09 21:20:28,354 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('13.07000000')}
2025-07-09 21:20:28,355 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 21:20:28,357 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 21:20:28,361 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=13.07000000
2025-07-09 21:20:28,361 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('13.07000000')}
2025-07-09 21:20:28,362 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 21:20:28,365 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=13.07000000
2025-07-09 21:20:28,365 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('13.07000000')}
2025-07-09 21:20:28,366 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:20:28,373 - DEBUG - websocket - User 1: Fetched 3 open orders directly from database
2025-07-09 21:20:28,378 - DEBUG - websocket - User 1: Fetched 0 pending orders directly from database
2025-07-09 21:20:28,379 - DEBUG - websocket - User 1: Updated static orders cache with 3 open orders and 0 pending orders
2025-07-09 21:20:28,388 - DEBUG - websocket - User 1: Updated balance/margin cache: balance=24838.09088585, margin=13.07
2025-07-09 21:20:30,073 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=13.07
2025-07-09 21:20:30,073 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('13.07')}
2025-07-09 21:20:30,073 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:20:32,327 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=13.07
2025-07-09 21:20:32,327 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('13.07')}
2025-07-09 21:20:32,328 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:20:34,576 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=13.07
2025-07-09 21:20:34,576 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('13.07')}
2025-07-09 21:20:34,577 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:20:36,832 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=13.07
2025-07-09 21:20:36,832 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('13.07')}
2025-07-09 21:20:36,833 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:20:37,878 - DEBUG - websocket - User 1: Fetched 3 open orders directly from database
2025-07-09 21:20:37,879 - DEBUG - websocket - User 1: Fetched 1 pending orders directly from database
2025-07-09 21:20:37,880 - DEBUG - websocket - User 1: Updated static orders cache with 3 open orders and 1 pending orders
2025-07-09 21:20:37,882 - DEBUG - websocket - User 1: Updated balance/margin cache: balance=24838.09088585, margin=13.07
2025-07-09 21:20:37,883 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 21:20:37,885 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=13.07
2025-07-09 21:20:37,885 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('13.07')}
2025-07-09 21:20:37,885 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 21:20:37,885 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 21:20:37,887 - DEBUG - websocket - User 1: Fetched 3 open orders directly from database
2025-07-09 21:20:37,888 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=13.07
2025-07-09 21:20:37,888 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('13.07')}
2025-07-09 21:20:37,889 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 21:20:37,890 - DEBUG - websocket - User 1: Fetched 1 pending orders directly from database
2025-07-09 21:20:37,891 - DEBUG - websocket - User 1: Updated static orders cache with 3 open orders and 1 pending orders
2025-07-09 21:20:37,898 - DEBUG - websocket - User 1: Updated balance/margin cache: balance=24838.09088585, margin=13.07
2025-07-09 21:20:39,181 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=13.07
2025-07-09 21:20:39,181 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('13.07')}
2025-07-09 21:20:39,182 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:20:39,620 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 21:20:39,622 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=13.07
2025-07-09 21:20:39,622 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('13.07')}
2025-07-09 21:20:39,622 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 21:20:39,622 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 21:20:39,624 - DEBUG - websocket - User 1: Fetched 4 open orders directly from database
2025-07-09 21:20:39,625 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=13.07
2025-07-09 21:20:39,625 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('13.07')}
2025-07-09 21:20:39,625 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 21:20:39,627 - DEBUG - websocket - User 1: Fetched 0 pending orders directly from database
2025-07-09 21:20:39,634 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=13.07
2025-07-09 21:20:39,634 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('13.07')}
2025-07-09 21:20:39,634 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:20:39,635 - DEBUG - websocket - User 1: Updated static orders cache with 4 open orders and 0 pending orders
2025-07-09 21:20:39,641 - DEBUG - websocket - User 1: Updated balance/margin cache: balance=24838.09088585, margin=13.07
2025-07-09 21:20:41,450 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=13.07
2025-07-09 21:20:41,450 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('13.07')}
2025-07-09 21:20:41,450 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:20:43,801 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=13.07
2025-07-09 21:20:43,801 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('13.07')}
2025-07-09 21:20:43,801 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:20:46,025 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=13.07
2025-07-09 21:20:46,025 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('13.07')}
2025-07-09 21:20:46,025 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:20:48,303 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=13.07
2025-07-09 21:20:48,303 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('13.07')}
2025-07-09 21:20:48,303 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:20:50,669 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=13.07
2025-07-09 21:20:50,669 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('13.07')}
2025-07-09 21:20:50,670 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:20:52,906 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=13.07
2025-07-09 21:20:52,906 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('13.07')}
2025-07-09 21:20:52,906 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:20:55,161 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=13.07
2025-07-09 21:20:55,161 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('13.07')}
2025-07-09 21:20:55,161 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:20:57,517 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=13.07
2025-07-09 21:20:57,517 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('13.07')}
2025-07-09 21:20:57,518 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:20:59,776 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=13.07
2025-07-09 21:20:59,776 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('13.07')}
2025-07-09 21:20:59,777 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:21:02,022 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=13.07
2025-07-09 21:21:02,022 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('13.07')}
2025-07-09 21:21:02,022 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:21:04,274 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=13.07
2025-07-09 21:21:04,274 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('13.07')}
2025-07-09 21:21:04,274 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:21:06,559 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=13.07
2025-07-09 21:21:06,559 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('13.07')}
2025-07-09 21:21:06,559 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:21:08,884 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=13.07
2025-07-09 21:21:08,884 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('13.07')}
2025-07-09 21:21:08,884 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:21:11,236 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=13.07
2025-07-09 21:21:11,236 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('13.07')}
2025-07-09 21:21:11,236 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:21:13,418 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=13.07
2025-07-09 21:21:13,419 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('13.07')}
2025-07-09 21:21:13,419 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:21:15,736 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=13.07
2025-07-09 21:21:15,736 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('13.07')}
2025-07-09 21:21:15,737 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:21:18,000 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=13.07
2025-07-09 21:21:18,000 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('13.07')}
2025-07-09 21:21:18,002 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:21:20,265 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=13.07
2025-07-09 21:21:20,265 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('13.07')}
2025-07-09 21:21:20,266 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:21:22,604 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=13.07
2025-07-09 21:21:22,604 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('13.07')}
2025-07-09 21:21:22,605 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:21:24,864 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=13.07
2025-07-09 21:21:24,864 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('13.07')}
2025-07-09 21:21:24,864 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:21:27,149 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=13.07
2025-07-09 21:21:27,149 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('13.07')}
2025-07-09 21:21:27,150 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:21:29,446 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=13.07
2025-07-09 21:21:29,446 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('13.07')}
2025-07-09 21:21:29,446 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:21:31,825 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=13.07
2025-07-09 21:21:31,825 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('13.07')}
2025-07-09 21:21:31,826 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:21:34,078 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=13.07
2025-07-09 21:21:34,078 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('13.07')}
2025-07-09 21:21:34,079 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:21:36,323 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=13.07
2025-07-09 21:21:36,323 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('13.07')}
2025-07-09 21:21:36,324 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:21:38,687 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=13.07
2025-07-09 21:21:38,687 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('13.07')}
2025-07-09 21:21:38,688 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:21:40,980 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=13.07
2025-07-09 21:21:40,980 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('13.07')}
2025-07-09 21:21:40,985 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:21:43,188 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=13.07
2025-07-09 21:21:43,188 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('13.07')}
2025-07-09 21:21:43,189 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:21:45,547 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=13.07
2025-07-09 21:21:45,547 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('13.07')}
2025-07-09 21:21:45,547 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:21:47,902 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=13.07
2025-07-09 21:21:47,903 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('13.07')}
2025-07-09 21:21:47,904 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:21:50,160 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=13.07
2025-07-09 21:21:50,160 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('13.07')}
2025-07-09 21:21:50,161 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:21:52,395 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=13.07
2025-07-09 21:21:52,395 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('13.07')}
2025-07-09 21:21:52,395 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:21:54,753 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=13.07
2025-07-09 21:21:54,753 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('13.07')}
2025-07-09 21:21:54,753 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:21:57,021 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=13.07
2025-07-09 21:21:57,021 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('13.07')}
2025-07-09 21:21:57,022 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:21:59,266 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=13.07
2025-07-09 21:21:59,266 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('13.07')}
2025-07-09 21:21:59,266 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:22:01,616 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=13.07
2025-07-09 21:22:01,616 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('13.07')}
2025-07-09 21:22:01,616 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:22:03,876 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=13.07
2025-07-09 21:22:03,876 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('13.07')}
2025-07-09 21:22:03,876 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:22:06,216 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=13.07
2025-07-09 21:22:06,216 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('13.07')}
2025-07-09 21:22:06,216 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:22:08,480 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=13.07
2025-07-09 21:22:08,480 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('13.07')}
2025-07-09 21:22:08,480 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:22:10,766 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=13.07
2025-07-09 21:22:10,766 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('13.07')}
2025-07-09 21:22:10,767 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:22:13,105 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=13.07
2025-07-09 21:22:13,105 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('13.07')}
2025-07-09 21:22:13,105 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:22:15,315 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=13.07
2025-07-09 21:22:15,315 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('13.07')}
2025-07-09 21:22:15,316 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:22:17,595 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=13.07
2025-07-09 21:22:17,595 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('13.07')}
2025-07-09 21:22:17,596 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:22:19,875 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=13.07
2025-07-09 21:22:19,876 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('13.07')}
2025-07-09 21:22:19,876 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:22:22,206 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=13.07
2025-07-09 21:22:22,206 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('13.07')}
2025-07-09 21:22:22,207 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:22:24,464 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=13.07
2025-07-09 21:22:24,464 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('13.07')}
2025-07-09 21:22:24,464 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:22:26,753 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=13.07
2025-07-09 21:22:26,753 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('13.07')}
2025-07-09 21:22:26,755 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:22:29,162 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=13.07
2025-07-09 21:22:29,162 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('13.07')}
2025-07-09 21:22:29,163 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:22:31,412 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=13.07
2025-07-09 21:22:31,413 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('13.07')}
2025-07-09 21:22:31,413 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:22:33,677 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=13.07
2025-07-09 21:22:33,677 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('13.07')}
2025-07-09 21:22:33,678 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:22:35,942 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=13.07
2025-07-09 21:22:35,942 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('13.07')}
2025-07-09 21:22:35,943 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:22:38,275 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=13.07
2025-07-09 21:22:38,275 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('13.07')}
2025-07-09 21:22:38,275 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:22:40,525 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=13.07
2025-07-09 21:22:40,526 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('13.07')}
2025-07-09 21:22:40,526 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:22:42,887 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=13.07
2025-07-09 21:22:42,887 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('13.07')}
2025-07-09 21:22:42,888 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:22:45,144 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=13.07
2025-07-09 21:22:45,144 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('13.07')}
2025-07-09 21:22:45,144 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:22:47,503 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=13.07
2025-07-09 21:22:47,503 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('13.07')}
2025-07-09 21:22:47,503 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:22:49,724 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=13.07
2025-07-09 21:22:49,725 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('13.07')}
2025-07-09 21:22:49,725 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:22:52,005 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=13.07
2025-07-09 21:22:52,005 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('13.07')}
2025-07-09 21:22:52,006 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:22:54,352 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=13.07
2025-07-09 21:22:54,352 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('13.07')}
2025-07-09 21:22:54,353 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:22:56,600 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=13.07
2025-07-09 21:22:56,600 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('13.07')}
2025-07-09 21:22:56,601 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:22:58,871 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=13.07
2025-07-09 21:22:58,872 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('13.07')}
2025-07-09 21:22:58,872 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:23:01,231 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=13.07
2025-07-09 21:23:01,231 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('13.07')}
2025-07-09 21:23:01,231 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:23:03,406 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=13.07
2025-07-09 21:23:03,406 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('13.07')}
2025-07-09 21:23:03,407 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:23:05,711 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=13.07
2025-07-09 21:23:05,711 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('13.07')}
2025-07-09 21:23:05,711 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:23:07,998 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=13.07
2025-07-09 21:23:07,998 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('13.07')}
2025-07-09 21:23:07,998 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:23:10,322 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=13.07
2025-07-09 21:23:10,322 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('13.07')}
2025-07-09 21:23:10,322 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:23:12,677 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=13.07
2025-07-09 21:23:12,677 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('13.07')}
2025-07-09 21:23:12,677 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:23:14,856 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=13.07
2025-07-09 21:23:14,856 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('13.07')}
2025-07-09 21:23:14,857 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:23:17,192 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=13.07
2025-07-09 21:23:17,192 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('13.07')}
2025-07-09 21:23:17,193 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:23:19,433 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=13.07
2025-07-09 21:23:19,433 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('13.07')}
2025-07-09 21:23:19,433 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:23:21,716 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=13.07
2025-07-09 21:23:21,716 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('13.07')}
2025-07-09 21:23:21,716 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:23:24,061 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=13.07
2025-07-09 21:23:24,061 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('13.07')}
2025-07-09 21:23:24,061 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:23:26,554 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=13.07
2025-07-09 21:23:26,554 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('13.07')}
2025-07-09 21:23:26,554 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:23:28,849 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=13.07
2025-07-09 21:23:28,849 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('13.07')}
2025-07-09 21:23:28,849 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:23:31,186 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=13.07
2025-07-09 21:23:31,186 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('13.07')}
2025-07-09 21:23:31,187 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:23:33,465 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=13.07
2025-07-09 21:23:33,465 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('13.07')}
2025-07-09 21:23:33,466 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:23:34,222 - INFO - websocket - User 5O42G: WebSocket disconnected by client.
2025-07-09 21:23:34,223 - INFO - websocket - User 5O42G: Cleaning up WebSocket connection.
2025-07-09 21:23:34,225 - INFO - websocket - User 5O42G: Listener task successfully cancelled.
2025-07-09 21:23:34,225 - INFO - websocket - User 5O42G: WebSocket connection fully closed.
2025-07-09 21:23:35,711 - INFO - websocket - Redis publisher task cancelled.
2025-07-09 21:23:35,711 - INFO - websocket - Redis publisher task finished.
2025-07-09 21:33:55,147 - INFO - websocket - Redis publisher task started. Publishing to channel 'market_data_updates'.
2025-07-09 21:33:59,283 - INFO - websocket - --- MINIMAL TEST: ENTERED websocket_endpoint --- Connection ID: 127.0.0.1:54182-1752122039283
2025-07-09 21:33:59,284 - INFO - websocket - WebSocket connection accepted (early) for 127.0.0.1:54182 in 0.000s
2025-07-09 21:33:59,285 - DEBUG - websocket - User 0: Successfully sent loading message
2025-07-09 21:33:59,286 - INFO - websocket - WebSocket auth: token payload={'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1752122086, 'iat': 1752120286}, account_number=5O42G, user_type=demo
2025-07-09 21:33:59,286 - INFO - websocket - WebSocket auth: About to call get_demo_user_by_account_number with account_number=5O42G, user_type=demo
2025-07-09 21:33:59,293 - INFO - websocket - WebSocket auth: get_demo_user_by_account_number(5O42G, demo) returned: <app.database.models.DemoUser object at 0x000002328553EE40>
2025-07-09 21:34:01,844 - INFO - websocket - [WS] Using order model: DemoUserOrder for user_type=demo, account_number=5O42G
2025-07-09 21:34:01,853 - INFO - websocket - [WS] Open positions from DB for user_id=1: [<app.database.models.DemoUserOrder object at 0x000002328553F0E0>, <app.database.models.DemoUserOrder object at 0x000002328556F390>, <app.database.models.DemoUserOrder object at 0x0000023285536AD0>, <app.database.models.DemoUserOrder object at 0x0000023285536FD0>]
2025-07-09 21:34:05,913 - INFO - websocket - [WEBSOCKET_INIT] User 1: Initialized balance/margin cache - balance=24838.09088585, margin=26.13184232
2025-07-09 21:34:05,925 - INFO - websocket - [WEBSOCKET_INIT] User 1: Cache verification successful - {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('26.13184232')}
2025-07-09 21:34:14,751 - DEBUG - websocket - Cached/updated group-symbol settings for group 'Group B'.
2025-07-09 21:34:14,755 - DEBUG - websocket - User 1: Fetched 4 open orders directly from database
2025-07-09 21:34:14,760 - DEBUG - websocket - User 1: Fetched 0 pending orders directly from database
2025-07-09 21:34:14,762 - DEBUG - websocket - User 1: Updated static orders cache with 4 open orders and 0 pending orders
2025-07-09 21:34:14,771 - DEBUG - websocket - User 1: Updated balance/margin cache: balance=24838.09088585, margin=13.07
2025-07-09 21:34:14,786 - INFO - websocket - User 5O42G: Fetching initial market data for 79 symbols from cache (adjusted or last known price)
2025-07-09 21:34:14,899 - INFO - websocket - User 1: WebSocket disconnected while sending initial connection data
2025-07-09 21:34:14,899 - WARNING - websocket - User 5O42G: Failed to send initial connection data, connection may be closed
2025-07-09 21:34:56,568 - INFO - websocket - Redis publisher task cancelled.
2025-07-09 21:34:56,568 - INFO - websocket - Redis publisher task finished.
2025-07-09 21:35:01,584 - INFO - websocket - Redis publisher task started. Publishing to channel 'market_data_updates'.
2025-07-09 21:35:22,146 - INFO - websocket - --- MINIMAL TEST: ENTERED websocket_endpoint --- Connection ID: 127.0.0.1:54330-1752122122146
2025-07-09 21:35:22,163 - INFO - websocket - WebSocket connection accepted (early) for 127.0.0.1:54330 in 0.016s
2025-07-09 21:35:22,166 - DEBUG - websocket - User 0: Successfully sent loading message
2025-07-09 21:35:22,167 - INFO - websocket - WebSocket auth: token payload={'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1752123920, 'iat': 1752122120}, account_number=5O42G, user_type=demo
2025-07-09 21:35:22,167 - INFO - websocket - WebSocket auth: About to call get_demo_user_by_account_number with account_number=5O42G, user_type=demo
2025-07-09 21:35:22,182 - INFO - websocket - WebSocket auth: get_demo_user_by_account_number(5O42G, demo) returned: <app.database.models.DemoUser object at 0x000002268DA58770>
2025-07-09 21:35:24,207 - INFO - websocket - [WS] Using order model: DemoUserOrder for user_type=demo, account_number=5O42G
2025-07-09 21:35:24,214 - INFO - websocket - [WS] Open positions from DB for user_id=1: [<app.database.models.DemoUserOrder object at 0x000002268D583250>, <app.database.models.DemoUserOrder object at 0x000002268D581590>, <app.database.models.DemoUserOrder object at 0x000002268D583610>, <app.database.models.DemoUserOrder object at 0x000002268D583890>]
2025-07-09 21:35:24,219 - INFO - websocket - [WEBSOCKET_INIT] User 1: Initialized balance/margin cache - balance=24838.09088585, margin=26.13184232
2025-07-09 21:35:24,223 - INFO - websocket - [WEBSOCKET_INIT] User 1: Cache verification successful - {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('26.13184232')}
2025-07-09 21:35:24,809 - DEBUG - websocket - Cached/updated group-symbol settings for group 'Group B'.
2025-07-09 21:35:24,813 - DEBUG - websocket - User 1: Fetched 4 open orders directly from database
2025-07-09 21:35:24,817 - DEBUG - websocket - User 1: Fetched 0 pending orders directly from database
2025-07-09 21:35:24,819 - DEBUG - websocket - User 1: Updated static orders cache with 4 open orders and 0 pending orders
2025-07-09 21:35:24,827 - DEBUG - websocket - User 1: Updated balance/margin cache: balance=24838.09088585, margin=13.07
2025-07-09 21:35:24,852 - INFO - websocket - User 5O42G: Fetching initial market data for 79 symbols from cache (adjusted or last known price)
2025-07-09 21:35:24,911 - DEBUG - websocket - User 1: Successfully sent initial connection data
2025-07-09 21:35:24,911 - INFO - websocket - User 5O42G: Sent initial connection data with 48 symbols (fresh from cache)
2025-07-09 21:35:26,672 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=13.07
2025-07-09 21:35:26,672 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('13.07')}
2025-07-09 21:35:26,674 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:35:29,356 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=13.07
2025-07-09 21:35:29,356 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('13.07')}
2025-07-09 21:35:29,357 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:35:31,697 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=13.07
2025-07-09 21:35:31,697 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('13.07')}
2025-07-09 21:35:31,698 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:35:33,979 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=13.07
2025-07-09 21:35:33,979 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('13.07')}
2025-07-09 21:35:33,980 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:35:36,187 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=13.07
2025-07-09 21:35:36,188 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('13.07')}
2025-07-09 21:35:36,192 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:35:38,491 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=13.07
2025-07-09 21:35:38,491 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('13.07')}
2025-07-09 21:35:38,492 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:35:40,801 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=13.07
2025-07-09 21:35:40,801 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('13.07')}
2025-07-09 21:35:40,802 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:35:43,398 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=13.07
2025-07-09 21:35:43,399 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('13.07')}
2025-07-09 21:35:43,400 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:35:45,655 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=13.07
2025-07-09 21:35:45,655 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('13.07')}
2025-07-09 21:35:45,656 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:35:50,131 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=13.07
2025-07-09 21:35:50,131 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('13.07')}
2025-07-09 21:35:50,132 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:35:50,252 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=13.07
2025-07-09 21:35:50,252 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('13.07')}
2025-07-09 21:35:50,253 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:35:50,260 - DEBUG - websocket - User 1: Fetched 4 open orders directly from database
2025-07-09 21:35:50,267 - DEBUG - websocket - User 1: Fetched 1 pending orders directly from database
2025-07-09 21:35:50,275 - DEBUG - websocket - User 1: Updated static orders cache with 4 open orders and 1 pending orders
2025-07-09 21:35:50,284 - DEBUG - websocket - User 1: Updated balance/margin cache: balance=24838.09088585, margin=13.07
2025-07-09 21:35:50,292 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 21:35:50,299 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=13.07
2025-07-09 21:35:50,300 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('13.07')}
2025-07-09 21:35:50,301 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 21:35:50,301 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 21:35:50,308 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=13.07
2025-07-09 21:35:50,308 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('13.07')}
2025-07-09 21:35:50,309 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 21:35:50,314 - DEBUG - websocket - User 1: Fetched 4 open orders directly from database
2025-07-09 21:35:50,323 - DEBUG - websocket - User 1: Fetched 1 pending orders directly from database
2025-07-09 21:35:50,328 - DEBUG - websocket - User 1: Updated static orders cache with 4 open orders and 1 pending orders
2025-07-09 21:35:50,358 - DEBUG - websocket - User 1: Updated balance/margin cache: balance=24838.09088585, margin=13.07
2025-07-09 21:35:51,526 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 21:35:51,532 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=13.07
2025-07-09 21:35:51,532 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('13.07')}
2025-07-09 21:35:51,533 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 21:35:51,533 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 21:35:51,544 - DEBUG - websocket - User 1: Fetched 5 open orders directly from database
2025-07-09 21:35:51,551 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=13.07
2025-07-09 21:35:51,551 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('13.07')}
2025-07-09 21:35:51,553 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 21:35:51,560 - DEBUG - websocket - User 1: Fetched 0 pending orders directly from database
2025-07-09 21:35:51,565 - DEBUG - websocket - User 1: Updated static orders cache with 5 open orders and 0 pending orders
2025-07-09 21:35:51,572 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=13.07
2025-07-09 21:35:51,573 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('13.07')}
2025-07-09 21:35:51,575 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:35:51,589 - DEBUG - websocket - User 1: Updated balance/margin cache: balance=24838.09088585, margin=19.61
2025-07-09 21:35:52,626 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=19.61
2025-07-09 21:35:52,626 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('19.61')}
2025-07-09 21:35:52,627 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:35:54,850 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=19.61
2025-07-09 21:35:54,850 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('19.61')}
2025-07-09 21:35:54,851 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:35:57,198 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=19.61
2025-07-09 21:35:57,198 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('19.61')}
2025-07-09 21:35:57,199 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:35:59,441 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=19.61
2025-07-09 21:35:59,441 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('19.61')}
2025-07-09 21:35:59,442 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:36:01,727 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=19.61
2025-07-09 21:36:01,728 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('19.61')}
2025-07-09 21:36:01,728 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:36:04,039 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=19.61
2025-07-09 21:36:04,039 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('19.61')}
2025-07-09 21:36:04,040 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:36:06,308 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=19.61
2025-07-09 21:36:06,309 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('19.61')}
2025-07-09 21:36:06,309 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:36:08,680 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=19.61
2025-07-09 21:36:08,680 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('19.61')}
2025-07-09 21:36:08,681 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:36:10,935 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=19.61
2025-07-09 21:36:10,936 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('19.61')}
2025-07-09 21:36:10,936 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:36:13,179 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=19.61
2025-07-09 21:36:13,179 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('19.61')}
2025-07-09 21:36:13,181 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:36:15,464 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=19.61
2025-07-09 21:36:15,464 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('19.61')}
2025-07-09 21:36:15,465 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:36:17,819 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=19.61
2025-07-09 21:36:17,819 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('19.61')}
2025-07-09 21:36:17,821 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:36:20,053 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=19.61
2025-07-09 21:36:20,053 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('19.61')}
2025-07-09 21:36:20,054 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:36:22,457 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=19.61
2025-07-09 21:36:22,458 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('19.61')}
2025-07-09 21:36:22,458 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:36:24,724 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=19.61
2025-07-09 21:36:24,725 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('19.61')}
2025-07-09 21:36:24,725 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:36:26,996 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=19.61
2025-07-09 21:36:26,996 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('19.61')}
2025-07-09 21:36:26,997 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:36:29,332 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=19.61
2025-07-09 21:36:29,332 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('19.61')}
2025-07-09 21:36:29,332 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:36:31,590 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=19.61
2025-07-09 21:36:31,590 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('19.61')}
2025-07-09 21:36:31,590 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:36:33,910 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=19.61
2025-07-09 21:36:33,910 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('19.61')}
2025-07-09 21:36:33,910 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:36:36,187 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=19.61
2025-07-09 21:36:36,187 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('19.61')}
2025-07-09 21:36:36,188 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:36:38,483 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=19.61
2025-07-09 21:36:38,483 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('19.61')}
2025-07-09 21:36:38,483 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:36:40,805 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=19.61
2025-07-09 21:36:40,805 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('19.61')}
2025-07-09 21:36:40,805 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:36:43,063 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=19.61
2025-07-09 21:36:43,063 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('19.61')}
2025-07-09 21:36:43,063 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:36:45,356 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=19.61
2025-07-09 21:36:45,356 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('19.61')}
2025-07-09 21:36:45,356 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:36:47,657 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=19.61
2025-07-09 21:36:47,657 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('19.61')}
2025-07-09 21:36:47,658 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:36:49,962 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=19.61
2025-07-09 21:36:49,962 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('19.61')}
2025-07-09 21:36:49,963 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:36:52,287 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=19.61
2025-07-09 21:36:52,287 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('19.61')}
2025-07-09 21:36:52,288 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:36:54,542 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=19.61
2025-07-09 21:36:54,542 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('19.61')}
2025-07-09 21:36:54,543 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:36:55,723 - DEBUG - websocket - User 1: Fetched 5 open orders directly from database
2025-07-09 21:36:55,727 - DEBUG - websocket - User 1: Fetched 1 pending orders directly from database
2025-07-09 21:36:55,728 - DEBUG - websocket - User 1: Updated static orders cache with 5 open orders and 1 pending orders
2025-07-09 21:36:55,733 - DEBUG - websocket - User 1: Updated balance/margin cache: balance=24838.09088585, margin=19.61
2025-07-09 21:36:55,735 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 21:36:55,737 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=19.61
2025-07-09 21:36:55,737 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('19.61')}
2025-07-09 21:36:55,737 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 21:36:55,738 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 21:36:55,741 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=19.61
2025-07-09 21:36:55,741 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('19.61')}
2025-07-09 21:36:55,742 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 21:36:55,743 - DEBUG - websocket - User 1: Fetched 5 open orders directly from database
2025-07-09 21:36:55,764 - DEBUG - websocket - User 1: Fetched 1 pending orders directly from database
2025-07-09 21:36:55,779 - DEBUG - websocket - User 1: Updated static orders cache with 5 open orders and 1 pending orders
2025-07-09 21:36:55,787 - DEBUG - websocket - User 1: Updated balance/margin cache: balance=24838.09088585, margin=19.61
2025-07-09 21:36:56,858 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=19.61
2025-07-09 21:36:56,859 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('19.61')}
2025-07-09 21:36:56,860 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:36:59,108 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=19.61
2025-07-09 21:36:59,108 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('19.61')}
2025-07-09 21:36:59,109 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:37:01,413 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=19.61
2025-07-09 21:37:01,413 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('19.61')}
2025-07-09 21:37:01,414 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:37:03,723 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=19.61
2025-07-09 21:37:03,723 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('19.61')}
2025-07-09 21:37:03,724 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:37:06,011 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=19.61
2025-07-09 21:37:06,012 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('19.61')}
2025-07-09 21:37:06,012 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:37:08,856 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=19.61
2025-07-09 21:37:08,856 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('19.61')}
2025-07-09 21:37:08,857 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:37:11,098 - DEBUG - websocket - User 1: Fetched 5 open orders directly from database
2025-07-09 21:37:11,106 - DEBUG - websocket - User 1: Fetched 0 pending orders directly from database
2025-07-09 21:37:11,109 - DEBUG - websocket - User 1: Updated static orders cache with 5 open orders and 0 pending orders
2025-07-09 21:37:11,123 - DEBUG - websocket - User 1: Updated balance/margin cache: balance=24838.09088585, margin=19.61
2025-07-09 21:37:11,147 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 21:37:11,177 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=19.61
2025-07-09 21:37:11,177 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('19.61')}
2025-07-09 21:37:11,178 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 21:37:11,179 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 21:37:11,187 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=19.61
2025-07-09 21:37:11,188 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('19.61')}
2025-07-09 21:37:11,188 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 21:37:11,200 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=19.61
2025-07-09 21:37:11,200 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('19.61')}
2025-07-09 21:37:11,201 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:37:13,498 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=19.61
2025-07-09 21:37:13,498 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('19.61')}
2025-07-09 21:37:13,499 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:37:15,840 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=19.61
2025-07-09 21:37:15,841 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('19.61')}
2025-07-09 21:37:15,841 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:37:18,263 - DEBUG - websocket - User 1: Fetched 5 open orders directly from database
2025-07-09 21:37:18,266 - DEBUG - websocket - User 1: Fetched 1 pending orders directly from database
2025-07-09 21:37:18,267 - DEBUG - websocket - User 1: Updated static orders cache with 5 open orders and 1 pending orders
2025-07-09 21:37:18,273 - DEBUG - websocket - User 1: Updated balance/margin cache: balance=24838.09088585, margin=19.61
2025-07-09 21:37:18,275 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 21:37:18,280 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=19.61
2025-07-09 21:37:18,280 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('19.61')}
2025-07-09 21:37:18,280 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 21:37:18,281 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 21:37:18,283 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=19.61
2025-07-09 21:37:18,283 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('19.61')}
2025-07-09 21:37:18,284 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 21:37:18,285 - DEBUG - websocket - User 1: Fetched 5 open orders directly from database
2025-07-09 21:37:18,289 - DEBUG - websocket - User 1: Fetched 1 pending orders directly from database
2025-07-09 21:37:18,290 - DEBUG - websocket - User 1: Updated static orders cache with 5 open orders and 1 pending orders
2025-07-09 21:37:18,296 - DEBUG - websocket - User 1: Updated balance/margin cache: balance=24838.09088585, margin=19.61
2025-07-09 21:37:18,781 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=19.61
2025-07-09 21:37:18,781 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('19.61')}
2025-07-09 21:37:18,782 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:37:20,957 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=19.61
2025-07-09 21:37:20,957 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('19.61')}
2025-07-09 21:37:20,958 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:37:23,489 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=19.61
2025-07-09 21:37:23,489 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('19.61')}
2025-07-09 21:37:23,492 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:37:26,000 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=19.61
2025-07-09 21:37:26,000 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('19.61')}
2025-07-09 21:37:26,001 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:37:28,331 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=19.61
2025-07-09 21:37:28,332 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('19.61')}
2025-07-09 21:37:28,332 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:37:30,640 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=19.61
2025-07-09 21:37:30,640 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('19.61')}
2025-07-09 21:37:30,641 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:37:32,923 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=19.61
2025-07-09 21:37:32,923 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('19.61')}
2025-07-09 21:37:32,924 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:37:35,235 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=19.61
2025-07-09 21:37:35,235 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('19.61')}
2025-07-09 21:37:35,236 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:37:37,554 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=19.61
2025-07-09 21:37:37,554 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('19.61')}
2025-07-09 21:37:37,555 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:37:39,867 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=19.61
2025-07-09 21:37:39,868 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('19.61')}
2025-07-09 21:37:39,869 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:37:42,587 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=19.61
2025-07-09 21:37:42,587 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('19.61')}
2025-07-09 21:37:42,588 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:37:45,606 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=19.61
2025-07-09 21:37:45,606 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('19.61')}
2025-07-09 21:37:45,607 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:37:47,886 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=19.61
2025-07-09 21:37:47,886 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('19.61')}
2025-07-09 21:37:47,888 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:37:50,158 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=19.61
2025-07-09 21:37:50,158 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('19.61')}
2025-07-09 21:37:50,158 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:37:52,441 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=19.61
2025-07-09 21:37:52,442 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('19.61')}
2025-07-09 21:37:52,443 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:37:54,746 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=19.61
2025-07-09 21:37:54,746 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('19.61')}
2025-07-09 21:37:54,747 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:37:57,075 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=19.61
2025-07-09 21:37:57,075 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('19.61')}
2025-07-09 21:37:57,075 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:37:59,400 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=19.61
2025-07-09 21:37:59,400 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('19.61')}
2025-07-09 21:37:59,401 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:38:01,522 - DEBUG - websocket - User 1: Fetched 5 open orders directly from database
2025-07-09 21:38:01,524 - DEBUG - websocket - User 1: Fetched 2 pending orders directly from database
2025-07-09 21:38:01,525 - DEBUG - websocket - User 1: Updated static orders cache with 5 open orders and 2 pending orders
2025-07-09 21:38:01,529 - DEBUG - websocket - User 1: Updated balance/margin cache: balance=24838.09088585, margin=19.61
2025-07-09 21:38:01,531 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 21:38:01,533 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=19.61
2025-07-09 21:38:01,533 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('19.61')}
2025-07-09 21:38:01,534 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 21:38:01,534 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 21:38:01,536 - DEBUG - websocket - User 1: Fetched 5 open orders directly from database
2025-07-09 21:38:01,537 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=19.61
2025-07-09 21:38:01,537 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('19.61')}
2025-07-09 21:38:01,537 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 21:38:01,539 - DEBUG - websocket - User 1: Fetched 2 pending orders directly from database
2025-07-09 21:38:01,540 - DEBUG - websocket - User 1: Updated static orders cache with 5 open orders and 2 pending orders
2025-07-09 21:38:01,558 - DEBUG - websocket - User 1: Updated balance/margin cache: balance=24838.09088585, margin=19.61
2025-07-09 21:38:01,679 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=19.61
2025-07-09 21:38:01,679 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('19.61')}
2025-07-09 21:38:01,680 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:38:02,695 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 21:38:02,697 - DEBUG - websocket - User 1: Fetched 6 open orders directly from database
2025-07-09 21:38:02,702 - DEBUG - websocket - User 1: Fetched 1 pending orders directly from database
2025-07-09 21:38:02,704 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=19.61
2025-07-09 21:38:02,704 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('19.61')}
2025-07-09 21:38:02,705 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 21:38:02,705 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 21:38:02,706 - DEBUG - websocket - User 1: Updated static orders cache with 6 open orders and 1 pending orders
2025-07-09 21:38:02,718 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=19.61
2025-07-09 21:38:02,719 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('19.61')}
2025-07-09 21:38:02,720 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 21:38:02,726 - DEBUG - websocket - User 1: Updated balance/margin cache: balance=24838.09088585, margin=26.15
2025-07-09 21:38:02,727 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=26.15
2025-07-09 21:38:02,727 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('26.15')}
2025-07-09 21:38:02,729 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:38:03,898 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=26.15
2025-07-09 21:38:03,898 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('26.15')}
2025-07-09 21:38:03,899 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:38:04,412 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 21:38:04,419 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=26.15
2025-07-09 21:38:04,420 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('26.15')}
2025-07-09 21:38:04,421 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 21:38:04,422 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 21:38:04,427 - DEBUG - websocket - User 1: Fetched 7 open orders directly from database
2025-07-09 21:38:04,443 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=26.15
2025-07-09 21:38:04,443 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('26.15')}
2025-07-09 21:38:04,445 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 21:38:04,455 - DEBUG - websocket - User 1: Fetched 0 pending orders directly from database
2025-07-09 21:38:04,458 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=26.15
2025-07-09 21:38:04,458 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('26.15')}
2025-07-09 21:38:04,459 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:38:04,460 - DEBUG - websocket - User 1: Updated static orders cache with 7 open orders and 0 pending orders
2025-07-09 21:38:04,472 - DEBUG - websocket - User 1: Updated balance/margin cache: balance=24838.09088585, margin=26.15
2025-07-09 21:38:06,599 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=26.15
2025-07-09 21:38:06,599 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('26.15')}
2025-07-09 21:38:06,599 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:38:08,934 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=26.15
2025-07-09 21:38:08,934 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('26.15')}
2025-07-09 21:38:08,935 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:38:11,242 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=26.15
2025-07-09 21:38:11,242 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('26.15')}
2025-07-09 21:38:11,243 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:38:13,600 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=26.15
2025-07-09 21:38:13,601 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('26.15')}
2025-07-09 21:38:13,602 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:38:15,836 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=26.15
2025-07-09 21:38:15,836 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('26.15')}
2025-07-09 21:38:15,837 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:38:18,191 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=26.15
2025-07-09 21:38:18,191 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('26.15')}
2025-07-09 21:38:18,192 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:38:20,577 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=26.15
2025-07-09 21:38:20,577 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('26.15')}
2025-07-09 21:38:20,578 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:38:22,769 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=26.15
2025-07-09 21:38:22,769 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('26.15')}
2025-07-09 21:38:22,770 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:38:25,180 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24838.09088585, margin=26.15
2025-07-09 21:38:25,181 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('26.15')}
2025-07-09 21:38:25,181 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:38:25,453 - INFO - websocket - User 5O42G: WebSocket disconnected by client.
2025-07-09 21:38:25,453 - INFO - websocket - User 5O42G: Cleaning up WebSocket connection.
2025-07-09 21:38:25,491 - INFO - websocket - User 5O42G: Listener task successfully cancelled.
2025-07-09 21:38:25,492 - INFO - websocket - User 5O42G: WebSocket connection fully closed.
2025-07-09 21:38:27,363 - INFO - websocket - Redis publisher task cancelled.
2025-07-09 21:38:27,364 - INFO - websocket - Redis publisher task finished.
2025-07-09 21:48:45,132 - INFO - websocket - Redis publisher task started. Publishing to channel 'market_data_updates'.
2025-07-09 21:48:48,721 - INFO - websocket - --- MINIMAL TEST: ENTERED websocket_endpoint --- Connection ID: 127.0.0.1:55280-1752122928721
2025-07-09 21:48:48,722 - INFO - websocket - WebSocket connection accepted (early) for 127.0.0.1:55280 in 0.001s
2025-07-09 21:48:48,724 - DEBUG - websocket - User 0: Successfully sent loading message
2025-07-09 21:48:48,725 - INFO - websocket - WebSocket auth: token payload={'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1752123920, 'iat': 1752122120}, account_number=5O42G, user_type=demo
2025-07-09 21:48:48,725 - INFO - websocket - WebSocket auth: About to call get_demo_user_by_account_number with account_number=5O42G, user_type=demo
2025-07-09 21:48:48,738 - INFO - websocket - WebSocket auth: get_demo_user_by_account_number(5O42G, demo) returned: <app.database.models.DemoUser object at 0x000001E32241EF90>
2025-07-09 21:48:51,842 - INFO - websocket - [WS] Using order model: DemoUserOrder for user_type=demo, account_number=5O42G
2025-07-09 21:48:51,847 - INFO - websocket - [WS] Open positions from DB for user_id=1: [<app.database.models.DemoUserOrder object at 0x000001E32241F380>, <app.database.models.DemoUserOrder object at 0x000001E32243BC50>, <app.database.models.DemoUserOrder object at 0x000001E322416990>, <app.database.models.DemoUserOrder object at 0x000001E322416AD0>, <app.database.models.DemoUserOrder object at 0x000001E322416C10>, <app.database.models.DemoUserOrder object at 0x000001E322416D50>, <app.database.models.DemoUserOrder object at 0x000001E322416E90>]
2025-07-09 21:48:55,921 - INFO - websocket - [WEBSOCKET_INIT] User 1: Initialized balance/margin cache - balance=24838.09088585, margin=45.73990633
2025-07-09 21:48:57,960 - INFO - websocket - [WEBSOCKET_INIT] User 1: Cache verification successful - {'wallet_balance': Decimal('24838.09088585'), 'margin': Decimal('45.73990633')}
2025-07-09 21:49:05,094 - DEBUG - websocket - Cached/updated group-symbol settings for group 'Group B'.
2025-07-09 21:49:05,103 - DEBUG - websocket - User 1: Fetched 7 open orders directly from database
2025-07-09 21:49:05,108 - DEBUG - websocket - User 1: Fetched 0 pending orders directly from database
2025-07-09 21:49:05,109 - DEBUG - websocket - User 1: Updated static orders cache with 7 open orders and 0 pending orders
2025-07-09 21:49:05,120 - DEBUG - websocket - User 1: Updated balance/margin cache: balance=24837.69088585, margin=26.15
2025-07-09 21:49:05,143 - INFO - websocket - User 5O42G: Fetching initial market data for 79 symbols from cache (adjusted or last known price)
2025-07-09 21:49:05,280 - DEBUG - websocket - User 1: Successfully sent initial connection data
2025-07-09 21:49:05,280 - INFO - websocket - User 5O42G: Sent initial connection data with 48 symbols (fresh from cache)
2025-07-09 21:49:05,641 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 21:49:05,648 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24837.20088585, margin=13.07
2025-07-09 21:49:05,648 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24837.20088585'), 'margin': Decimal('13.07')}
2025-07-09 21:49:05,649 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 21:49:05,649 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 21:49:05,652 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24837.20088585, margin=13.07
2025-07-09 21:49:05,652 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24837.20088585'), 'margin': Decimal('13.07')}
2025-07-09 21:49:05,653 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 21:49:05,658 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24837.20088585, margin=13.07
2025-07-09 21:49:05,659 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24837.20088585'), 'margin': Decimal('13.07')}
2025-07-09 21:49:05,659 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:49:06,294 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 21:49:06,297 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24836.27088585, margin=13.07
2025-07-09 21:49:06,298 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24836.27088585'), 'margin': Decimal('13.07')}
2025-07-09 21:49:06,298 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 21:49:06,299 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 21:49:06,304 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24836.27088585, margin=13.07
2025-07-09 21:49:06,304 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24836.27088585'), 'margin': Decimal('13.07')}
2025-07-09 21:49:06,304 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 21:49:06,309 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24836.27088585, margin=13.07
2025-07-09 21:49:06,309 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24836.27088585'), 'margin': Decimal('13.07')}
2025-07-09 21:49:06,309 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:49:08,543 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24836.27088585, margin=13.07
2025-07-09 21:49:08,544 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24836.27088585'), 'margin': Decimal('13.07')}
2025-07-09 21:49:08,545 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:49:08,611 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 21:49:08,615 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24835.71088585, margin=6.53
2025-07-09 21:49:08,615 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24835.71088585'), 'margin': Decimal('6.53')}
2025-07-09 21:49:08,616 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 21:49:08,616 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 21:49:08,619 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24835.71088585, margin=6.53
2025-07-09 21:49:08,619 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24835.71088585'), 'margin': Decimal('6.53')}
2025-07-09 21:49:08,620 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 21:49:08,628 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24835.71088585, margin=6.53
2025-07-09 21:49:08,628 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24835.71088585'), 'margin': Decimal('6.53')}
2025-07-09 21:49:08,629 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:49:08,814 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24835.71088585, margin=6.53
2025-07-09 21:49:08,814 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24835.71088585'), 'margin': Decimal('6.53')}
2025-07-09 21:49:08,815 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:49:09,235 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 21:49:09,240 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24835.15088585, margin=6.53
2025-07-09 21:49:09,240 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24835.15088585'), 'margin': Decimal('6.53')}
2025-07-09 21:49:09,241 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 21:49:09,241 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 21:49:09,246 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24835.15088585, margin=6.53
2025-07-09 21:49:09,246 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24835.15088585'), 'margin': Decimal('6.53')}
2025-07-09 21:49:09,246 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 21:49:09,252 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24835.15088585, margin=6.53
2025-07-09 21:49:09,252 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24835.15088585'), 'margin': Decimal('6.53')}
2025-07-09 21:49:09,253 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:49:09,870 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 21:49:09,874 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24834.51088585, margin=0
2025-07-09 21:49:09,874 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24834.51088585'), 'margin': Decimal('0')}
2025-07-09 21:49:09,874 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 21:49:09,875 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 21:49:09,879 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24834.51088585, margin=0
2025-07-09 21:49:09,879 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24834.51088585'), 'margin': Decimal('0')}
2025-07-09 21:49:09,880 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 21:49:09,884 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24834.51088585, margin=0
2025-07-09 21:49:09,884 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24834.51088585'), 'margin': Decimal('0')}
2025-07-09 21:49:09,884 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:49:11,110 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24834.51088585, margin=0
2025-07-09 21:49:11,110 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24834.51088585'), 'margin': Decimal('0')}
2025-07-09 21:49:11,111 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:49:13,431 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24834.51088585, margin=0
2025-07-09 21:49:13,431 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24834.51088585'), 'margin': Decimal('0')}
2025-07-09 21:49:13,431 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:49:15,723 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24834.51088585, margin=0
2025-07-09 21:49:15,724 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24834.51088585'), 'margin': Decimal('0')}
2025-07-09 21:49:15,725 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:49:18,079 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24834.51088585, margin=0
2025-07-09 21:49:18,080 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24834.51088585'), 'margin': Decimal('0')}
2025-07-09 21:49:18,080 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:49:19,927 - DEBUG - websocket - User 1: Fetched 0 open orders directly from database
2025-07-09 21:49:19,937 - DEBUG - websocket - User 1: Fetched 1 pending orders directly from database
2025-07-09 21:49:19,939 - DEBUG - websocket - User 1: Updated static orders cache with 0 open orders and 1 pending orders
2025-07-09 21:49:19,941 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 21:49:19,980 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24834.51088585, margin=0.0
2025-07-09 21:49:19,980 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24834.51088585'), 'margin': Decimal('0.0')}
2025-07-09 21:49:20,015 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 21:49:20,016 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 21:49:20,054 - DEBUG - websocket - User 1: Fetched 0 open orders directly from database
2025-07-09 21:49:20,060 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24834.51088585, margin=0.0
2025-07-09 21:49:20,060 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24834.51088585'), 'margin': Decimal('0.0')}
2025-07-09 21:49:20,065 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 21:49:20,071 - DEBUG - websocket - User 1: Fetched 1 pending orders directly from database
2025-07-09 21:49:20,076 - DEBUG - websocket - User 1: Updated static orders cache with 0 open orders and 1 pending orders
2025-07-09 21:49:20,331 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24834.51088585, margin=0.0
2025-07-09 21:49:20,332 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24834.51088585'), 'margin': Decimal('0.0')}
2025-07-09 21:49:20,337 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:49:22,619 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24834.51088585, margin=0.0
2025-07-09 21:49:22,619 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24834.51088585'), 'margin': Decimal('0.0')}
2025-07-09 21:49:22,619 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:49:25,045 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24834.51088585, margin=0.0
2025-07-09 21:49:25,045 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24834.51088585'), 'margin': Decimal('0.0')}
2025-07-09 21:49:25,046 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:49:25,683 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 21:49:25,687 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24834.51088585, margin=0.0
2025-07-09 21:49:25,687 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24834.51088585'), 'margin': Decimal('0.0')}
2025-07-09 21:49:25,687 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 21:49:25,688 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 21:49:25,691 - DEBUG - websocket - User 1: Fetched 1 open orders directly from database
2025-07-09 21:49:25,695 - DEBUG - websocket - User 1: Fetched 0 pending orders directly from database
2025-07-09 21:49:25,696 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24834.51088585, margin=0.0
2025-07-09 21:49:25,696 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24834.51088585'), 'margin': Decimal('0.0')}
2025-07-09 21:49:25,697 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 21:49:25,700 - DEBUG - websocket - User 1: Updated static orders cache with 1 open orders and 0 pending orders
2025-07-09 21:49:25,703 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24834.51088585, margin=0.0
2025-07-09 21:49:25,703 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24834.51088585'), 'margin': Decimal('0.0')}
2025-07-09 21:49:25,704 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:49:25,710 - DEBUG - websocket - User 1: Updated balance/margin cache: balance=24834.51088585, margin=6.53
2025-07-09 21:49:27,280 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24834.51088585, margin=6.53
2025-07-09 21:49:27,280 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24834.51088585'), 'margin': Decimal('6.53')}
2025-07-09 21:49:27,280 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:49:29,611 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24834.51088585, margin=6.53
2025-07-09 21:49:29,611 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24834.51088585'), 'margin': Decimal('6.53')}
2025-07-09 21:49:29,612 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:49:31,887 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24834.51088585, margin=6.53
2025-07-09 21:49:31,887 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24834.51088585'), 'margin': Decimal('6.53')}
2025-07-09 21:49:31,888 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:49:34,126 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24834.51088585, margin=6.53
2025-07-09 21:49:34,126 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24834.51088585'), 'margin': Decimal('6.53')}
2025-07-09 21:49:34,127 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:49:36,502 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24834.51088585, margin=6.53
2025-07-09 21:49:36,502 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24834.51088585'), 'margin': Decimal('6.53')}
2025-07-09 21:49:36,503 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:49:38,738 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24834.51088585, margin=6.53
2025-07-09 21:49:38,738 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24834.51088585'), 'margin': Decimal('6.53')}
2025-07-09 21:49:38,739 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:49:41,035 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24834.51088585, margin=6.53
2025-07-09 21:49:41,035 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24834.51088585'), 'margin': Decimal('6.53')}
2025-07-09 21:49:41,036 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:49:43,451 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24834.51088585, margin=6.53
2025-07-09 21:49:43,452 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24834.51088585'), 'margin': Decimal('6.53')}
2025-07-09 21:49:43,452 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:49:45,719 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24834.51088585, margin=6.53
2025-07-09 21:49:45,719 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24834.51088585'), 'margin': Decimal('6.53')}
2025-07-09 21:49:45,720 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:49:47,960 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24834.51088585, margin=6.53
2025-07-09 21:49:47,960 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24834.51088585'), 'margin': Decimal('6.53')}
2025-07-09 21:49:47,960 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:49:50,211 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24834.51088585, margin=6.53
2025-07-09 21:49:50,212 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24834.51088585'), 'margin': Decimal('6.53')}
2025-07-09 21:49:50,212 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:49:52,549 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24834.51088585, margin=6.53
2025-07-09 21:49:52,549 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24834.51088585'), 'margin': Decimal('6.53')}
2025-07-09 21:49:52,550 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:49:54,864 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24834.51088585, margin=6.53
2025-07-09 21:49:54,864 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24834.51088585'), 'margin': Decimal('6.53')}
2025-07-09 21:49:54,865 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:49:57,097 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24834.51088585, margin=6.53
2025-07-09 21:49:57,097 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24834.51088585'), 'margin': Decimal('6.53')}
2025-07-09 21:49:57,098 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:49:59,398 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24834.51088585, margin=6.53
2025-07-09 21:49:59,398 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24834.51088585'), 'margin': Decimal('6.53')}
2025-07-09 21:49:59,398 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:50:01,765 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24834.51088585, margin=6.53
2025-07-09 21:50:01,765 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24834.51088585'), 'margin': Decimal('6.53')}
2025-07-09 21:50:01,766 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 21:50:03,942 - INFO - websocket - User 5O42G: WebSocket disconnected by client.
2025-07-09 21:50:03,942 - INFO - websocket - User 5O42G: Cleaning up WebSocket connection.
2025-07-09 21:50:03,944 - INFO - websocket - User 5O42G: Listener task successfully cancelled.
2025-07-09 21:50:03,944 - INFO - websocket - User 5O42G: WebSocket connection fully closed.
2025-07-09 21:50:04,600 - INFO - websocket - Redis publisher task cancelled.
2025-07-09 21:50:04,600 - INFO - websocket - Redis publisher task finished.
2025-07-09 22:02:54,166 - INFO - websocket - Redis publisher task started. Publishing to channel 'market_data_updates'.
2025-07-09 22:02:56,648 - INFO - websocket - --- MINIMAL TEST: ENTERED websocket_endpoint --- Connection ID: 127.0.0.1:56311-1752123776648
2025-07-09 22:02:56,649 - INFO - websocket - WebSocket connection accepted (early) for 127.0.0.1:56311 in 0.000s
2025-07-09 22:02:56,650 - DEBUG - websocket - User 0: Successfully sent loading message
2025-07-09 22:02:56,651 - INFO - websocket - WebSocket auth: token payload={'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1752123920, 'iat': 1752122120}, account_number=5O42G, user_type=demo
2025-07-09 22:02:56,651 - INFO - websocket - WebSocket auth: About to call get_demo_user_by_account_number with account_number=5O42G, user_type=demo
2025-07-09 22:02:56,910 - INFO - websocket - WebSocket auth: get_demo_user_by_account_number(5O42G, demo) returned: <app.database.models.DemoUser object at 0x0000022E95A71FD0>
2025-07-09 22:03:00,994 - INFO - websocket - [WS] Using order model: DemoUserOrder for user_type=demo, account_number=5O42G
2025-07-09 22:03:00,999 - INFO - websocket - [WS] Open positions from DB for user_id=1: [<app.database.models.DemoUserOrder object at 0x0000022E95A73380>]
2025-07-09 22:03:05,091 - INFO - websocket - [WEBSOCKET_INIT] User 1: Initialized balance/margin cache - balance=24834.51088585, margin=6.53367741
2025-07-09 22:03:07,129 - INFO - websocket - [WEBSOCKET_INIT] User 1: Cache verification successful - {'wallet_balance': Decimal('24834.51088585'), 'margin': Decimal('6.53367741')}
2025-07-09 22:03:11,617 - DEBUG - websocket - Cached/updated group-symbol settings for group 'Group B'.
2025-07-09 22:03:11,619 - DEBUG - websocket - User 1: Fetched 1 open orders directly from database
2025-07-09 22:03:11,622 - DEBUG - websocket - User 1: Fetched 0 pending orders directly from database
2025-07-09 22:03:11,622 - INFO - websocket - User 1: Successfully updated static orders cache with 1 open orders and 0 pending orders
2025-07-09 22:03:11,625 - DEBUG - websocket - User 1: Updated balance/margin cache: balance=24834.51088585, margin=6.53
2025-07-09 22:03:11,630 - INFO - websocket - User 5O42G: Fetching initial market data for 79 symbols from cache (adjusted or last known price)
2025-07-09 22:03:11,631 - DEBUG - websocket - User 5O42G: Fallback last price for EURUSD: Buy=1.1714100000, Sell=1.1712400000
2025-07-09 22:03:11,631 - DEBUG - websocket - User 5O42G: Fallback last price for USDZAR: Buy=17.8287500000, Sell=17.8235600000
2025-07-09 22:03:11,633 - DEBUG - websocket - User 5O42G: Fallback last price for SGDJPY: Buy=114.3865000000, Sell=114.3445000000
2025-07-09 22:03:11,633 - DEBUG - websocket - User 5O42G: Fallback last price for GBPAUD: Buy=2.0834300000, Sell=2.0830100000
2025-07-09 22:03:11,634 - DEBUG - websocket - User 5O42G: Fallback last price for USDNOK: Buy=10.0974300000, Sell=10.0961500000
2025-07-09 22:03:11,635 - DEBUG - websocket - User 5O42G: Fallback last price for NZDCAD: Buy=0.8204800000, Sell=0.8201100000
2025-07-09 22:03:11,636 - DEBUG - websocket - User 5O42G: Fallback last price for GBPNZD: Buy=2.2706600000, Sell=2.2701100000
2025-07-09 22:03:11,636 - DEBUG - websocket - User 5O42G: Fallback last price for CADJPY: Buy=107.0175000000, Sell=106.9895000000
2025-07-09 22:03:11,637 - DEBUG - websocket - User 5O42G: Fallback last price for CHFJPY: Buy=184.0850000000, Sell=184.0350000000
2025-07-09 22:03:11,637 - DEBUG - websocket - User 5O42G: Fallback last price for US30: Buy=44413.6000000000, Sell=44411.6000000000
2025-07-09 22:03:11,638 - DEBUG - websocket - User 5O42G: Fallback last price for USDCHF: Buy=0.7959800000, Sell=0.7956500000
2025-07-09 22:03:11,638 - DEBUG - websocket - User 5O42G: Fallback last price for USDTRY: Buy=40.0492100000, Sell=40.0474500000
2025-07-09 22:03:11,639 - DEBUG - websocket - User 5O42G: Fallback last price for GBPSEK: Buy=12.9662500000, Sell=12.9633500000
2025-07-09 22:03:11,640 - DEBUG - websocket - User 5O42G: Fallback last price for GBPNOK: Buy=13.7381500000, Sell=13.7358500000
2025-07-09 22:03:11,640 - DEBUG - websocket - User 5O42G: Fallback last price for USDCNH: Buy=7.1850000000, Sell=7.1847000000
2025-07-09 22:03:11,641 - DEBUG - websocket - User 5O42G: Fallback last price for EURCHF: Buy=0.9322800000, Sell=0.9319000000
2025-07-09 22:03:11,642 - DEBUG - websocket - User 5O42G: Fallback last price for XAGUSD: Buy=36.3550000000, Sell=36.3200000000
2025-07-09 22:03:11,643 - DEBUG - websocket - User 5O42G: Fallback last price for BTCUSD: Buy=109757.7000000000, Sell=109657.6000000000
2025-07-09 22:03:11,643 - DEBUG - websocket - User 5O42G: Fallback last price for AUDNZD: Buy=1.0002500000, Sell=0.9997500000
2025-07-09 22:03:11,644 - DEBUG - websocket - User 5O42G: Fallback last price for EURNOK: Buy=11.8269900000, Sell=11.8254600000
2025-07-09 22:03:11,644 - DEBUG - websocket - User 5O42G: Fallback last price for USDCAD: Buy=1.3690900000, Sell=1.3687700000
2025-07-09 22:03:11,645 - DEBUG - websocket - User 5O42G: Fallback last price for NOKSEK: Buy=0.9439250000, Sell=0.9435150000
2025-07-09 22:03:11,647 - DEBUG - websocket - User 5O42G: Fallback last price for CADCHF: Buy=0.5814550000, Sell=0.5811450000
2025-07-09 22:03:11,648 - DEBUG - websocket - User 5O42G: Fallback last price for GBPUSD: Buy=1.3607400000, Sell=1.3605300000
2025-07-09 22:03:11,649 - DEBUG - websocket - User 5O42G: Fallback last price for EURGBP: Buy=0.8610800000, Sell=0.8607400000
2025-07-09 22:03:11,649 - DEBUG - websocket - User 5O42G: Fallback last price for AUDSGD: Buy=1.0001500000, Sell=0.9998500000
2025-07-09 22:03:11,650 - DEBUG - websocket - User 5O42G: Fallback last price for CHFSGD: Buy=1.6094950000, Sell=1.6090050000
2025-07-09 22:03:11,651 - DEBUG - websocket - User 5O42G: Fallback last price for AUDJPY: Buy=95.7160000000, Sell=95.6100000000
2025-07-09 22:03:11,652 - DEBUG - websocket - User 5O42G: Fallback last price for EURJPY: Buy=171.5645000000, Sell=171.5355000000
2025-07-09 22:03:11,652 - DEBUG - websocket - User 5O42G: Fallback last price for AUDCHF: Buy=0.5199600000, Sell=0.5195100000
2025-07-09 22:03:11,653 - DEBUG - websocket - User 5O42G: Fallback last price for EURZAR: Buy=20.8824200000, Sell=20.8760200000
2025-07-09 22:03:11,654 - DEBUG - websocket - User 5O42G: Fallback last price for USDCZK: Buy=21.0650000000, Sell=20.9950000000
2025-07-09 22:03:11,655 - DEBUG - websocket - User 5O42G: Fallback last price for D30: Buy=24538.5200000000, Sell=24538.5200000000
2025-07-09 22:03:11,656 - DEBUG - websocket - User 5O42G: Fallback last price for AUDUSD: Buy=0.6532800000, Sell=0.6529600000
2025-07-09 22:03:11,656 - DEBUG - websocket - User 5O42G: Fallback last price for EURSEK: Buy=11.1623400000, Sell=11.1602900000
2025-07-09 22:03:11,657 - DEBUG - websocket - User 5O42G: Fallback last price for NZDJPY: Buy=87.7935000000, Sell=87.7595000000
2025-07-09 22:03:11,658 - DEBUG - websocket - User 5O42G: Fallback last price for USDSGD: Buy=1.2808100000, Sell=1.2804700000
2025-07-09 22:03:11,659 - DEBUG - websocket - User 5O42G: Fallback last price for EURSGD: Buy=1.5001850000, Sell=1.4998450000
2025-07-09 22:03:11,660 - DEBUG - websocket - User 5O42G: Fallback last price for NZDUSD: Buy=0.5994200000, Sell=0.5991000000
2025-07-09 22:03:11,661 - DEBUG - websocket - User 5O42G: Fallback last price for EURCZK: Buy=25.0001500000, Sell=24.9998500000
2025-07-09 22:03:11,662 - DEBUG - websocket - User 5O42G: Fallback last price for EURPLN: Buy=4.2412900000, Sell=4.2403300000
2025-07-09 22:03:11,663 - DEBUG - websocket - User 5O42G: Fallback last price for AUDCAD: Buy=0.8940500000, Sell=0.8940200000
2025-07-09 22:03:11,663 - DEBUG - websocket - User 5O42G: Fallback last price for EURCAD: Buy=1.6034900000, Sell=1.6032800000
2025-07-09 22:03:11,664 - DEBUG - websocket - User 5O42G: Fallback last price for EURNZD: Buy=1.9547350000, Sell=1.9543650000
2025-07-09 22:03:11,665 - DEBUG - websocket - User 5O42G: Fallback last price for USDSEK: Buy=9.5296200000, Sell=9.5288600000
2025-07-09 22:03:11,666 - DEBUG - websocket - User 5O42G: Fallback last price for USDJPY: Buy=146.5280000000, Sell=146.4270000000
2025-07-09 22:03:11,666 - DEBUG - websocket - User 5O42G: Fallback last price for EURAUD: Buy=1.7936100000, Sell=1.7932400000
2025-07-09 22:03:11,667 - DEBUG - websocket - User 5O42G: Fallback last price for JP225: Buy=39828.6800000000, Sell=39824.6800000000
2025-07-09 22:03:11,669 - DEBUG - websocket - User 1: Successfully sent initial connection data
2025-07-09 22:03:11,669 - INFO - websocket - User 5O42G: Sent initial connection data with 48 symbols (fresh from cache)
2025-07-09 22:03:15,523 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24834.51088585, margin=6.53
2025-07-09 22:03:15,523 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24834.51088585'), 'margin': Decimal('6.53')}
2025-07-09 22:03:15,524 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:03:17,803 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24834.51088585, margin=6.53
2025-07-09 22:03:17,803 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24834.51088585'), 'margin': Decimal('6.53')}
2025-07-09 22:03:17,803 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:03:18,117 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24834.51088585, margin=6.53
2025-07-09 22:03:18,117 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24834.51088585'), 'margin': Decimal('6.53')}
2025-07-09 22:03:18,117 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:03:20,325 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24834.51088585, margin=6.53
2025-07-09 22:03:20,325 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24834.51088585'), 'margin': Decimal('6.53')}
2025-07-09 22:03:20,326 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:03:22,599 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24834.51088585, margin=6.53
2025-07-09 22:03:22,599 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24834.51088585'), 'margin': Decimal('6.53')}
2025-07-09 22:03:22,601 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:03:24,858 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24834.51088585, margin=6.53
2025-07-09 22:03:24,858 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24834.51088585'), 'margin': Decimal('6.53')}
2025-07-09 22:03:24,858 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:03:27,200 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24834.51088585, margin=6.53
2025-07-09 22:03:27,200 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24834.51088585'), 'margin': Decimal('6.53')}
2025-07-09 22:03:27,201 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:03:29,479 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24834.51088585, margin=6.53
2025-07-09 22:03:29,479 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24834.51088585'), 'margin': Decimal('6.53')}
2025-07-09 22:03:29,479 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:03:30,447 - DEBUG - websocket - User 1: Fetched 1 open orders directly from database
2025-07-09 22:03:30,449 - DEBUG - websocket - User 1: Fetched 1 pending orders directly from database
2025-07-09 22:03:30,450 - INFO - websocket - User 1: Successfully updated static orders cache with 1 open orders and 1 pending orders
2025-07-09 22:03:30,456 - DEBUG - websocket - User 1: Updated balance/margin cache: balance=24834.51088585, margin=6.53
2025-07-09 22:03:30,458 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 22:03:30,460 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24834.51088585, margin=6.53
2025-07-09 22:03:30,460 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24834.51088585'), 'margin': Decimal('6.53')}
2025-07-09 22:03:30,461 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 22:03:30,461 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 22:03:30,462 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24834.51088585, margin=6.53
2025-07-09 22:03:30,462 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24834.51088585'), 'margin': Decimal('6.53')}
2025-07-09 22:03:30,463 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 22:03:30,464 - DEBUG - websocket - User 1: Fetched 1 open orders directly from database
2025-07-09 22:03:30,467 - DEBUG - websocket - User 1: Fetched 1 pending orders directly from database
2025-07-09 22:03:30,467 - INFO - websocket - User 1: Successfully updated static orders cache with 1 open orders and 1 pending orders
2025-07-09 22:03:30,471 - DEBUG - websocket - User 1: Updated balance/margin cache: balance=24834.51088585, margin=6.53
2025-07-09 22:03:31,764 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24834.51088585, margin=6.53
2025-07-09 22:03:31,764 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24834.51088585'), 'margin': Decimal('6.53')}
2025-07-09 22:03:31,764 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:03:32,176 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 22:03:32,178 - DEBUG - websocket - User 1: Fetched 2 open orders directly from database
2025-07-09 22:03:32,178 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24834.51088585, margin=6.53
2025-07-09 22:03:32,178 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24834.51088585'), 'margin': Decimal('6.53')}
2025-07-09 22:03:32,179 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 22:03:32,179 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 22:03:32,180 - DEBUG - websocket - User 1: Fetched 0 pending orders directly from database
2025-07-09 22:03:32,180 - INFO - websocket - User 1: Successfully updated static orders cache with 2 open orders and 0 pending orders
2025-07-09 22:03:32,181 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24834.51088585, margin=6.53
2025-07-09 22:03:32,181 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24834.51088585'), 'margin': Decimal('6.53')}
2025-07-09 22:03:32,181 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 22:03:32,184 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24834.51088585, margin=6.53
2025-07-09 22:03:32,184 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24834.51088585'), 'margin': Decimal('6.53')}
2025-07-09 22:03:32,184 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:03:32,184 - DEBUG - websocket - User 1: Updated balance/margin cache: balance=24834.51088585, margin=6.53
2025-07-09 22:03:34,029 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24834.51088585, margin=6.53
2025-07-09 22:03:34,029 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24834.51088585'), 'margin': Decimal('6.53')}
2025-07-09 22:03:34,029 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:03:36,311 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24834.51088585, margin=6.53
2025-07-09 22:03:36,311 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24834.51088585'), 'margin': Decimal('6.53')}
2025-07-09 22:03:36,311 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:03:38,595 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24834.51088585, margin=6.53
2025-07-09 22:03:38,595 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24834.51088585'), 'margin': Decimal('6.53')}
2025-07-09 22:03:38,595 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:03:40,675 - DEBUG - websocket - User 1: Fetched 2 open orders directly from database
2025-07-09 22:03:40,677 - DEBUG - websocket - User 1: Fetched 1 pending orders directly from database
2025-07-09 22:03:40,677 - INFO - websocket - User 1: Successfully updated static orders cache with 2 open orders and 1 pending orders
2025-07-09 22:03:40,680 - DEBUG - websocket - User 1: Updated balance/margin cache: balance=24834.51088585, margin=6.53
2025-07-09 22:03:40,682 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 22:03:40,684 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24834.51088585, margin=6.53
2025-07-09 22:03:40,684 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24834.51088585'), 'margin': Decimal('6.53')}
2025-07-09 22:03:40,684 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 22:03:40,684 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 22:03:40,685 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24834.51088585, margin=6.53
2025-07-09 22:03:40,685 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24834.51088585'), 'margin': Decimal('6.53')}
2025-07-09 22:03:40,686 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 22:03:40,686 - DEBUG - websocket - User 1: Fetched 2 open orders directly from database
2025-07-09 22:03:40,688 - DEBUG - websocket - User 1: Fetched 1 pending orders directly from database
2025-07-09 22:03:40,689 - INFO - websocket - User 1: Successfully updated static orders cache with 2 open orders and 1 pending orders
2025-07-09 22:03:40,694 - DEBUG - websocket - User 1: Updated balance/margin cache: balance=24834.51088585, margin=6.53
2025-07-09 22:03:41,050 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24834.51088585, margin=6.53
2025-07-09 22:03:41,050 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24834.51088585'), 'margin': Decimal('6.53')}
2025-07-09 22:03:41,050 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:03:41,500 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 22:03:41,501 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24834.51088585, margin=6.53
2025-07-09 22:03:41,501 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24834.51088585'), 'margin': Decimal('6.53')}
2025-07-09 22:03:41,502 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 22:03:41,502 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 22:03:41,503 - DEBUG - websocket - User 1: Fetched 3 open orders directly from database
2025-07-09 22:03:41,504 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24834.51088585, margin=6.53
2025-07-09 22:03:41,504 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24834.51088585'), 'margin': Decimal('6.53')}
2025-07-09 22:03:41,504 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 22:03:41,505 - DEBUG - websocket - User 1: Fetched 0 pending orders directly from database
2025-07-09 22:03:41,506 - INFO - websocket - User 1: Successfully updated static orders cache with 3 open orders and 0 pending orders
2025-07-09 22:03:41,507 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24834.51088585, margin=6.53
2025-07-09 22:03:41,507 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24834.51088585'), 'margin': Decimal('6.53')}
2025-07-09 22:03:41,507 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:03:41,510 - DEBUG - websocket - User 1: Updated balance/margin cache: balance=24834.51088585, margin=13.07
2025-07-09 22:03:43,157 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24834.51088585, margin=13.07
2025-07-09 22:03:43,157 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24834.51088585'), 'margin': Decimal('13.07')}
2025-07-09 22:03:43,158 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:03:45,430 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24834.51088585, margin=13.07
2025-07-09 22:03:45,430 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24834.51088585'), 'margin': Decimal('13.07')}
2025-07-09 22:03:45,431 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:03:47,739 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24834.51088585, margin=13.07
2025-07-09 22:03:47,740 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24834.51088585'), 'margin': Decimal('13.07')}
2025-07-09 22:03:47,740 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:03:50,009 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24834.51088585, margin=13.07
2025-07-09 22:03:50,009 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24834.51088585'), 'margin': Decimal('13.07')}
2025-07-09 22:03:50,010 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:03:52,287 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24834.51088585, margin=13.07
2025-07-09 22:03:52,287 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24834.51088585'), 'margin': Decimal('13.07')}
2025-07-09 22:03:52,288 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:03:54,572 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24834.51088585, margin=13.07
2025-07-09 22:03:54,573 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24834.51088585'), 'margin': Decimal('13.07')}
2025-07-09 22:03:54,573 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:03:56,861 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24834.51088585, margin=13.07
2025-07-09 22:03:56,861 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24834.51088585'), 'margin': Decimal('13.07')}
2025-07-09 22:03:56,861 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:03:57,455 - DEBUG - websocket - User 1: Fetched 3 open orders directly from database
2025-07-09 22:03:57,457 - DEBUG - websocket - User 1: Fetched 1 pending orders directly from database
2025-07-09 22:03:57,457 - INFO - websocket - User 1: Successfully updated static orders cache with 3 open orders and 1 pending orders
2025-07-09 22:03:57,462 - DEBUG - websocket - User 1: Updated balance/margin cache: balance=24834.51088585, margin=13.07
2025-07-09 22:03:57,463 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 22:03:57,466 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24834.51088585, margin=13.07
2025-07-09 22:03:57,466 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24834.51088585'), 'margin': Decimal('13.07')}
2025-07-09 22:03:57,467 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 22:03:57,467 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 22:03:57,468 - DEBUG - websocket - User 1: Fetched 3 open orders directly from database
2025-07-09 22:03:57,471 - DEBUG - websocket - User 1: Fetched 1 pending orders directly from database
2025-07-09 22:03:57,472 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24834.51088585, margin=13.07
2025-07-09 22:03:57,472 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24834.51088585'), 'margin': Decimal('13.07')}
2025-07-09 22:03:57,472 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 22:03:57,472 - INFO - websocket - User 1: Successfully updated static orders cache with 3 open orders and 1 pending orders
2025-07-09 22:03:57,478 - DEBUG - websocket - User 1: Updated balance/margin cache: balance=24834.51088585, margin=13.07
2025-07-09 22:03:59,187 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24834.51088585, margin=13.07
2025-07-09 22:03:59,187 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24834.51088585'), 'margin': Decimal('13.07')}
2025-07-09 22:03:59,188 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:03:59,615 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 22:03:59,616 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24834.51088585, margin=13.07
2025-07-09 22:03:59,616 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24834.51088585'), 'margin': Decimal('13.07')}
2025-07-09 22:03:59,617 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 22:03:59,617 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 22:03:59,617 - DEBUG - websocket - User 1: Fetched 4 open orders directly from database
2025-07-09 22:03:59,619 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24834.51088585, margin=13.07
2025-07-09 22:03:59,619 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24834.51088585'), 'margin': Decimal('13.07')}
2025-07-09 22:03:59,619 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 22:03:59,620 - DEBUG - websocket - User 1: Fetched 0 pending orders directly from database
2025-07-09 22:03:59,621 - INFO - websocket - User 1: Successfully updated static orders cache with 4 open orders and 0 pending orders
2025-07-09 22:03:59,622 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24834.51088585, margin=13.07
2025-07-09 22:03:59,622 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24834.51088585'), 'margin': Decimal('13.07')}
2025-07-09 22:03:59,622 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:03:59,625 - DEBUG - websocket - User 1: Updated balance/margin cache: balance=24834.51088585, margin=19.60
2025-07-09 22:04:01,437 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24834.51088585, margin=19.60
2025-07-09 22:04:01,437 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24834.51088585'), 'margin': Decimal('19.60')}
2025-07-09 22:04:01,438 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:04:03,708 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24834.51088585, margin=19.60
2025-07-09 22:04:03,708 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24834.51088585'), 'margin': Decimal('19.60')}
2025-07-09 22:04:03,708 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:04:06,010 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24834.51088585, margin=19.60
2025-07-09 22:04:06,010 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24834.51088585'), 'margin': Decimal('19.60')}
2025-07-09 22:04:06,011 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:04:08,288 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24834.51088585, margin=19.60
2025-07-09 22:04:08,288 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24834.51088585'), 'margin': Decimal('19.60')}
2025-07-09 22:04:08,288 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:04:10,657 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24834.51088585, margin=19.60
2025-07-09 22:04:10,657 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24834.51088585'), 'margin': Decimal('19.60')}
2025-07-09 22:04:10,658 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:04:13,004 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24834.51088585, margin=19.60
2025-07-09 22:04:13,004 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24834.51088585'), 'margin': Decimal('19.60')}
2025-07-09 22:04:13,005 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:04:15,276 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24834.51088585, margin=19.60
2025-07-09 22:04:15,276 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24834.51088585'), 'margin': Decimal('19.60')}
2025-07-09 22:04:15,276 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:04:17,624 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24834.51088585, margin=19.60
2025-07-09 22:04:17,624 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24834.51088585'), 'margin': Decimal('19.60')}
2025-07-09 22:04:17,625 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:04:19,819 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24834.51088585, margin=19.60
2025-07-09 22:04:19,819 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24834.51088585'), 'margin': Decimal('19.60')}
2025-07-09 22:04:19,820 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:04:22,099 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24834.51088585, margin=19.60
2025-07-09 22:04:22,099 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24834.51088585'), 'margin': Decimal('19.60')}
2025-07-09 22:04:22,100 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:04:24,389 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24834.51088585, margin=19.60
2025-07-09 22:04:24,389 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24834.51088585'), 'margin': Decimal('19.60')}
2025-07-09 22:04:24,390 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:04:26,665 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24834.51088585, margin=19.60
2025-07-09 22:04:26,665 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24834.51088585'), 'margin': Decimal('19.60')}
2025-07-09 22:04:26,665 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:04:27,478 - DEBUG - websocket - User 1: Fetched 4 open orders directly from database
2025-07-09 22:04:27,480 - DEBUG - websocket - User 1: Fetched 1 pending orders directly from database
2025-07-09 22:04:27,481 - INFO - websocket - User 1: Successfully updated static orders cache with 4 open orders and 1 pending orders
2025-07-09 22:04:27,483 - DEBUG - websocket - User 1: Updated balance/margin cache: balance=24834.51088585, margin=19.60
2025-07-09 22:04:27,484 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 22:04:27,486 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24834.51088585, margin=19.60
2025-07-09 22:04:27,487 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24834.51088585'), 'margin': Decimal('19.60')}
2025-07-09 22:04:27,487 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 22:04:27,487 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 22:04:27,488 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24834.51088585, margin=19.60
2025-07-09 22:04:27,488 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24834.51088585'), 'margin': Decimal('19.60')}
2025-07-09 22:04:27,488 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 22:04:27,489 - DEBUG - websocket - User 1: Fetched 4 open orders directly from database
2025-07-09 22:04:27,491 - DEBUG - websocket - User 1: Fetched 1 pending orders directly from database
2025-07-09 22:04:27,491 - INFO - websocket - User 1: Successfully updated static orders cache with 4 open orders and 1 pending orders
2025-07-09 22:04:27,495 - DEBUG - websocket - User 1: Updated balance/margin cache: balance=24834.51088585, margin=19.60
2025-07-09 22:04:28,942 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24834.51088585, margin=19.60
2025-07-09 22:04:28,942 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24834.51088585'), 'margin': Decimal('19.60')}
2025-07-09 22:04:28,943 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:04:31,232 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24834.51088585, margin=19.60
2025-07-09 22:04:31,232 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24834.51088585'), 'margin': Decimal('19.60')}
2025-07-09 22:04:31,233 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:04:31,670 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 22:04:31,671 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24834.51088585, margin=19.60
2025-07-09 22:04:31,671 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24834.51088585'), 'margin': Decimal('19.60')}
2025-07-09 22:04:31,672 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 22:04:31,672 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 22:04:31,672 - DEBUG - websocket - User 1: Fetched 5 open orders directly from database
2025-07-09 22:04:31,674 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24834.51088585, margin=19.60
2025-07-09 22:04:31,674 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24834.51088585'), 'margin': Decimal('19.60')}
2025-07-09 22:04:31,674 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 22:04:31,675 - DEBUG - websocket - User 1: Fetched 0 pending orders directly from database
2025-07-09 22:04:31,676 - INFO - websocket - User 1: Successfully updated static orders cache with 5 open orders and 0 pending orders
2025-07-09 22:04:31,677 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24834.51088585, margin=19.60
2025-07-09 22:04:31,677 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24834.51088585'), 'margin': Decimal('19.60')}
2025-07-09 22:04:31,677 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:04:31,687 - DEBUG - websocket - User 1: Updated balance/margin cache: balance=24834.51088585, margin=26.15
2025-07-09 22:04:33,510 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24834.51088585, margin=26.15
2025-07-09 22:04:33,510 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24834.51088585'), 'margin': Decimal('26.15')}
2025-07-09 22:04:33,511 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:04:35,811 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24834.51088585, margin=26.15
2025-07-09 22:04:35,811 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24834.51088585'), 'margin': Decimal('26.15')}
2025-07-09 22:04:35,811 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:04:38,076 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24834.51088585, margin=26.15
2025-07-09 22:04:38,076 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24834.51088585'), 'margin': Decimal('26.15')}
2025-07-09 22:04:38,076 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:04:40,356 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24834.51088585, margin=26.15
2025-07-09 22:04:40,356 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24834.51088585'), 'margin': Decimal('26.15')}
2025-07-09 22:04:40,356 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:04:42,637 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24834.51088585, margin=26.15
2025-07-09 22:04:42,637 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24834.51088585'), 'margin': Decimal('26.15')}
2025-07-09 22:04:42,638 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:04:44,967 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24834.51088585, margin=26.15
2025-07-09 22:04:44,967 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24834.51088585'), 'margin': Decimal('26.15')}
2025-07-09 22:04:44,968 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:04:45,576 - INFO - websocket - User 5O42G: WebSocket disconnected by client.
2025-07-09 22:04:45,576 - INFO - websocket - User 5O42G: Cleaning up WebSocket connection.
2025-07-09 22:04:45,577 - INFO - websocket - User 5O42G: Listener task successfully cancelled.
2025-07-09 22:04:45,577 - INFO - websocket - User 5O42G: WebSocket connection fully closed.
2025-07-09 22:04:47,186 - INFO - websocket - Redis publisher task cancelled.
2025-07-09 22:04:47,186 - INFO - websocket - Redis publisher task finished.
2025-07-09 22:18:46,986 - INFO - websocket - Redis publisher task started. Publishing to channel 'market_data_updates'.
2025-07-09 22:18:51,784 - INFO - websocket - --- MINIMAL TEST: ENTERED websocket_endpoint --- Connection ID: 127.0.0.1:57002-1752124731784
2025-07-09 22:18:51,785 - INFO - websocket - WebSocket connection accepted (early) for 127.0.0.1:57002 in 0.001s
2025-07-09 22:18:51,786 - DEBUG - websocket - User 0: Successfully sent loading message
2025-07-09 22:18:51,801 - WARNING - websocket - WebSocket auth failed: JWT error for 127.0.0.1:57002: Could not validate credentials
2025-07-09 22:18:57,278 - INFO - websocket - --- MINIMAL TEST: ENTERED websocket_endpoint --- Connection ID: 127.0.0.1:57012-1752124737278
2025-07-09 22:18:57,279 - INFO - websocket - WebSocket connection accepted (early) for 127.0.0.1:57012 in 0.000s
2025-07-09 22:18:57,279 - DEBUG - websocket - User 0: Successfully sent loading message
2025-07-09 22:18:57,281 - WARNING - websocket - WebSocket auth failed: JWT error for 127.0.0.1:57012: Could not validate credentials
2025-07-09 22:19:09,832 - INFO - websocket - --- MINIMAL TEST: ENTERED websocket_endpoint --- Connection ID: 127.0.0.1:57055-1752124749832
2025-07-09 22:19:09,835 - INFO - websocket - WebSocket connection accepted (early) for 127.0.0.1:57055 in 0.002s
2025-07-09 22:19:09,837 - DEBUG - websocket - User 0: Successfully sent loading message
2025-07-09 22:19:09,838 - INFO - websocket - WebSocket auth: token payload={'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1752126544, 'iat': 1752124744}, account_number=5O42G, user_type=demo
2025-07-09 22:19:09,838 - INFO - websocket - WebSocket auth: About to call get_demo_user_by_account_number with account_number=5O42G, user_type=demo
2025-07-09 22:19:09,843 - INFO - websocket - WebSocket auth: get_demo_user_by_account_number(5O42G, demo) returned: <app.database.models.DemoUser object at 0x0000026E1B120B00>
2025-07-09 22:19:09,844 - INFO - websocket - [WS] Using order model: DemoUserOrder for user_type=demo, account_number=5O42G
2025-07-09 22:19:09,848 - INFO - websocket - [WS] Open positions from DB for user_id=1: [<app.database.models.DemoUserOrder object at 0x0000026E1AC20F50>, <app.database.models.DemoUserOrder object at 0x0000026E1AC234D0>, <app.database.models.DemoUserOrder object at 0x0000026E1AC23610>, <app.database.models.DemoUserOrder object at 0x0000026E1B2CC410>, <app.database.models.DemoUserOrder object at 0x0000026E1B2CD1D0>]
2025-07-09 22:19:09,850 - INFO - websocket - [WEBSOCKET_INIT] User 1: Initialized balance/margin cache - balance=24834.51088585, margin=32.67289286
2025-07-09 22:19:09,851 - INFO - websocket - [WEBSOCKET_INIT] User 1: Cache verification successful - {'wallet_balance': Decimal('24834.51088585'), 'margin': Decimal('32.67289286')}
2025-07-09 22:19:10,368 - DEBUG - websocket - Cached/updated group-symbol settings for group 'Group B'.
2025-07-09 22:19:10,371 - DEBUG - websocket - User 1: Fetched 5 open orders directly from database
2025-07-09 22:19:10,375 - DEBUG - websocket - User 1: Fetched 0 pending orders directly from database
2025-07-09 22:19:10,376 - INFO - websocket - User 1: Successfully updated static orders cache with 5 open orders and 0 pending orders
2025-07-09 22:19:10,384 - DEBUG - websocket - User 1: Updated balance/margin cache: balance=24834.51088585, margin=26.15
2025-07-09 22:19:10,405 - INFO - websocket - User 5O42G: Fetching initial market data for 79 symbols from cache (adjusted or last known price)
2025-07-09 22:19:10,449 - DEBUG - websocket - User 1: Successfully sent initial connection data
2025-07-09 22:19:10,449 - INFO - websocket - User 5O42G: Sent initial connection data with 48 symbols (fresh from cache)
2025-07-09 22:19:12,686 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24834.51088585, margin=26.15
2025-07-09 22:19:12,687 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24834.51088585'), 'margin': Decimal('26.15')}
2025-07-09 22:19:12,687 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:19:12,903 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24834.51088585, margin=26.15
2025-07-09 22:19:12,904 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24834.51088585'), 'margin': Decimal('26.15')}
2025-07-09 22:19:12,904 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:19:15,191 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24834.51088585, margin=26.15
2025-07-09 22:19:15,191 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24834.51088585'), 'margin': Decimal('26.15')}
2025-07-09 22:19:15,192 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:19:15,998 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 22:19:16,008 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24833.66088585, margin=13.05
2025-07-09 22:19:16,009 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24833.66088585'), 'margin': Decimal('13.05')}
2025-07-09 22:19:16,009 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 22:19:16,010 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 22:19:16,013 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24833.66088585, margin=13.05
2025-07-09 22:19:16,013 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24833.66088585'), 'margin': Decimal('13.05')}
2025-07-09 22:19:16,014 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 22:19:16,016 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24833.66088585, margin=13.05
2025-07-09 22:19:16,017 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24833.66088585'), 'margin': Decimal('13.05')}
2025-07-09 22:19:16,017 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:19:17,474 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24833.66088585, margin=13.05
2025-07-09 22:19:17,474 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24833.66088585'), 'margin': Decimal('13.05')}
2025-07-09 22:19:17,475 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:19:18,266 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 22:19:18,272 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24833.01088585, margin=6.52
2025-07-09 22:19:18,272 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24833.01088585'), 'margin': Decimal('6.52')}
2025-07-09 22:19:18,275 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 22:19:18,276 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 22:19:18,281 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24833.01088585, margin=6.52
2025-07-09 22:19:18,282 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24833.01088585'), 'margin': Decimal('6.52')}
2025-07-09 22:19:18,283 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 22:19:18,289 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24833.01088585, margin=6.52
2025-07-09 22:19:18,289 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24833.01088585'), 'margin': Decimal('6.52')}
2025-07-09 22:19:18,289 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:19:19,751 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24833.01088585, margin=6.52
2025-07-09 22:19:19,752 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24833.01088585'), 'margin': Decimal('6.52')}
2025-07-09 22:19:19,754 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:19:20,817 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 22:19:20,823 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24832.33088585, margin=0
2025-07-09 22:19:20,823 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24832.33088585'), 'margin': Decimal('0')}
2025-07-09 22:19:20,828 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 22:19:20,828 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 22:19:20,832 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24832.33088585, margin=0
2025-07-09 22:19:20,832 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24832.33088585'), 'margin': Decimal('0')}
2025-07-09 22:19:20,833 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 22:19:20,838 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24832.33088585, margin=0
2025-07-09 22:19:20,838 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24832.33088585'), 'margin': Decimal('0')}
2025-07-09 22:19:20,839 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:19:22,044 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24832.33088585, margin=0
2025-07-09 22:19:22,044 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24832.33088585'), 'margin': Decimal('0')}
2025-07-09 22:19:22,044 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:19:24,335 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24832.33088585, margin=0
2025-07-09 22:19:24,335 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24832.33088585'), 'margin': Decimal('0')}
2025-07-09 22:19:24,336 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:19:26,627 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24832.33088585, margin=0
2025-07-09 22:19:26,627 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24832.33088585'), 'margin': Decimal('0')}
2025-07-09 22:19:26,628 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:19:28,904 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24832.33088585, margin=0
2025-07-09 22:19:28,904 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24832.33088585'), 'margin': Decimal('0')}
2025-07-09 22:19:28,905 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:19:31,167 - INFO - websocket - User 5O42G: WebSocket disconnected by client.
2025-07-09 22:19:31,167 - INFO - websocket - User 5O42G: Cleaning up WebSocket connection.
2025-07-09 22:19:31,192 - INFO - websocket - User 5O42G: Listener task successfully cancelled.
2025-07-09 22:19:31,192 - INFO - websocket - User 5O42G: WebSocket connection fully closed.
2025-07-09 22:19:31,912 - INFO - websocket - --- MINIMAL TEST: ENTERED websocket_endpoint --- Connection ID: 127.0.0.1:57085-1752124771912
2025-07-09 22:19:31,913 - INFO - websocket - WebSocket connection accepted (early) for 127.0.0.1:57085 in 0.001s
2025-07-09 22:19:31,914 - DEBUG - websocket - User 0: Successfully sent loading message
2025-07-09 22:19:31,916 - INFO - websocket - WebSocket auth: token payload={'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1752126544, 'iat': 1752124744}, account_number=5O42G, user_type=demo
2025-07-09 22:19:31,916 - INFO - websocket - WebSocket auth: About to call get_demo_user_by_account_number with account_number=5O42G, user_type=demo
2025-07-09 22:19:31,920 - INFO - websocket - WebSocket auth: get_demo_user_by_account_number(5O42G, demo) returned: <app.database.models.DemoUser object at 0x0000026E1B120FC0>
2025-07-09 22:19:33,258 - INFO - websocket - [WS] Using order model: DemoUserOrder for user_type=demo, account_number=5O42G
2025-07-09 22:19:33,266 - INFO - websocket - [WS] Open positions from DB for user_id=1: [<app.database.models.DemoUserOrder object at 0x0000026E1AC23ED0>, <app.database.models.DemoUserOrder object at 0x0000026E1AC234D0>]
2025-07-09 22:19:33,274 - INFO - websocket - [WEBSOCKET_INIT] User 1: Initialized balance/margin cache - balance=24832.33088585, margin=13.06762790
2025-07-09 22:19:33,279 - INFO - websocket - [WEBSOCKET_INIT] User 1: Cache verification successful - {'wallet_balance': Decimal('24832.33088585'), 'margin': Decimal('13.06762790')}
2025-07-09 22:19:34,075 - DEBUG - websocket - Cached/updated group-symbol settings for group 'Group B'.
2025-07-09 22:19:34,080 - DEBUG - websocket - User 1: Fetched 2 open orders directly from database
2025-07-09 22:19:34,085 - DEBUG - websocket - User 1: Fetched 0 pending orders directly from database
2025-07-09 22:19:34,087 - INFO - websocket - User 1: Successfully updated static orders cache with 2 open orders and 0 pending orders
2025-07-09 22:19:34,095 - DEBUG - websocket - User 1: Updated balance/margin cache: balance=24832.33088585, margin=6.53
2025-07-09 22:19:34,131 - INFO - websocket - User 5O42G: Fetching initial market data for 79 symbols from cache (adjusted or last known price)
2025-07-09 22:19:34,181 - DEBUG - websocket - User 5O42G: Fallback last price for AUDNZD: Buy=1.0002500000, Sell=0.9997500000
2025-07-09 22:19:34,198 - DEBUG - websocket - User 5O42G: Fallback last price for AUDSGD: Buy=1.0001500000, Sell=0.9998500000
2025-07-09 22:19:34,207 - DEBUG - websocket - User 5O42G: Fallback last price for D30: Buy=24538.5200000000, Sell=24538.5200000000
2025-07-09 22:19:34,218 - DEBUG - websocket - User 5O42G: Fallback last price for EURCZK: Buy=25.0001500000, Sell=24.9998500000
2025-07-09 22:19:34,238 - DEBUG - websocket - User 1: Successfully sent initial connection data
2025-07-09 22:19:34,238 - INFO - websocket - User 5O42G: Sent initial connection data with 48 symbols (fresh from cache)
2025-07-09 22:19:35,933 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24832.33088585, margin=6.53
2025-07-09 22:19:35,933 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24832.33088585'), 'margin': Decimal('6.53')}
2025-07-09 22:19:35,934 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:19:38,158 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24832.33088585, margin=6.53
2025-07-09 22:19:38,158 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24832.33088585'), 'margin': Decimal('6.53')}
2025-07-09 22:19:38,158 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:19:40,432 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24832.33088585, margin=6.53
2025-07-09 22:19:40,432 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24832.33088585'), 'margin': Decimal('6.53')}
2025-07-09 22:19:40,433 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:19:41,589 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 22:19:41,594 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24831.78088585, margin=0
2025-07-09 22:19:41,594 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24831.78088585'), 'margin': Decimal('0')}
2025-07-09 22:19:41,596 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 22:19:41,596 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 22:19:41,600 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24831.78088585, margin=0
2025-07-09 22:19:41,600 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24831.78088585'), 'margin': Decimal('0')}
2025-07-09 22:19:41,601 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 22:19:41,605 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24831.78088585, margin=0
2025-07-09 22:19:41,605 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24831.78088585'), 'margin': Decimal('0')}
2025-07-09 22:19:41,607 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:19:42,727 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24831.78088585, margin=0
2025-07-09 22:19:42,727 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24831.78088585'), 'margin': Decimal('0')}
2025-07-09 22:19:42,727 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:19:45,010 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24831.78088585, margin=0
2025-07-09 22:19:45,011 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24831.78088585'), 'margin': Decimal('0')}
2025-07-09 22:19:45,011 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:19:47,326 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24831.78088585, margin=0
2025-07-09 22:19:47,326 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24831.78088585'), 'margin': Decimal('0')}
2025-07-09 22:19:47,327 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:19:49,596 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24831.78088585, margin=0
2025-07-09 22:19:49,597 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24831.78088585'), 'margin': Decimal('0')}
2025-07-09 22:19:49,597 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:19:51,893 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24831.78088585, margin=0
2025-07-09 22:19:51,893 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24831.78088585'), 'margin': Decimal('0')}
2025-07-09 22:19:51,894 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:19:54,165 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24831.78088585, margin=0
2025-07-09 22:19:54,165 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24831.78088585'), 'margin': Decimal('0')}
2025-07-09 22:19:54,166 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:19:56,457 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24831.78088585, margin=0
2025-07-09 22:19:56,457 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24831.78088585'), 'margin': Decimal('0')}
2025-07-09 22:19:56,458 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:19:58,717 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24831.78088585, margin=0
2025-07-09 22:19:58,717 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24831.78088585'), 'margin': Decimal('0')}
2025-07-09 22:19:58,717 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:20:00,643 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 22:20:00,655 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24831.29088585, margin=0
2025-07-09 22:20:00,655 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24831.29088585'), 'margin': Decimal('0')}
2025-07-09 22:20:00,656 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 22:20:00,657 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 22:20:00,664 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24831.29088585, margin=0
2025-07-09 22:20:00,664 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24831.29088585'), 'margin': Decimal('0')}
2025-07-09 22:20:00,665 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 22:20:00,674 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24831.29088585, margin=0
2025-07-09 22:20:00,675 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24831.29088585'), 'margin': Decimal('0')}
2025-07-09 22:20:00,675 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:20:01,055 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24831.29088585, margin=0
2025-07-09 22:20:01,055 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24831.29088585'), 'margin': Decimal('0')}
2025-07-09 22:20:01,055 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:20:03,311 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24831.29088585, margin=0
2025-07-09 22:20:03,311 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24831.29088585'), 'margin': Decimal('0')}
2025-07-09 22:20:03,312 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:20:05,596 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24831.29088585, margin=0
2025-07-09 22:20:05,596 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24831.29088585'), 'margin': Decimal('0')}
2025-07-09 22:20:05,597 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:20:08,011 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24831.29088585, margin=0
2025-07-09 22:20:08,011 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24831.29088585'), 'margin': Decimal('0')}
2025-07-09 22:20:08,011 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:20:10,321 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24831.29088585, margin=0
2025-07-09 22:20:10,321 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24831.29088585'), 'margin': Decimal('0')}
2025-07-09 22:20:10,322 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:20:11,565 - DEBUG - websocket - User 1: Fetched 0 open orders directly from database
2025-07-09 22:20:11,569 - DEBUG - websocket - User 1: Fetched 1 pending orders directly from database
2025-07-09 22:20:11,571 - INFO - websocket - User 1: Successfully updated static orders cache with 0 open orders and 1 pending orders
2025-07-09 22:20:11,575 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 22:20:11,581 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24831.29088585, margin=0.0
2025-07-09 22:20:11,581 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24831.29088585'), 'margin': Decimal('0.0')}
2025-07-09 22:20:11,583 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 22:20:11,584 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 22:20:11,591 - DEBUG - websocket - User 1: Fetched 0 open orders directly from database
2025-07-09 22:20:11,595 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24831.29088585, margin=0.0
2025-07-09 22:20:11,596 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24831.29088585'), 'margin': Decimal('0.0')}
2025-07-09 22:20:11,600 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 22:20:11,611 - DEBUG - websocket - User 1: Fetched 1 pending orders directly from database
2025-07-09 22:20:11,618 - INFO - websocket - User 1: Successfully updated static orders cache with 0 open orders and 1 pending orders
2025-07-09 22:20:12,589 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24831.29088585, margin=0.0
2025-07-09 22:20:12,589 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24831.29088585'), 'margin': Decimal('0.0')}
2025-07-09 22:20:12,590 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:20:14,863 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24831.29088585, margin=0.0
2025-07-09 22:20:14,863 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24831.29088585'), 'margin': Decimal('0.0')}
2025-07-09 22:20:14,864 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:20:17,156 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24831.29088585, margin=0.0
2025-07-09 22:20:17,156 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24831.29088585'), 'margin': Decimal('0.0')}
2025-07-09 22:20:17,157 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:20:19,481 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24831.29088585, margin=0.0
2025-07-09 22:20:19,481 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24831.29088585'), 'margin': Decimal('0.0')}
2025-07-09 22:20:19,482 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:20:21,752 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24831.29088585, margin=0.0
2025-07-09 22:20:21,752 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24831.29088585'), 'margin': Decimal('0.0')}
2025-07-09 22:20:21,753 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:20:24,369 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24831.29088585, margin=0.0
2025-07-09 22:20:24,369 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24831.29088585'), 'margin': Decimal('0.0')}
2025-07-09 22:20:24,370 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:20:26,423 - DEBUG - websocket - User 1: Fetched 0 open orders directly from database
2025-07-09 22:20:26,428 - DEBUG - websocket - User 1: Fetched 2 pending orders directly from database
2025-07-09 22:20:26,430 - INFO - websocket - User 1: Successfully updated static orders cache with 0 open orders and 2 pending orders
2025-07-09 22:20:26,435 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 22:20:26,442 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24831.29088585, margin=0.0
2025-07-09 22:20:26,442 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24831.29088585'), 'margin': Decimal('0.0')}
2025-07-09 22:20:26,443 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 22:20:26,444 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 22:20:26,446 - DEBUG - websocket - User 1: Fetched 0 open orders directly from database
2025-07-09 22:20:26,454 - DEBUG - websocket - User 1: Fetched 2 pending orders directly from database
2025-07-09 22:20:26,457 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24831.29088585, margin=0.0
2025-07-09 22:20:26,457 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24831.29088585'), 'margin': Decimal('0.0')}
2025-07-09 22:20:26,457 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 22:20:26,459 - INFO - websocket - User 1: Successfully updated static orders cache with 0 open orders and 2 pending orders
2025-07-09 22:20:26,672 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24831.29088585, margin=0.0
2025-07-09 22:20:26,672 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24831.29088585'), 'margin': Decimal('0.0')}
2025-07-09 22:20:26,673 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:20:28,977 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24831.29088585, margin=0.0
2025-07-09 22:20:28,978 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24831.29088585'), 'margin': Decimal('0.0')}
2025-07-09 22:20:28,979 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:20:31,353 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24831.29088585, margin=0.0
2025-07-09 22:20:31,353 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24831.29088585'), 'margin': Decimal('0.0')}
2025-07-09 22:20:31,354 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:20:33,866 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24831.29088585, margin=0.0
2025-07-09 22:20:33,866 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24831.29088585'), 'margin': Decimal('0.0')}
2025-07-09 22:20:33,867 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:20:34,360 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 22:20:34,367 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24831.29088585, margin=0.0
2025-07-09 22:20:34,367 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24831.29088585'), 'margin': Decimal('0.0')}
2025-07-09 22:20:34,368 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 22:20:34,368 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 22:20:34,370 - DEBUG - websocket - User 1: Fetched 1 open orders directly from database
2025-07-09 22:20:34,374 - DEBUG - websocket - User 1: Fetched 1 pending orders directly from database
2025-07-09 22:20:34,377 - INFO - websocket - User 1: Successfully updated static orders cache with 1 open orders and 1 pending orders
2025-07-09 22:20:34,380 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24831.29088585, margin=0.0
2025-07-09 22:20:34,381 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24831.29088585'), 'margin': Decimal('0.0')}
2025-07-09 22:20:34,382 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 22:20:34,402 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24831.29088585, margin=0.0
2025-07-09 22:20:34,403 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24831.29088585'), 'margin': Decimal('0.0')}
2025-07-09 22:20:34,403 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:20:34,410 - DEBUG - websocket - User 1: Updated balance/margin cache: balance=24831.29088585, margin=6.54
2025-07-09 22:20:36,159 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24831.29088585, margin=6.54
2025-07-09 22:20:36,159 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24831.29088585'), 'margin': Decimal('6.54')}
2025-07-09 22:20:36,159 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:20:38,475 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24831.29088585, margin=6.54
2025-07-09 22:20:38,475 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24831.29088585'), 'margin': Decimal('6.54')}
2025-07-09 22:20:38,476 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:20:40,862 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24831.29088585, margin=6.54
2025-07-09 22:20:40,862 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24831.29088585'), 'margin': Decimal('6.54')}
2025-07-09 22:20:40,862 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:20:43,127 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24831.29088585, margin=6.54
2025-07-09 22:20:43,128 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24831.29088585'), 'margin': Decimal('6.54')}
2025-07-09 22:20:43,131 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:20:45,513 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24831.29088585, margin=6.54
2025-07-09 22:20:45,514 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24831.29088585'), 'margin': Decimal('6.54')}
2025-07-09 22:20:45,514 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:20:47,737 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24831.29088585, margin=6.54
2025-07-09 22:20:47,737 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24831.29088585'), 'margin': Decimal('6.54')}
2025-07-09 22:20:47,738 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:20:49,982 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24831.29088585, margin=6.54
2025-07-09 22:20:49,982 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24831.29088585'), 'margin': Decimal('6.54')}
2025-07-09 22:20:49,983 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:20:52,349 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24831.29088585, margin=6.54
2025-07-09 22:20:52,350 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24831.29088585'), 'margin': Decimal('6.54')}
2025-07-09 22:20:52,351 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:20:54,587 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24831.29088585, margin=6.54
2025-07-09 22:20:54,587 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24831.29088585'), 'margin': Decimal('6.54')}
2025-07-09 22:20:54,588 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:20:56,968 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24831.29088585, margin=6.54
2025-07-09 22:20:56,968 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24831.29088585'), 'margin': Decimal('6.54')}
2025-07-09 22:20:56,969 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:20:59,192 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24831.29088585, margin=6.54
2025-07-09 22:20:59,192 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24831.29088585'), 'margin': Decimal('6.54')}
2025-07-09 22:20:59,193 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:21:01,445 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24831.29088585, margin=6.54
2025-07-09 22:21:01,446 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24831.29088585'), 'margin': Decimal('6.54')}
2025-07-09 22:21:01,447 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:21:03,799 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24831.29088585, margin=6.54
2025-07-09 22:21:03,799 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24831.29088585'), 'margin': Decimal('6.54')}
2025-07-09 22:21:03,800 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:21:05,744 - DEBUG - websocket - User 1: Fetched 1 open orders directly from database
2025-07-09 22:21:05,747 - DEBUG - websocket - User 1: Fetched 1 pending orders directly from database
2025-07-09 22:21:05,748 - INFO - websocket - User 1: Successfully updated static orders cache with 1 open orders and 1 pending orders
2025-07-09 22:21:05,752 - DEBUG - websocket - User 1: Updated balance/margin cache: balance=24831.29088585, margin=6.54
2025-07-09 22:21:05,754 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 22:21:05,756 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24831.29088585, margin=6.54
2025-07-09 22:21:05,756 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24831.29088585'), 'margin': Decimal('6.54')}
2025-07-09 22:21:05,758 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 22:21:05,759 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 22:21:05,765 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24831.29088585, margin=6.54
2025-07-09 22:21:05,765 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24831.29088585'), 'margin': Decimal('6.54')}
2025-07-09 22:21:05,765 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 22:21:05,780 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24831.29088585, margin=6.54
2025-07-09 22:21:05,780 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24831.29088585'), 'margin': Decimal('6.54')}
2025-07-09 22:21:05,781 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:21:06,062 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24831.29088585, margin=6.54
2025-07-09 22:21:06,063 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24831.29088585'), 'margin': Decimal('6.54')}
2025-07-09 22:21:06,063 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:21:08,387 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24831.29088585, margin=6.54
2025-07-09 22:21:08,388 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24831.29088585'), 'margin': Decimal('6.54')}
2025-07-09 22:21:08,388 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:21:10,677 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24831.29088585, margin=6.54
2025-07-09 22:21:10,677 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24831.29088585'), 'margin': Decimal('6.54')}
2025-07-09 22:21:10,678 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:21:11,297 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 22:21:11,298 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24831.29088585, margin=6.54
2025-07-09 22:21:11,298 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24831.29088585'), 'margin': Decimal('6.54')}
2025-07-09 22:21:11,298 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 22:21:11,298 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 22:21:11,301 - DEBUG - websocket - User 1: Fetched 2 open orders directly from database
2025-07-09 22:21:11,304 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24831.29088585, margin=6.54
2025-07-09 22:21:11,304 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24831.29088585'), 'margin': Decimal('6.54')}
2025-07-09 22:21:11,304 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 22:21:11,308 - DEBUG - websocket - User 1: Fetched 0 pending orders directly from database
2025-07-09 22:21:11,310 - INFO - websocket - User 1: Successfully updated static orders cache with 2 open orders and 0 pending orders
2025-07-09 22:21:11,311 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24831.29088585, margin=6.54
2025-07-09 22:21:11,311 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24831.29088585'), 'margin': Decimal('6.54')}
2025-07-09 22:21:11,312 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:21:11,328 - DEBUG - websocket - User 1: Updated balance/margin cache: balance=24831.29088585, margin=13.07
2025-07-09 22:21:13,018 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24831.29088585, margin=13.07
2025-07-09 22:21:13,018 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24831.29088585'), 'margin': Decimal('13.07')}
2025-07-09 22:21:13,019 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:21:15,247 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24831.29088585, margin=13.07
2025-07-09 22:21:15,247 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24831.29088585'), 'margin': Decimal('13.07')}
2025-07-09 22:21:15,249 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:21:17,061 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 22:21:17,064 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24831.14088585, margin=0.01
2025-07-09 22:21:17,064 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24831.14088585'), 'margin': Decimal('0.01')}
2025-07-09 22:21:17,068 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 22:21:17,068 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 22:21:17,072 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24831.14088585, margin=0.01
2025-07-09 22:21:17,072 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24831.14088585'), 'margin': Decimal('0.01')}
2025-07-09 22:21:17,075 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 22:21:17,082 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24831.14088585, margin=0.01
2025-07-09 22:21:17,083 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24831.14088585'), 'margin': Decimal('0.01')}
2025-07-09 22:21:17,084 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:21:17,566 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24831.14088585, margin=0.01
2025-07-09 22:21:17,566 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24831.14088585'), 'margin': Decimal('0.01')}
2025-07-09 22:21:17,566 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:21:19,923 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24831.14088585, margin=0.01
2025-07-09 22:21:19,924 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24831.14088585'), 'margin': Decimal('0.01')}
2025-07-09 22:21:19,925 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:21:22,282 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24831.14088585, margin=0.01
2025-07-09 22:21:22,282 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24831.14088585'), 'margin': Decimal('0.01')}
2025-07-09 22:21:22,283 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:21:24,514 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24831.14088585, margin=0.01
2025-07-09 22:21:24,514 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24831.14088585'), 'margin': Decimal('0.01')}
2025-07-09 22:21:24,515 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:21:26,720 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24831.14088585, margin=0.01
2025-07-09 22:21:26,720 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24831.14088585'), 'margin': Decimal('0.01')}
2025-07-09 22:21:26,721 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:21:29,073 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24831.14088585, margin=0.01
2025-07-09 22:21:29,073 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24831.14088585'), 'margin': Decimal('0.01')}
2025-07-09 22:21:29,074 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:21:30,984 - INFO - websocket - User 5O42G: WebSocket disconnected by client.
2025-07-09 22:21:30,984 - INFO - websocket - User 5O42G: Cleaning up WebSocket connection.
2025-07-09 22:21:30,985 - INFO - websocket - User 5O42G: Listener task successfully cancelled.
2025-07-09 22:21:30,985 - INFO - websocket - User 5O42G: WebSocket connection fully closed.
2025-07-09 22:21:31,255 - INFO - websocket - Redis publisher task cancelled.
2025-07-09 22:21:31,255 - INFO - websocket - Redis publisher task finished.
2025-07-09 22:30:45,091 - INFO - websocket - Redis publisher task started. Publishing to channel 'market_data_updates'.
2025-07-09 22:30:50,295 - INFO - websocket - --- MINIMAL TEST: ENTERED websocket_endpoint --- Connection ID: 127.0.0.1:57872-1752125450294
2025-07-09 22:30:50,296 - INFO - websocket - WebSocket connection accepted (early) for 127.0.0.1:57872 in 0.001s
2025-07-09 22:30:50,298 - DEBUG - websocket - User 0: Successfully sent loading message
2025-07-09 22:30:50,298 - INFO - websocket - WebSocket auth: token payload={'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1752126544, 'iat': 1752124744}, account_number=5O42G, user_type=demo
2025-07-09 22:30:50,299 - INFO - websocket - WebSocket auth: About to call get_demo_user_by_account_number with account_number=5O42G, user_type=demo
2025-07-09 22:30:50,309 - INFO - websocket - WebSocket auth: get_demo_user_by_account_number(5O42G, demo) returned: <app.database.models.DemoUser object at 0x000001D4E628A510>
2025-07-09 22:30:53,975 - INFO - websocket - [WS] Using order model: DemoUserOrder for user_type=demo, account_number=5O42G
2025-07-09 22:30:53,982 - INFO - websocket - [WS] Open positions from DB for user_id=1: [<app.database.models.DemoUserOrder object at 0x000001D4E628B770>]
2025-07-09 22:30:58,067 - INFO - websocket - [WEBSOCKET_INIT] User 1: Initialized balance/margin cache - balance=24831.14088585, margin=6.53681782
2025-07-09 22:31:00,116 - INFO - websocket - [WEBSOCKET_INIT] User 1: Cache verification successful - {'wallet_balance': Decimal('24831.14088585'), 'margin': Decimal('6.53681782'), 'updated_at': '2025-07-09T22:30:53.982745'}
2025-07-09 22:31:04,502 - DEBUG - websocket - Cached/updated group-symbol settings for group 'Group B'.
2025-07-09 22:31:04,504 - DEBUG - websocket - User 1: Fetched 1 open orders directly from database
2025-07-09 22:31:04,505 - DEBUG - websocket - User 1: Fetched 0 pending orders directly from database
2025-07-09 22:31:04,506 - INFO - websocket - User 1: Successfully updated static orders cache with 1 open orders and 0 pending orders
2025-07-09 22:31:04,509 - DEBUG - websocket - User 1: Updated balance/margin cache: balance=24831.14088585, margin=6.54
2025-07-09 22:31:04,514 - INFO - websocket - User 5O42G: Fetching initial market data for 79 symbols from cache (adjusted or last known price)
2025-07-09 22:31:04,515 - DEBUG - websocket - User 5O42G: Fallback last price for EURUSD: Buy=1.1714100000, Sell=1.1712400000
2025-07-09 22:31:04,515 - DEBUG - websocket - User 5O42G: Fallback last price for USDZAR: Buy=17.8287500000, Sell=17.8235600000
2025-07-09 22:31:04,517 - DEBUG - websocket - User 5O42G: Fallback last price for SGDJPY: Buy=114.3865000000, Sell=114.3445000000
2025-07-09 22:31:04,517 - DEBUG - websocket - User 5O42G: Fallback last price for GBPAUD: Buy=2.0834300000, Sell=2.0830100000
2025-07-09 22:31:04,518 - DEBUG - websocket - User 5O42G: Fallback last price for USDNOK: Buy=10.0974300000, Sell=10.0961500000
2025-07-09 22:31:04,518 - DEBUG - websocket - User 5O42G: Fallback last price for NZDCAD: Buy=0.8204800000, Sell=0.8201100000
2025-07-09 22:31:04,519 - DEBUG - websocket - User 5O42G: Fallback last price for GBPNZD: Buy=2.2706600000, Sell=2.2701100000
2025-07-09 22:31:04,519 - DEBUG - websocket - User 5O42G: Fallback last price for CADJPY: Buy=107.0175000000, Sell=106.9895000000
2025-07-09 22:31:04,520 - DEBUG - websocket - User 5O42G: Fallback last price for CHFJPY: Buy=184.0850000000, Sell=184.0350000000
2025-07-09 22:31:04,520 - DEBUG - websocket - User 5O42G: Fallback last price for US30: Buy=44413.6000000000, Sell=44411.6000000000
2025-07-09 22:31:04,521 - DEBUG - websocket - User 5O42G: Fallback last price for USDCHF: Buy=0.7959800000, Sell=0.7956500000
2025-07-09 22:31:04,523 - DEBUG - websocket - User 5O42G: Fallback last price for USDTRY: Buy=40.0492100000, Sell=40.0474500000
2025-07-09 22:31:04,523 - DEBUG - websocket - User 5O42G: Fallback last price for GBPSEK: Buy=12.9662500000, Sell=12.9633500000
2025-07-09 22:31:04,524 - DEBUG - websocket - User 5O42G: Fallback last price for GBPNOK: Buy=13.7381500000, Sell=13.7358500000
2025-07-09 22:31:04,525 - DEBUG - websocket - User 5O42G: Fallback last price for USDCNH: Buy=7.1850000000, Sell=7.1847000000
2025-07-09 22:31:04,526 - DEBUG - websocket - User 5O42G: Fallback last price for EURCHF: Buy=0.9322800000, Sell=0.9319000000
2025-07-09 22:31:04,528 - DEBUG - websocket - User 5O42G: Fallback last price for XAGUSD: Buy=36.3550000000, Sell=36.3200000000
2025-07-09 22:31:04,528 - DEBUG - websocket - User 5O42G: Fallback last price for BTCUSD: Buy=109757.7000000000, Sell=109657.6000000000
2025-07-09 22:31:04,529 - DEBUG - websocket - User 5O42G: Fallback last price for AUDNZD: Buy=1.0002500000, Sell=0.9997500000
2025-07-09 22:31:04,529 - DEBUG - websocket - User 5O42G: Fallback last price for EURNOK: Buy=11.8269900000, Sell=11.8254600000
2025-07-09 22:31:04,530 - DEBUG - websocket - User 5O42G: Fallback last price for USDCAD: Buy=1.3690900000, Sell=1.3687700000
2025-07-09 22:31:04,530 - DEBUG - websocket - User 5O42G: Fallback last price for NOKSEK: Buy=0.9439250000, Sell=0.9435150000
2025-07-09 22:31:04,531 - DEBUG - websocket - User 5O42G: Fallback last price for CADCHF: Buy=0.5814550000, Sell=0.5811450000
2025-07-09 22:31:04,532 - DEBUG - websocket - User 5O42G: Fallback last price for GBPUSD: Buy=1.3607400000, Sell=1.3605300000
2025-07-09 22:31:04,532 - DEBUG - websocket - User 5O42G: Fallback last price for EURGBP: Buy=0.8610800000, Sell=0.8607400000
2025-07-09 22:31:04,532 - DEBUG - websocket - User 5O42G: Fallback last price for AUDSGD: Buy=1.0001500000, Sell=0.9998500000
2025-07-09 22:31:04,533 - DEBUG - websocket - User 5O42G: Fallback last price for CHFSGD: Buy=1.6094950000, Sell=1.6090050000
2025-07-09 22:31:04,533 - DEBUG - websocket - User 5O42G: Fallback last price for AUDJPY: Buy=95.7160000000, Sell=95.6100000000
2025-07-09 22:31:04,533 - DEBUG - websocket - User 5O42G: Fallback last price for EURJPY: Buy=171.5645000000, Sell=171.5355000000
2025-07-09 22:31:04,534 - DEBUG - websocket - User 5O42G: Fallback last price for AUDCHF: Buy=0.5199600000, Sell=0.5195100000
2025-07-09 22:31:04,534 - DEBUG - websocket - User 5O42G: Fallback last price for EURZAR: Buy=20.8824200000, Sell=20.8760200000
2025-07-09 22:31:04,535 - DEBUG - websocket - User 5O42G: Fallback last price for USDCZK: Buy=21.0650000000, Sell=20.9950000000
2025-07-09 22:31:04,535 - DEBUG - websocket - User 5O42G: Fallback last price for D30: Buy=24538.5200000000, Sell=24538.5200000000
2025-07-09 22:31:04,536 - DEBUG - websocket - User 5O42G: Fallback last price for AUDUSD: Buy=0.6532800000, Sell=0.6529600000
2025-07-09 22:31:04,536 - DEBUG - websocket - User 5O42G: Fallback last price for EURSEK: Buy=11.1623400000, Sell=11.1602900000
2025-07-09 22:31:04,536 - DEBUG - websocket - User 5O42G: Fallback last price for NZDJPY: Buy=87.7935000000, Sell=87.7595000000
2025-07-09 22:31:04,537 - DEBUG - websocket - User 5O42G: Fallback last price for USDSGD: Buy=1.2808100000, Sell=1.2804700000
2025-07-09 22:31:04,537 - DEBUG - websocket - User 5O42G: Fallback last price for EURSGD: Buy=1.5001850000, Sell=1.4998450000
2025-07-09 22:31:04,537 - DEBUG - websocket - User 5O42G: Fallback last price for NZDUSD: Buy=0.5994200000, Sell=0.5991000000
2025-07-09 22:31:04,538 - DEBUG - websocket - User 5O42G: Fallback last price for EURCZK: Buy=25.0001500000, Sell=24.9998500000
2025-07-09 22:31:04,538 - DEBUG - websocket - User 5O42G: Fallback last price for EURPLN: Buy=4.2412900000, Sell=4.2403300000
2025-07-09 22:31:04,539 - DEBUG - websocket - User 5O42G: Fallback last price for AUDCAD: Buy=0.8940500000, Sell=0.8940200000
2025-07-09 22:31:04,539 - DEBUG - websocket - User 5O42G: Fallback last price for EURCAD: Buy=1.6034900000, Sell=1.6032800000
2025-07-09 22:31:04,539 - DEBUG - websocket - User 5O42G: Fallback last price for EURNZD: Buy=1.9547350000, Sell=1.9543650000
2025-07-09 22:31:04,539 - DEBUG - websocket - User 5O42G: Fallback last price for USDSEK: Buy=9.5296200000, Sell=9.5288600000
2025-07-09 22:31:04,540 - DEBUG - websocket - User 5O42G: Fallback last price for USDJPY: Buy=146.5280000000, Sell=146.4270000000
2025-07-09 22:31:04,540 - DEBUG - websocket - User 5O42G: Fallback last price for EURAUD: Buy=1.7936100000, Sell=1.7932400000
2025-07-09 22:31:04,540 - DEBUG - websocket - User 5O42G: Fallback last price for JP225: Buy=39828.6800000000, Sell=39824.6800000000
2025-07-09 22:31:04,541 - DEBUG - websocket - User 1: Successfully sent initial connection data
2025-07-09 22:31:04,541 - INFO - websocket - User 5O42G: Sent initial connection data with 48 symbols (fresh from cache)
2025-07-09 22:31:07,489 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24831.14088585, margin=6.54
2025-07-09 22:31:07,489 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24831.14088585'), 'margin': Decimal('6.54'), 'updated_at': '2025-07-09T22:31:04.509095'}
2025-07-09 22:31:07,490 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:31:07,720 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24831.14088585, margin=6.54
2025-07-09 22:31:07,720 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24831.14088585'), 'margin': Decimal('6.54'), 'updated_at': '2025-07-09T22:31:04.509095'}
2025-07-09 22:31:07,720 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:31:10,094 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24831.14088585, margin=6.54
2025-07-09 22:31:10,094 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24831.14088585'), 'margin': Decimal('6.54'), 'updated_at': '2025-07-09T22:31:04.509095'}
2025-07-09 22:31:10,095 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:31:12,444 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24831.14088585, margin=6.54
2025-07-09 22:31:12,445 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24831.14088585'), 'margin': Decimal('6.54'), 'updated_at': '2025-07-09T22:31:04.509095'}
2025-07-09 22:31:12,446 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:31:14,652 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24831.14088585, margin=6.54
2025-07-09 22:31:14,652 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24831.14088585'), 'margin': Decimal('6.54'), 'updated_at': '2025-07-09T22:31:04.509095'}
2025-07-09 22:31:14,652 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:31:15,260 - INFO - websocket - User 5O42G: WebSocket disconnected by client.
2025-07-09 22:31:15,260 - INFO - websocket - User 5O42G: Cleaning up WebSocket connection.
2025-07-09 22:31:15,263 - INFO - websocket - User 5O42G: Listener task successfully cancelled.
2025-07-09 22:31:15,263 - INFO - websocket - User 5O42G: WebSocket connection fully closed.
2025-07-09 22:31:16,544 - INFO - websocket - --- MINIMAL TEST: ENTERED websocket_endpoint --- Connection ID: 127.0.0.1:57935-1752125476544
2025-07-09 22:31:16,545 - INFO - websocket - WebSocket connection accepted (early) for 127.0.0.1:57935 in 0.001s
2025-07-09 22:31:16,546 - DEBUG - websocket - User 0: Successfully sent loading message
2025-07-09 22:31:16,547 - INFO - websocket - WebSocket auth: token payload={'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1752126544, 'iat': 1752124744}, account_number=5O42G, user_type=demo
2025-07-09 22:31:16,547 - INFO - websocket - WebSocket auth: About to call get_demo_user_by_account_number with account_number=5O42G, user_type=demo
2025-07-09 22:31:16,550 - INFO - websocket - WebSocket auth: get_demo_user_by_account_number(5O42G, demo) returned: <app.database.models.DemoUser object at 0x000001D4E627BA80>
2025-07-09 22:31:18,587 - INFO - websocket - [WS] Using order model: DemoUserOrder for user_type=demo, account_number=5O42G
2025-07-09 22:31:18,604 - INFO - websocket - [WS] Open positions from DB for user_id=1: [<app.database.models.DemoUserOrder object at 0x000001D4E62BE990>]
2025-07-09 22:31:18,623 - INFO - websocket - [WEBSOCKET_INIT] User 1: Initialized balance/margin cache - balance=24831.14088585, margin=6.53681782
2025-07-09 22:31:18,630 - INFO - websocket - [WEBSOCKET_INIT] User 1: Cache verification successful - {'wallet_balance': Decimal('24831.14088585'), 'margin': Decimal('6.53681782'), 'updated_at': '2025-07-09T22:31:18.605573'}
2025-07-09 22:31:19,311 - DEBUG - websocket - Cached/updated group-symbol settings for group 'Group B'.
2025-07-09 22:31:19,317 - DEBUG - websocket - User 1: Fetched 1 open orders directly from database
2025-07-09 22:31:19,322 - DEBUG - websocket - User 1: Fetched 0 pending orders directly from database
2025-07-09 22:31:19,324 - INFO - websocket - User 1: Successfully updated static orders cache with 1 open orders and 0 pending orders
2025-07-09 22:31:19,338 - DEBUG - websocket - User 1: Updated balance/margin cache: balance=24831.14088585, margin=6.54
2025-07-09 22:31:19,364 - INFO - websocket - User 5O42G: Fetching initial market data for 79 symbols from cache (adjusted or last known price)
2025-07-09 22:31:19,486 - DEBUG - websocket - User 1: Successfully sent initial connection data
2025-07-09 22:31:19,487 - INFO - websocket - User 5O42G: Sent initial connection data with 48 symbols (fresh from cache)
2025-07-09 22:31:21,612 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24831.14088585, margin=6.54
2025-07-09 22:31:21,612 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24831.14088585'), 'margin': Decimal('6.54'), 'updated_at': '2025-07-09T22:31:19.335446'}
2025-07-09 22:31:21,613 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:31:23,883 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24831.14088585, margin=6.54
2025-07-09 22:31:23,885 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24831.14088585'), 'margin': Decimal('6.54'), 'updated_at': '2025-07-09T22:31:19.335446'}
2025-07-09 22:31:23,886 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:31:26,160 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24831.14088585, margin=6.54
2025-07-09 22:31:26,160 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24831.14088585'), 'margin': Decimal('6.54'), 'updated_at': '2025-07-09T22:31:19.335446'}
2025-07-09 22:31:26,161 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:31:28,438 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24831.14088585, margin=6.54
2025-07-09 22:31:28,438 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24831.14088585'), 'margin': Decimal('6.54'), 'updated_at': '2025-07-09T22:31:19.335446'}
2025-07-09 22:31:28,442 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:31:30,743 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24831.14088585, margin=6.54
2025-07-09 22:31:30,743 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24831.14088585'), 'margin': Decimal('6.54'), 'updated_at': '2025-07-09T22:31:19.335446'}
2025-07-09 22:31:30,743 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:31:33,032 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24831.14088585, margin=6.54
2025-07-09 22:31:33,033 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24831.14088585'), 'margin': Decimal('6.54'), 'updated_at': '2025-07-09T22:31:19.335446'}
2025-07-09 22:31:33,033 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:31:33,600 - DEBUG - websocket - User 1: Fetched 1 open orders directly from database
2025-07-09 22:31:33,606 - DEBUG - websocket - User 1: Fetched 1 pending orders directly from database
2025-07-09 22:31:33,609 - INFO - websocket - User 1: Successfully updated static orders cache with 1 open orders and 1 pending orders
2025-07-09 22:31:33,624 - DEBUG - websocket - User 1: Updated balance/margin cache: balance=24831.14088585, margin=6.54
2025-07-09 22:31:33,629 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 22:31:33,636 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24831.14088585, margin=6.54
2025-07-09 22:31:33,636 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24831.14088585'), 'margin': Decimal('6.54'), 'updated_at': '2025-07-09T22:31:33.621304'}
2025-07-09 22:31:33,638 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 22:31:33,639 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 22:31:33,648 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24831.14088585, margin=6.54
2025-07-09 22:31:33,648 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24831.14088585'), 'margin': Decimal('6.54'), 'updated_at': '2025-07-09T22:31:33.621304'}
2025-07-09 22:31:33,650 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 22:31:33,654 - DEBUG - websocket - User 1: Fetched 1 open orders directly from database
2025-07-09 22:31:33,666 - DEBUG - websocket - User 1: Fetched 1 pending orders directly from database
2025-07-09 22:31:33,683 - INFO - websocket - User 1: Successfully updated static orders cache with 1 open orders and 1 pending orders
2025-07-09 22:31:33,707 - DEBUG - websocket - User 1: Updated balance/margin cache: balance=24831.14088585, margin=6.54
2025-07-09 22:31:35,306 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24831.14088585, margin=6.54
2025-07-09 22:31:35,306 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24831.14088585'), 'margin': Decimal('6.54'), 'updated_at': '2025-07-09T22:31:33.725977'}
2025-07-09 22:31:35,307 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:31:37,747 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24831.14088585, margin=6.54
2025-07-09 22:31:37,747 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24831.14088585'), 'margin': Decimal('6.54'), 'updated_at': '2025-07-09T22:31:33.725977'}
2025-07-09 22:31:37,748 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:31:39,900 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24831.14088585, margin=6.54
2025-07-09 22:31:39,900 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24831.14088585'), 'margin': Decimal('6.54'), 'updated_at': '2025-07-09T22:31:33.725977'}
2025-07-09 22:31:39,900 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:31:42,185 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24831.14088585, margin=6.54
2025-07-09 22:31:42,185 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24831.14088585'), 'margin': Decimal('6.54'), 'updated_at': '2025-07-09T22:31:33.725977'}
2025-07-09 22:31:42,186 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:31:44,487 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24831.14088585, margin=6.54
2025-07-09 22:31:44,487 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24831.14088585'), 'margin': Decimal('6.54'), 'updated_at': '2025-07-09T22:31:33.725977'}
2025-07-09 22:31:44,488 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:31:46,761 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24831.14088585, margin=6.54
2025-07-09 22:31:46,761 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24831.14088585'), 'margin': Decimal('6.54'), 'updated_at': '2025-07-09T22:31:33.725977'}
2025-07-09 22:31:46,761 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:31:49,052 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24831.14088585, margin=6.54
2025-07-09 22:31:49,054 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24831.14088585'), 'margin': Decimal('6.54'), 'updated_at': '2025-07-09T22:31:33.725977'}
2025-07-09 22:31:49,055 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:31:51,462 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24831.14088585, margin=6.54
2025-07-09 22:31:51,462 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24831.14088585'), 'margin': Decimal('6.54'), 'updated_at': '2025-07-09T22:31:33.725977'}
2025-07-09 22:31:51,463 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:31:53,721 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24831.14088585, margin=6.54
2025-07-09 22:31:53,722 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24831.14088585'), 'margin': Decimal('6.54'), 'updated_at': '2025-07-09T22:31:33.725977'}
2025-07-09 22:31:53,722 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:31:56,037 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24831.14088585, margin=6.54
2025-07-09 22:31:56,037 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24831.14088585'), 'margin': Decimal('6.54'), 'updated_at': '2025-07-09T22:31:33.725977'}
2025-07-09 22:31:56,038 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:31:58,322 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24831.14088585, margin=6.54
2025-07-09 22:31:58,322 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24831.14088585'), 'margin': Decimal('6.54'), 'updated_at': '2025-07-09T22:31:33.725977'}
2025-07-09 22:31:58,323 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:32:00,682 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24831.14088585, margin=6.54
2025-07-09 22:32:00,682 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24831.14088585'), 'margin': Decimal('6.54'), 'updated_at': '2025-07-09T22:31:33.725977'}
2025-07-09 22:32:00,683 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:32:02,901 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24831.14088585, margin=6.54
2025-07-09 22:32:02,901 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24831.14088585'), 'margin': Decimal('6.54'), 'updated_at': '2025-07-09T22:31:33.725977'}
2025-07-09 22:32:02,902 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:32:05,220 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24831.14088585, margin=6.54
2025-07-09 22:32:05,220 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24831.14088585'), 'margin': Decimal('6.54'), 'updated_at': '2025-07-09T22:31:33.725977'}
2025-07-09 22:32:05,220 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:32:06,519 - DEBUG - websocket - User 1: Fetched 1 open orders directly from database
2025-07-09 22:32:06,522 - DEBUG - websocket - User 1: Fetched 1 pending orders directly from database
2025-07-09 22:32:06,523 - INFO - websocket - User 1: Successfully updated static orders cache with 1 open orders and 1 pending orders
2025-07-09 22:32:06,529 - DEBUG - websocket - User 1: Updated balance/margin cache: balance=24831.14088585, margin=6.54
2025-07-09 22:32:06,531 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 22:32:06,536 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24831.14088585, margin=6.54
2025-07-09 22:32:06,536 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24831.14088585'), 'margin': Decimal('6.54'), 'updated_at': '2025-07-09T22:32:06.527692'}
2025-07-09 22:32:06,537 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 22:32:06,537 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 22:32:06,550 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24831.14088585, margin=6.54
2025-07-09 22:32:06,551 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24831.14088585'), 'margin': Decimal('6.54'), 'updated_at': '2025-07-09T22:32:06.527692'}
2025-07-09 22:32:06,552 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 22:32:06,558 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24831.14088585, margin=6.54
2025-07-09 22:32:06,558 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24831.14088585'), 'margin': Decimal('6.54'), 'updated_at': '2025-07-09T22:32:06.527692'}
2025-07-09 22:32:06,560 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:32:07,546 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24831.14088585, margin=6.54
2025-07-09 22:32:07,546 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24831.14088585'), 'margin': Decimal('6.54'), 'updated_at': '2025-07-09T22:32:06.527692'}
2025-07-09 22:32:07,546 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:32:08,212 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 22:32:08,214 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24831.14088585, margin=6.54
2025-07-09 22:32:08,214 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24831.14088585'), 'margin': Decimal('6.54'), 'updated_at': '2025-07-09T22:32:08.210429'}
2025-07-09 22:32:08,215 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 22:32:08,215 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 22:32:08,219 - DEBUG - websocket - User 1: Fetched 2 open orders directly from database
2025-07-09 22:32:08,222 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24831.14088585, margin=6.54
2025-07-09 22:32:08,222 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24831.14088585'), 'margin': Decimal('6.54'), 'updated_at': '2025-07-09T22:32:08.210429'}
2025-07-09 22:32:08,222 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 22:32:08,224 - DEBUG - websocket - User 1: Fetched 0 pending orders directly from database
2025-07-09 22:32:08,228 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24831.14088585, margin=6.54
2025-07-09 22:32:08,228 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24831.14088585'), 'margin': Decimal('6.54'), 'updated_at': '2025-07-09T22:32:08.210429'}
2025-07-09 22:32:08,230 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:32:08,232 - INFO - websocket - User 1: Successfully updated static orders cache with 2 open orders and 0 pending orders
2025-07-09 22:32:08,245 - DEBUG - websocket - User 1: Updated balance/margin cache: balance=24831.14088585, margin=6.54
2025-07-09 22:32:09,796 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24831.14088585, margin=6.54
2025-07-09 22:32:09,796 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24831.14088585'), 'margin': Decimal('6.54'), 'updated_at': '2025-07-09T22:32:08.243498'}
2025-07-09 22:32:09,797 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:32:12,028 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24831.14088585, margin=6.54
2025-07-09 22:32:12,028 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24831.14088585'), 'margin': Decimal('6.54'), 'updated_at': '2025-07-09T22:32:08.243498'}
2025-07-09 22:32:12,028 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:32:14,318 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24831.14088585, margin=6.54
2025-07-09 22:32:14,318 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24831.14088585'), 'margin': Decimal('6.54'), 'updated_at': '2025-07-09T22:32:08.243498'}
2025-07-09 22:32:14,319 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:32:16,661 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24831.14088585, margin=6.54
2025-07-09 22:32:16,662 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24831.14088585'), 'margin': Decimal('6.54'), 'updated_at': '2025-07-09T22:32:08.243498'}
2025-07-09 22:32:16,664 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:32:16,845 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 22:32:16,853 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24830.91088585, margin=6.54
2025-07-09 22:32:16,853 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24830.91088585'), 'margin': Decimal('6.54'), 'updated_at': '2025-07-09T22:32:16.828939'}
2025-07-09 22:32:16,855 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 22:32:16,855 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 22:32:16,861 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24830.91088585, margin=6.54
2025-07-09 22:32:16,861 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24830.91088585'), 'margin': Decimal('6.54'), 'updated_at': '2025-07-09T22:32:16.828939'}
2025-07-09 22:32:16,862 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 22:32:16,868 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24830.91088585, margin=6.54
2025-07-09 22:32:16,868 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24830.91088585'), 'margin': Decimal('6.54'), 'updated_at': '2025-07-09T22:32:16.828939'}
2025-07-09 22:32:16,868 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:32:18,925 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24830.91088585, margin=6.54
2025-07-09 22:32:18,925 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24830.91088585'), 'margin': Decimal('6.54'), 'updated_at': '2025-07-09T22:32:16.828939'}
2025-07-09 22:32:18,926 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:32:19,452 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 22:32:19,482 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24829.98088585, margin=0
2025-07-09 22:32:19,482 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24829.98088585'), 'margin': Decimal('0'), 'updated_at': '2025-07-09T22:32:19.432185'}
2025-07-09 22:32:19,483 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 22:32:19,484 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 22:32:19,501 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24829.98088585, margin=0
2025-07-09 22:32:19,503 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24829.98088585'), 'margin': Decimal('0'), 'updated_at': '2025-07-09T22:32:19.432185'}
2025-07-09 22:32:19,505 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 22:32:19,518 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24829.98088585, margin=0
2025-07-09 22:32:19,519 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24829.98088585'), 'margin': Decimal('0'), 'updated_at': '2025-07-09T22:32:19.432185'}
2025-07-09 22:32:19,520 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:32:21,279 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24829.98088585, margin=0
2025-07-09 22:32:21,279 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24829.98088585'), 'margin': Decimal('0'), 'updated_at': '2025-07-09T22:32:19.432185'}
2025-07-09 22:32:21,280 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:32:23,570 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24829.98088585, margin=0
2025-07-09 22:32:23,570 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24829.98088585'), 'margin': Decimal('0'), 'updated_at': '2025-07-09T22:32:19.432185'}
2025-07-09 22:32:23,571 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:32:26,041 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24829.98088585, margin=0
2025-07-09 22:32:26,041 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24829.98088585'), 'margin': Decimal('0'), 'updated_at': '2025-07-09T22:32:19.432185'}
2025-07-09 22:32:26,049 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:32:28,190 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24829.98088585, margin=0
2025-07-09 22:32:28,190 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24829.98088585'), 'margin': Decimal('0'), 'updated_at': '2025-07-09T22:32:19.432185'}
2025-07-09 22:32:28,191 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:32:30,478 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24829.98088585, margin=0
2025-07-09 22:32:30,478 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24829.98088585'), 'margin': Decimal('0'), 'updated_at': '2025-07-09T22:32:19.432185'}
2025-07-09 22:32:30,478 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:32:32,813 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24829.98088585, margin=0
2025-07-09 22:32:32,813 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24829.98088585'), 'margin': Decimal('0'), 'updated_at': '2025-07-09T22:32:19.432185'}
2025-07-09 22:32:32,813 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:32:35,033 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24829.98088585, margin=0
2025-07-09 22:32:35,033 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24829.98088585'), 'margin': Decimal('0'), 'updated_at': '2025-07-09T22:32:19.432185'}
2025-07-09 22:32:35,033 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:32:37,334 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24829.98088585, margin=0
2025-07-09 22:32:37,334 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24829.98088585'), 'margin': Decimal('0'), 'updated_at': '2025-07-09T22:32:19.432185'}
2025-07-09 22:32:37,334 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:32:39,654 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24829.98088585, margin=0
2025-07-09 22:32:39,654 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24829.98088585'), 'margin': Decimal('0'), 'updated_at': '2025-07-09T22:32:19.432185'}
2025-07-09 22:32:39,654 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:32:42,002 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24829.98088585, margin=0
2025-07-09 22:32:42,002 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24829.98088585'), 'margin': Decimal('0'), 'updated_at': '2025-07-09T22:32:19.432185'}
2025-07-09 22:32:42,002 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:32:44,308 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24829.98088585, margin=0
2025-07-09 22:32:44,308 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24829.98088585'), 'margin': Decimal('0'), 'updated_at': '2025-07-09T22:32:19.432185'}
2025-07-09 22:32:44,309 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:32:46,550 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24829.98088585, margin=0
2025-07-09 22:32:46,550 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24829.98088585'), 'margin': Decimal('0'), 'updated_at': '2025-07-09T22:32:19.432185'}
2025-07-09 22:32:46,551 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:32:48,910 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24829.98088585, margin=0
2025-07-09 22:32:48,910 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24829.98088585'), 'margin': Decimal('0'), 'updated_at': '2025-07-09T22:32:19.432185'}
2025-07-09 22:32:48,911 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:32:51,092 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24829.98088585, margin=0
2025-07-09 22:32:51,092 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24829.98088585'), 'margin': Decimal('0'), 'updated_at': '2025-07-09T22:32:19.432185'}
2025-07-09 22:32:51,092 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:32:52,322 - INFO - websocket - User 5O42G: WebSocket disconnected by client.
2025-07-09 22:32:52,323 - INFO - websocket - User 5O42G: Cleaning up WebSocket connection.
2025-07-09 22:32:52,326 - INFO - websocket - User 5O42G: Listener task successfully cancelled.
2025-07-09 22:32:52,326 - INFO - websocket - User 5O42G: WebSocket connection fully closed.
2025-07-09 22:32:52,423 - INFO - websocket - Redis publisher task cancelled.
2025-07-09 22:32:52,423 - INFO - websocket - Redis publisher task finished.
2025-07-09 22:33:07,827 - INFO - websocket - Redis publisher task started. Publishing to channel 'market_data_updates'.
2025-07-09 22:33:14,289 - INFO - websocket - --- MINIMAL TEST: ENTERED websocket_endpoint --- Connection ID: 127.0.0.1:58082-1752125594289
2025-07-09 22:33:14,290 - INFO - websocket - WebSocket connection accepted (early) for 127.0.0.1:58082 in 0.001s
2025-07-09 22:33:14,291 - DEBUG - websocket - User 0: Successfully sent loading message
2025-07-09 22:33:14,292 - INFO - websocket - WebSocket auth: token payload={'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1752126544, 'iat': 1752124744}, account_number=5O42G, user_type=demo
2025-07-09 22:33:14,292 - INFO - websocket - WebSocket auth: About to call get_demo_user_by_account_number with account_number=5O42G, user_type=demo
2025-07-09 22:33:14,302 - INFO - websocket - WebSocket auth: get_demo_user_by_account_number(5O42G, demo) returned: <app.database.models.DemoUser object at 0x00000250A936E660>
2025-07-09 22:33:18,647 - INFO - websocket - [WS] Using order model: DemoUserOrder for user_type=demo, account_number=5O42G
2025-07-09 22:33:18,654 - INFO - websocket - [WS] Open positions from DB for user_id=1: []
2025-07-09 22:33:20,708 - INFO - websocket - [WEBSOCKET_INIT] User 1: Initialized balance/margin cache - balance=24829.98088585, margin=0
2025-07-09 22:33:20,714 - INFO - websocket - [WEBSOCKET_INIT] User 1: Cache verification successful - {'wallet_balance': Decimal('24829.98088585'), 'margin': Decimal('0'), 'updated_at': '2025-07-09T22:33:18.654121'}
2025-07-09 22:33:27,110 - DEBUG - websocket - Cached/updated group-symbol settings for group 'Group B'.
2025-07-09 22:33:27,111 - DEBUG - websocket - User 1: Fetched 0 open orders directly from database
2025-07-09 22:33:27,113 - DEBUG - websocket - User 1: Fetched 0 pending orders directly from database
2025-07-09 22:33:27,113 - INFO - websocket - User 1: Successfully updated static orders cache with 0 open orders and 0 pending orders
2025-07-09 22:33:27,119 - INFO - websocket - User 5O42G: Fetching initial market data for 79 symbols from cache (adjusted or last known price)
2025-07-09 22:33:27,141 - DEBUG - websocket - User 1: Successfully sent initial connection data
2025-07-09 22:33:27,141 - INFO - websocket - User 5O42G: Sent initial connection data with 48 symbols (fresh from cache)
2025-07-09 22:33:29,914 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24829.98088585, margin=0
2025-07-09 22:33:29,914 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24829.98088585'), 'margin': Decimal('0'), 'updated_at': '2025-07-09T22:33:18.654121'}
2025-07-09 22:33:29,914 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:33:30,211 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24829.98088585, margin=0
2025-07-09 22:33:30,211 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24829.98088585'), 'margin': Decimal('0'), 'updated_at': '2025-07-09T22:33:18.654121'}
2025-07-09 22:33:30,212 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:33:32,513 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24829.98088585, margin=0
2025-07-09 22:33:32,513 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24829.98088585'), 'margin': Decimal('0'), 'updated_at': '2025-07-09T22:33:18.654121'}
2025-07-09 22:33:32,514 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:33:34,793 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24829.98088585, margin=0
2025-07-09 22:33:34,793 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24829.98088585'), 'margin': Decimal('0'), 'updated_at': '2025-07-09T22:33:18.654121'}
2025-07-09 22:33:34,793 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:33:36,529 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 22:33:36,540 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24829.98088585, margin=6.54000000
2025-07-09 22:33:36,540 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24829.98088585'), 'margin': Decimal('6.54000000'), 'updated_at': '2025-07-09T22:33:36.512177'}
2025-07-09 22:33:36,540 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 22:33:36,541 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 22:33:36,543 - DEBUG - websocket - User 1: Fetched 1 open orders directly from database
2025-07-09 22:33:36,546 - DEBUG - websocket - User 1: Fetched 0 pending orders directly from database
2025-07-09 22:33:36,548 - INFO - websocket - User 1: Successfully updated static orders cache with 1 open orders and 0 pending orders
2025-07-09 22:33:36,555 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24829.98088585, margin=6.54000000
2025-07-09 22:33:36,555 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24829.98088585'), 'margin': Decimal('6.54000000'), 'updated_at': '2025-07-09T22:33:36.512177'}
2025-07-09 22:33:36,556 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 22:33:36,560 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24829.98088585, margin=6.54
2025-07-09 22:33:36,560 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24829.98088585'), 'margin': Decimal('6.54'), 'updated_at': '2025-07-09T22:33:36.557793'}
2025-07-09 22:33:36,562 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:33:36,563 - DEBUG - websocket - User 1: Updated balance/margin cache: balance=24829.98088585, margin=6.54
2025-07-09 22:33:37,118 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24829.98088585, margin=6.54
2025-07-09 22:33:37,118 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24829.98088585'), 'margin': Decimal('6.54'), 'updated_at': '2025-07-09T22:33:36.576712'}
2025-07-09 22:33:37,119 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:33:38,723 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 22:33:38,727 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24829.98088585, margin=6.54000000
2025-07-09 22:33:38,728 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24829.98088585'), 'margin': Decimal('6.54000000'), 'updated_at': '2025-07-09T22:33:38.672723'}
2025-07-09 22:33:38,730 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 22:33:38,731 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 22:33:38,736 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24829.98088585, margin=6.54000000
2025-07-09 22:33:38,736 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24829.98088585'), 'margin': Decimal('6.54000000'), 'updated_at': '2025-07-09T22:33:38.672723'}
2025-07-09 22:33:38,737 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 22:33:38,742 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24829.98088585, margin=6.54000000
2025-07-09 22:33:38,742 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24829.98088585'), 'margin': Decimal('6.54000000'), 'updated_at': '2025-07-09T22:33:38.672723'}
2025-07-09 22:33:38,743 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:33:38,744 - DEBUG - websocket - User 1: Fetched 2 open orders directly from database
2025-07-09 22:33:38,747 - DEBUG - websocket - User 1: Fetched 0 pending orders directly from database
2025-07-09 22:33:38,749 - INFO - websocket - User 1: Successfully updated static orders cache with 2 open orders and 0 pending orders
2025-07-09 22:33:38,766 - DEBUG - websocket - User 1: Updated balance/margin cache: balance=24829.98088585, margin=6.54
2025-07-09 22:33:39,511 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24829.98088585, margin=6.54
2025-07-09 22:33:39,511 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24829.98088585'), 'margin': Decimal('6.54'), 'updated_at': '2025-07-09T22:33:38.779409'}
2025-07-09 22:33:39,511 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:33:41,748 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24829.98088585, margin=6.54
2025-07-09 22:33:41,748 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24829.98088585'), 'margin': Decimal('6.54'), 'updated_at': '2025-07-09T22:33:38.779409'}
2025-07-09 22:33:41,749 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:33:43,995 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24829.98088585, margin=6.54
2025-07-09 22:33:43,995 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24829.98088585'), 'margin': Decimal('6.54'), 'updated_at': '2025-07-09T22:33:38.779409'}
2025-07-09 22:33:43,996 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:33:46,352 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24829.98088585, margin=6.54
2025-07-09 22:33:46,352 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24829.98088585'), 'margin': Decimal('6.54'), 'updated_at': '2025-07-09T22:33:38.779409'}
2025-07-09 22:33:46,353 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:33:48,679 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24829.98088585, margin=6.54
2025-07-09 22:33:48,679 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24829.98088585'), 'margin': Decimal('6.54'), 'updated_at': '2025-07-09T22:33:38.779409'}
2025-07-09 22:33:48,680 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:33:50,046 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 22:33:50,049 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24829.98088585, margin=13.08000000
2025-07-09 22:33:50,049 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24829.98088585'), 'margin': Decimal('13.08000000'), 'updated_at': '2025-07-09T22:33:50.033825'}
2025-07-09 22:33:50,049 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 22:33:50,050 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 22:33:50,056 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24829.98088585, margin=13.08000000
2025-07-09 22:33:50,056 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24829.98088585'), 'margin': Decimal('13.08000000'), 'updated_at': '2025-07-09T22:33:50.033825'}
2025-07-09 22:33:50,057 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 22:33:50,064 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24829.98088585, margin=13.08000000
2025-07-09 22:33:50,064 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24829.98088585'), 'margin': Decimal('13.08000000'), 'updated_at': '2025-07-09T22:33:50.033825'}
2025-07-09 22:33:50,064 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:33:50,066 - DEBUG - websocket - User 1: Fetched 3 open orders directly from database
2025-07-09 22:33:50,071 - DEBUG - websocket - User 1: Fetched 0 pending orders directly from database
2025-07-09 22:33:50,073 - INFO - websocket - User 1: Successfully updated static orders cache with 3 open orders and 0 pending orders
2025-07-09 22:33:50,083 - DEBUG - websocket - User 1: Updated balance/margin cache: balance=24829.98088585, margin=13.08
2025-07-09 22:33:50,967 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24829.98088585, margin=13.08
2025-07-09 22:33:50,967 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24829.98088585'), 'margin': Decimal('13.08'), 'updated_at': '2025-07-09T22:33:50.097955'}
2025-07-09 22:33:50,967 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:33:53,322 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24829.98088585, margin=13.08
2025-07-09 22:33:53,322 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24829.98088585'), 'margin': Decimal('13.08'), 'updated_at': '2025-07-09T22:33:50.097955'}
2025-07-09 22:33:53,322 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:33:53,850 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 22:33:53,854 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24829.98088585, margin=13.08000000
2025-07-09 22:33:53,854 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24829.98088585'), 'margin': Decimal('13.08000000'), 'updated_at': '2025-07-09T22:33:53.830392'}
2025-07-09 22:33:53,855 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 22:33:53,855 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 22:33:53,862 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24829.98088585, margin=13.08000000
2025-07-09 22:33:53,862 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24829.98088585'), 'margin': Decimal('13.08000000'), 'updated_at': '2025-07-09T22:33:53.830392'}
2025-07-09 22:33:53,863 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 22:33:53,873 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24829.98088585, margin=13.08000000
2025-07-09 22:33:53,873 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24829.98088585'), 'margin': Decimal('13.08000000'), 'updated_at': '2025-07-09T22:33:53.830392'}
2025-07-09 22:33:53,875 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:33:53,880 - DEBUG - websocket - User 1: Fetched 4 open orders directly from database
2025-07-09 22:33:53,888 - DEBUG - websocket - User 1: Fetched 0 pending orders directly from database
2025-07-09 22:33:53,893 - INFO - websocket - User 1: Successfully updated static orders cache with 4 open orders and 0 pending orders
2025-07-09 22:33:53,915 - DEBUG - websocket - User 1: Updated balance/margin cache: balance=24829.98088585, margin=13.08
2025-07-09 22:33:55,540 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24829.98088585, margin=13.08
2025-07-09 22:33:55,541 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24829.98088585'), 'margin': Decimal('13.08'), 'updated_at': '2025-07-09T22:33:53.931496'}
2025-07-09 22:33:55,541 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:33:56,197 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 22:33:56,203 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24829.98088585, margin=19.62000000
2025-07-09 22:33:56,203 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24829.98088585'), 'margin': Decimal('19.62000000'), 'updated_at': '2025-07-09T22:33:56.180703'}
2025-07-09 22:33:56,207 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 22:33:56,208 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 22:33:56,211 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24829.98088585, margin=19.62000000
2025-07-09 22:33:56,211 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24829.98088585'), 'margin': Decimal('19.62000000'), 'updated_at': '2025-07-09T22:33:56.180703'}
2025-07-09 22:33:56,212 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 22:33:56,218 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24829.98088585, margin=19.62000000
2025-07-09 22:33:56,218 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24829.98088585'), 'margin': Decimal('19.62000000'), 'updated_at': '2025-07-09T22:33:56.180703'}
2025-07-09 22:33:56,219 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:33:56,221 - DEBUG - websocket - User 1: Fetched 5 open orders directly from database
2025-07-09 22:33:56,224 - DEBUG - websocket - User 1: Fetched 0 pending orders directly from database
2025-07-09 22:33:56,225 - INFO - websocket - User 1: Successfully updated static orders cache with 5 open orders and 0 pending orders
2025-07-09 22:33:56,258 - DEBUG - websocket - User 1: Updated balance/margin cache: balance=24829.98088585, margin=19.62
2025-07-09 22:33:57,915 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24829.98088585, margin=19.62
2025-07-09 22:33:57,915 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24829.98088585'), 'margin': Decimal('19.62'), 'updated_at': '2025-07-09T22:33:56.280117'}
2025-07-09 22:33:57,915 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:34:00,199 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24829.98088585, margin=19.62
2025-07-09 22:34:00,199 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24829.98088585'), 'margin': Decimal('19.62'), 'updated_at': '2025-07-09T22:33:56.280117'}
2025-07-09 22:34:00,200 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:34:02,470 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24829.98088585, margin=19.62
2025-07-09 22:34:02,470 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24829.98088585'), 'margin': Decimal('19.62'), 'updated_at': '2025-07-09T22:33:56.280117'}
2025-07-09 22:34:02,471 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:34:03,053 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 22:34:03,057 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24829.45088585, margin=13.08
2025-07-09 22:34:03,057 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24829.45088585'), 'margin': Decimal('13.08'), 'updated_at': '2025-07-09T22:34:03.042419'}
2025-07-09 22:34:03,060 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 22:34:03,061 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 22:34:03,063 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24829.45088585, margin=13.08
2025-07-09 22:34:03,063 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24829.45088585'), 'margin': Decimal('13.08'), 'updated_at': '2025-07-09T22:34:03.042419'}
2025-07-09 22:34:03,064 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 22:34:03,068 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24829.45088585, margin=13.08
2025-07-09 22:34:03,069 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24829.45088585'), 'margin': Decimal('13.08'), 'updated_at': '2025-07-09T22:34:03.042419'}
2025-07-09 22:34:03,069 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:34:04,775 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24829.45088585, margin=13.08
2025-07-09 22:34:04,775 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24829.45088585'), 'margin': Decimal('13.08'), 'updated_at': '2025-07-09T22:34:03.042419'}
2025-07-09 22:34:04,782 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:34:06,231 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 22:34:06,236 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24828.75088585, margin=13.08
2025-07-09 22:34:06,236 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24828.75088585'), 'margin': Decimal('13.08'), 'updated_at': '2025-07-09T22:34:06.217316'}
2025-07-09 22:34:06,240 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 22:34:06,240 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 22:34:06,247 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24828.75088585, margin=13.08
2025-07-09 22:34:06,247 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24828.75088585'), 'margin': Decimal('13.08'), 'updated_at': '2025-07-09T22:34:06.217316'}
2025-07-09 22:34:06,248 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 22:34:06,254 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24828.75088585, margin=13.08
2025-07-09 22:34:06,254 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24828.75088585'), 'margin': Decimal('13.08'), 'updated_at': '2025-07-09T22:34:06.217316'}
2025-07-09 22:34:06,255 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:34:07,090 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24828.75088585, margin=13.08
2025-07-09 22:34:07,090 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24828.75088585'), 'margin': Decimal('13.08'), 'updated_at': '2025-07-09T22:34:06.217316'}
2025-07-09 22:34:07,090 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:34:07,637 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 22:34:07,642 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24828.21088585, margin=6.54
2025-07-09 22:34:07,642 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24828.21088585'), 'margin': Decimal('6.54'), 'updated_at': '2025-07-09T22:34:07.624547'}
2025-07-09 22:34:07,642 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 22:34:07,643 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 22:34:07,645 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24828.21088585, margin=6.54
2025-07-09 22:34:07,645 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24828.21088585'), 'margin': Decimal('6.54'), 'updated_at': '2025-07-09T22:34:07.624547'}
2025-07-09 22:34:07,645 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 22:34:07,651 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24828.21088585, margin=6.54
2025-07-09 22:34:07,651 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24828.21088585'), 'margin': Decimal('6.54'), 'updated_at': '2025-07-09T22:34:07.624547'}
2025-07-09 22:34:07,652 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:34:09,195 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 22:34:09,198 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24827.69088585, margin=6.54
2025-07-09 22:34:09,198 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24827.69088585'), 'margin': Decimal('6.54'), 'updated_at': '2025-07-09T22:34:09.185143'}
2025-07-09 22:34:09,199 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 22:34:09,199 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 22:34:09,202 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24827.69088585, margin=6.54
2025-07-09 22:34:09,203 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24827.69088585'), 'margin': Decimal('6.54'), 'updated_at': '2025-07-09T22:34:09.185143'}
2025-07-09 22:34:09,206 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 22:34:09,209 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24827.69088585, margin=6.54
2025-07-09 22:34:09,210 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24827.69088585'), 'margin': Decimal('6.54'), 'updated_at': '2025-07-09T22:34:09.185143'}
2025-07-09 22:34:09,211 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:34:09,420 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24827.69088585, margin=6.54
2025-07-09 22:34:09,421 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24827.69088585'), 'margin': Decimal('6.54'), 'updated_at': '2025-07-09T22:34:09.185143'}
2025-07-09 22:34:09,421 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:34:10,562 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received ORDER_UPDATE message
2025-07-09 22:34:10,577 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24827.01088585, margin=0
2025-07-09 22:34:10,577 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24827.01088585'), 'margin': Decimal('0'), 'updated_at': '2025-07-09T22:34:10.551847'}
2025-07-09 22:34:10,578 - DEBUG - websocket - User 1: Successfully sent order update
2025-07-09 22:34:10,578 - INFO - websocket - [WEBSOCKET_DEBUG] User 1: Received USER_DATA_UPDATE message
2025-07-09 22:34:10,586 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24827.01088585, margin=0
2025-07-09 22:34:10,586 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24827.01088585'), 'margin': Decimal('0'), 'updated_at': '2025-07-09T22:34:10.551847'}
2025-07-09 22:34:10,586 - DEBUG - websocket - User 1: Successfully sent user data update
2025-07-09 22:34:10,595 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24827.01088585, margin=0
2025-07-09 22:34:10,595 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24827.01088585'), 'margin': Decimal('0'), 'updated_at': '2025-07-09T22:34:10.551847'}
2025-07-09 22:34:10,596 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:34:11,805 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24827.01088585, margin=0
2025-07-09 22:34:11,805 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24827.01088585'), 'margin': Decimal('0'), 'updated_at': '2025-07-09T22:34:10.551847'}
2025-07-09 22:34:11,805 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:34:14,103 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Reading from balance_margin_cache - balance=24827.01088585, margin=0
2025-07-09 22:34:14,103 - DEBUG - websocket - [WEBSOCKET_DEBUG] User 1: Full balance_margin_data from cache: {'wallet_balance': Decimal('24827.01088585'), 'margin': Decimal('0'), 'updated_at': '2025-07-09T22:34:10.551847'}
2025-07-09 22:34:14,104 - DEBUG - websocket - User 1: Successfully sent market update
2025-07-09 22:34:16,085 - INFO - websocket - User 5O42G: WebSocket disconnected by client.
2025-07-09 22:34:16,086 - INFO - websocket - User 5O42G: Cleaning up WebSocket connection.
2025-07-09 22:34:16,094 - INFO - websocket - User 5O42G: Listener task successfully cancelled.
2025-07-09 22:34:16,095 - INFO - websocket - User 5O42G: WebSocket connection fully closed.
2025-07-09 22:34:18,576 - INFO - websocket - Redis publisher task cancelled.
2025-07-09 22:34:18,576 - INFO - websocket - Redis publisher task finished.
